var GI=Object.defineProperty;var $I=(e,t,n)=>t in e?GI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var lt=(e,t,n)=>$I(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function YI(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yx={exports:{}},_f={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KI=Symbol.for("react.transitional.element"),WI=Symbol.for("react.fragment");function _x(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:KI,type:e,key:i,ref:t!==void 0?t:null,props:n}}_f.Fragment=WI;_f.jsx=_x;_f.jsxs=_x;yx.exports=_f;var S=yx.exports,vx={exports:{}},J={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap=Symbol.for("react.transitional.element"),QI=Symbol.for("react.portal"),XI=Symbol.for("react.fragment"),ZI=Symbol.for("react.strict_mode"),JI=Symbol.for("react.profiler"),tC=Symbol.for("react.consumer"),eC=Symbol.for("react.context"),nC=Symbol.for("react.forward_ref"),iC=Symbol.for("react.suspense"),sC=Symbol.for("react.memo"),bx=Symbol.for("react.lazy"),B0=Symbol.iterator;function rC(e){return e===null||typeof e!="object"?null:(e=B0&&e[B0]||e["@@iterator"],typeof e=="function"?e:null)}var Ex={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tx=Object.assign,xx={};function Fa(e,t,n){this.props=e,this.context=t,this.refs=xx,this.updater=n||Ex}Fa.prototype.isReactComponent={};Fa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wx(){}wx.prototype=Fa.prototype;function Rp(e,t,n){this.props=e,this.context=t,this.refs=xx,this.updater=n||Ex}var Ip=Rp.prototype=new wx;Ip.constructor=Rp;Tx(Ip,Fa.prototype);Ip.isPureReactComponent=!0;var F0=Array.isArray,kt={H:null,A:null,T:null,S:null,V:null},Sx=Object.prototype.hasOwnProperty;function Cp(e,t,n,i,s,r){return n=r.ref,{$$typeof:Ap,type:e,key:t,ref:n!==void 0?n:null,props:r}}function aC(e,t){return Cp(e.type,t,void 0,void 0,void 0,e.props)}function Dp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ap}function oC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var H0=/\/+/g;function Od(e,t){return typeof e=="object"&&e!==null&&e.key!=null?oC(""+e.key):t.toString(36)}function q0(){}function lC(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(q0,q0):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function zr(e,t,n,i,s){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(r){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ap:case QI:a=!0;break;case bx:return a=e._init,zr(a(e._payload),t,n,i,s)}}if(a)return s=s(e),a=i===""?"."+Od(e,0):i,F0(s)?(n="",a!=null&&(n=a.replace(H0,"$&/")+"/"),zr(s,t,n,"",function(c){return c})):s!=null&&(Dp(s)&&(s=aC(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(H0,"$&/")+"/")+a)),t.push(s)),1;a=0;var o=i===""?".":i+":";if(F0(e))for(var l=0;l<e.length;l++)i=e[l],r=o+Od(i,l),a+=zr(i,t,n,r,s);else if(l=rC(e),typeof l=="function")for(e=l.call(e),l=0;!(i=e.next()).done;)i=i.value,r=o+Od(i,l++),a+=zr(i,t,n,r,s);else if(r==="object"){if(typeof e.then=="function")return zr(lC(e),t,n,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function $c(e,t,n){if(e==null)return e;var i=[],s=0;return zr(e,i,"","",function(r){return t.call(n,r,s++)}),i}function cC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var G0=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function uC(){}J.Children={map:$c,forEach:function(e,t,n){$c(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return $c(e,function(){t++}),t},toArray:function(e){return $c(e,function(t){return t})||[]},only:function(e){if(!Dp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=Fa;J.Fragment=XI;J.Profiler=JI;J.PureComponent=Rp;J.StrictMode=ZI;J.Suspense=iC;J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=kt;J.__COMPILER_RUNTIME={__proto__:null,c:function(e){return kt.H.useMemoCache(e)}};J.cache=function(e){return function(){return e.apply(null,arguments)}};J.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=Tx({},e.props),s=e.key,r=void 0;if(t!=null)for(a in t.ref!==void 0&&(r=void 0),t.key!==void 0&&(s=""+t.key),t)!Sx.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(i[a]=t[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}return Cp(e.type,s,void 0,void 0,r,i)};J.createContext=function(e){return e={$$typeof:eC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:tC,_context:e},e};J.createElement=function(e,t,n){var i,s={},r=null;if(t!=null)for(i in t.key!==void 0&&(r=""+t.key),t)Sx.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=t[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];s.children=o}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return Cp(e,r,void 0,void 0,null,s)};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:nC,render:e}};J.isValidElement=Dp;J.lazy=function(e){return{$$typeof:bx,_payload:{_status:-1,_result:e},_init:cC}};J.memo=function(e,t){return{$$typeof:sC,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=kt.T,n={};kt.T=n;try{var i=e(),s=kt.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(uC,G0)}catch(r){G0(r)}finally{kt.T=t}};J.unstable_useCacheRefresh=function(){return kt.H.useCacheRefresh()};J.use=function(e){return kt.H.use(e)};J.useActionState=function(e,t,n){return kt.H.useActionState(e,t,n)};J.useCallback=function(e,t){return kt.H.useCallback(e,t)};J.useContext=function(e){return kt.H.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e,t){return kt.H.useDeferredValue(e,t)};J.useEffect=function(e,t,n){var i=kt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};J.useId=function(){return kt.H.useId()};J.useImperativeHandle=function(e,t,n){return kt.H.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return kt.H.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return kt.H.useLayoutEffect(e,t)};J.useMemo=function(e,t){return kt.H.useMemo(e,t)};J.useOptimistic=function(e,t){return kt.H.useOptimistic(e,t)};J.useReducer=function(e,t,n){return kt.H.useReducer(e,t,n)};J.useRef=function(e){return kt.H.useRef(e)};J.useState=function(e){return kt.H.useState(e)};J.useSyncExternalStore=function(e,t,n){return kt.H.useSyncExternalStore(e,t,n)};J.useTransition=function(){return kt.H.useTransition()};J.version="19.1.0";vx.exports=J;var P=vx.exports;const Ax=YI(P);var Rx={exports:{}},vf={},Ix={exports:{}},Cx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,G){var Y=B.length;B.push(G);t:for(;0<Y;){var mt=Y-1>>>1,bt=B[mt];if(0<s(bt,G))B[mt]=G,B[Y]=bt,Y=mt;else break t}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var G=B[0],Y=B.pop();if(Y!==G){B[0]=Y;t:for(var mt=0,bt=B.length,yn=bt>>>1;mt<yn;){var $t=2*(mt+1)-1,At=B[$t],ce=$t+1,ye=B[ce];if(0>s(At,Y))ce<bt&&0>s(ye,At)?(B[mt]=ye,B[ce]=Y,mt=ce):(B[mt]=At,B[$t]=Y,mt=$t);else if(ce<bt&&0>s(ye,Y))B[mt]=ye,B[ce]=Y,mt=ce;else break t}}return G}function s(B,G){var Y=B.sortIndex-G.sortIndex;return Y!==0?Y:B.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],h=1,f=null,d=3,g=!1,v=!1,E=!1,A=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function M(B){for(var G=n(c);G!==null;){if(G.callback===null)i(c);else if(G.startTime<=B)i(c),G.sortIndex=G.expirationTime,t(l,G);else break;G=n(c)}}function C(B){if(E=!1,M(B),!v)if(n(l)!==null)v=!0,V||(V=!0,k());else{var G=n(c);G!==null&&ht(C,G.startTime-B)}}var V=!1,x=-1,b=5,R=-1;function I(){return A?!0:!(e.unstable_now()-R<b)}function O(){if(A=!1,V){var B=e.unstable_now();R=B;var G=!0;try{t:{v=!1,E&&(E=!1,y(x),x=-1),g=!0;var Y=d;try{e:{for(M(B),f=n(l);f!==null&&!(f.expirationTime>B&&I());){var mt=f.callback;if(typeof mt=="function"){f.callback=null,d=f.priorityLevel;var bt=mt(f.expirationTime<=B);if(B=e.unstable_now(),typeof bt=="function"){f.callback=bt,M(B),G=!0;break e}f===n(l)&&i(l),M(B)}else i(l);f=n(l)}if(f!==null)G=!0;else{var yn=n(c);yn!==null&&ht(C,yn.startTime-B),G=!1}}break t}finally{f=null,d=Y,g=!1}G=void 0}}finally{G?k():V=!1}}}var k;if(typeof T=="function")k=function(){T(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ut=D.port2;D.port1.onmessage=O,k=function(){Ut.postMessage(null)}}else k=function(){_(O,0)};function ht(B,G){x=_(function(){B(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_next=function(B){switch(d){case 1:case 2:case 3:var G=3;break;default:G=d}var Y=d;d=G;try{return B()}finally{d=Y}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Y=d;d=B;try{return G()}finally{d=Y}},e.unstable_scheduleCallback=function(B,G,Y){var mt=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?mt+Y:mt):Y=mt,B){case 1:var bt=-1;break;case 2:bt=250;break;case 5:bt=1073741823;break;case 4:bt=1e4;break;default:bt=5e3}return bt=Y+bt,B={id:h++,callback:G,priorityLevel:B,startTime:Y,expirationTime:bt,sortIndex:-1},Y>mt?(B.sortIndex=Y,t(c,B),n(l)===null&&B===n(c)&&(E?(y(x),x=-1):E=!0,ht(C,Y-mt))):(B.sortIndex=bt,t(l,B),v||g||(v=!0,V||(V=!0,k()))),B},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(B){var G=d;return function(){var Y=d;d=G;try{return B.apply(this,arguments)}finally{d=Y}}}})(Cx);Ix.exports=Cx;var hC=Ix.exports,Dx={exports:{}},Oe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fC=P;function Ox(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ji(){}var De={d:{f:ji,r:function(){throw Error(Ox(522))},D:ji,C:ji,L:ji,m:ji,X:ji,S:ji,M:ji},p:0,findDOMNode:null},dC=Symbol.for("react.portal");function mC(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dC,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Wo=fC.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function bf(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Oe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=De;Oe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Ox(299));return mC(e,t,null,n)};Oe.flushSync=function(e){var t=Wo.T,n=De.p;try{if(Wo.T=null,De.p=2,e)return e()}finally{Wo.T=t,De.p=n,De.d.f()}};Oe.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,De.d.C(e,t))};Oe.prefetchDNS=function(e){typeof e=="string"&&De.d.D(e)};Oe.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=bf(n,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,r=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?De.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:r}):n==="script"&&De.d.X(e,{crossOrigin:i,integrity:s,fetchPriority:r,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Oe.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=bf(t.as,t.crossOrigin);De.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&De.d.M(e)};Oe.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=bf(n,t.crossOrigin);De.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Oe.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=bf(t.as,t.crossOrigin);De.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else De.d.m(e)};Oe.requestFormReset=function(e){De.d.r(e)};Oe.unstable_batchedUpdates=function(e,t){return e(t)};Oe.useFormState=function(e,t,n){return Wo.H.useFormState(e,t,n)};Oe.useFormStatus=function(){return Wo.H.useHostTransitionStatus()};Oe.version="19.1.0";function Mx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mx)}catch(e){console.error(e)}}Mx(),Dx.exports=Oe;var gC=Dx.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ee=hC,kx=P,pC=gC;function z(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Nx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Px(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $0(e){if(Jl(e)!==e)throw Error(z(188))}function yC(e){var t=e.alternate;if(!t){if(t=Jl(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return $0(s),e;if(r===i)return $0(s),t;r=r.sibling}throw Error(z(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,i=r;break}if(o===i){a=!0,i=s,n=r;break}o=o.sibling}if(!a){for(o=r.child;o;){if(o===n){a=!0,n=r,i=s;break}if(o===i){a=!0,i=r,n=s;break}o=o.sibling}if(!a)throw Error(z(189))}}if(n.alternate!==i)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function Vx(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Vx(e),t!==null)return t;e=e.sibling}return null}var Ot=Object.assign,_C=Symbol.for("react.element"),Yc=Symbol.for("react.transitional.element"),Vo=Symbol.for("react.portal"),Kr=Symbol.for("react.fragment"),Lx=Symbol.for("react.strict_mode"),Hm=Symbol.for("react.profiler"),vC=Symbol.for("react.provider"),Ux=Symbol.for("react.consumer"),hi=Symbol.for("react.context"),Op=Symbol.for("react.forward_ref"),qm=Symbol.for("react.suspense"),Gm=Symbol.for("react.suspense_list"),Mp=Symbol.for("react.memo"),qi=Symbol.for("react.lazy"),$m=Symbol.for("react.activity"),bC=Symbol.for("react.memo_cache_sentinel"),Y0=Symbol.iterator;function To(e){return e===null||typeof e!="object"?null:(e=Y0&&e[Y0]||e["@@iterator"],typeof e=="function"?e:null)}var EC=Symbol.for("react.client.reference");function Ym(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===EC?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kr:return"Fragment";case Hm:return"Profiler";case Lx:return"StrictMode";case qm:return"Suspense";case Gm:return"SuspenseList";case $m:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Vo:return"Portal";case hi:return(e.displayName||"Context")+".Provider";case Ux:return(e._context.displayName||"Context")+".Consumer";case Op:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mp:return t=e.displayName||null,t!==null?t:Ym(e.type)||"Memo";case qi:t=e._payload,e=e._init;try{return Ym(e(t))}catch{}}return null}var Lo=Array.isArray,Q=kx.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt=pC.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tr={pending:!1,data:null,method:null,action:null},Km=[],Wr=-1;function Wn(e){return{current:e}}function oe(e){0>Wr||(e.current=Km[Wr],Km[Wr]=null,Wr--)}function Nt(e,t){Wr++,Km[Wr]=e.current,e.current=t}var zn=Wn(null),Tl=Wn(null),ls=Wn(null),ah=Wn(null);function oh(e,t){switch(Nt(ls,t),Nt(Tl,e),Nt(zn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Zv(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Zv(t),e=e1(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}oe(zn),Nt(zn,e)}function Ta(){oe(zn),oe(Tl),oe(ls)}function Wm(e){e.memoizedState!==null&&Nt(ah,e);var t=zn.current,n=e1(t,e.type);t!==n&&(Nt(Tl,e),Nt(zn,n))}function lh(e){Tl.current===e&&(oe(zn),oe(Tl)),ah.current===e&&(oe(ah),Ml._currentValue=tr)}var Qm=Object.prototype.hasOwnProperty,kp=ee.unstable_scheduleCallback,Md=ee.unstable_cancelCallback,TC=ee.unstable_shouldYield,xC=ee.unstable_requestPaint,Bn=ee.unstable_now,wC=ee.unstable_getCurrentPriorityLevel,jx=ee.unstable_ImmediatePriority,zx=ee.unstable_UserBlockingPriority,ch=ee.unstable_NormalPriority,SC=ee.unstable_LowPriority,Bx=ee.unstable_IdlePriority,AC=ee.log,RC=ee.unstable_setDisableYieldValue,tc=null,We=null;function ts(e){if(typeof AC=="function"&&RC(e),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(tc,e)}catch{}}var Qe=Math.clz32?Math.clz32:DC,IC=Math.log,CC=Math.LN2;function DC(e){return e>>>=0,e===0?32:31-(IC(e)/CC|0)|0}var Kc=256,Wc=4194304;function $s(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ef(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var s=0,r=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~r,i!==0?s=$s(i):(a&=o,a!==0?s=$s(a):n||(n=o&~e,n!==0&&(s=$s(n))))):(o=i&~r,o!==0?s=$s(o):a!==0?s=$s(a):n||(n=i&~e,n!==0&&(s=$s(n)))),s===0?0:t!==0&&t!==s&&!(t&r)&&(r=s&-s,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:s}function ec(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function OC(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fx(){var e=Kc;return Kc<<=1,!(Kc&4194048)&&(Kc=256),e}function Hx(){var e=Wc;return Wc<<=1,!(Wc&62914560)&&(Wc=4194304),e}function kd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function nc(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function MC(e,t,n,i,s,r){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var h=31-Qe(n),f=1<<h;o[h]=0,l[h]=-1;var d=c[h];if(d!==null)for(c[h]=null,h=0;h<d.length;h++){var g=d[h];g!==null&&(g.lane&=-536870913)}n&=~f}i!==0&&qx(e,i,0),r!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=r&~(a&~t))}function qx(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Qe(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function Gx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Qe(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}function Np(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pp(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function $x(){var e=dt.p;return e!==0?e:(e=window.event,e===void 0?32:h1(e.type))}function kC(e,t){var n=dt.p;try{return dt.p=e,t()}finally{dt.p=n}}var Ps=Math.random().toString(36).slice(2),we="__reactFiber$"+Ps,Be="__reactProps$"+Ps,Ha="__reactContainer$"+Ps,Xm="__reactEvents$"+Ps,NC="__reactListeners$"+Ps,PC="__reactHandles$"+Ps,K0="__reactResources$"+Ps,ic="__reactMarker$"+Ps;function Vp(e){delete e[we],delete e[Be],delete e[Xm],delete e[NC],delete e[PC]}function Qr(e){var t=e[we];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ha]||n[we]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=eb(e);e!==null;){if(n=e[we])return n;e=eb(e)}return t}e=n,n=e.parentNode}return null}function qa(e){if(e=e[we]||e[Ha]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Uo(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(z(33))}function la(e){var t=e[K0];return t||(t=e[K0]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function se(e){e[ic]=!0}var Yx=new Set,Kx={};function br(e,t){xa(e,t),xa(e+"Capture",t)}function xa(e,t){for(Kx[e]=t,e=0;e<t.length;e++)Yx.add(t[e])}var VC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),W0={},Q0={};function LC(e){return Qm.call(Q0,e)?!0:Qm.call(W0,e)?!1:VC.test(e)?Q0[e]=!0:(W0[e]=!0,!1)}function Cu(e,t,n){if(LC(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Qc(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ei(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var Nd,X0;function Br(e){if(Nd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Nd=t&&t[1]||"",X0=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nd+e+X0}var Pd=!1;function Vd(e,t){if(!e||Pd)return"";Pd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(g){var d=g}Reflect.construct(e,[],f)}else{try{f.call()}catch(g){d=g}e.call(f.prototype)}}else{try{throw Error()}catch(g){d=g}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(g){if(g&&d&&typeof g.stack=="string")return[g.stack,d.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),a=r[0],o=r[1];if(a&&o){var l=a.split(`
`),c=o.split(`
`);for(s=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(i===l.length||s===c.length)for(i=l.length-1,s=c.length-1;1<=i&&0<=s&&l[i]!==c[s];)s--;for(;1<=i&&0<=s;i--,s--)if(l[i]!==c[s]){if(i!==1||s!==1)do if(i--,s--,0>s||l[i]!==c[s]){var h=`
`+l[i].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=i&&0<=s);break}}}finally{Pd=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Br(n):""}function UC(e){switch(e.tag){case 26:case 27:case 5:return Br(e.type);case 16:return Br("Lazy");case 13:return Br("Suspense");case 19:return Br("SuspenseList");case 0:case 15:return Vd(e.type,!1);case 11:return Vd(e.type.render,!1);case 1:return Vd(e.type,!0);case 31:return Br("Activity");default:return""}}function Z0(e){try{var t="";do t+=UC(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jC(e){var t=Wx(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,r.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function uh(e){e._valueTracker||(e._valueTracker=jC(e))}function Qx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Wx(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function hh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var zC=/[\n"\\]/g;function on(e){return e.replace(zC,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Zm(e,t,n,i,s,r,a,o){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+sn(t)):e.value!==""+sn(t)&&(e.value=""+sn(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?Jm(e,a,sn(t)):n!=null?Jm(e,a,sn(n)):i!=null&&e.removeAttribute("value"),s==null&&r!=null&&(e.defaultChecked=!!r),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+sn(o):e.removeAttribute("name")}function Xx(e,t,n,i,s,r,a,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null))return;n=n!=null?""+sn(n):"",t=t!=null?""+sn(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a)}function Jm(e,t,n){t==="number"&&hh(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ca(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+sn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Zx(e,t,n){if(t!=null&&(t=""+sn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+sn(n):""}function Jx(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(z(92));if(Lo(i)){if(1<i.length)throw Error(z(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=sn(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function wa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var BC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function J0(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||BC.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function tw(e,t,n){if(t!=null&&typeof t!="object")throw Error(z(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&n[s]!==i&&J0(e,s,i)}else for(var r in t)t.hasOwnProperty(r)&&J0(e,r,t[r])}function Lp(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),HC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Du(e){return HC.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var tg=null;function Up(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xr=null,ua=null;function tv(e){var t=qa(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;t:switch(e=t.stateNode,t.type){case"input":if(Zm(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+on(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=i[Be]||null;if(!s)throw Error(z(90));Zm(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Qx(i)}break t;case"textarea":Zx(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&ca(e,!!n.multiple,t,!1)}}}var Ld=!1;function ew(e,t,n){if(Ld)return e(t,n);Ld=!0;try{var i=e(t);return i}finally{if(Ld=!1,(Xr!==null||ua!==null)&&(Of(),Xr&&(t=Xr,e=ua,ua=Xr=null,tv(t),e)))for(t=0;t<e.length;t++)tv(e[t])}}function xl(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Be]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eg=!1;if(xi)try{var xo={};Object.defineProperty(xo,"passive",{get:function(){eg=!0}}),window.addEventListener("test",xo,xo),window.removeEventListener("test",xo,xo)}catch{eg=!1}var es=null,jp=null,Ou=null;function nw(){if(Ou)return Ou;var e,t=jp,n=t.length,i,s="value"in es?es.value:es.textContent,r=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===s[r-i];i++);return Ou=s.slice(e,1<i?1-i:void 0)}function Mu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xc(){return!0}function ev(){return!1}function Fe(e){function t(n,i,s,r,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Xc:ev,this.isPropagationStopped=ev,this}return Ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xc)},persist:function(){},isPersistent:Xc}),t}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tf=Fe(Er),sc=Ot({},Er,{view:0,detail:0}),qC=Fe(sc),Ud,jd,wo,xf=Ot({},sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wo&&(wo&&e.type==="mousemove"?(Ud=e.screenX-wo.screenX,jd=e.screenY-wo.screenY):jd=Ud=0,wo=e),Ud)},movementY:function(e){return"movementY"in e?e.movementY:jd}}),nv=Fe(xf),GC=Ot({},xf,{dataTransfer:0}),$C=Fe(GC),YC=Ot({},sc,{relatedTarget:0}),zd=Fe(YC),KC=Ot({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),WC=Fe(KC),QC=Ot({},Er,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),XC=Fe(QC),ZC=Ot({},Er,{data:0}),iv=Fe(ZC),JC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=eD[e])?!!t[e]:!1}function zp(){return nD}var iD=Ot({},sc,{key:function(e){if(e.key){var t=JC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zp,charCode:function(e){return e.type==="keypress"?Mu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sD=Fe(iD),rD=Ot({},xf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sv=Fe(rD),aD=Ot({},sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zp}),oD=Fe(aD),lD=Ot({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),cD=Fe(lD),uD=Ot({},xf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hD=Fe(uD),fD=Ot({},Er,{newState:0,oldState:0}),dD=Fe(fD),mD=[9,13,27,32],Bp=xi&&"CompositionEvent"in window,Qo=null;xi&&"documentMode"in document&&(Qo=document.documentMode);var gD=xi&&"TextEvent"in window&&!Qo,iw=xi&&(!Bp||Qo&&8<Qo&&11>=Qo),rv=" ",av=!1;function sw(e,t){switch(e){case"keyup":return mD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zr=!1;function pD(e,t){switch(e){case"compositionend":return rw(t);case"keypress":return t.which!==32?null:(av=!0,rv);case"textInput":return e=t.data,e===rv&&av?null:e;default:return null}}function yD(e,t){if(Zr)return e==="compositionend"||!Bp&&sw(e,t)?(e=nw(),Ou=jp=es=null,Zr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iw&&t.locale!=="ko"?null:t.data;default:return null}}var _D={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ov(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_D[e.type]:t==="textarea"}function aw(e,t,n,i){Xr?ua?ua.push(i):ua=[i]:Xr=i,t=Ch(t,"onChange"),0<t.length&&(n=new Tf("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Xo=null,wl=null;function vD(e){ZS(e,0)}function wf(e){var t=Uo(e);if(Qx(t))return e}function lv(e,t){if(e==="change")return t}var ow=!1;if(xi){var Bd;if(xi){var Fd="oninput"in document;if(!Fd){var cv=document.createElement("div");cv.setAttribute("oninput","return;"),Fd=typeof cv.oninput=="function"}Bd=Fd}else Bd=!1;ow=Bd&&(!document.documentMode||9<document.documentMode)}function uv(){Xo&&(Xo.detachEvent("onpropertychange",lw),wl=Xo=null)}function lw(e){if(e.propertyName==="value"&&wf(wl)){var t=[];aw(t,wl,e,Up(e)),ew(vD,t)}}function bD(e,t,n){e==="focusin"?(uv(),Xo=t,wl=n,Xo.attachEvent("onpropertychange",lw)):e==="focusout"&&uv()}function ED(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wf(wl)}function TD(e,t){if(e==="click")return wf(t)}function xD(e,t){if(e==="input"||e==="change")return wf(t)}function wD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tn=typeof Object.is=="function"?Object.is:wD;function Sl(e,t){if(tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Qm.call(t,s)||!tn(e[s],t[s]))return!1}return!0}function hv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fv(e,t){var n=hv(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=hv(n)}}function cw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uw(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=hh(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hh(e.document)}return t}function Fp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var SD=xi&&"documentMode"in document&&11>=document.documentMode,Jr=null,ng=null,Zo=null,ig=!1;function dv(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ig||Jr==null||Jr!==hh(i)||(i=Jr,"selectionStart"in i&&Fp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Zo&&Sl(Zo,i)||(Zo=i,i=Ch(ng,"onSelect"),0<i.length&&(t=new Tf("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Jr)))}function Bs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ta={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},Hd={},hw={};xi&&(hw=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function Tr(e){if(Hd[e])return Hd[e];if(!ta[e])return e;var t=ta[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hw)return Hd[e]=t[n];return e}var fw=Tr("animationend"),dw=Tr("animationiteration"),mw=Tr("animationstart"),AD=Tr("transitionrun"),RD=Tr("transitionstart"),ID=Tr("transitioncancel"),gw=Tr("transitionend"),pw=new Map,sg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sg.push("scrollEnd");function Dn(e,t){pw.set(e,t),br(t,[e])}var mv=new WeakMap;function ln(e,t){if(typeof e=="object"&&e!==null){var n=mv.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Z0(t)},mv.set(e,t),t)}return{value:e,source:t,stack:Z0(t)}}var nn=[],ea=0,Hp=0;function Sf(){for(var e=ea,t=Hp=ea=0;t<e;){var n=nn[t];nn[t++]=null;var i=nn[t];nn[t++]=null;var s=nn[t];nn[t++]=null;var r=nn[t];if(nn[t++]=null,i!==null&&s!==null){var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}r!==0&&yw(n,s,r)}}function Af(e,t,n,i){nn[ea++]=e,nn[ea++]=t,nn[ea++]=n,nn[ea++]=i,Hp|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function qp(e,t,n,i){return Af(e,t,n,i),fh(e)}function Ga(e,t){return Af(e,null,null,t),fh(e)}function yw(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var s=!1,r=e.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(s=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,s&&t!==null&&(s=31-Qe(n),e=r.hiddenUpdates,i=e[s],i===null?e[s]=[t]:i.push(t),t.lane=n|536870912),r):null}function fh(e){if(50<ll)throw ll=0,Sg=null,Error(z(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var na={};function CD(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,t,n,i){return new CD(e,t,n,i)}function Gp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _i(e,t){var n=e.alternate;return n===null?(n=Ke(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function _w(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ku(e,t,n,i,s,r){var a=0;if(i=e,typeof e=="function")Gp(e)&&(a=1);else if(typeof e=="string")a=OO(e,n,zn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case $m:return e=Ke(31,n,t,s),e.elementType=$m,e.lanes=r,e;case Kr:return er(n.children,s,r,t);case Lx:a=8,s|=24;break;case Hm:return e=Ke(12,n,t,s|2),e.elementType=Hm,e.lanes=r,e;case qm:return e=Ke(13,n,t,s),e.elementType=qm,e.lanes=r,e;case Gm:return e=Ke(19,n,t,s),e.elementType=Gm,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vC:case hi:a=10;break t;case Ux:a=9;break t;case Op:a=11;break t;case Mp:a=14;break t;case qi:a=16,i=null;break t}a=29,n=Error(z(130,e===null?"null":typeof e,"")),i=null}return t=Ke(a,n,t,s),t.elementType=e,t.type=i,t.lanes=r,t}function er(e,t,n,i){return e=Ke(7,e,i,t),e.lanes=n,e}function qd(e,t,n){return e=Ke(6,e,null,t),e.lanes=n,e}function Gd(e,t,n){return t=Ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ia=[],sa=0,dh=null,mh=0,rn=[],an=0,nr=null,fi=1,di="";function Ys(e,t){ia[sa++]=mh,ia[sa++]=dh,dh=e,mh=t}function vw(e,t,n){rn[an++]=fi,rn[an++]=di,rn[an++]=nr,nr=e;var i=fi;e=di;var s=32-Qe(i)-1;i&=~(1<<s),n+=1;var r=32-Qe(t)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,fi=1<<32-Qe(t)+s|n<<s|i,di=r+e}else fi=1<<r|n<<s|i,di=e}function $p(e){e.return!==null&&(Ys(e,1),vw(e,1,0))}function Yp(e){for(;e===dh;)dh=ia[--sa],ia[sa]=null,mh=ia[--sa],ia[sa]=null;for(;e===nr;)nr=rn[--an],rn[an]=null,di=rn[--an],rn[an]=null,fi=rn[--an],rn[an]=null}var Ce=null,zt=null,ft=!1,ir=null,Un=!1,rg=Error(z(519));function lr(e){var t=Error(z(418,""));throw Al(ln(t,e)),rg}function gv(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[we]=e,t[Be]=i,n){case"dialog":nt("cancel",t),nt("close",t);break;case"iframe":case"object":case"embed":nt("load",t);break;case"video":case"audio":for(n=0;n<Cl.length;n++)nt(Cl[n],t);break;case"source":nt("error",t);break;case"img":case"image":case"link":nt("error",t),nt("load",t);break;case"details":nt("toggle",t);break;case"input":nt("invalid",t),Xx(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),uh(t);break;case"select":nt("invalid",t);break;case"textarea":nt("invalid",t),Jx(t,i.value,i.defaultValue,i.children),uh(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||t1(t.textContent,n)?(i.popover!=null&&(nt("beforetoggle",t),nt("toggle",t)),i.onScroll!=null&&nt("scroll",t),i.onScrollEnd!=null&&nt("scrollend",t),i.onClick!=null&&(t.onclick=Nf),t=!0):t=!1,t||lr(e)}function pv(e){for(Ce=e.return;Ce;)switch(Ce.tag){case 5:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ce=Ce.return}}function So(e){if(e!==Ce)return!1;if(!ft)return pv(e),ft=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Og(e.type,e.memoizedProps)),n=!n),n&&zt&&lr(e),pv(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){zt=wn(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}zt=null}}else t===27?(t=zt,Vs(e.type)?(e=Ng,Ng=null,zt=e):zt=t):zt=Ce?wn(e.stateNode.nextSibling):null;return!0}function rc(){zt=Ce=null,ft=!1}function yv(){var e=ir;return e!==null&&(Pe===null?Pe=e:Pe.push.apply(Pe,e),ir=null),e}function Al(e){ir===null?ir=[e]:ir.push(e)}var ag=Wn(null),xr=null,mi=null;function $i(e,t,n){Nt(ag,t._currentValue),t._currentValue=n}function vi(e){e._currentValue=ag.current,oe(ag)}function og(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function lg(e,t,n,i){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var r=s.dependencies;if(r!==null){var a=s.child;r=r.firstContext;t:for(;r!==null;){var o=r;r=s;for(var l=0;l<t.length;l++)if(o.context===t[l]){r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),og(r.return,n,e),i||(a=null);break t}r=o.next}}else if(s.tag===18){if(a=s.return,a===null)throw Error(z(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),og(a,n,e),a=null}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}}function ac(e,t,n,i){e=null;for(var s=t,r=!1;s!==null;){if(!r){if(s.flags&524288)r=!0;else if(s.flags&262144)break}if(s.tag===10){var a=s.alternate;if(a===null)throw Error(z(387));if(a=a.memoizedProps,a!==null){var o=s.type;tn(s.pendingProps.value,a.value)||(e!==null?e.push(o):e=[o])}}else if(s===ah.current){if(a=s.alternate,a===null)throw Error(z(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Ml):e=[Ml])}s=s.return}e!==null&&lg(t,e,n,i),t.flags|=262144}function gh(e){for(e=e.firstContext;e!==null;){if(!tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function cr(e){xr=e,mi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Se(e){return bw(xr,e)}function Zc(e,t){return xr===null&&cr(e),bw(e,t)}function bw(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},mi===null){if(e===null)throw Error(z(308));mi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else mi=mi.next=t;return n}var DD=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},OD=ee.unstable_scheduleCallback,MD=ee.unstable_NormalPriority,Zt={$$typeof:hi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kp(){return{controller:new DD,data:new Map,refCount:0}}function oc(e){e.refCount--,e.refCount===0&&OD(MD,function(){e.controller.abort()})}var Jo=null,cg=0,Sa=0,ha=null;function kD(e,t){if(Jo===null){var n=Jo=[];cg=0,Sa=yy(),ha={status:"pending",value:void 0,then:function(i){n.push(i)}}}return cg++,t.then(_v,_v),t}function _v(){if(--cg===0&&Jo!==null){ha!==null&&(ha.status="fulfilled");var e=Jo;Jo=null,Sa=0,ha=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ND(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var vv=Q.S;Q.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&kD(e,t),vv!==null&&vv(e,t)};var sr=Wn(null);function Wp(){var e=sr.current;return e!==null?e:Rt.pooledCache}function Nu(e,t){t===null?Nt(sr,sr.current):Nt(sr,t.pool)}function Ew(){var e=Wp();return e===null?null:{parent:Zt._currentValue,pool:e}}var lc=Error(z(460)),Tw=Error(z(474)),Rf=Error(z(542)),ug={then:function(){}};function bv(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jc(){}function xw(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Jc,Jc),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Tv(e),e;default:if(typeof t.status=="string")t.then(Jc,Jc);else{if(e=Rt,e!==null&&100<e.shellSuspendCounter)throw Error(z(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=i}},function(i){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Tv(e),e}throw tl=t,lc}}var tl=null;function Ev(){if(tl===null)throw Error(z(459));var e=tl;return tl=null,e}function Tv(e){if(e===lc||e===Rf)throw Error(z(483))}var Gi=!1;function Qp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function cs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function us(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,vt&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,t=fh(e),yw(e,null,n),t}return Af(e,i,t,n),fh(e)}function el(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Gx(e,n)}}function $d(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?s=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?s=r=t:r=r.next=t}else s=r=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var fg=!1;function nl(){if(fg){var e=ha;if(e!==null)throw e}}function il(e,t,n,i){fg=!1;var s=e.updateQueue;Gi=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?r=c:a.next=c,a=l;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(r!==null){var f=s.baseState;a=0,h=c=l=null,o=r;do{var d=o.lane&-536870913,g=d!==o.lane;if(g?(ot&d)===d:(i&d)===d){d!==0&&d===Sa&&(fg=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var v=e,E=o;d=t;var A=n;switch(E.tag){case 1:if(v=E.payload,typeof v=="function"){f=v.call(A,f,d);break t}f=v;break t;case 3:v.flags=v.flags&-65537|128;case 0:if(v=E.payload,d=typeof v=="function"?v.call(A,f,d):v,d==null)break t;f=Ot({},f,d);break t;case 2:Gi=!0}}d=o.callback,d!==null&&(e.flags|=64,g&&(e.flags|=8192),g=s.callbacks,g===null?s.callbacks=[d]:g.push(d))}else g={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=g,l=f):h=h.next=g,a|=d;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;g=o,o=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,r===null&&(s.shared.lanes=0),As|=a,e.lanes=a,e.memoizedState=f}}function ww(e,t){if(typeof e!="function")throw Error(z(191,e));e.call(t)}function Sw(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)ww(n[e],t)}var Aa=Wn(null),ph=Wn(0);function xv(e,t){e=Ai,Nt(ph,e),Nt(Aa,t),Ai=e|t.baseLanes}function dg(){Nt(ph,Ai),Nt(Aa,Aa.current)}function Xp(){Ai=ph.current,oe(Aa),oe(ph)}var ws=0,et=null,Tt=null,Kt=null,yh=!1,fa=!1,ur=!1,_h=0,Rl=0,da=null,PD=0;function Ft(){throw Error(z(321))}function Zp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tn(e[n],t[n]))return!1;return!0}function Jp(e,t,n,i,s,r){return ws=r,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q.H=e===null||e.memoizedState===null?nS:iS,ur=!1,r=n(i,s),ur=!1,fa&&(r=Rw(t,n,i,s)),Aw(e),r}function Aw(e){Q.H=vh;var t=Tt!==null&&Tt.next!==null;if(ws=0,Kt=Tt=et=null,yh=!1,Rl=0,da=null,t)throw Error(z(300));e===null||ae||(e=e.dependencies,e!==null&&gh(e)&&(ae=!0))}function Rw(e,t,n,i){et=e;var s=0;do{if(fa&&(da=null),Rl=0,fa=!1,25<=s)throw Error(z(301));if(s+=1,Kt=Tt=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}Q.H=FD,r=t(n,i)}while(fa);return r}function VD(){var e=Q.H,t=e.useState()[0];return t=typeof t.then=="function"?cc(t):t,e=e.useState()[0],(Tt!==null?Tt.memoizedState:null)!==e&&(et.flags|=1024),t}function ty(){var e=_h!==0;return _h=0,e}function ey(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ny(e){if(yh){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}yh=!1}ws=0,Kt=Tt=et=null,fa=!1,Rl=_h=0,da=null}function ke(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?et.memoizedState=Kt=e:Kt=Kt.next=e,Kt}function Qt(){if(Tt===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=Tt.next;var t=Kt===null?et.memoizedState:Kt.next;if(t!==null)Kt=t,Tt=e;else{if(e===null)throw et.alternate===null?Error(z(467)):Error(z(310));Tt=e,e={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Kt===null?et.memoizedState=Kt=e:Kt=Kt.next=e}return Kt}function iy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cc(e){var t=Rl;return Rl+=1,da===null&&(da=[]),e=xw(da,e,t),t=et,(Kt===null?t.memoizedState:Kt.next)===null&&(t=t.alternate,Q.H=t===null||t.memoizedState===null?nS:iS),e}function If(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cc(e);if(e.$$typeof===hi)return Se(e)}throw Error(z(438,String(e)))}function sy(e){var t=null,n=et.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=et.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=iy(),et.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=bC;return t.index++,n}function wi(e,t){return typeof t=="function"?t(e):t}function Pu(e){var t=Qt();return ry(t,Tt,e)}function ry(e,t,n){var i=e.queue;if(i===null)throw Error(z(311));i.lastRenderedReducer=n;var s=e.baseQueue,r=i.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}t.baseQueue=s=r,i.pending=null}if(r=e.baseState,s===null)e.memoizedState=r;else{t=s.next;var o=a=null,l=null,c=t,h=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(ot&f)===f:(ws&f)===f){var d=c.revertLane;if(d===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===Sa&&(h=!0);else if((ws&d)===d){c=c.next,d===Sa&&(h=!0);continue}else f={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=f,a=r):l=l.next=f,et.lanes|=d,As|=d;f=c.action,ur&&n(r,f),r=c.hasEagerState?c.eagerState:n(r,f)}else d={lane:f,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=d,a=r):l=l.next=d,et.lanes|=f,As|=f;c=c.next}while(c!==null&&c!==t);if(l===null?a=r:l.next=o,!tn(r,e.memoizedState)&&(ae=!0,h&&(n=ha,n!==null)))throw n;e.memoizedState=r,e.baseState=a,e.baseQueue=l,i.lastRenderedState=r}return s===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Yd(e){var t=Qt(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,r=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do r=e(r,a.action),a=a.next;while(a!==s);tn(r,t.memoizedState)||(ae=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function Iw(e,t,n){var i=et,s=Qt(),r=ft;if(r){if(n===void 0)throw Error(z(407));n=n()}else n=t();var a=!tn((Tt||s).memoizedState,n);a&&(s.memoizedState=n,ae=!0),s=s.queue;var o=Ow.bind(null,i,s,e);if(uc(2048,8,o,[e]),s.getSnapshot!==t||a||Kt!==null&&Kt.memoizedState.tag&1){if(i.flags|=2048,Ra(9,Cf(),Dw.bind(null,i,s,n,t),null),Rt===null)throw Error(z(349));r||ws&124||Cw(i,t,n)}return n}function Cw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=et.updateQueue,t===null?(t=iy(),et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Dw(e,t,n,i){t.value=n,t.getSnapshot=i,Mw(t)&&kw(e)}function Ow(e,t,n){return n(function(){Mw(t)&&kw(e)})}function Mw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tn(e,n)}catch{return!0}}function kw(e){var t=Ga(e,2);t!==null&&Ze(t,e,2)}function mg(e){var t=ke();if(typeof e=="function"){var n=e;if(e=n(),ur){ts(!0);try{n()}finally{ts(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:e},t}function Nw(e,t,n,i){return e.baseState=n,ry(e,Tt,typeof i=="function"?i:wi)}function LD(e,t,n,i,s){if(Df(e))throw Error(z(485));if(e=t.action,e!==null){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};Q.T!==null?n(!0):r.isTransition=!1,i(r),n=t.pending,n===null?(r.next=t.pending=r,Pw(t,r)):(r.next=n.next,t.pending=n.next=r)}}function Pw(e,t){var n=t.action,i=t.payload,s=e.state;if(t.isTransition){var r=Q.T,a={};Q.T=a;try{var o=n(s,i),l=Q.S;l!==null&&l(a,o),wv(e,t,o)}catch(c){gg(e,t,c)}finally{Q.T=r}}else try{r=n(s,i),wv(e,t,r)}catch(c){gg(e,t,c)}}function wv(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Sv(e,t,i)},function(i){return gg(e,t,i)}):Sv(e,t,n)}function Sv(e,t,n){t.status="fulfilled",t.value=n,Vw(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Pw(e,n)))}function gg(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Vw(t),t=t.next;while(t!==i)}e.action=null}function Vw(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Lw(e,t){return t}function Av(e,t){if(ft){var n=Rt.formState;if(n!==null){t:{var i=et;if(ft){if(zt){e:{for(var s=zt,r=Un;s.nodeType!==8;){if(!r){s=null;break e}if(s=wn(s.nextSibling),s===null){s=null;break e}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){zt=wn(s.nextSibling),i=s.data==="F!";break t}}lr(i)}i=!1}i&&(t=n[0])}}return n=ke(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lw,lastRenderedState:t},n.queue=i,n=Jw.bind(null,et,i),i.dispatch=n,i=mg(!1),r=cy.bind(null,et,!1,i.queue),i=ke(),s={state:t,dispatch:null,action:e,pending:null},i.queue=s,n=LD.bind(null,et,s,r,n),s.dispatch=n,i.memoizedState=e,[t,n,!1]}function Rv(e){var t=Qt();return Uw(t,Tt,e)}function Uw(e,t,n){if(t=ry(e,t,Lw)[0],e=Pu(wi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=cc(t)}catch(a){throw a===lc?Rf:a}else i=t;t=Qt();var s=t.queue,r=s.dispatch;return n!==t.memoizedState&&(et.flags|=2048,Ra(9,Cf(),UD.bind(null,s,n),null)),[i,r,e]}function UD(e,t){e.action=t}function Iv(e){var t=Qt(),n=Tt;if(n!==null)return Uw(t,n,e);Qt(),t=t.memoizedState,n=Qt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Ra(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=et.updateQueue,t===null&&(t=iy(),et.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Cf(){return{destroy:void 0,resource:void 0}}function jw(){return Qt().memoizedState}function Vu(e,t,n,i){var s=ke();i=i===void 0?null:i,et.flags|=e,s.memoizedState=Ra(1|t,Cf(),n,i)}function uc(e,t,n,i){var s=Qt();i=i===void 0?null:i;var r=s.memoizedState.inst;Tt!==null&&i!==null&&Zp(i,Tt.memoizedState.deps)?s.memoizedState=Ra(t,r,n,i):(et.flags|=e,s.memoizedState=Ra(1|t,r,n,i))}function Cv(e,t){Vu(8390656,8,e,t)}function zw(e,t){uc(2048,8,e,t)}function Bw(e,t){return uc(4,2,e,t)}function Fw(e,t){return uc(4,4,e,t)}function Hw(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qw(e,t,n){n=n!=null?n.concat([e]):null,uc(4,4,Hw.bind(null,t,e),n)}function ay(){}function Gw(e,t){var n=Qt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Zp(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function $w(e,t){var n=Qt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Zp(t,i[1]))return i[0];if(i=e(),ur){ts(!0);try{e()}finally{ts(!1)}}return n.memoizedState=[i,t],i}function oy(e,t,n){return n===void 0||ws&1073741824?e.memoizedState=t:(e.memoizedState=n,e=VS(),et.lanes|=e,As|=e,n)}function Yw(e,t,n,i){return tn(n,t)?n:Aa.current!==null?(e=oy(e,n,i),tn(e,t)||(ae=!0),e):ws&42?(e=VS(),et.lanes|=e,As|=e,t):(ae=!0,e.memoizedState=n)}function Kw(e,t,n,i,s){var r=dt.p;dt.p=r!==0&&8>r?r:8;var a=Q.T,o={};Q.T=o,cy(e,!1,t,n);try{var l=s(),c=Q.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=ND(l,i);sl(e,t,h,Xe(e))}else sl(e,t,i,Xe(e))}catch(f){sl(e,t,{then:function(){},status:"rejected",reason:f},Xe())}finally{dt.p=r,Q.T=a}}function jD(){}function pg(e,t,n,i){if(e.tag!==5)throw Error(z(476));var s=Ww(e).queue;Kw(e,s,t,tr,n===null?jD:function(){return Qw(e),n(i)})}function Ww(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:tr,baseState:tr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:tr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Qw(e){var t=Ww(e).next.queue;sl(e,t,{},Xe())}function ly(){return Se(Ml)}function Xw(){return Qt().memoizedState}function Zw(){return Qt().memoizedState}function zD(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Xe();e=cs(n);var i=us(t,e,n);i!==null&&(Ze(i,t,n),el(i,t,n)),t={cache:Kp()},e.payload=t;return}t=t.return}}function BD(e,t,n){var i=Xe();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Df(e)?tS(t,n):(n=qp(e,t,n,i),n!==null&&(Ze(n,e,i),eS(n,t,i)))}function Jw(e,t,n){var i=Xe();sl(e,t,n,i)}function sl(e,t,n,i){var s={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Df(e))tS(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var a=t.lastRenderedState,o=r(a,n);if(s.hasEagerState=!0,s.eagerState=o,tn(o,a))return Af(e,t,s,0),Rt===null&&Sf(),!1}catch{}finally{}if(n=qp(e,t,s,i),n!==null)return Ze(n,e,i),eS(n,t,i),!0}return!1}function cy(e,t,n,i){if(i={lane:2,revertLane:yy(),action:i,hasEagerState:!1,eagerState:null,next:null},Df(e)){if(t)throw Error(z(479))}else t=qp(e,n,i,2),t!==null&&Ze(t,e,2)}function Df(e){var t=e.alternate;return e===et||t!==null&&t===et}function tS(e,t){fa=yh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eS(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Gx(e,n)}}var vh={readContext:Se,use:If,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft},nS={readContext:Se,use:If,useCallback:function(e,t){return ke().memoizedState=[e,t===void 0?null:t],e},useContext:Se,useEffect:Cv,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Vu(4194308,4,Hw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vu(4194308,4,e,t)},useInsertionEffect:function(e,t){Vu(4,2,e,t)},useMemo:function(e,t){var n=ke();t=t===void 0?null:t;var i=e();if(ur){ts(!0);try{e()}finally{ts(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=ke();if(n!==void 0){var s=n(t);if(ur){ts(!0);try{n(t)}finally{ts(!1)}}}else s=t;return i.memoizedState=i.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},i.queue=e,e=e.dispatch=BD.bind(null,et,e),[i.memoizedState,e]},useRef:function(e){var t=ke();return e={current:e},t.memoizedState=e},useState:function(e){e=mg(e);var t=e.queue,n=Jw.bind(null,et,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ay,useDeferredValue:function(e,t){var n=ke();return oy(n,e,t)},useTransition:function(){var e=mg(!1);return e=Kw.bind(null,et,e.queue,!0,!1),ke().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=et,s=ke();if(ft){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),Rt===null)throw Error(z(349));ot&124||Cw(i,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,Cv(Ow.bind(null,i,r,e),[e]),i.flags|=2048,Ra(9,Cf(),Dw.bind(null,i,r,n,t),null),n},useId:function(){var e=ke(),t=Rt.identifierPrefix;if(ft){var n=di,i=fi;n=(i&~(1<<32-Qe(i)-1)).toString(32)+n,t=""+t+"R"+n,n=_h++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=PD++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:ly,useFormState:Av,useActionState:Av,useOptimistic:function(e){var t=ke();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=cy.bind(null,et,!0,n),n.dispatch=t,[e,t]},useMemoCache:sy,useCacheRefresh:function(){return ke().memoizedState=zD.bind(null,et)}},iS={readContext:Se,use:If,useCallback:Gw,useContext:Se,useEffect:zw,useImperativeHandle:qw,useInsertionEffect:Bw,useLayoutEffect:Fw,useMemo:$w,useReducer:Pu,useRef:jw,useState:function(){return Pu(wi)},useDebugValue:ay,useDeferredValue:function(e,t){var n=Qt();return Yw(n,Tt.memoizedState,e,t)},useTransition:function(){var e=Pu(wi)[0],t=Qt().memoizedState;return[typeof e=="boolean"?e:cc(e),t]},useSyncExternalStore:Iw,useId:Xw,useHostTransitionStatus:ly,useFormState:Rv,useActionState:Rv,useOptimistic:function(e,t){var n=Qt();return Nw(n,Tt,e,t)},useMemoCache:sy,useCacheRefresh:Zw},FD={readContext:Se,use:If,useCallback:Gw,useContext:Se,useEffect:zw,useImperativeHandle:qw,useInsertionEffect:Bw,useLayoutEffect:Fw,useMemo:$w,useReducer:Yd,useRef:jw,useState:function(){return Yd(wi)},useDebugValue:ay,useDeferredValue:function(e,t){var n=Qt();return Tt===null?oy(n,e,t):Yw(n,Tt.memoizedState,e,t)},useTransition:function(){var e=Yd(wi)[0],t=Qt().memoizedState;return[typeof e=="boolean"?e:cc(e),t]},useSyncExternalStore:Iw,useId:Xw,useHostTransitionStatus:ly,useFormState:Iv,useActionState:Iv,useOptimistic:function(e,t){var n=Qt();return Tt!==null?Nw(n,Tt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:sy,useCacheRefresh:Zw},ma=null,Il=0;function tu(e){var t=Il;return Il+=1,ma===null&&(ma=[]),xw(ma,e,t)}function Ao(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function eu(e,t){throw t.$$typeof===_C?Error(z(525)):(e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Dv(e){var t=e._init;return t(e._payload)}function sS(e){function t(_,y){if(e){var T=_.deletions;T===null?(_.deletions=[y],_.flags|=16):T.push(y)}}function n(_,y){if(!e)return null;for(;y!==null;)t(_,y),y=y.sibling;return null}function i(_){for(var y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function s(_,y){return _=_i(_,y),_.index=0,_.sibling=null,_}function r(_,y,T){return _.index=T,e?(T=_.alternate,T!==null?(T=T.index,T<y?(_.flags|=67108866,y):T):(_.flags|=67108866,y)):(_.flags|=1048576,y)}function a(_){return e&&_.alternate===null&&(_.flags|=67108866),_}function o(_,y,T,M){return y===null||y.tag!==6?(y=qd(T,_.mode,M),y.return=_,y):(y=s(y,T),y.return=_,y)}function l(_,y,T,M){var C=T.type;return C===Kr?h(_,y,T.props.children,M,T.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===qi&&Dv(C)===y.type)?(y=s(y,T.props),Ao(y,T),y.return=_,y):(y=ku(T.type,T.key,T.props,null,_.mode,M),Ao(y,T),y.return=_,y)}function c(_,y,T,M){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=Gd(T,_.mode,M),y.return=_,y):(y=s(y,T.children||[]),y.return=_,y)}function h(_,y,T,M,C){return y===null||y.tag!==7?(y=er(T,_.mode,M,C),y.return=_,y):(y=s(y,T),y.return=_,y)}function f(_,y,T){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=qd(""+y,_.mode,T),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Yc:return T=ku(y.type,y.key,y.props,null,_.mode,T),Ao(T,y),T.return=_,T;case Vo:return y=Gd(y,_.mode,T),y.return=_,y;case qi:var M=y._init;return y=M(y._payload),f(_,y,T)}if(Lo(y)||To(y))return y=er(y,_.mode,T,null),y.return=_,y;if(typeof y.then=="function")return f(_,tu(y),T);if(y.$$typeof===hi)return f(_,Zc(_,y),T);eu(_,y)}return null}function d(_,y,T,M){var C=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return C!==null?null:o(_,y,""+T,M);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Yc:return T.key===C?l(_,y,T,M):null;case Vo:return T.key===C?c(_,y,T,M):null;case qi:return C=T._init,T=C(T._payload),d(_,y,T,M)}if(Lo(T)||To(T))return C!==null?null:h(_,y,T,M,null);if(typeof T.then=="function")return d(_,y,tu(T),M);if(T.$$typeof===hi)return d(_,y,Zc(_,T),M);eu(_,T)}return null}function g(_,y,T,M,C){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return _=_.get(T)||null,o(y,_,""+M,C);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Yc:return _=_.get(M.key===null?T:M.key)||null,l(y,_,M,C);case Vo:return _=_.get(M.key===null?T:M.key)||null,c(y,_,M,C);case qi:var V=M._init;return M=V(M._payload),g(_,y,T,M,C)}if(Lo(M)||To(M))return _=_.get(T)||null,h(y,_,M,C,null);if(typeof M.then=="function")return g(_,y,T,tu(M),C);if(M.$$typeof===hi)return g(_,y,T,Zc(y,M),C);eu(y,M)}return null}function v(_,y,T,M){for(var C=null,V=null,x=y,b=y=0,R=null;x!==null&&b<T.length;b++){x.index>b?(R=x,x=null):R=x.sibling;var I=d(_,x,T[b],M);if(I===null){x===null&&(x=R);break}e&&x&&I.alternate===null&&t(_,x),y=r(I,y,b),V===null?C=I:V.sibling=I,V=I,x=R}if(b===T.length)return n(_,x),ft&&Ys(_,b),C;if(x===null){for(;b<T.length;b++)x=f(_,T[b],M),x!==null&&(y=r(x,y,b),V===null?C=x:V.sibling=x,V=x);return ft&&Ys(_,b),C}for(x=i(x);b<T.length;b++)R=g(x,_,b,T[b],M),R!==null&&(e&&R.alternate!==null&&x.delete(R.key===null?b:R.key),y=r(R,y,b),V===null?C=R:V.sibling=R,V=R);return e&&x.forEach(function(O){return t(_,O)}),ft&&Ys(_,b),C}function E(_,y,T,M){if(T==null)throw Error(z(151));for(var C=null,V=null,x=y,b=y=0,R=null,I=T.next();x!==null&&!I.done;b++,I=T.next()){x.index>b?(R=x,x=null):R=x.sibling;var O=d(_,x,I.value,M);if(O===null){x===null&&(x=R);break}e&&x&&O.alternate===null&&t(_,x),y=r(O,y,b),V===null?C=O:V.sibling=O,V=O,x=R}if(I.done)return n(_,x),ft&&Ys(_,b),C;if(x===null){for(;!I.done;b++,I=T.next())I=f(_,I.value,M),I!==null&&(y=r(I,y,b),V===null?C=I:V.sibling=I,V=I);return ft&&Ys(_,b),C}for(x=i(x);!I.done;b++,I=T.next())I=g(x,_,b,I.value,M),I!==null&&(e&&I.alternate!==null&&x.delete(I.key===null?b:I.key),y=r(I,y,b),V===null?C=I:V.sibling=I,V=I);return e&&x.forEach(function(k){return t(_,k)}),ft&&Ys(_,b),C}function A(_,y,T,M){if(typeof T=="object"&&T!==null&&T.type===Kr&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Yc:t:{for(var C=T.key;y!==null;){if(y.key===C){if(C=T.type,C===Kr){if(y.tag===7){n(_,y.sibling),M=s(y,T.props.children),M.return=_,_=M;break t}}else if(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===qi&&Dv(C)===y.type){n(_,y.sibling),M=s(y,T.props),Ao(M,T),M.return=_,_=M;break t}n(_,y);break}else t(_,y);y=y.sibling}T.type===Kr?(M=er(T.props.children,_.mode,M,T.key),M.return=_,_=M):(M=ku(T.type,T.key,T.props,null,_.mode,M),Ao(M,T),M.return=_,_=M)}return a(_);case Vo:t:{for(C=T.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(_,y.sibling),M=s(y,T.children||[]),M.return=_,_=M;break t}else{n(_,y);break}else t(_,y);y=y.sibling}M=Gd(T,_.mode,M),M.return=_,_=M}return a(_);case qi:return C=T._init,T=C(T._payload),A(_,y,T,M)}if(Lo(T))return v(_,y,T,M);if(To(T)){if(C=To(T),typeof C!="function")throw Error(z(150));return T=C.call(T),E(_,y,T,M)}if(typeof T.then=="function")return A(_,y,tu(T),M);if(T.$$typeof===hi)return A(_,y,Zc(_,T),M);eu(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,y!==null&&y.tag===6?(n(_,y.sibling),M=s(y,T),M.return=_,_=M):(n(_,y),M=qd(T,_.mode,M),M.return=_,_=M),a(_)):n(_,y)}return function(_,y,T,M){try{Il=0;var C=A(_,y,T,M);return ma=null,C}catch(x){if(x===lc||x===Rf)throw x;var V=Ke(29,x,null,_.mode);return V.lanes=M,V.return=_,V}finally{}}}var Ia=sS(!0),rS=sS(!1),mn=Wn(null),Fn=null;function Yi(e){var t=e.alternate;Nt(Jt,Jt.current&1),Nt(mn,e),Fn===null&&(t===null||Aa.current!==null||t.memoizedState!==null)&&(Fn=e)}function aS(e){if(e.tag===22){if(Nt(Jt,Jt.current),Nt(mn,e),Fn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Fn=e)}}else Ki()}function Ki(){Nt(Jt,Jt.current),Nt(mn,mn.current)}function gi(e){oe(mn),Fn===e&&(Fn=null),oe(Jt)}var Jt=Wn(0);function bh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||kg(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Kd(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Ot({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var yg={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Xe(),s=cs(i);s.payload=t,n!=null&&(s.callback=n),t=us(e,s,i),t!==null&&(Ze(t,e,i),el(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Xe(),s=cs(i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=us(e,s,i),t!==null&&(Ze(t,e,i),el(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xe(),i=cs(n);i.tag=2,t!=null&&(i.callback=t),t=us(e,i,n),t!==null&&(Ze(t,e,n),el(t,e,n))}};function Ov(e,t,n,i,s,r,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,a):t.prototype&&t.prototype.isPureReactComponent?!Sl(n,i)||!Sl(s,r):!0}function Mv(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&yg.enqueueReplaceState(t,t.state,null)}function hr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Ot({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}var Eh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function oS(e){Eh(e)}function lS(e){console.error(e)}function cS(e){Eh(e)}function Th(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function kv(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function _g(e,t,n){return n=cs(n),n.tag=3,n.payload={element:null},n.callback=function(){Th(e,t)},n}function uS(e){return e=cs(e),e.tag=3,e}function hS(e,t,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=i.value;e.payload=function(){return s(r)},e.callback=function(){kv(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){kv(t,n,i),typeof s!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function HD(e,t,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&ac(t,n,s,!0),n=mn.current,n!==null){switch(n.tag){case 13:return Fn===null?Ag():n.alternate===null&&Bt===0&&(Bt=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===ug?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),rm(e,i,s)),!1;case 22:return n.flags|=65536,i===ug?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),rm(e,i,s)),!1}throw Error(z(435,n.tag))}return rm(e,i,s),Ag(),!1}if(ft)return t=mn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==rg&&(e=Error(z(422),{cause:i}),Al(ln(e,n)))):(i!==rg&&(t=Error(z(423),{cause:i}),Al(ln(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,i=ln(i,n),s=_g(e.stateNode,i,s),$d(e,s),Bt!==4&&(Bt=2)),!1;var r=Error(z(520),{cause:i});if(r=ln(r,n),ol===null?ol=[r]:ol.push(r),Bt!==4&&(Bt=2),t===null)return!0;i=ln(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=_g(n.stateNode,i,e),$d(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(hs===null||!hs.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,s=uS(s),hS(s,e,n,i),$d(n,s),!1}n=n.return}while(n!==null);return!1}var fS=Error(z(461)),ae=!1;function he(e,t,n,i){t.child=e===null?rS(t,null,n,i):Ia(t,e.child,n,i)}function Nv(e,t,n,i,s){n=n.render;var r=t.ref;if("ref"in i){var a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}else a=i;return cr(t),i=Jp(e,t,n,a,r,s),o=ty(),e!==null&&!ae?(ey(e,t,s),Si(e,t,s)):(ft&&o&&$p(t),t.flags|=1,he(e,t,i,s),t.child)}function Pv(e,t,n,i,s){if(e===null){var r=n.type;return typeof r=="function"&&!Gp(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,dS(e,t,r,i,s)):(e=ku(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!uy(e,s)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:Sl,n(a,i)&&e.ref===t.ref)return Si(e,t,s)}return t.flags|=1,e=_i(r,i),e.ref=t.ref,e.return=t,t.child=e}function dS(e,t,n,i,s){if(e!==null){var r=e.memoizedProps;if(Sl(r,i)&&e.ref===t.ref)if(ae=!1,t.pendingProps=i=r,uy(e,s))e.flags&131072&&(ae=!0);else return t.lanes=e.lanes,Si(e,t,s)}return vg(e,t,n,i,s)}function mS(e,t,n){var i=t.pendingProps,s=i.children,r=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=r!==null?r.baseLanes|n:n,e!==null){for(s=t.child=e.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;t.childLanes=r&~i}else t.childLanes=0,t.child=null;return Vv(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(t,r!==null?r.cachePool:null),r!==null?xv(t,r):dg(),aS(t);else return t.lanes=t.childLanes=536870912,Vv(e,t,r!==null?r.baseLanes|n:n,n)}else r!==null?(Nu(t,r.cachePool),xv(t,r),Ki(),t.memoizedState=null):(e!==null&&Nu(t,null),dg(),Ki());return he(e,t,s,n),t.child}function Vv(e,t,n,i){var s=Wp();return s=s===null?null:{parent:Zt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Nu(t,null),dg(),aS(t),e!==null&&ac(e,t,i,!0),null}function Lu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(z(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function vg(e,t,n,i,s){return cr(t),n=Jp(e,t,n,i,void 0,s),i=ty(),e!==null&&!ae?(ey(e,t,s),Si(e,t,s)):(ft&&i&&$p(t),t.flags|=1,he(e,t,n,s),t.child)}function Lv(e,t,n,i,s,r){return cr(t),t.updateQueue=null,n=Rw(t,i,n,s),Aw(e),i=ty(),e!==null&&!ae?(ey(e,t,r),Si(e,t,r)):(ft&&i&&$p(t),t.flags|=1,he(e,t,n,r),t.child)}function Uv(e,t,n,i,s){if(cr(t),t.stateNode===null){var r=na,a=n.contextType;typeof a=="object"&&a!==null&&(r=Se(a)),r=new n(i,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=yg,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=i,r.state=t.memoizedState,r.refs={},Qp(t),a=n.contextType,r.context=typeof a=="object"&&a!==null?Se(a):na,r.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Kd(t,n,a,i),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&yg.enqueueReplaceState(r,r.state,null),il(t,i,r,s),nl(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){r=t.stateNode;var o=t.memoizedProps,l=hr(n,o);r.props=l;var c=r.context,h=n.contextType;a=na,typeof h=="object"&&h!==null&&(a=Se(h));var f=n.getDerivedStateFromProps;h=typeof f=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,h||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||c!==a)&&Mv(t,r,i,a),Gi=!1;var d=t.memoizedState;r.state=d,il(t,i,r,s),nl(),c=t.memoizedState,o||d!==c||Gi?(typeof f=="function"&&(Kd(t,n,f,i),c=t.memoizedState),(l=Gi||Ov(t,n,l,i,d,c,a))?(h||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),r.props=i,r.state=c,r.context=a,i=l):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,hg(e,t),a=t.memoizedProps,h=hr(n,a),r.props=h,f=t.pendingProps,d=r.context,c=n.contextType,l=na,typeof c=="object"&&c!==null&&(l=Se(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==f||d!==l)&&Mv(t,r,i,l),Gi=!1,d=t.memoizedState,r.state=d,il(t,i,r,s),nl();var g=t.memoizedState;a!==f||d!==g||Gi||e!==null&&e.dependencies!==null&&gh(e.dependencies)?(typeof o=="function"&&(Kd(t,n,o,i),g=t.memoizedState),(h=Gi||Ov(t,n,h,i,d,g,l)||e!==null&&e.dependencies!==null&&gh(e.dependencies))?(c||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,g,l),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,g,l)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),r.props=i,r.state=g,r.context=l,i=h):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,Lu(e,t),i=(t.flags&128)!==0,r||i?(r=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&i?(t.child=Ia(t,e.child,null,s),t.child=Ia(t,null,n,s)):he(e,t,n,s),t.memoizedState=r.state,e=t.child):e=Si(e,t,s),e}function jv(e,t,n,i){return rc(),t.flags|=256,he(e,t,n,i),t.child}var Wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qd(e){return{baseLanes:e,cachePool:Ew()}}function Xd(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=hn),e}function gS(e,t,n){var i=t.pendingProps,s=!1,r=(t.flags&128)!==0,a;if((a=r)||(a=e!==null&&e.memoizedState===null?!1:(Jt.current&2)!==0),a&&(s=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(ft){if(s?Yi(t):Ki(),ft){var o=zt,l;if(l=o){t:{for(l=o,o=Un;l.nodeType!==8;){if(!o){o=null;break t}if(l=wn(l.nextSibling),l===null){o=null;break t}}o=l}o!==null?(t.memoizedState={dehydrated:o,treeContext:nr!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},l=Ke(18,null,null,0),l.stateNode=o,l.return=t,t.child=l,Ce=t,zt=null,l=!0):l=!1}l||lr(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return kg(o)?t.lanes=32:t.lanes=536870912,null;gi(t)}return o=i.children,i=i.fallback,s?(Ki(),s=t.mode,o=xh({mode:"hidden",children:o},s),i=er(i,s,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,s=t.child,s.memoizedState=Qd(n),s.childLanes=Xd(e,a,n),t.memoizedState=Wd,i):(Yi(t),bg(t,o))}if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(r)t.flags&256?(Yi(t),t.flags&=-257,t=Zd(e,t,n)):t.memoizedState!==null?(Ki(),t.child=e.child,t.flags|=128,t=null):(Ki(),s=i.fallback,o=t.mode,i=xh({mode:"visible",children:i.children},o),s=er(s,o,n,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,Ia(t,e.child,null,n),i=t.child,i.memoizedState=Qd(n),i.childLanes=Xd(e,a,n),t.memoizedState=Wd,t=s);else if(Yi(t),kg(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(z(419)),i.stack="",i.digest=a,Al({value:i,source:null,stack:null}),t=Zd(e,t,n)}else if(ae||ac(e,t,n,!1),a=(n&e.childLanes)!==0,ae||a){if(a=Rt,a!==null&&(i=n&-n,i=i&42?1:Np(i),i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==l.retryLane))throw l.retryLane=i,Ga(e,i),Ze(a,e,i),fS;o.data==="$?"||Ag(),t=Zd(e,t,n)}else o.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,zt=wn(o.nextSibling),Ce=t,ft=!0,ir=null,Un=!1,e!==null&&(rn[an++]=fi,rn[an++]=di,rn[an++]=nr,fi=e.id,di=e.overflow,nr=t),t=bg(t,i.children),t.flags|=4096);return t}return s?(Ki(),s=i.fallback,o=t.mode,l=e.child,c=l.sibling,i=_i(l,{mode:"hidden",children:i.children}),i.subtreeFlags=l.subtreeFlags&65011712,c!==null?s=_i(c,s):(s=er(s,o,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,o=e.child.memoizedState,o===null?o=Qd(n):(l=o.cachePool,l!==null?(c=Zt._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=Ew(),o={baseLanes:o.baseLanes|n,cachePool:l}),s.memoizedState=o,s.childLanes=Xd(e,a,n),t.memoizedState=Wd,i):(Yi(t),n=e.child,e=n.sibling,n=_i(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function bg(e,t){return t=xh({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function xh(e,t){return e=Ke(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Zd(e,t,n){return Ia(t,e.child,null,n),e=bg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zv(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),og(e.return,t,n)}function Jd(e,t,n,i,s){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function pS(e,t,n){var i=t.pendingProps,s=i.revealOrder,r=i.tail;if(he(e,t,i.children,n),i=Jt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zv(e,n,t);else if(e.tag===19)zv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(Nt(Jt,i),s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&bh(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Jd(t,!1,s,n,r);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&bh(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Jd(t,!0,n,null,r);break;case"together":Jd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Si(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),As|=t.lanes,!(n&t.childLanes))if(e!==null){if(ac(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=_i(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_i(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function uy(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&gh(e)))}function qD(e,t,n){switch(t.tag){case 3:oh(t,t.stateNode.containerInfo),$i(t,Zt,e.memoizedState.cache),rc();break;case 27:case 5:Wm(t);break;case 4:oh(t,t.stateNode.containerInfo);break;case 10:$i(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Yi(t),t.flags|=128,null):n&t.child.childLanes?gS(e,t,n):(Yi(t),e=Si(e,t,n),e!==null?e.sibling:null);Yi(t);break;case 19:var s=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(ac(e,t,n,!1),i=(n&t.childLanes)!==0),s){if(i)return pS(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Nt(Jt,Jt.current),i)break;return null;case 22:case 23:return t.lanes=0,mS(e,t,n);case 24:$i(t,Zt,e.memoizedState.cache)}return Si(e,t,n)}function yS(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ae=!0;else{if(!uy(e,n)&&!(t.flags&128))return ae=!1,qD(e,t,n);ae=!!(e.flags&131072)}else ae=!1,ft&&t.flags&1048576&&vw(t,mh,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,s=i._init;if(i=s(i._payload),t.type=i,typeof i=="function")Gp(i)?(e=hr(i,e),t.tag=1,t=Uv(null,t,i,e,n)):(t.tag=0,t=vg(null,t,i,e,n));else{if(i!=null){if(s=i.$$typeof,s===Op){t.tag=11,t=Nv(null,t,i,e,n);break t}else if(s===Mp){t.tag=14,t=Pv(null,t,i,e,n);break t}}throw t=Ym(i)||i,Error(z(306,t,""))}}return t;case 0:return vg(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,s=hr(i,t.pendingProps),Uv(e,t,i,s,n);case 3:t:{if(oh(t,t.stateNode.containerInfo),e===null)throw Error(z(387));i=t.pendingProps;var r=t.memoizedState;s=r.element,hg(e,t),il(t,i,null,n);var a=t.memoizedState;if(i=a.cache,$i(t,Zt,i),i!==r.cache&&lg(t,[Zt],n,!0),nl(),i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=jv(e,t,i,n);break t}else if(i!==s){s=ln(Error(z(424)),t),Al(s),t=jv(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(zt=wn(e.firstChild),Ce=t,ft=!0,ir=null,Un=!0,n=rS(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(rc(),i===s){t=Si(e,t,n);break t}he(e,t,i,n)}t=t.child}return t;case 26:return Lu(e,t),e===null?(n=ib(t.type,null,t.pendingProps,null))?t.memoizedState=n:ft||(n=t.type,e=t.pendingProps,i=Dh(ls.current).createElement(n),i[we]=t,i[Be]=e,ge(i,n,e),se(i),t.stateNode=i):t.memoizedState=ib(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Wm(t),e===null&&ft&&(i=t.stateNode=i1(t.type,t.pendingProps,ls.current),Ce=t,Un=!0,s=zt,Vs(t.type)?(Ng=s,zt=wn(i.firstChild)):zt=s),he(e,t,t.pendingProps.children,n),Lu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ft&&((s=i=zt)&&(i=_O(i,t.type,t.pendingProps,Un),i!==null?(t.stateNode=i,Ce=t,zt=wn(i.firstChild),Un=!1,s=!0):s=!1),s||lr(t)),Wm(t),s=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,i=r.children,Og(s,r)?i=null:a!==null&&Og(s,a)&&(t.flags|=32),t.memoizedState!==null&&(s=Jp(e,t,VD,null,null,n),Ml._currentValue=s),Lu(e,t),he(e,t,i,n),t.child;case 6:return e===null&&ft&&((e=n=zt)&&(n=vO(n,t.pendingProps,Un),n!==null?(t.stateNode=n,Ce=t,zt=null,e=!0):e=!1),e||lr(t)),null;case 13:return gS(e,t,n);case 4:return oh(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ia(t,null,i,n):he(e,t,i,n),t.child;case 11:return Nv(e,t,t.type,t.pendingProps,n);case 7:return he(e,t,t.pendingProps,n),t.child;case 8:return he(e,t,t.pendingProps.children,n),t.child;case 12:return he(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,$i(t,t.type,i.value),he(e,t,i.children,n),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,cr(t),s=Se(s),i=i(s),t.flags|=1,he(e,t,i,n),t.child;case 14:return Pv(e,t,t.type,t.pendingProps,n);case 15:return dS(e,t,t.type,t.pendingProps,n);case 19:return pS(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=xh(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=_i(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return mS(e,t,n);case 24:return cr(t),i=Se(Zt),e===null?(s=Wp(),s===null&&(s=Rt,r=Kp(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=n),s=r),t.memoizedState={parent:i,cache:s},Qp(t),$i(t,Zt,s)):(e.lanes&n&&(hg(e,t),il(t,null,null,n),nl()),s=e.memoizedState,r=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),$i(t,Zt,i)):(i=r.cache,$i(t,Zt,i),i!==s.cache&&lg(t,[Zt],n,!0))),he(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(z(156,t.tag))}function ni(e){e.flags|=4}function Bv(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!a1(t)){if(t=mn.current,t!==null&&((ot&4194048)===ot?Fn!==null:(ot&62914560)!==ot&&!(ot&536870912)||t!==Fn))throw tl=ug,Tw;e.flags|=8192}}function nu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Hx():536870912,e.lanes|=t,Ca|=t)}function Ro(e,t){if(!ft)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function GD(e,t,n){var i=t.pendingProps;switch(Yp(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(t),null;case 1:return Vt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),vi(Zt),Ta(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(So(t)?ni(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yv())),Vt(t),null;case 26:return n=t.memoizedState,e===null?(ni(t),n!==null?(Vt(t),Bv(t,n)):(Vt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(ni(t),Vt(t),Bv(t,n)):(Vt(t),t.flags&=-16777217):(e.memoizedProps!==i&&ni(t),Vt(t),t.flags&=-16777217),null;case 27:lh(t),n=ls.current;var s=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ni(t);else{if(!i){if(t.stateNode===null)throw Error(z(166));return Vt(t),null}e=zn.current,So(t)?gv(t):(e=i1(s,i,n),t.stateNode=e,ni(t))}return Vt(t),null;case 5:if(lh(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ni(t);else{if(!i){if(t.stateNode===null)throw Error(z(166));return Vt(t),null}if(e=zn.current,So(t))gv(t);else{switch(s=Dh(ls.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?s.createElement(n,{is:i.is}):s.createElement(n)}}e[we]=t,e[Be]=i;t:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break t;for(;s.sibling===null;){if(s.return===null||s.return===t)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;t:switch(ge(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ni(t)}}return Vt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&ni(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(z(166));if(e=ls.current,So(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,s=Ce,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}e[we]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||t1(e.nodeValue,n)),e||lr(t)}else e=Dh(e).createTextNode(i),e[we]=t,t.stateNode=e}return Vt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=So(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(z(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[we]=t}else rc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vt(t),s=!1}else s=yv(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(gi(t),t):(gi(t),null)}if(gi(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool);var r=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),nu(t,t.updateQueue),Vt(t),null;case 4:return Ta(),e===null&&_y(t.stateNode.containerInfo),Vt(t),null;case 10:return vi(t.type),Vt(t),null;case 19:if(oe(Jt),s=t.memoizedState,s===null)return Vt(t),null;if(i=(t.flags&128)!==0,r=s.rendering,r===null)if(i)Ro(s,!1);else{if(Bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=bh(e),r!==null){for(t.flags|=128,Ro(s,!1),e=r.updateQueue,t.updateQueue=e,nu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)_w(n,e),n=n.sibling;return Nt(Jt,Jt.current&1|2),t.child}e=e.sibling}s.tail!==null&&Bn()>Sh&&(t.flags|=128,i=!0,Ro(s,!1),t.lanes=4194304)}else{if(!i)if(e=bh(r),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,nu(t,e),Ro(s,!0),s.tail===null&&s.tailMode==="hidden"&&!r.alternate&&!ft)return Vt(t),null}else 2*Bn()-s.renderingStartTime>Sh&&n!==536870912&&(t.flags|=128,i=!0,Ro(s,!1),t.lanes=4194304);s.isBackwards?(r.sibling=t.child,t.child=r):(e=s.last,e!==null?e.sibling=r:t.child=r,s.last=r)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Bn(),t.sibling=null,e=Jt.current,Nt(Jt,i?e&1|2:e&1),t):(Vt(t),null);case 22:case 23:return gi(t),Xp(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Vt(t),t.subtreeFlags&6&&(t.flags|=8192)):Vt(t),n=t.updateQueue,n!==null&&nu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&oe(sr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),vi(Zt),Vt(t),null;case 25:return null;case 30:return null}throw Error(z(156,t.tag))}function $D(e,t){switch(Yp(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vi(Zt),Ta(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return lh(t),null;case 13:if(gi(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));rc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(Jt),null;case 4:return Ta(),null;case 10:return vi(t.type),null;case 22:case 23:return gi(t),Xp(),e!==null&&oe(sr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return vi(Zt),null;case 25:return null;default:return null}}function _S(e,t){switch(Yp(t),t.tag){case 3:vi(Zt),Ta();break;case 26:case 27:case 5:lh(t);break;case 4:Ta();break;case 13:gi(t);break;case 19:oe(Jt);break;case 10:vi(t.type);break;case 22:case 23:gi(t),Xp(),e!==null&&oe(sr);break;case 24:vi(Zt)}}function hc(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&e)===e){i=void 0;var r=n.create,a=n.inst;i=r(),a.destroy=i}n=n.next}while(n!==s)}}catch(o){wt(t,t.return,o)}}function Ss(e,t,n){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&e)===e){var a=i.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,s=t;var l=n,c=o;try{c()}catch(h){wt(s,l,h)}}}i=i.next}while(i!==r)}}catch(h){wt(t,t.return,h)}}function vS(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Sw(t,n)}catch(i){wt(e,e.return,i)}}}function bS(e,t,n){n.props=hr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){wt(e,t,i)}}function rl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(s){wt(e,t,s)}}function jn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){wt(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){wt(e,t,s)}else n.current=null}function ES(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){wt(e,e.return,s)}}function tm(e,t,n){try{var i=e.stateNode;dO(i,e.type,n,t),i[Be]=t}catch(s){wt(e,e.return,s)}}function TS(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vs(e.type)||e.tag===4}function em(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||TS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Eg(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Nf));else if(i!==4&&(i===27&&Vs(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Eg(e,t,n),e=e.sibling;e!==null;)Eg(e,t,n),e=e.sibling}function wh(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Vs(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(wh(e,t,n),e=e.sibling;e!==null;)wh(e,t,n),e=e.sibling}function xS(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ge(t,i,n),t[we]=e,t[Be]=n}catch(r){wt(e,e.return,r)}}var ui=!1,Ht=!1,nm=!1,Fv=typeof WeakSet=="function"?WeakSet:Set,ie=null;function YD(e,t){if(e=e.containerInfo,Cg=Nh,e=uw(e),Fp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break t}var a=0,o=-1,l=-1,c=0,h=0,f=e,d=null;e:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(o=a+s),f!==r||i!==0&&f.nodeType!==3||(l=a+i),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)d=f,f=g;for(;;){if(f===e)break e;if(d===n&&++c===s&&(o=a),d===r&&++h===i&&(l=a),(g=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=g}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dg={focusedElem:e,selectionRange:n},Nh=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){switch(t=ie,r=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,n=t,s=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var v=hr(n.type,s,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(v,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(E){wt(n,n.return,E)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Mg(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Mg(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(z(163))}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}}function wS(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:zi(e,n),i&4&&hc(5,n);break;case 1:if(zi(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){wt(n,n.return,a)}else{var s=hr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){wt(n,n.return,a)}}i&64&&vS(n),i&512&&rl(n,n.return);break;case 3:if(zi(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Sw(e,t)}catch(a){wt(n,n.return,a)}}break;case 27:t===null&&i&4&&xS(n);case 26:case 5:zi(e,n),t===null&&i&4&&ES(n),i&512&&rl(n,n.return);break;case 12:zi(e,n);break;case 13:zi(e,n),i&4&&RS(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=nO.bind(null,n),bO(e,n))));break;case 22:if(i=n.memoizedState!==null||ui,!i){t=t!==null&&t.memoizedState!==null||Ht,s=ui;var r=Ht;ui=i,(Ht=t)&&!r?Hi(e,n,(n.subtreeFlags&8772)!==0):zi(e,n),ui=s,Ht=r}break;case 30:break;default:zi(e,n)}}function SS(e){var t=e.alternate;t!==null&&(e.alternate=null,SS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Vp(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Mt=null,Ne=!1;function ii(e,t,n){for(n=n.child;n!==null;)AS(e,t,n),n=n.sibling}function AS(e,t,n){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(tc,n)}catch{}switch(n.tag){case 26:Ht||jn(n,t),ii(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ht||jn(n,t);var i=Mt,s=Ne;Vs(n.type)&&(Mt=n.stateNode,Ne=!1),ii(e,t,n),cl(n.stateNode),Mt=i,Ne=s;break;case 5:Ht||jn(n,t);case 6:if(i=Mt,s=Ne,Mt=null,ii(e,t,n),Mt=i,Ne=s,Mt!==null)if(Ne)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(n.stateNode)}catch(r){wt(n,t,r)}else try{Mt.removeChild(n.stateNode)}catch(r){wt(n,t,r)}break;case 18:Mt!==null&&(Ne?(e=Mt,tb(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Pl(e)):tb(Mt,n.stateNode));break;case 4:i=Mt,s=Ne,Mt=n.stateNode.containerInfo,Ne=!0,ii(e,t,n),Mt=i,Ne=s;break;case 0:case 11:case 14:case 15:Ht||Ss(2,n,t),Ht||Ss(4,n,t),ii(e,t,n);break;case 1:Ht||(jn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&bS(n,t,i)),ii(e,t,n);break;case 21:ii(e,t,n);break;case 22:Ht=(i=Ht)||n.memoizedState!==null,ii(e,t,n),Ht=i;break;default:ii(e,t,n)}}function RS(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pl(e)}catch(n){wt(t,t.return,n)}}function KD(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Fv),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Fv),t;default:throw Error(z(435,e.tag))}}function im(e,t){var n=KD(e);t.forEach(function(i){var s=iO.bind(null,e,i);n.has(i)||(n.add(i),i.then(s,s))})}function qe(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],r=e,a=t,o=a;t:for(;o!==null;){switch(o.tag){case 27:if(Vs(o.type)){Mt=o.stateNode,Ne=!1;break t}break;case 5:Mt=o.stateNode,Ne=!1;break t;case 3:case 4:Mt=o.stateNode.containerInfo,Ne=!0;break t}o=o.return}if(Mt===null)throw Error(z(160));AS(r,a,s),Mt=null,Ne=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)IS(t,e),t=t.sibling}var vn=null;function IS(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qe(t,e),Ge(e),i&4&&(Ss(3,e,e.return),hc(3,e),Ss(5,e,e.return));break;case 1:qe(t,e),Ge(e),i&512&&(Ht||n===null||jn(n,n.return)),i&64&&ui&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=vn;if(qe(t,e),Ge(e),i&512&&(Ht||n===null||jn(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,s=s.ownerDocument||s;e:switch(i){case"title":r=s.getElementsByTagName("title")[0],(!r||r[ic]||r[we]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),ge(r,i,n),r[we]=e,se(r),i=r;break t;case"link":var a=rb("link","href",s).get(i+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(r=a[o],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break e}}r=s.createElement(i),ge(r,i,n),s.head.appendChild(r);break;case"meta":if(a=rb("meta","content",s).get(i+(n.content||""))){for(o=0;o<a.length;o++)if(r=a[o],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break e}}r=s.createElement(i),ge(r,i,n),s.head.appendChild(r);break;default:throw Error(z(468,i))}r[we]=e,se(r),i=r}e.stateNode=i}else ab(s,e.type,e.stateNode);else e.stateNode=sb(s,i,e.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?ab(s,e.type,e.stateNode):sb(s,i,e.memoizedProps)):i===null&&e.stateNode!==null&&tm(e,e.memoizedProps,n.memoizedProps)}break;case 27:qe(t,e),Ge(e),i&512&&(Ht||n===null||jn(n,n.return)),n!==null&&i&4&&tm(e,e.memoizedProps,n.memoizedProps);break;case 5:if(qe(t,e),Ge(e),i&512&&(Ht||n===null||jn(n,n.return)),e.flags&32){s=e.stateNode;try{wa(s,"")}catch(g){wt(e,e.return,g)}}i&4&&e.stateNode!=null&&(s=e.memoizedProps,tm(e,s,n!==null?n.memoizedProps:s)),i&1024&&(nm=!0);break;case 6:if(qe(t,e),Ge(e),i&4){if(e.stateNode===null)throw Error(z(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(g){wt(e,e.return,g)}}break;case 3:if(zu=null,s=vn,vn=Oh(t.containerInfo),qe(t,e),vn=s,Ge(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Pl(t.containerInfo)}catch(g){wt(e,e.return,g)}nm&&(nm=!1,CS(e));break;case 4:i=vn,vn=Oh(e.stateNode.containerInfo),qe(t,e),Ge(e),vn=i;break;case 12:qe(t,e),Ge(e);break;case 13:qe(t,e),Ge(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(gy=Bn()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,im(e,i)));break;case 22:s=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=ui,h=Ht;if(ui=c||s,Ht=h||l,qe(t,e),Ht=h,ui=c,Ge(e),i&8192)t:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||l||ui||Ht||Ks(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(r=l.stateNode,s)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=l.stateNode;var f=l.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(g){wt(l,l.return,g)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=s?"":l.memoizedProps}catch(g){wt(l,l.return,g)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,im(e,n))));break;case 19:qe(t,e),Ge(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,im(e,i)));break;case 30:break;case 21:break;default:qe(t,e),Ge(e)}}function Ge(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(TS(i)){n=i;break}i=i.return}if(n==null)throw Error(z(160));switch(n.tag){case 27:var s=n.stateNode,r=em(e);wh(e,r,s);break;case 5:var a=n.stateNode;n.flags&32&&(wa(a,""),n.flags&=-33);var o=em(e);wh(e,o,a);break;case 3:case 4:var l=n.stateNode.containerInfo,c=em(e);Eg(e,c,l);break;default:throw Error(z(161))}}catch(h){wt(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function CS(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;CS(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function zi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)wS(e,t.alternate,t),t=t.sibling}function Ks(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ss(4,t,t.return),Ks(t);break;case 1:jn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&bS(t,t.return,n),Ks(t);break;case 27:cl(t.stateNode);case 26:case 5:jn(t,t.return),Ks(t);break;case 22:t.memoizedState===null&&Ks(t);break;case 30:Ks(t);break;default:Ks(t)}e=e.sibling}}function Hi(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,s=e,r=t,a=r.flags;switch(r.tag){case 0:case 11:case 15:Hi(s,r,n),hc(4,r);break;case 1:if(Hi(s,r,n),i=r,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(c){wt(i,i.return,c)}if(i=r,s=i.updateQueue,s!==null){var o=i.stateNode;try{var l=s.shared.hiddenCallbacks;if(l!==null)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)ww(l[s],o)}catch(c){wt(i,i.return,c)}}n&&a&64&&vS(r),rl(r,r.return);break;case 27:xS(r);case 26:case 5:Hi(s,r,n),n&&i===null&&a&4&&ES(r),rl(r,r.return);break;case 12:Hi(s,r,n);break;case 13:Hi(s,r,n),n&&a&4&&RS(s,r);break;case 22:r.memoizedState===null&&Hi(s,r,n),rl(r,r.return);break;case 30:break;default:Hi(s,r,n)}t=t.sibling}}function hy(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&oc(n))}function fy(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&oc(e))}function kn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)DS(e,t,n,i),t=t.sibling}function DS(e,t,n,i){var s=t.flags;switch(t.tag){case 0:case 11:case 15:kn(e,t,n,i),s&2048&&hc(9,t);break;case 1:kn(e,t,n,i);break;case 3:kn(e,t,n,i),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&oc(e)));break;case 12:if(s&2048){kn(e,t,n,i),e=t.stateNode;try{var r=t.memoizedProps,a=r.id,o=r.onPostCommit;typeof o=="function"&&o(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){wt(t,t.return,l)}}else kn(e,t,n,i);break;case 13:kn(e,t,n,i);break;case 23:break;case 22:r=t.stateNode,a=t.alternate,t.memoizedState!==null?r._visibility&2?kn(e,t,n,i):al(e,t):r._visibility&2?kn(e,t,n,i):(r._visibility|=2,Fr(e,t,n,i,(t.subtreeFlags&10256)!==0)),s&2048&&hy(a,t);break;case 24:kn(e,t,n,i),s&2048&&fy(t.alternate,t);break;default:kn(e,t,n,i)}}function Fr(e,t,n,i,s){for(s=s&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var r=e,a=t,o=n,l=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:Fr(r,a,o,l,s),hc(8,a);break;case 23:break;case 22:var h=a.stateNode;a.memoizedState!==null?h._visibility&2?Fr(r,a,o,l,s):al(r,a):(h._visibility|=2,Fr(r,a,o,l,s)),s&&c&2048&&hy(a.alternate,a);break;case 24:Fr(r,a,o,l,s),s&&c&2048&&fy(a.alternate,a);break;default:Fr(r,a,o,l,s)}t=t.sibling}}function al(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,s=i.flags;switch(i.tag){case 22:al(n,i),s&2048&&hy(i.alternate,i);break;case 24:al(n,i),s&2048&&fy(i.alternate,i);break;default:al(n,i)}t=t.sibling}}var jo=8192;function Lr(e){if(e.subtreeFlags&jo)for(e=e.child;e!==null;)OS(e),e=e.sibling}function OS(e){switch(e.tag){case 26:Lr(e),e.flags&jo&&e.memoizedState!==null&&kO(vn,e.memoizedState,e.memoizedProps);break;case 5:Lr(e);break;case 3:case 4:var t=vn;vn=Oh(e.stateNode.containerInfo),Lr(e),vn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=jo,jo=16777216,Lr(e),jo=t):Lr(e));break;default:Lr(e)}}function MS(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Io(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ie=i,NS(i,e)}MS(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)kS(e),e=e.sibling}function kS(e){switch(e.tag){case 0:case 11:case 15:Io(e),e.flags&2048&&Ss(9,e,e.return);break;case 3:Io(e);break;case 12:Io(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Uu(e)):Io(e);break;default:Io(e)}}function Uu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ie=i,NS(i,e)}MS(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ss(8,t,t.return),Uu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Uu(t));break;default:Uu(t)}e=e.sibling}}function NS(e,t){for(;ie!==null;){var n=ie;switch(n.tag){case 0:case 11:case 15:Ss(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:oc(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ie=i;else t:for(n=e;ie!==null;){i=ie;var s=i.sibling,r=i.return;if(SS(i),i===n){ie=null;break t}if(s!==null){s.return=r,ie=s;break t}ie=r}}}var WD={getCacheForType:function(e){var t=Se(Zt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},QD=typeof WeakMap=="function"?WeakMap:Map,vt=0,Rt=null,it=null,ot=0,pt=0,Ye=null,ns=!1,$a=!1,dy=!1,Ai=0,Bt=0,As=0,rr=0,my=0,hn=0,Ca=0,ol=null,Pe=null,Tg=!1,gy=0,Sh=1/0,Ah=null,hs=null,de=0,fs=null,Da=null,ga=0,xg=0,wg=null,PS=null,ll=0,Sg=null;function Xe(){if(vt&2&&ot!==0)return ot&-ot;if(Q.T!==null){var e=Sa;return e!==0?e:yy()}return $x()}function VS(){hn===0&&(hn=!(ot&536870912)||ft?Fx():536870912);var e=mn.current;return e!==null&&(e.flags|=32),hn}function Ze(e,t,n){(e===Rt&&(pt===2||pt===9)||e.cancelPendingCommit!==null)&&(Oa(e,0),is(e,ot,hn,!1)),nc(e,n),(!(vt&2)||e!==Rt)&&(e===Rt&&(!(vt&2)&&(rr|=n),Bt===4&&is(e,ot,hn,!1)),Qn(e))}function LS(e,t,n){if(vt&6)throw Error(z(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||ec(e,t),s=i?JD(e,t):sm(e,t,!0),r=i;do{if(s===0){$a&&!i&&is(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!XD(n)){s=sm(e,t,!1),r=!1;continue}if(s===2){if(r=t,e.errorRecoveryDisabledLanes&r)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var o=e;s=ol;var l=o.current.memoizedState.isDehydrated;if(l&&(Oa(o,a).flags|=256),a=sm(o,a,!1),a!==2){if(dy&&!l){o.errorRecoveryDisabledLanes|=r,rr|=r,s=4;break t}r=Pe,Pe=s,r!==null&&(Pe===null?Pe=r:Pe.push.apply(Pe,r))}s=a}if(r=!1,s!==2)continue}}if(s===1){Oa(e,0),is(e,t,0,!0);break}t:{switch(i=e,r=s,r){case 0:case 1:throw Error(z(345));case 4:if((t&4194048)!==t)break;case 6:is(i,t,hn,!ns);break t;case 2:Pe=null;break;case 3:case 5:break;default:throw Error(z(329))}if((t&62914560)===t&&(s=gy+300-Bn(),10<s)){if(is(i,t,hn,!ns),Ef(i,0,!0)!==0)break t;i.timeoutHandle=n1(Hv.bind(null,i,n,Pe,Ah,Tg,t,hn,rr,Ca,ns,r,2,-0,0),s);break t}Hv(i,n,Pe,Ah,Tg,t,hn,rr,Ca,ns,r,0,-0,0)}}break}while(!0);Qn(e)}function Hv(e,t,n,i,s,r,a,o,l,c,h,f,d,g){if(e.timeoutHandle=-1,f=t.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:MO},OS(t),f=NO(),f!==null)){e.cancelPendingCommit=f(Gv.bind(null,e,t,r,n,i,s,a,o,l,h,1,d,g)),is(e,r,a,!c);return}Gv(e,t,r,n,i,s,a,o,l)}function XD(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!tn(r(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function is(e,t,n,i){t&=~my,t&=~rr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var s=t;0<s;){var r=31-Qe(s),a=1<<r;i[r]=-1,s&=~a}n!==0&&qx(e,n,t)}function Of(){return vt&6?!0:(fc(0),!1)}function py(){if(it!==null){if(pt===0)var e=it.return;else e=it,mi=xr=null,ny(e),ma=null,Il=0,e=it;for(;e!==null;)_S(e.alternate,e),e=e.return;it=null}}function Oa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,gO(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),py(),Rt=e,it=n=_i(e.current,null),ot=t,pt=0,Ye=null,ns=!1,$a=ec(e,t),dy=!1,Ca=hn=my=rr=As=Bt=0,Pe=ol=null,Tg=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var s=31-Qe(i),r=1<<s;t|=e[s],i&=~r}return Ai=t,Sf(),n}function US(e,t){et=null,Q.H=vh,t===lc||t===Rf?(t=Ev(),pt=3):t===Tw?(t=Ev(),pt=4):pt=t===fS?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ye=t,it===null&&(Bt=1,Th(e,ln(t,e.current)))}function jS(){var e=Q.H;return Q.H=vh,e===null?vh:e}function zS(){var e=Q.A;return Q.A=WD,e}function Ag(){Bt=4,ns||(ot&4194048)!==ot&&mn.current!==null||($a=!0),!(As&134217727)&&!(rr&134217727)||Rt===null||is(Rt,ot,hn,!1)}function sm(e,t,n){var i=vt;vt|=2;var s=jS(),r=zS();(Rt!==e||ot!==t)&&(Ah=null,Oa(e,t)),t=!1;var a=Bt;t:do try{if(pt!==0&&it!==null){var o=it,l=Ye;switch(pt){case 8:py(),a=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(t=!0);var c=pt;if(pt=0,Ye=null,ra(e,o,l,c),n&&$a){a=0;break t}break;default:c=pt,pt=0,Ye=null,ra(e,o,l,c)}}ZD(),a=Bt;break}catch(h){US(e,h)}while(!0);return t&&e.shellSuspendCounter++,mi=xr=null,vt=i,Q.H=s,Q.A=r,it===null&&(Rt=null,ot=0,Sf()),a}function ZD(){for(;it!==null;)BS(it)}function JD(e,t){var n=vt;vt|=2;var i=jS(),s=zS();Rt!==e||ot!==t?(Ah=null,Sh=Bn()+500,Oa(e,t)):$a=ec(e,t);t:do try{if(pt!==0&&it!==null){t=it;var r=Ye;e:switch(pt){case 1:pt=0,Ye=null,ra(e,t,r,1);break;case 2:case 9:if(bv(r)){pt=0,Ye=null,qv(t);break}t=function(){pt!==2&&pt!==9||Rt!==e||(pt=7),Qn(e)},r.then(t,t);break t;case 3:pt=7;break t;case 4:pt=5;break t;case 7:bv(r)?(pt=0,Ye=null,qv(t)):(pt=0,Ye=null,ra(e,t,r,7));break;case 5:var a=null;switch(it.tag){case 26:a=it.memoizedState;case 5:case 27:var o=it;if(!a||a1(a)){pt=0,Ye=null;var l=o.sibling;if(l!==null)it=l;else{var c=o.return;c!==null?(it=c,Mf(c)):it=null}break e}}pt=0,Ye=null,ra(e,t,r,5);break;case 6:pt=0,Ye=null,ra(e,t,r,6);break;case 8:py(),Bt=6;break t;default:throw Error(z(462))}}tO();break}catch(h){US(e,h)}while(!0);return mi=xr=null,Q.H=i,Q.A=s,vt=n,it!==null?0:(Rt=null,ot=0,Sf(),Bt)}function tO(){for(;it!==null&&!TC();)BS(it)}function BS(e){var t=yS(e.alternate,e,Ai);e.memoizedProps=e.pendingProps,t===null?Mf(e):it=t}function qv(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Lv(n,t,t.pendingProps,t.type,void 0,ot);break;case 11:t=Lv(n,t,t.pendingProps,t.type.render,t.ref,ot);break;case 5:ny(t);default:_S(n,t),t=it=_w(t,Ai),t=yS(n,t,Ai)}e.memoizedProps=e.pendingProps,t===null?Mf(e):it=t}function ra(e,t,n,i){mi=xr=null,ny(t),ma=null,Il=0;var s=t.return;try{if(HD(e,s,t,n,ot)){Bt=1,Th(e,ln(n,e.current)),it=null;return}}catch(r){if(s!==null)throw it=s,r;Bt=1,Th(e,ln(n,e.current)),it=null;return}t.flags&32768?(ft||i===1?e=!0:$a||ot&536870912?e=!1:(ns=e=!0,(i===2||i===9||i===3||i===6)&&(i=mn.current,i!==null&&i.tag===13&&(i.flags|=16384))),FS(t,e)):Mf(t)}function Mf(e){var t=e;do{if(t.flags&32768){FS(t,ns);return}e=t.return;var n=GD(t.alternate,t,Ai);if(n!==null){it=n;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);Bt===0&&(Bt=5)}function FS(e,t){do{var n=$D(e.alternate,e);if(n!==null){n.flags&=32767,it=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){it=e;return}it=e=n}while(e!==null);Bt=6,it=null}function Gv(e,t,n,i,s,r,a,o,l){e.cancelPendingCommit=null;do kf();while(de!==0);if(vt&6)throw Error(z(327));if(t!==null){if(t===e.current)throw Error(z(177));if(r=t.lanes|t.childLanes,r|=Hp,MC(e,n,r,a,o,l),e===Rt&&(it=Rt=null,ot=0),Da=t,fs=e,ga=n,xg=r,wg=s,PS=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,sO(ch,function(){return YS(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Q.T,Q.T=null,s=dt.p,dt.p=2,a=vt,vt|=4;try{YD(e,t,n)}finally{vt=a,dt.p=s,Q.T=i}}de=1,HS(),qS(),GS()}}function HS(){if(de===1){de=0;var e=fs,t=Da,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Q.T,Q.T=null;var i=dt.p;dt.p=2;var s=vt;vt|=4;try{IS(t,e);var r=Dg,a=uw(e.containerInfo),o=r.focusedElem,l=r.selectionRange;if(a!==o&&o&&o.ownerDocument&&cw(o.ownerDocument.documentElement,o)){if(l!==null&&Fp(o)){var c=l.start,h=l.end;if(h===void 0&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var f=o.ownerDocument||document,d=f&&f.defaultView||window;if(d.getSelection){var g=d.getSelection(),v=o.textContent.length,E=Math.min(l.start,v),A=l.end===void 0?E:Math.min(l.end,v);!g.extend&&E>A&&(a=A,A=E,E=a);var _=fv(o,E),y=fv(o,A);if(_&&y&&(g.rangeCount!==1||g.anchorNode!==_.node||g.anchorOffset!==_.offset||g.focusNode!==y.node||g.focusOffset!==y.offset)){var T=f.createRange();T.setStart(_.node,_.offset),g.removeAllRanges(),E>A?(g.addRange(T),g.extend(y.node,y.offset)):(T.setEnd(y.node,y.offset),g.addRange(T))}}}}for(f=[],g=o;g=g.parentNode;)g.nodeType===1&&f.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var M=f[o];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}Nh=!!Cg,Dg=Cg=null}finally{vt=s,dt.p=i,Q.T=n}}e.current=t,de=2}}function qS(){if(de===2){de=0;var e=fs,t=Da,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Q.T,Q.T=null;var i=dt.p;dt.p=2;var s=vt;vt|=4;try{wS(e,t.alternate,t)}finally{vt=s,dt.p=i,Q.T=n}}de=3}}function GS(){if(de===4||de===3){de=0,xC();var e=fs,t=Da,n=ga,i=PS;t.subtreeFlags&10256||t.flags&10256?de=5:(de=0,Da=fs=null,$S(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(hs=null),Pp(n),t=t.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(tc,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Q.T,s=dt.p,dt.p=2,Q.T=null;try{for(var r=e.onRecoverableError,a=0;a<i.length;a++){var o=i[a];r(o.value,{componentStack:o.stack})}}finally{Q.T=t,dt.p=s}}ga&3&&kf(),Qn(e),s=e.pendingLanes,n&4194090&&s&42?e===Sg?ll++:(ll=0,Sg=e):ll=0,fc(0)}}function $S(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,oc(t)))}function kf(e){return HS(),qS(),GS(),YS()}function YS(){if(de!==5)return!1;var e=fs,t=xg;xg=0;var n=Pp(ga),i=Q.T,s=dt.p;try{dt.p=32>n?32:n,Q.T=null,n=wg,wg=null;var r=fs,a=ga;if(de=0,Da=fs=null,ga=0,vt&6)throw Error(z(331));var o=vt;if(vt|=4,kS(r.current),DS(r,r.current,a,n),vt=o,fc(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(tc,r)}catch{}return!0}finally{dt.p=s,Q.T=i,$S(e,t)}}function $v(e,t,n){t=ln(n,t),t=_g(e.stateNode,t,2),e=us(e,t,2),e!==null&&(nc(e,2),Qn(e))}function wt(e,t,n){if(e.tag===3)$v(e,e,n);else for(;t!==null;){if(t.tag===3){$v(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(hs===null||!hs.has(i))){e=ln(n,e),n=uS(2),i=us(t,n,2),i!==null&&(hS(n,i,t,e),nc(i,2),Qn(i));break}}t=t.return}}function rm(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new QD;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(dy=!0,s.add(n),e=eO.bind(null,e,t,n),t.then(e,e))}function eO(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Rt===e&&(ot&n)===n&&(Bt===4||Bt===3&&(ot&62914560)===ot&&300>Bn()-gy?!(vt&2)&&Oa(e,0):my|=n,Ca===ot&&(Ca=0)),Qn(e)}function KS(e,t){t===0&&(t=Hx()),e=Ga(e,t),e!==null&&(nc(e,t),Qn(e))}function nO(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),KS(e,n)}function iO(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(z(314))}i!==null&&i.delete(t),KS(e,n)}function sO(e,t){return kp(e,t)}var Rh=null,Hr=null,Rg=!1,Ih=!1,am=!1,ar=0;function Qn(e){e!==Hr&&e.next===null&&(Hr===null?Rh=Hr=e:Hr=Hr.next=e),Ih=!0,Rg||(Rg=!0,aO())}function fc(e,t){if(!am&&Ih){am=!0;do for(var n=!1,i=Rh;i!==null;){if(e!==0){var s=i.pendingLanes;if(s===0)var r=0;else{var a=i.suspendedLanes,o=i.pingedLanes;r=(1<<31-Qe(42|e)+1)-1,r&=s&~(a&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,Yv(i,r))}else r=ot,r=Ef(i,i===Rt?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||ec(i,r)||(n=!0,Yv(i,r));i=i.next}while(n);am=!1}}function rO(){WS()}function WS(){Ih=Rg=!1;var e=0;ar!==0&&(mO()&&(e=ar),ar=0);for(var t=Bn(),n=null,i=Rh;i!==null;){var s=i.next,r=QS(i,t);r===0?(i.next=null,n===null?Rh=s:n.next=s,s===null&&(Hr=n)):(n=i,(e!==0||r&3)&&(Ih=!0)),i=s}fc(e)}function QS(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var a=31-Qe(r),o=1<<a,l=s[a];l===-1?(!(o&n)||o&i)&&(s[a]=OC(o,t)):l<=t&&(e.expiredLanes|=o),r&=~o}if(t=Rt,n=ot,n=Ef(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(pt===2||pt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Md(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||ec(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Md(i),Pp(n)){case 2:case 8:n=zx;break;case 32:n=ch;break;case 268435456:n=Bx;break;default:n=ch}return i=XS.bind(null,e),n=kp(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Md(i),e.callbackPriority=2,e.callbackNode=null,2}function XS(e,t){if(de!==0&&de!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(kf()&&e.callbackNode!==n)return null;var i=ot;return i=Ef(e,e===Rt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(LS(e,i,t),QS(e,Bn()),e.callbackNode!=null&&e.callbackNode===n?XS.bind(null,e):null)}function Yv(e,t){if(kf())return null;LS(e,t,!0)}function aO(){pO(function(){vt&6?kp(jx,rO):WS()})}function yy(){return ar===0&&(ar=Fx()),ar}function Kv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Du(""+e)}function Wv(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function oO(e,t,n,i,s){if(t==="submit"&&n&&n.stateNode===s){var r=Kv((s[Be]||null).action),a=i.submitter;a&&(t=(t=a[Be]||null)?Kv(t.formAction):a.getAttribute("formAction"),t!==null&&(r=t,a=null));var o=new Tf("action","action",null,i,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ar!==0){var l=a?Wv(s,a):new FormData(s);pg(n,{pending:!0,data:l,method:s.method,action:r},null,l)}}else typeof r=="function"&&(o.preventDefault(),l=a?Wv(s,a):new FormData(s),pg(n,{pending:!0,data:l,method:s.method,action:r},r,l))},currentTarget:s}]})}}for(var om=0;om<sg.length;om++){var lm=sg[om],lO=lm.toLowerCase(),cO=lm[0].toUpperCase()+lm.slice(1);Dn(lO,"on"+cO)}Dn(fw,"onAnimationEnd");Dn(dw,"onAnimationIteration");Dn(mw,"onAnimationStart");Dn("dblclick","onDoubleClick");Dn("focusin","onFocus");Dn("focusout","onBlur");Dn(AD,"onTransitionRun");Dn(RD,"onTransitionStart");Dn(ID,"onTransitionCancel");Dn(gw,"onTransitionEnd");xa("onMouseEnter",["mouseout","mouseover"]);xa("onMouseLeave",["mouseout","mouseover"]);xa("onPointerEnter",["pointerout","pointerover"]);xa("onPointerLeave",["pointerout","pointerover"]);br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));br("onBeforeInput",["compositionend","keypress","textInput","paste"]);br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function ZS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;t:{var r=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&s.isPropagationStopped())break t;r=o,s.currentTarget=c;try{r(s)}catch(h){Eh(h)}s.currentTarget=null,r=l}else for(a=0;a<i.length;a++){if(o=i[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==r&&s.isPropagationStopped())break t;r=o,s.currentTarget=c;try{r(s)}catch(h){Eh(h)}s.currentTarget=null,r=l}}}}function nt(e,t){var n=t[Xm];n===void 0&&(n=t[Xm]=new Set);var i=e+"__bubble";n.has(i)||(JS(t,e,2,!1),n.add(i))}function cm(e,t,n){var i=0;t&&(i|=4),JS(n,e,i,t)}var iu="_reactListening"+Math.random().toString(36).slice(2);function _y(e){if(!e[iu]){e[iu]=!0,Yx.forEach(function(n){n!=="selectionchange"&&(uO.has(n)||cm(n,!1,e),cm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[iu]||(t[iu]=!0,cm("selectionchange",!1,t))}}function JS(e,t,n,i){switch(h1(t)){case 2:var s=LO;break;case 8:s=UO;break;default:s=Ty}n=s.bind(null,t,n,e),s=void 0,!eg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function um(e,t,n,i,s){var r=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===s)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===s)return;a=a.return}for(;o!==null;){if(a=Qr(o),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){i=r=a;continue t}o=o.parentNode}}i=i.return}ew(function(){var c=r,h=Up(n),f=[];t:{var d=pw.get(e);if(d!==void 0){var g=Tf,v=e;switch(e){case"keypress":if(Mu(n)===0)break t;case"keydown":case"keyup":g=sD;break;case"focusin":v="focus",g=zd;break;case"focusout":v="blur",g=zd;break;case"beforeblur":case"afterblur":g=zd;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=nv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=$C;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=oD;break;case fw:case dw:case mw:g=WC;break;case gw:g=cD;break;case"scroll":case"scrollend":g=qC;break;case"wheel":g=hD;break;case"copy":case"cut":case"paste":g=XC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=sv;break;case"toggle":case"beforetoggle":g=dD}var E=(t&4)!==0,A=!E&&(e==="scroll"||e==="scrollend"),_=E?d!==null?d+"Capture":null:d;E=[];for(var y=c,T;y!==null;){var M=y;if(T=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||T===null||_===null||(M=xl(y,_),M!=null&&E.push(Dl(y,M,T))),A)break;y=y.return}0<E.length&&(d=new g(d,v,null,n,h),f.push({event:d,listeners:E}))}}if(!(t&7)){t:{if(d=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",d&&n!==tg&&(v=n.relatedTarget||n.fromElement)&&(Qr(v)||v[Ha]))break t;if((g||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?Qr(v):null,v!==null&&(A=Jl(v),E=v.tag,v!==A||E!==5&&E!==27&&E!==6)&&(v=null)):(g=null,v=c),g!==v)){if(E=nv,M="onMouseLeave",_="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(E=sv,M="onPointerLeave",_="onPointerEnter",y="pointer"),A=g==null?d:Uo(g),T=v==null?d:Uo(v),d=new E(M,y+"leave",g,n,h),d.target=A,d.relatedTarget=T,M=null,Qr(h)===c&&(E=new E(_,y+"enter",v,n,h),E.target=T,E.relatedTarget=A,M=E),A=M,g&&v)e:{for(E=g,_=v,y=0,T=E;T;T=Ur(T))y++;for(T=0,M=_;M;M=Ur(M))T++;for(;0<y-T;)E=Ur(E),y--;for(;0<T-y;)_=Ur(_),T--;for(;y--;){if(E===_||_!==null&&E===_.alternate)break e;E=Ur(E),_=Ur(_)}E=null}else E=null;g!==null&&Qv(f,d,g,E,!1),v!==null&&A!==null&&Qv(f,A,v,E,!0)}}t:{if(d=c?Uo(c):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var C=lv;else if(ov(d))if(ow)C=xD;else{C=ED;var V=bD}else g=d.nodeName,!g||g.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?c&&Lp(c.elementType)&&(C=lv):C=TD;if(C&&(C=C(e,c))){aw(f,C,n,h);break t}V&&V(e,d,c),e==="focusout"&&c&&d.type==="number"&&c.memoizedProps.value!=null&&Jm(d,"number",d.value)}switch(V=c?Uo(c):window,e){case"focusin":(ov(V)||V.contentEditable==="true")&&(Jr=V,ng=c,Zo=null);break;case"focusout":Zo=ng=Jr=null;break;case"mousedown":ig=!0;break;case"contextmenu":case"mouseup":case"dragend":ig=!1,dv(f,n,h);break;case"selectionchange":if(SD)break;case"keydown":case"keyup":dv(f,n,h)}var x;if(Bp)t:{switch(e){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Zr?sw(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(iw&&n.locale!=="ko"&&(Zr||b!=="onCompositionStart"?b==="onCompositionEnd"&&Zr&&(x=nw()):(es=h,jp="value"in es?es.value:es.textContent,Zr=!0)),V=Ch(c,b),0<V.length&&(b=new iv(b,e,null,n,h),f.push({event:b,listeners:V}),x?b.data=x:(x=rw(n),x!==null&&(b.data=x)))),(x=gD?pD(e,n):yD(e,n))&&(b=Ch(c,"onBeforeInput"),0<b.length&&(V=new iv("onBeforeInput","beforeinput",null,n,h),f.push({event:V,listeners:b}),V.data=x)),oO(f,e,c,n,h)}ZS(f,t)})}function Dl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ch(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=xl(e,n),s!=null&&i.unshift(Dl(e,s,r)),s=xl(e,t),s!=null&&i.push(Dl(e,s,r))),e.tag===3)return i;e=e.return}return[]}function Ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qv(e,t,n,i,s){for(var r=t._reactName,a=[];n!==null&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===i)break;o!==5&&o!==26&&o!==27||c===null||(l=c,s?(c=xl(n,r),c!=null&&a.unshift(Dl(n,c,l))):s||(c=xl(n,r),c!=null&&a.push(Dl(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var hO=/\r\n?/g,fO=/\u0000|\uFFFD/g;function Xv(e){return(typeof e=="string"?e:""+e).replace(hO,`
`).replace(fO,"")}function t1(e,t){return t=Xv(t),Xv(e)===t}function Nf(){}function Et(e,t,n,i,s,r){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||wa(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&wa(e,""+i);break;case"className":Qc(e,"class",i);break;case"tabIndex":Qc(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Qc(e,n,i);break;case"style":tw(e,i,r);break;case"data":if(t!=="object"){Qc(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Du(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&Et(e,t,"name",s.name,s,null),Et(e,t,"formEncType",s.formEncType,s,null),Et(e,t,"formMethod",s.formMethod,s,null),Et(e,t,"formTarget",s.formTarget,s,null)):(Et(e,t,"encType",s.encType,s,null),Et(e,t,"method",s.method,s,null),Et(e,t,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Du(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Nf);break;case"onScroll":i!=null&&nt("scroll",e);break;case"onScrollEnd":i!=null&&nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(z(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(z(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Du(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":nt("beforetoggle",e),nt("toggle",e),Cu(e,"popover",i);break;case"xlinkActuate":ei(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ei(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ei(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ei(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ei(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ei(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ei(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ei(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ei(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Cu(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=FC.get(n)||n,Cu(e,n,i))}}function Ig(e,t,n,i,s,r){switch(n){case"style":tw(e,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(z(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(z(60));e.innerHTML=n}}break;case"children":typeof i=="string"?wa(e,i):(typeof i=="number"||typeof i=="bigint")&&wa(e,""+i);break;case"onScroll":i!=null&&nt("scroll",e);break;case"onScrollEnd":i!=null&&nt("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Nf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kx.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),r=e[Be]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,s),typeof i=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,s);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Cu(e,n,i)}}}function ge(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",e),nt("load",e);var i=!1,s=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(z(137,t));default:Et(e,t,r,a,n,null)}}s&&Et(e,t,"srcSet",n.srcSet,n,null),i&&Et(e,t,"src",n.src,n,null);return;case"input":nt("invalid",e);var o=r=a=s=null,l=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":s=h;break;case"type":a=h;break;case"checked":l=h;break;case"defaultChecked":c=h;break;case"value":r=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(z(137,t));break;default:Et(e,t,i,h,n,null)}}Xx(e,r,o,l,c,a,s,!1),uh(e);return;case"select":nt("invalid",e),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":a=o;break;case"multiple":i=o;default:Et(e,t,s,o,n,null)}t=r,n=a,e.multiple=!!i,t!=null?ca(e,!!i,t,!1):n!=null&&ca(e,!!i,n,!0);return;case"textarea":nt("invalid",e),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":i=o;break;case"defaultValue":s=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(z(91));break;default:Et(e,t,a,o,n,null)}Jx(e,i,s,r),uh(e);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(i=n[l],i!=null))switch(l){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Et(e,t,l,i,n,null)}return;case"dialog":nt("beforetoggle",e),nt("toggle",e),nt("cancel",e),nt("close",e);break;case"iframe":case"object":nt("load",e);break;case"video":case"audio":for(i=0;i<Cl.length;i++)nt(Cl[i],e);break;case"image":nt("error",e),nt("load",e);break;case"details":nt("toggle",e);break;case"embed":case"source":case"link":nt("error",e),nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(z(137,t));default:Et(e,t,c,i,n,null)}return;default:if(Lp(t)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&Ig(e,t,h,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&Et(e,t,o,i,n,null))}function dO(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,a=null,o=null,l=null,c=null,h=null;for(g in n){var f=n[g];if(n.hasOwnProperty(g)&&f!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":l=f;default:i.hasOwnProperty(g)||Et(e,t,g,null,i,f)}}for(var d in i){var g=i[d];if(f=n[d],i.hasOwnProperty(d)&&(g!=null||f!=null))switch(d){case"type":r=g;break;case"name":s=g;break;case"checked":c=g;break;case"defaultChecked":h=g;break;case"value":a=g;break;case"defaultValue":o=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(z(137,t));break;default:g!==f&&Et(e,t,d,g,i,f)}}Zm(e,a,o,l,c,h,r,s);return;case"select":g=a=o=d=null;for(r in n)if(l=n[r],n.hasOwnProperty(r)&&l!=null)switch(r){case"value":break;case"multiple":g=l;default:i.hasOwnProperty(r)||Et(e,t,r,null,i,l)}for(s in i)if(r=i[s],l=n[s],i.hasOwnProperty(s)&&(r!=null||l!=null))switch(s){case"value":d=r;break;case"defaultValue":o=r;break;case"multiple":a=r;default:r!==l&&Et(e,t,s,r,i,l)}t=o,n=a,i=g,d!=null?ca(e,!!n,d,!1):!!i!=!!n&&(t!=null?ca(e,!!n,t,!0):ca(e,!!n,n?[]:"",!1));return;case"textarea":g=d=null;for(o in n)if(s=n[o],n.hasOwnProperty(o)&&s!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Et(e,t,o,null,i,s)}for(a in i)if(s=i[a],r=n[a],i.hasOwnProperty(a)&&(s!=null||r!=null))switch(a){case"value":d=s;break;case"defaultValue":g=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(z(91));break;default:s!==r&&Et(e,t,a,s,i,r)}Zx(e,d,g);return;case"option":for(var v in n)if(d=n[v],n.hasOwnProperty(v)&&d!=null&&!i.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:Et(e,t,v,null,i,d)}for(l in i)if(d=i[l],g=n[l],i.hasOwnProperty(l)&&d!==g&&(d!=null||g!=null))switch(l){case"selected":e.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Et(e,t,l,d,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var E in n)d=n[E],n.hasOwnProperty(E)&&d!=null&&!i.hasOwnProperty(E)&&Et(e,t,E,null,i,d);for(c in i)if(d=i[c],g=n[c],i.hasOwnProperty(c)&&d!==g&&(d!=null||g!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(z(137,t));break;default:Et(e,t,c,d,i,g)}return;default:if(Lp(t)){for(var A in n)d=n[A],n.hasOwnProperty(A)&&d!==void 0&&!i.hasOwnProperty(A)&&Ig(e,t,A,void 0,i,d);for(h in i)d=i[h],g=n[h],!i.hasOwnProperty(h)||d===g||d===void 0&&g===void 0||Ig(e,t,h,d,i,g);return}}for(var _ in n)d=n[_],n.hasOwnProperty(_)&&d!=null&&!i.hasOwnProperty(_)&&Et(e,t,_,null,i,d);for(f in i)d=i[f],g=n[f],!i.hasOwnProperty(f)||d===g||d==null&&g==null||Et(e,t,f,d,i,g)}var Cg=null,Dg=null;function Dh(e){return e.nodeType===9?e:e.ownerDocument}function Zv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e1(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Og(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hm=null;function mO(){var e=window.event;return e&&e.type==="popstate"?e===hm?!1:(hm=e,!0):(hm=null,!1)}var n1=typeof setTimeout=="function"?setTimeout:void 0,gO=typeof clearTimeout=="function"?clearTimeout:void 0,Jv=typeof Promise=="function"?Promise:void 0,pO=typeof queueMicrotask=="function"?queueMicrotask:typeof Jv<"u"?function(e){return Jv.resolve(null).then(e).catch(yO)}:n1;function yO(e){setTimeout(function(){throw e})}function Vs(e){return e==="head"}function tb(e,t){var n=t,i=0,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(0<i&&8>i){n=i;var a=e.ownerDocument;if(n&1&&cl(a.documentElement),n&2&&cl(a.body),n&4)for(n=a.head,cl(n),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[ic]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}if(s===0){e.removeChild(r),Pl(t);return}s--}else n==="$"||n==="$?"||n==="$!"?s++:i=n.charCodeAt(0)-48;else i=0;n=r}while(n);Pl(t)}function Mg(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Mg(n),Vp(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function _O(e,t,n,i){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[ic])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=wn(e.nextSibling),e===null)break}return null}function vO(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=wn(e.nextSibling),e===null))return null;return e}function kg(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function bO(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Ng=null;function eb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function i1(e,t,n){switch(t=Dh(n),e){case"html":if(e=t.documentElement,!e)throw Error(z(452));return e;case"head":if(e=t.head,!e)throw Error(z(453));return e;case"body":if(e=t.body,!e)throw Error(z(454));return e;default:throw Error(z(451))}}function cl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Vp(e)}var gn=new Map,nb=new Set;function Oh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mi=dt.d;dt.d={f:EO,r:TO,D:xO,C:wO,L:SO,m:AO,X:IO,S:RO,M:CO};function EO(){var e=Mi.f(),t=Of();return e||t}function TO(e){var t=qa(e);t!==null&&t.tag===5&&t.type==="form"?Qw(t):Mi.r(e)}var Ya=typeof document>"u"?null:document;function s1(e,t,n){var i=Ya;if(i&&typeof t=="string"&&t){var s=on(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),nb.has(s)||(nb.add(s),e={rel:e,crossOrigin:n,href:t},i.querySelector(s)===null&&(t=i.createElement("link"),ge(t,"link",e),se(t),i.head.appendChild(t)))}}function xO(e){Mi.D(e),s1("dns-prefetch",e,null)}function wO(e,t){Mi.C(e,t),s1("preconnect",e,t)}function SO(e,t,n){Mi.L(e,t,n);var i=Ya;if(i&&e&&t){var s='link[rel="preload"][as="'+on(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+on(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+on(n.imageSizes)+'"]')):s+='[href="'+on(e)+'"]';var r=s;switch(t){case"style":r=Ma(e);break;case"script":r=Ka(e)}gn.has(r)||(e=Ot({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),gn.set(r,e),i.querySelector(s)!==null||t==="style"&&i.querySelector(dc(r))||t==="script"&&i.querySelector(mc(r))||(t=i.createElement("link"),ge(t,"link",e),se(t),i.head.appendChild(t)))}}function AO(e,t){Mi.m(e,t);var n=Ya;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+on(i)+'"][href="'+on(e)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Ka(e)}if(!gn.has(r)&&(e=Ot({rel:"modulepreload",href:e},t),gn.set(r,e),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(mc(r)))return}i=n.createElement("link"),ge(i,"link",e),se(i),n.head.appendChild(i)}}}function RO(e,t,n){Mi.S(e,t,n);var i=Ya;if(i&&e){var s=la(i).hoistableStyles,r=Ma(e);t=t||"default";var a=s.get(r);if(!a){var o={loading:0,preload:null};if(a=i.querySelector(dc(r)))o.loading=5;else{e=Ot({rel:"stylesheet",href:e,"data-precedence":t},n),(n=gn.get(r))&&vy(e,n);var l=a=i.createElement("link");se(l),ge(l,"link",e),l._p=new Promise(function(c,h){l.onload=c,l.onerror=h}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,ju(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:o},s.set(r,a)}}}function IO(e,t){Mi.X(e,t);var n=Ya;if(n&&e){var i=la(n).hoistableScripts,s=Ka(e),r=i.get(s);r||(r=n.querySelector(mc(s)),r||(e=Ot({src:e,async:!0},t),(t=gn.get(s))&&by(e,t),r=n.createElement("script"),se(r),ge(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function CO(e,t){Mi.M(e,t);var n=Ya;if(n&&e){var i=la(n).hoistableScripts,s=Ka(e),r=i.get(s);r||(r=n.querySelector(mc(s)),r||(e=Ot({src:e,async:!0,type:"module"},t),(t=gn.get(s))&&by(e,t),r=n.createElement("script"),se(r),ge(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function ib(e,t,n,i){var s=(s=ls.current)?Oh(s):null;if(!s)throw Error(z(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ma(n.href),n=la(s).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ma(n.href);var r=la(s).hoistableStyles,a=r.get(e);if(a||(s=s.ownerDocument||s,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,a),(r=s.querySelector(dc(e)))&&!r._p&&(a.instance=r,a.state.loading=5),gn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},gn.set(e,n),r||DO(s,e,n,a.state))),t&&i===null)throw Error(z(528,""));return a}if(t&&i!==null)throw Error(z(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ka(n),n=la(s).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(z(444,e))}}function Ma(e){return'href="'+on(e)+'"'}function dc(e){return'link[rel="stylesheet"]['+e+"]"}function r1(e){return Ot({},e,{"data-precedence":e.precedence,precedence:null})}function DO(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ge(t,"link",n),se(t),e.head.appendChild(t))}function Ka(e){return'[src="'+on(e)+'"]'}function mc(e){return"script[async]"+e}function sb(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+on(n.href)+'"]');if(i)return t.instance=i,se(i),i;var s=Ot({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),se(i),ge(i,"style",s),ju(i,n.precedence,e),t.instance=i;case"stylesheet":s=Ma(n.href);var r=e.querySelector(dc(s));if(r)return t.state.loading|=4,t.instance=r,se(r),r;i=r1(n),(s=gn.get(s))&&vy(i,s),r=(e.ownerDocument||e).createElement("link"),se(r);var a=r;return a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),ge(r,"link",i),t.state.loading|=4,ju(r,n.precedence,e),t.instance=r;case"script":return r=Ka(n.src),(s=e.querySelector(mc(r)))?(t.instance=s,se(s),s):(i=n,(s=gn.get(r))&&(i=Ot({},n),by(i,s)),e=e.ownerDocument||e,s=e.createElement("script"),se(s),ge(s,"link",i),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(z(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,ju(i,n.precedence,e));return t.instance}function ju(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,a=0;a<i.length;a++){var o=i[a];if(o.dataset.precedence===t)r=o;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function vy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function by(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var zu=null;function rb(e,t,n){if(zu===null){var i=new Map,s=zu=new Map;s.set(n,i)}else s=zu,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var r=n[s];if(!(r[ic]||r[we]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(t)||"";a=e+a;var o=i.get(a);o?o.push(r):i.set(a,[r])}}return i}function ab(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function OO(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function a1(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Ol=null;function MO(){}function kO(e,t,n){if(Ol===null)throw Error(z(475));var i=Ol;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var s=Ma(n.href),r=e.querySelector(dc(s));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=Mh.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=r,se(r);return}r=e.ownerDocument||e,n=r1(n),(s=gn.get(s))&&vy(n,s),r=r.createElement("link"),se(r);var a=r;a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),ge(r,"link",n),t.instance=r}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=Mh.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function NO(){if(Ol===null)throw Error(z(475));var e=Ol;return e.stylesheets&&e.count===0&&Pg(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Pg(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Mh(){if(this.count--,this.count===0){if(this.stylesheets)Pg(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var kh=null;function Pg(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,kh=new Map,t.forEach(PO,e),kh=null,Mh.call(e))}function PO(e,t){if(!(t.state.loading&4)){var n=kh.get(e);if(n)var i=n.get(null);else{n=new Map,kh.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var a=s[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}s=t.instance,a=s.getAttribute("data-precedence"),r=n.get(a)||i,r===i&&n.set(null,s),n.set(a,s),this.count++,i=Mh.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Ml={$$typeof:hi,Provider:null,Consumer:null,_currentValue:tr,_currentValue2:tr,_threadCount:0};function VO(e,t,n,i,s,r,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kd(0),this.hiddenUpdates=kd(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function o1(e,t,n,i,s,r,a,o,l,c,h,f){return e=new VO(e,t,n,a,o,l,c,f),t=1,r===!0&&(t|=24),r=Ke(3,null,null,t),e.current=r,r.stateNode=e,t=Kp(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:t},Qp(r),e}function l1(e){return e?(e=na,e):na}function c1(e,t,n,i,s,r){s=l1(s),i.context===null?i.context=s:i.pendingContext=s,i=cs(t),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=us(e,i,t),n!==null&&(Ze(n,e,t),el(n,e,t))}function ob(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ey(e,t){ob(e,t),(e=e.alternate)&&ob(e,t)}function u1(e){if(e.tag===13){var t=Ga(e,67108864);t!==null&&Ze(t,e,67108864),Ey(e,67108864)}}var Nh=!0;function LO(e,t,n,i){var s=Q.T;Q.T=null;var r=dt.p;try{dt.p=2,Ty(e,t,n,i)}finally{dt.p=r,Q.T=s}}function UO(e,t,n,i){var s=Q.T;Q.T=null;var r=dt.p;try{dt.p=8,Ty(e,t,n,i)}finally{dt.p=r,Q.T=s}}function Ty(e,t,n,i){if(Nh){var s=Vg(i);if(s===null)um(e,t,i,Ph,n),lb(e,i);else if(zO(s,e,t,n,i))i.stopPropagation();else if(lb(e,i),t&4&&-1<jO.indexOf(e)){for(;s!==null;){var r=qa(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=$s(r.pendingLanes);if(a!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-Qe(a);o.entanglements[1]|=l,a&=~l}Qn(r),!(vt&6)&&(Sh=Bn()+500,fc(0))}}break;case 13:o=Ga(r,2),o!==null&&Ze(o,r,2),Of(),Ey(r,2)}if(r=Vg(i),r===null&&um(e,t,i,Ph,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else um(e,t,i,null,n)}}function Vg(e){return e=Up(e),xy(e)}var Ph=null;function xy(e){if(Ph=null,e=Qr(e),e!==null){var t=Jl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Px(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ph=e,null}function h1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wC()){case jx:return 2;case zx:return 8;case ch:case SC:return 32;case Bx:return 268435456;default:return 32}default:return 32}}var Lg=!1,ds=null,ms=null,gs=null,kl=new Map,Nl=new Map,Wi=[],jO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lb(e,t){switch(e){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":kl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(t.pointerId)}}function Co(e,t,n,i,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},t!==null&&(t=qa(t),t!==null&&u1(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function zO(e,t,n,i,s){switch(t){case"focusin":return ds=Co(ds,e,t,n,i,s),!0;case"dragenter":return ms=Co(ms,e,t,n,i,s),!0;case"mouseover":return gs=Co(gs,e,t,n,i,s),!0;case"pointerover":var r=s.pointerId;return kl.set(r,Co(kl.get(r)||null,e,t,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Nl.set(r,Co(Nl.get(r)||null,e,t,n,i,s)),!0}return!1}function f1(e){var t=Qr(e.target);if(t!==null){var n=Jl(t);if(n!==null){if(t=n.tag,t===13){if(t=Px(n),t!==null){e.blockedOn=t,kC(e.priority,function(){if(n.tag===13){var i=Xe();i=Np(i);var s=Ga(n,i);s!==null&&Ze(s,n,i),Ey(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vg(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);tg=i,n.target.dispatchEvent(i),tg=null}else return t=qa(n),t!==null&&u1(t),e.blockedOn=n,!1;t.shift()}return!0}function cb(e,t,n){Bu(e)&&n.delete(t)}function BO(){Lg=!1,ds!==null&&Bu(ds)&&(ds=null),ms!==null&&Bu(ms)&&(ms=null),gs!==null&&Bu(gs)&&(gs=null),kl.forEach(cb),Nl.forEach(cb)}function su(e,t){e.blockedOn===t&&(e.blockedOn=null,Lg||(Lg=!0,ee.unstable_scheduleCallback(ee.unstable_NormalPriority,BO)))}var ru=null;function ub(e){ru!==e&&(ru=e,ee.unstable_scheduleCallback(ee.unstable_NormalPriority,function(){ru===e&&(ru=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],s=e[t+2];if(typeof i!="function"){if(xy(i||n)===null)continue;break}var r=qa(n);r!==null&&(e.splice(t,3),t-=3,pg(r,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function Pl(e){function t(l){return su(l,e)}ds!==null&&su(ds,e),ms!==null&&su(ms,e),gs!==null&&su(gs,e),kl.forEach(t),Nl.forEach(t);for(var n=0;n<Wi.length;n++){var i=Wi[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Wi.length&&(n=Wi[0],n.blockedOn===null);)f1(n),n.blockedOn===null&&Wi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],a=s[Be]||null;if(typeof r=="function")a||ub(n);else if(a){var o=null;if(r&&r.hasAttribute("formAction")){if(s=r,a=r[Be]||null)o=a.formAction;else if(xy(s)!==null)continue}else o=a.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),ub(n)}}}function wy(e){this._internalRoot=e}Pf.prototype.render=wy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));var n=t.current,i=Xe();c1(n,i,e,t,null,null)};Pf.prototype.unmount=wy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;c1(e.current,2,null,e,null,null),Of(),t[Ha]=null}};function Pf(e){this._internalRoot=e}Pf.prototype.unstable_scheduleHydration=function(e){if(e){var t=$x();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wi.length&&t!==0&&t<Wi[n].priority;n++);Wi.splice(n,0,e),n===0&&f1(e)}};var hb=kx.version;if(hb!=="19.1.0")throw Error(z(527,hb,"19.1.0"));dt.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=yC(t),e=e!==null?Vx(e):null,e=e===null?null:e.stateNode,e};var FO={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{tc=au.inject(FO),We=au}catch{}}vf.createRoot=function(e,t){if(!Nx(e))throw Error(z(299));var n=!1,i="",s=oS,r=lS,a=cS,o=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=o1(e,1,!1,null,null,n,i,s,r,a,o,null),e[Ha]=t.current,_y(e),new wy(t)};vf.hydrateRoot=function(e,t,n){if(!Nx(e))throw Error(z(299));var i=!1,s="",r=oS,a=lS,o=cS,l=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),t=o1(e,1,!0,t,n??null,i,s,r,a,o,l,c),t.context=l1(null),n=t.current,i=Xe(),i=Np(i),s=cs(i),s.callback=null,us(n,s,i),n=i,t.current.lanes=n,nc(t,n),Qn(t),e[Ha]=t.current,_y(e),new Pf(t)};vf.version="19.1.0";function d1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d1)}catch(e){console.error(e)}}d1(),Rx.exports=vf;var HO=Rx.exports,Sy={};Object.defineProperty(Sy,"__esModule",{value:!0});Sy.parse=QO;Sy.serialize=XO;const qO=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,GO=/^[\u0021-\u003A\u003C-\u007E]*$/,$O=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,YO=/^[\u0020-\u003A\u003D-\u007E]*$/,KO=Object.prototype.toString,WO=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function QO(e,t){const n=new WO,i=e.length;if(i<2)return n;const s=(t==null?void 0:t.decode)||ZO;let r=0;do{const a=e.indexOf("=",r);if(a===-1)break;const o=e.indexOf(";",r),l=o===-1?i:o;if(a>l){r=e.lastIndexOf(";",a-1)+1;continue}const c=fb(e,r,a),h=db(e,a,c),f=e.slice(c,h);if(n[f]===void 0){let d=fb(e,a+1,l),g=db(e,l,d);const v=s(e.slice(d,g));n[f]=v}r=l+1}while(r<i);return n}function fb(e,t,n){do{const i=e.charCodeAt(t);if(i!==32&&i!==9)return t}while(++t<n);return n}function db(e,t,n){for(;t>n;){const i=e.charCodeAt(--t);if(i!==32&&i!==9)return t+1}return n}function XO(e,t,n){const i=(n==null?void 0:n.encode)||encodeURIComponent;if(!qO.test(e))throw new TypeError(`argument name is invalid: ${e}`);const s=i(t);if(!GO.test(s))throw new TypeError(`argument val is invalid: ${t}`);let r=e+"="+s;if(!n)return r;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);r+="; Max-Age="+n.maxAge}if(n.domain){if(!$O.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);r+="; Domain="+n.domain}if(n.path){if(!YO.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);r+="; Path="+n.path}if(n.expires){if(!JO(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);r+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(r+="; HttpOnly"),n.secure&&(r+="; Secure"),n.partitioned&&(r+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":r+="; Priority=Low";break;case"medium":r+="; Priority=Medium";break;case"high":r+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"none":r+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return r}function ZO(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function JO(e){return KO.call(e)==="[object Date]"}var mb="popstate";function tM(e={}){function t(i,s){let{pathname:r,search:a,hash:o}=i.location;return Ug("",{pathname:r,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Vl(s)}return nM(t,n,null,e)}function Pt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function eM(){return Math.random().toString(36).substring(2,10)}function gb(e,t){return{usr:e.state,key:e.key,idx:t}}function Ug(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Wa(t):t,state:n,key:t&&t.key||i||eM()}}function Vl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Wa(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function nM(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,a=s.history,o="POP",l=null,c=h();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function h(){return(a.state||{idx:null}).idx}function f(){o="POP";let A=h(),_=A==null?null:A-c;c=A,l&&l({action:o,location:E.location,delta:_})}function d(A,_){o="PUSH";let y=Ug(E.location,A,_);c=h()+1;let T=gb(y,c),M=E.createHref(y);try{a.pushState(T,"",M)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(M)}r&&l&&l({action:o,location:E.location,delta:1})}function g(A,_){o="REPLACE";let y=Ug(E.location,A,_);c=h();let T=gb(y,c),M=E.createHref(y);a.replaceState(T,"",M),r&&l&&l({action:o,location:E.location,delta:0})}function v(A){return iM(A)}let E={get action(){return o},get location(){return e(s,a)},listen(A){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(mb,f),l=A,()=>{s.removeEventListener(mb,f),l=null}},createHref(A){return t(s,A)},createURL:v,encodeLocation(A){let _=v(A);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:d,replace:g,go(A){return a.go(A)}};return E}function iM(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Pt(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Vl(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function m1(e,t,n="/"){return sM(e,t,n,!1)}function sM(e,t,n,i){let s=typeof t=="string"?Wa(t):t,r=Ri(s.pathname||"/",n);if(r==null)return null;let a=g1(e);rM(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=pM(r);o=mM(a[l],c,i)}return o}function g1(e,t=[],n=[],i=""){let s=(r,a,o)=>{let l={relativePath:o===void 0?r.path||"":o,caseSensitive:r.caseSensitive===!0,childrenIndex:a,route:r};l.relativePath.startsWith("/")&&(Pt(l.relativePath.startsWith(i),`Absolute route path "${l.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(i.length));let c=bi([i,l.relativePath]),h=n.concat(l);r.children&&r.children.length>0&&(Pt(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),g1(r.children,t,h,c)),!(r.path==null&&!r.index)&&t.push({path:c,score:fM(c,r.index),routesMeta:h})};return e.forEach((r,a)=>{var o;if(r.path===""||!((o=r.path)!=null&&o.includes("?")))s(r,a);else for(let l of p1(r.path))s(r,a,l)}),t}function p1(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let a=p1(i.join("/")),o=[];return o.push(...a.map(l=>l===""?r:[r,l].join("/"))),s&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function rM(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:dM(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var aM=/^:[\w-]+$/,oM=3,lM=2,cM=1,uM=10,hM=-2,pb=e=>e==="*";function fM(e,t){let n=e.split("/"),i=n.length;return n.some(pb)&&(i+=hM),t&&(i+=lM),n.filter(s=>!pb(s)).reduce((s,r)=>s+(aM.test(r)?oM:r===""?cM:uM),i)}function dM(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function mM(e,t,n=!1){let{routesMeta:i}=e,s={},r="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],c=o===i.length-1,h=r==="/"?t:t.slice(r.length)||"/",f=Vh({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),d=l.route;if(!f&&c&&n&&!i[i.length-1].route.index&&(f=Vh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:bi([r,f.pathname]),pathnameBase:bM(bi([r,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(r=bi([r,f.pathnameBase]))}return a}function Vh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=gM(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let r=s[0],a=r.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:i.reduce((c,{paramName:h,isOptional:f},d)=>{if(h==="*"){let v=o[d]||"";a=r.slice(0,r.length-v.length).replace(/(.)\/+$/,"$1")}const g=o[d];return f&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:a,pattern:e}}function gM(e,t=!1,n=!0){Sn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function pM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ri(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function yM(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?Wa(e):e;return{pathname:n?n.startsWith("/")?n:_M(n,t):t,search:EM(i),hash:TM(s)}}function _M(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function fm(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vM(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ay(e){let t=vM(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function Ry(e,t,n,i=!1){let s;typeof e=="string"?s=Wa(e):(s={...e},Pt(!s.pathname||!s.pathname.includes("?"),fm("?","pathname","search",s)),Pt(!s.pathname||!s.pathname.includes("#"),fm("#","pathname","hash",s)),Pt(!s.search||!s.search.includes("#"),fm("#","search","hash",s)));let r=e===""||s.pathname==="",a=r?"/":s.pathname,o;if(a==null)o=n;else{let f=t.length-1;if(!i&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;s.pathname=d.join("/")}o=f>=0?t[f]:"/"}let l=yM(s,o),c=a&&a!=="/"&&a.endsWith("/"),h=(r||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}var bi=e=>e.join("/").replace(/\/\/+/g,"/"),bM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),EM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,TM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var y1=["POST","PUT","PATCH","DELETE"];new Set(y1);var wM=["GET",...y1];new Set(wM);var Qa=P.createContext(null);Qa.displayName="DataRouter";var Vf=P.createContext(null);Vf.displayName="DataRouterState";var _1=P.createContext({isTransitioning:!1});_1.displayName="ViewTransition";var SM=P.createContext(new Map);SM.displayName="Fetchers";var AM=P.createContext(null);AM.displayName="Await";var On=P.createContext(null);On.displayName="Navigation";var gc=P.createContext(null);gc.displayName="Location";var Xn=P.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var Iy=P.createContext(null);Iy.displayName="RouteError";function RM(e,{relative:t}={}){Pt(Xa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=P.useContext(On),{hash:s,pathname:r,search:a}=pc(e,{relative:t}),o=r;return n!=="/"&&(o=r==="/"?n:bi([n,r])),i.createHref({pathname:o,search:a,hash:s})}function Xa(){return P.useContext(gc)!=null}function ki(){return Pt(Xa(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(gc).location}var v1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function b1(e){P.useContext(On).static||P.useLayoutEffect(e)}function wr(){let{isDataRoute:e}=P.useContext(Xn);return e?zM():IM()}function IM(){Pt(Xa(),"useNavigate() may be used only in the context of a <Router> component.");let e=P.useContext(Qa),{basename:t,navigator:n}=P.useContext(On),{matches:i}=P.useContext(Xn),{pathname:s}=ki(),r=JSON.stringify(Ay(i)),a=P.useRef(!1);return b1(()=>{a.current=!0}),P.useCallback((l,c={})=>{if(Sn(a.current,v1),!a.current)return;if(typeof l=="number"){n.go(l);return}let h=Ry(l,JSON.parse(r),s,c.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:bi([t,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[t,n,r,s,e])}P.createContext(null);function pc(e,{relative:t}={}){let{matches:n}=P.useContext(Xn),{pathname:i}=ki(),s=JSON.stringify(Ay(n));return P.useMemo(()=>Ry(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function CM(e,t){return E1(e,t)}function E1(e,t,n,i){var _;Pt(Xa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=P.useContext(On),{matches:r}=P.useContext(Xn),a=r[r.length-1],o=a?a.params:{},l=a?a.pathname:"/",c=a?a.pathnameBase:"/",h=a&&a.route;{let y=h&&h.path||"";T1(l,!h||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let f=ki(),d;if(t){let y=typeof t=="string"?Wa(t):t;Pt(c==="/"||((_=y.pathname)==null?void 0:_.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${y.pathname}" was given in the \`location\` prop.`),d=y}else d=f;let g=d.pathname||"/",v=g;if(c!=="/"){let y=c.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let E=m1(e,{pathname:v});Sn(h||E!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),Sn(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=NM(E&&E.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:bi([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:bi([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),r,n,i);return t&&A?P.createElement(gc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},A):A}function DM(){let e=jM(),t=xM(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:r},"ErrorBoundary")," or"," ",P.createElement("code",{style:r},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:s},n):null,a)}var OM=P.createElement(DM,null),MM=class extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?P.createElement(Xn.Provider,{value:this.props.routeContext},P.createElement(Iy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kM({routeContext:e,match:t,children:n}){let i=P.useContext(Qa);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(Xn.Provider,{value:e},n)}function NM(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,r=n==null?void 0:n.errors;if(r!=null){let l=s.findIndex(c=>c.route.id&&(r==null?void 0:r[c.route.id])!==void 0);Pt(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let a=!1,o=-1;if(n)for(let l=0;l<s.length;l++){let c=s[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(o=l),c.route.id){let{loaderData:h,errors:f}=n,d=c.route.loader&&!h.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||d){a=!0,o>=0?s=s.slice(0,o+1):s=[s[0]];break}}}return s.reduceRight((l,c,h)=>{let f,d=!1,g=null,v=null;n&&(f=r&&c.route.id?r[c.route.id]:void 0,g=c.route.errorElement||OM,a&&(o<0&&h===0?(T1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,v=null):o===h&&(d=!0,v=c.route.hydrateFallbackElement||null)));let E=t.concat(s.slice(0,h+1)),A=()=>{let _;return f?_=g:d?_=v:c.route.Component?_=P.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=l,P.createElement(kM,{match:c,routeContext:{outlet:l,matches:E,isDataRoute:n!=null},children:_})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?P.createElement(MM,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:A(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):A()},null)}function Cy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PM(e){let t=P.useContext(Qa);return Pt(t,Cy(e)),t}function VM(e){let t=P.useContext(Vf);return Pt(t,Cy(e)),t}function LM(e){let t=P.useContext(Xn);return Pt(t,Cy(e)),t}function Dy(e){let t=LM(e),n=t.matches[t.matches.length-1];return Pt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function UM(){return Dy("useRouteId")}function jM(){var i;let e=P.useContext(Iy),t=VM("useRouteError"),n=Dy("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function zM(){let{router:e}=PM("useNavigate"),t=Dy("useNavigate"),n=P.useRef(!1);return b1(()=>{n.current=!0}),P.useCallback(async(s,r={})=>{Sn(n.current,v1),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...r}))},[e,t])}var yb={};function T1(e,t,n){!t&&!yb[e]&&(yb[e]=!0,Sn(!1,n))}P.memo(BM);function BM({routes:e,future:t,state:n}){return E1(e,void 0,n,t)}function jg({to:e,replace:t,state:n,relative:i}){Pt(Xa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=P.useContext(On);Sn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=P.useContext(Xn),{pathname:a}=ki(),o=wr(),l=Ry(e,Ay(r),a,i==="path"),c=JSON.stringify(l);return P.useEffect(()=>{o(JSON.parse(c),{replace:t,state:n,relative:i})},[o,c,i,t,n]),null}function ai(e){Pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FM({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:r=!1}){Pt(!Xa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),o=P.useMemo(()=>({basename:a,navigator:s,static:r,future:{}}),[a,s,r]);typeof n=="string"&&(n=Wa(n));let{pathname:l="/",search:c="",hash:h="",state:f=null,key:d="default"}=n,g=P.useMemo(()=>{let v=Ri(l,a);return v==null?null:{location:{pathname:v,search:c,hash:h,state:f,key:d},navigationType:i}},[a,l,c,h,f,d,i]);return Sn(g!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:P.createElement(On.Provider,{value:o},P.createElement(gc.Provider,{children:t,value:g}))}function HM({children:e,location:t}){return CM(zg(e),t)}function zg(e,t=[]){let n=[];return P.Children.forEach(e,(i,s)=>{if(!P.isValidElement(i))return;let r=[...t,s];if(i.type===P.Fragment){n.push.apply(n,zg(i.props.children,r));return}Pt(i.type===ai,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=zg(i.props.children,r)),n.push(a)}),n}var Fu="get",Hu="application/x-www-form-urlencoded";function Lf(e){return e!=null&&typeof e.tagName=="string"}function qM(e){return Lf(e)&&e.tagName.toLowerCase()==="button"}function GM(e){return Lf(e)&&e.tagName.toLowerCase()==="form"}function $M(e){return Lf(e)&&e.tagName.toLowerCase()==="input"}function YM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KM(e,t){return e.button===0&&(!t||t==="_self")&&!YM(e)}var ou=null;function WM(){if(ou===null)try{new FormData(document.createElement("form"),0),ou=!1}catch{ou=!0}return ou}var QM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dm(e){return e!=null&&!QM.has(e)?(Sn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hu}"`),null):e}function XM(e,t){let n,i,s,r,a;if(GM(e)){let o=e.getAttribute("action");i=o?Ri(o,t):null,n=e.getAttribute("method")||Fu,s=dm(e.getAttribute("enctype"))||Hu,r=new FormData(e)}else if(qM(e)||$M(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(i=l?Ri(l,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Fu,s=dm(e.getAttribute("formenctype"))||dm(o.getAttribute("enctype"))||Hu,r=new FormData(o,e),!WM()){let{name:c,type:h,value:f}=e;if(h==="image"){let d=c?`${c}.`:"";r.append(`${d}x`,"0"),r.append(`${d}y`,"0")}else c&&r.append(c,f)}}else{if(Lf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fu,i=null,s=Hu,a=e}return r&&s==="text/plain"&&(a=r,r=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:r,body:a}}function Oy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function ZM(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JM(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function tk(e,t,n){let i=await Promise.all(e.map(async s=>{let r=t.routes[s.route.id];if(r){let a=await ZM(r,n);return a.links?a.links():[]}return[]}));return sk(i.flat(1).filter(JM).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function _b(e,t,n,i,s,r){let a=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,o=(l,c)=>{var h;return n[c].pathname!==l.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return r==="assets"?t.filter((l,c)=>a(l,c)||o(l,c)):r==="data"?t.filter((l,c)=>{var f;let h=i.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function ek(e,t,{includeHydrateFallback:n}={}){return nk(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function nk(e){return[...new Set(e)]}function ik(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function sk(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let r=JSON.stringify(ik(s));return n.has(r)||(n.add(r),i.push({key:r,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rk=new Set([100,101,204,205]);function ak(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Ri(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function x1(){let e=P.useContext(Qa);return Oy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ok(){let e=P.useContext(Vf);return Oy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var My=P.createContext(void 0);My.displayName="FrameworkContext";function w1(){let e=P.useContext(My);return Oy(e,"You must render this element inside a <HydratedRouter> element"),e}function lk(e,t){let n=P.useContext(My),[i,s]=P.useState(!1),[r,a]=P.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:h,onTouchStart:f}=t,d=P.useRef(null);P.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let E=_=>{_.forEach(y=>{a(y.isIntersecting)})},A=new IntersectionObserver(E,{threshold:.5});return d.current&&A.observe(d.current),()=>{A.disconnect()}}},[e]),P.useEffect(()=>{if(i){let E=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(E)}}},[i]);let g=()=>{s(!0)},v=()=>{s(!1),a(!1)};return n?e!=="intent"?[r,d,{}]:[r,d,{onFocus:Do(o,g),onBlur:Do(l,v),onMouseEnter:Do(c,g),onMouseLeave:Do(h,v),onTouchStart:Do(f,g)}]:[!1,d,{}]}function Do(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ck({page:e,...t}){let{router:n}=x1(),i=P.useMemo(()=>m1(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?P.createElement(hk,{page:e,matches:i,...t}):null}function uk(e){let{manifest:t,routeModules:n}=w1(),[i,s]=P.useState([]);return P.useEffect(()=>{let r=!1;return tk(e,t,n).then(a=>{r||s(a)}),()=>{r=!0}},[e,t,n]),i}function hk({page:e,matches:t,...n}){let i=ki(),{manifest:s,routeModules:r}=w1(),{basename:a}=x1(),{loaderData:o,matches:l}=ok(),c=P.useMemo(()=>_b(e,t,l,s,i,"data"),[e,t,l,s,i]),h=P.useMemo(()=>_b(e,t,l,s,i,"assets"),[e,t,l,s,i]),f=P.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let v=new Set,E=!1;if(t.forEach(_=>{var T;let y=s.routes[_.route.id];!y||!y.hasLoader||(!c.some(M=>M.route.id===_.route.id)&&_.route.id in o&&((T=r[_.route.id])!=null&&T.shouldRevalidate)||y.hasClientLoader?E=!0:v.add(_.route.id))}),v.size===0)return[];let A=ak(e,a);return E&&v.size>0&&A.searchParams.set("_routes",t.filter(_=>v.has(_.route.id)).map(_=>_.route.id).join(",")),[A.pathname+A.search]},[a,o,i,s,c,t,e,r]),d=P.useMemo(()=>ek(h,s),[h,s]),g=uk(h);return P.createElement(P.Fragment,null,f.map(v=>P.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),d.map(v=>P.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),g.map(({key:v,link:E})=>P.createElement("link",{key:v,...E})))}function fk(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var S1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{S1&&(window.__reactRouterVersion="7.6.1")}catch{}function dk({basename:e,children:t,window:n}){let i=P.useRef();i.current==null&&(i.current=tM({window:n,v5Compat:!0}));let s=i.current,[r,a]=P.useState({action:s.action,location:s.location}),o=P.useCallback(l=>{P.startTransition(()=>a(l))},[a]);return P.useLayoutEffect(()=>s.listen(o),[s,o]),P.createElement(FM,{basename:e,children:t,location:r.location,navigationType:r.action,navigator:s})}var A1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ll=P.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:r,replace:a,state:o,target:l,to:c,preventScrollReset:h,viewTransition:f,...d},g){let{basename:v}=P.useContext(On),E=typeof c=="string"&&A1.test(c),A,_=!1;if(typeof c=="string"&&E&&(A=c,S1))try{let R=new URL(window.location.href),I=c.startsWith("//")?new URL(R.protocol+c):new URL(c),O=Ri(I.pathname,v);I.origin===R.origin&&O!=null?c=O+I.search+I.hash:_=!0}catch{Sn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=RM(c,{relative:s}),[T,M,C]=lk(i,d),V=yk(c,{replace:a,state:o,target:l,preventScrollReset:h,relative:s,viewTransition:f});function x(R){t&&t(R),R.defaultPrevented||V(R)}let b=P.createElement("a",{...d,...C,href:A||y,onClick:_||r?t:x,ref:fk(g,M),target:l,"data-discover":!E&&n==="render"?"true":void 0});return T&&!E?P.createElement(P.Fragment,null,b,P.createElement(ck,{page:y})):b});Ll.displayName="Link";var mk=P.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:r,to:a,viewTransition:o,children:l,...c},h){let f=pc(a,{relative:c.relative}),d=ki(),g=P.useContext(Vf),{navigator:v,basename:E}=P.useContext(On),A=g!=null&&Tk(f)&&o===!0,_=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,y=d.pathname,T=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(y=y.toLowerCase(),T=T?T.toLowerCase():null,_=_.toLowerCase()),T&&E&&(T=Ri(T,E)||T);const M=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let C=y===_||!s&&y.startsWith(_)&&y.charAt(M)==="/",V=T!=null&&(T===_||!s&&T.startsWith(_)&&T.charAt(_.length)==="/"),x={isActive:C,isPending:V,isTransitioning:A},b=C?t:void 0,R;typeof i=="function"?R=i(x):R=[i,C?"active":null,V?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let I=typeof r=="function"?r(x):r;return P.createElement(Ll,{...c,"aria-current":b,className:R,ref:h,style:I,to:a,viewTransition:o},typeof l=="function"?l(x):l)});mk.displayName="NavLink";var gk=P.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:r,method:a=Fu,action:o,onSubmit:l,relative:c,preventScrollReset:h,viewTransition:f,...d},g)=>{let v=bk(),E=Ek(o,{relative:c}),A=a.toLowerCase()==="get"?"get":"post",_=typeof o=="string"&&A1.test(o),y=T=>{if(l&&l(T),T.defaultPrevented)return;T.preventDefault();let M=T.nativeEvent.submitter,C=(M==null?void 0:M.getAttribute("formmethod"))||a;v(M||T.currentTarget,{fetcherKey:t,method:C,navigate:n,replace:s,state:r,relative:c,preventScrollReset:h,viewTransition:f})};return P.createElement("form",{ref:g,method:A,action:E,onSubmit:i?l:y,...d,"data-discover":!_&&e==="render"?"true":void 0})});gk.displayName="Form";function pk(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R1(e){let t=P.useContext(Qa);return Pt(t,pk(e)),t}function yk(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:r,viewTransition:a}={}){let o=wr(),l=ki(),c=pc(e,{relative:r});return P.useCallback(h=>{if(KM(h,t)){h.preventDefault();let f=n!==void 0?n:Vl(l)===Vl(c);o(e,{replace:f,state:i,preventScrollReset:s,relative:r,viewTransition:a})}},[l,o,c,n,i,t,e,s,r,a])}var _k=0,vk=()=>`__${String(++_k)}__`;function bk(){let{router:e}=R1("useSubmit"),{basename:t}=P.useContext(On),n=UM();return P.useCallback(async(i,s={})=>{let{action:r,method:a,encType:o,formData:l,body:c}=XM(i,t);if(s.navigate===!1){let h=s.fetcherKey||vk();await e.fetch(h,n,s.action||r,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,flushSync:s.flushSync})}else await e.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function Ek(e,{relative:t}={}){let{basename:n}=P.useContext(On),i=P.useContext(Xn);Pt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...pc(e||".",{relative:t})},a=ki();if(e==null){r.search=a.search;let o=new URLSearchParams(r.search),l=o.getAll("index");if(l.some(h=>h==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let h=o.toString();r.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:bi([n,r.pathname])),Vl(r)}function Tk(e,t={}){let n=P.useContext(_1);Pt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=R1("useViewTransitionState"),s=pc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let r=Ri(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=Ri(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Vh(s.pathname,a)!=null||Vh(s.pathname,r)!=null}[...rk];const Lh="/Jetel-Mendes-24h/assets/logo-QzOPLK3u.png";/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=()=>{};var vb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},wk=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],a=e[n++],o=e[n++],l=((s&7)<<18|(r&63)<<12|(a&63)<<6|o&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const r=e[n++],a=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return t.join("")},C1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],a=s+1<e.length,o=a?e[s+1]:0,l=s+2<e.length,c=l?e[s+2]:0,h=r>>2,f=(r&3)<<4|o>>4;let d=(o&15)<<2|c>>6,g=c&63;l||(g=64,a||(d=64)),i.push(n[h],n[f],n[d],n[g])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(I1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):wk(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],o=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const f=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||o==null||c==null||f==null)throw new Sk;const d=r<<2|o>>4;if(i.push(d),c!==64){const g=o<<4&240|c>>2;if(i.push(g),f!==64){const v=c<<6&192|f;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Sk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ak=function(e){const t=I1(e);return C1.encodeByteArray(t,!0)},Uh=function(e){return Ak(e).replace(/\./g,"")},D1=function(e){try{return C1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=()=>Rk().__FIREBASE_DEFAULTS__,Ck=()=>{if(typeof process>"u"||typeof vb>"u")return;const e=vb.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Dk=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&D1(e[1]);return t&&JSON.parse(t)},Uf=()=>{try{return xk()||Ik()||Ck()||Dk()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},O1=e=>{var t,n;return(n=(t=Uf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Ok=e=>{const t=O1(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},M1=()=>{var e;return(e=Uf())===null||e===void 0?void 0:e.config},k1=e=>{var t;return(t=Uf())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(e){return e.endsWith(".cloudworkstations.dev")}async function N1(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Uh(JSON.stringify(n)),Uh(JSON.stringify(a)),""].join(".")}const ul={};function Nk(){const e={prod:[],emulator:[]};for(const t of Object.keys(ul))ul[t]?e.emulator.push(t):e.prod.push(t);return e}function Pk(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let bb=!1;function P1(e,t){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||ul[e]===t||ul[e]||bb)return;ul[e]=t;function n(d){return`__firebase__banner__${d}`}const i="__firebase__banner",r=Nk().prod.length>0;function a(){const d=document.getElementById(i);d&&d.remove()}function o(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,g){d.setAttribute("width","24"),d.setAttribute("id",g),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{bb=!0,a()},d}function h(d,g){d.setAttribute("id",g),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=Pk(i),g=n("text"),v=document.getElementById(g)||document.createElement("span"),E=n("learnmore"),A=document.getElementById(E)||document.createElement("a"),_=n("preprendIcon"),y=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const T=d.element;o(T),h(A,E);const M=c();l(y,_),T.append(y,v,A,M),document.body.appendChild(T)}r?(v.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function Lk(){var e;const t=(e=Uf())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Uk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function V1(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function jk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zk(){const e=Ae();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Bk(){return!Lk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L1(){try{return typeof indexedDB=="object"}catch{return!1}}function U1(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){t(n)}})}function Fk(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="FirebaseError";class Mn extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=Hk,Object.setPrototypeOf(this,Mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sr.prototype.create)}}class Sr{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],a=r?qk(r,i):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new Mn(s,o,i)}}function qk(e,t){return e.replace(Gk,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const Gk=/\{\$([^}]+)}/g;function $k(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Rs(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],a=t[s];if(Eb(r)&&Eb(a)){if(!Rs(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Eb(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function zo(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(r)}}),t}function Bo(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Yk(e,t){const n=new Kk(e,t);return n.subscribe.bind(n)}class Kk{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Wk(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=mm),s.error===void 0&&(s.error=mm),s.complete===void 0&&(s.complete=mm);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wk(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function mm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=1e3,Xk=2,Zk=4*60*60*1e3,Jk=.5;function Tb(e,t=Qk,n=Xk){const i=t*Math.pow(n,e),s=Math.round(Jk*i*(Math.random()-.5)*2);return Math.min(Zk,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(e){return e&&e._delegate?e._delegate:e}class An{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new Mk;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nN(t))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=Ws){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ws){return this.instances.has(t)}getOptions(t=Ws){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);i===o&&a.resolve(s)}return s}onInit(t,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(t),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&t(a,s),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:eN(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ws){return this.component?this.component.multipleInstances?t:Ws:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eN(e){return e===Ws?void 0:e}function nN(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new tN(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(st||(st={}));const sN={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},rN=st.INFO,aN={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},oN=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=aN[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class jf{constructor(t){this.name=t,this._logLevel=rN,this._logHandler=oN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in st))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?sN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...t),this._logHandler(this,st.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...t),this._logHandler(this,st.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,st.INFO,...t),this._logHandler(this,st.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,st.WARN,...t),this._logHandler(this,st.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...t),this._logHandler(this,st.ERROR,...t)}}const lN=(e,t)=>t.some(n=>e instanceof n);let xb,wb;function cN(){return xb||(xb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uN(){return wb||(wb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j1=new WeakMap,Bg=new WeakMap,z1=new WeakMap,gm=new WeakMap,ky=new WeakMap;function hN(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",a)},r=()=>{n(ps(e.result)),s()},a=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&j1.set(n,e)}).catch(()=>{}),ky.set(t,e),t}function fN(e){if(Bg.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",a),e.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",a),e.addEventListener("abort",a)});Bg.set(e,t)}let Fg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Bg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||z1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ps(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function dN(e){Fg=e(Fg)}function mN(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(pm(this),t,...n);return z1.set(i,t.sort?t.sort():[t]),ps(i)}:uN().includes(e)?function(...t){return e.apply(pm(this),t),ps(j1.get(this))}:function(...t){return ps(e.apply(pm(this),t))}}function gN(e){return typeof e=="function"?mN(e):(e instanceof IDBTransaction&&fN(e),lN(e,cN())?new Proxy(e,Fg):e)}function ps(e){if(e instanceof IDBRequest)return hN(e);if(gm.has(e))return gm.get(e);const t=gN(e);return t!==e&&(gm.set(e,t),ky.set(t,e)),t}const pm=e=>ky.get(e);function B1(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(e,t),o=ps(a);return i&&a.addEventListener("upgradeneeded",l=>{i(ps(a.result),l.oldVersion,l.newVersion,ps(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const pN=["get","getKey","getAll","getAllKeys","count"],yN=["put","add","delete","clear"],ym=new Map;function Sb(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ym.get(t))return ym.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=yN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||pN.includes(n)))return;const r=async function(a,...o){const l=this.transaction(a,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),s&&l.done]))[0]};return ym.set(t,r),r}dN(e=>({...e,get:(t,n,i)=>Sb(t,n)||e.get(t,n,i),has:(t,n)=>!!Sb(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vN(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function vN(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Hg="@firebase/app",Ab="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new jf("@firebase/app"),bN="@firebase/app-compat",EN="@firebase/analytics-compat",TN="@firebase/analytics",xN="@firebase/app-check-compat",wN="@firebase/app-check",SN="@firebase/auth",AN="@firebase/auth-compat",RN="@firebase/database",IN="@firebase/data-connect",CN="@firebase/database-compat",DN="@firebase/functions",ON="@firebase/functions-compat",MN="@firebase/installations",kN="@firebase/installations-compat",NN="@firebase/messaging",PN="@firebase/messaging-compat",VN="@firebase/performance",LN="@firebase/performance-compat",UN="@firebase/remote-config",jN="@firebase/remote-config-compat",zN="@firebase/storage",BN="@firebase/storage-compat",FN="@firebase/firestore",HN="@firebase/ai",qN="@firebase/firestore-compat",GN="firebase",$N="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="[DEFAULT]",YN={[Hg]:"fire-core",[bN]:"fire-core-compat",[TN]:"fire-analytics",[EN]:"fire-analytics-compat",[wN]:"fire-app-check",[xN]:"fire-app-check-compat",[SN]:"fire-auth",[AN]:"fire-auth-compat",[RN]:"fire-rtdb",[IN]:"fire-data-connect",[CN]:"fire-rtdb-compat",[DN]:"fire-fn",[ON]:"fire-fn-compat",[MN]:"fire-iid",[kN]:"fire-iid-compat",[NN]:"fire-fcm",[PN]:"fire-fcm-compat",[VN]:"fire-perf",[LN]:"fire-perf-compat",[UN]:"fire-rc",[jN]:"fire-rc-compat",[zN]:"fire-gcs",[BN]:"fire-gcs-compat",[FN]:"fire-fst",[qN]:"fire-fst-compat",[HN]:"fire-vertex","fire-js":"fire-js",[GN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new Map,KN=new Map,Gg=new Map;function Rb(e,t){try{e.container.addComponent(t)}catch(n){Ii.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Yn(e){const t=e.name;if(Gg.has(t))return Ii.debug(`There were multiple attempts to register component ${t}.`),!1;Gg.set(t,e);for(const n of jh.values())Rb(n,e);for(const n of KN.values())Rb(n,e);return!0}function Ar(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function cn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new Sr("app","Firebase",WN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new An("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=$N;function F1(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:qg,automaticDataCollectionEnabled:!0},t),s=i.name;if(typeof s!="string"||!s)throw ys.create("bad-app-name",{appName:String(s)});if(n||(n=M1()),!n)throw ys.create("no-options");const r=jh.get(s);if(r){if(Rs(n,r.options)&&Rs(i,r.config))return r;throw ys.create("duplicate-app",{appName:s})}const a=new iN(s);for(const l of Gg.values())a.addComponent(l);const o=new QN(n,i,a);return jh.set(s,o),o}function Ny(e=qg){const t=jh.get(e);if(!t&&e===qg&&M1())return F1();if(!t)throw ys.create("no-app",{appName:e});return t}function fn(e,t,n){var i;let s=(i=YN[e])!==null&&i!==void 0?i:e;n&&(s+=`-${n}`);const r=s.match(/\s|\//),a=t.match(/\s|\//);if(r||a){const o=[`Unable to register library "${s}" with version "${t}":`];r&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ii.warn(o.join(" "));return}Yn(new An(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="firebase-heartbeat-database",ZN=1,Ul="firebase-heartbeat-store";let _m=null;function H1(){return _m||(_m=B1(XN,ZN,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ul)}catch(n){console.warn(n)}}}}).catch(e=>{throw ys.create("idb-open",{originalErrorMessage:e.message})})),_m}async function JN(e){try{const n=(await H1()).transaction(Ul),i=await n.objectStore(Ul).get(q1(e));return await n.done,i}catch(t){if(t instanceof Mn)Ii.warn(t.message);else{const n=ys.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ii.warn(n.message)}}}async function Ib(e,t){try{const i=(await H1()).transaction(Ul,"readwrite");await i.objectStore(Ul).put(t,q1(e)),await i.done}catch(n){if(n instanceof Mn)Ii.warn(n.message);else{const i=ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ii.warn(i.message)}}}function q1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=1024,eP=30;class nP{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sP(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Cb();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>eP){const a=rP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ii.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cb(),{heartbeatsToSend:i,unsentEntries:s}=iP(this._heartbeatsCache.heartbeats),r=Uh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Ii.warn(n),""}}}function Cb(){return new Date().toISOString().substring(0,10)}function iP(e,t=tP){const n=[];let i=e.slice();for(const s of e){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),Db(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Db(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class sP{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return L1()?U1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ib(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ib(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Db(e){return Uh(JSON.stringify({version:2,heartbeats:e})).length}function rP(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(e){Yn(new An("platform-logger",t=>new _N(t),"PRIVATE")),Yn(new An("heartbeat",t=>new nP(t),"PRIVATE")),fn(Hg,Ab,e),fn(Hg,Ab,"esm2017"),fn("fire-js","")}aP("");var Ob=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _s,G1;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,b){function R(){}R.prototype=b.prototype,x.D=b.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(I,O,k){for(var D=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)D[Ut-2]=arguments[Ut];return b.prototype[O].apply(I,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,b,R){R||(R=0);var I=Array(16);if(typeof b=="string")for(var O=0;16>O;++O)I[O]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(O=0;16>O;++O)I[O]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=x.g[0],R=x.g[1],O=x.g[2];var k=x.g[3],D=b+(k^R&(O^k))+I[0]+3614090360&4294967295;b=R+(D<<7&4294967295|D>>>25),D=k+(O^b&(R^O))+I[1]+3905402710&4294967295,k=b+(D<<12&4294967295|D>>>20),D=O+(R^k&(b^R))+I[2]+606105819&4294967295,O=k+(D<<17&4294967295|D>>>15),D=R+(b^O&(k^b))+I[3]+3250441966&4294967295,R=O+(D<<22&4294967295|D>>>10),D=b+(k^R&(O^k))+I[4]+4118548399&4294967295,b=R+(D<<7&4294967295|D>>>25),D=k+(O^b&(R^O))+I[5]+1200080426&4294967295,k=b+(D<<12&4294967295|D>>>20),D=O+(R^k&(b^R))+I[6]+2821735955&4294967295,O=k+(D<<17&4294967295|D>>>15),D=R+(b^O&(k^b))+I[7]+4249261313&4294967295,R=O+(D<<22&4294967295|D>>>10),D=b+(k^R&(O^k))+I[8]+1770035416&4294967295,b=R+(D<<7&4294967295|D>>>25),D=k+(O^b&(R^O))+I[9]+2336552879&4294967295,k=b+(D<<12&4294967295|D>>>20),D=O+(R^k&(b^R))+I[10]+4294925233&4294967295,O=k+(D<<17&4294967295|D>>>15),D=R+(b^O&(k^b))+I[11]+2304563134&4294967295,R=O+(D<<22&4294967295|D>>>10),D=b+(k^R&(O^k))+I[12]+1804603682&4294967295,b=R+(D<<7&4294967295|D>>>25),D=k+(O^b&(R^O))+I[13]+4254626195&4294967295,k=b+(D<<12&4294967295|D>>>20),D=O+(R^k&(b^R))+I[14]+2792965006&4294967295,O=k+(D<<17&4294967295|D>>>15),D=R+(b^O&(k^b))+I[15]+1236535329&4294967295,R=O+(D<<22&4294967295|D>>>10),D=b+(O^k&(R^O))+I[1]+4129170786&4294967295,b=R+(D<<5&4294967295|D>>>27),D=k+(R^O&(b^R))+I[6]+3225465664&4294967295,k=b+(D<<9&4294967295|D>>>23),D=O+(b^R&(k^b))+I[11]+643717713&4294967295,O=k+(D<<14&4294967295|D>>>18),D=R+(k^b&(O^k))+I[0]+3921069994&4294967295,R=O+(D<<20&4294967295|D>>>12),D=b+(O^k&(R^O))+I[5]+3593408605&4294967295,b=R+(D<<5&4294967295|D>>>27),D=k+(R^O&(b^R))+I[10]+38016083&4294967295,k=b+(D<<9&4294967295|D>>>23),D=O+(b^R&(k^b))+I[15]+3634488961&4294967295,O=k+(D<<14&4294967295|D>>>18),D=R+(k^b&(O^k))+I[4]+3889429448&4294967295,R=O+(D<<20&4294967295|D>>>12),D=b+(O^k&(R^O))+I[9]+568446438&4294967295,b=R+(D<<5&4294967295|D>>>27),D=k+(R^O&(b^R))+I[14]+3275163606&4294967295,k=b+(D<<9&4294967295|D>>>23),D=O+(b^R&(k^b))+I[3]+4107603335&4294967295,O=k+(D<<14&4294967295|D>>>18),D=R+(k^b&(O^k))+I[8]+1163531501&4294967295,R=O+(D<<20&4294967295|D>>>12),D=b+(O^k&(R^O))+I[13]+2850285829&4294967295,b=R+(D<<5&4294967295|D>>>27),D=k+(R^O&(b^R))+I[2]+4243563512&4294967295,k=b+(D<<9&4294967295|D>>>23),D=O+(b^R&(k^b))+I[7]+1735328473&4294967295,O=k+(D<<14&4294967295|D>>>18),D=R+(k^b&(O^k))+I[12]+2368359562&4294967295,R=O+(D<<20&4294967295|D>>>12),D=b+(R^O^k)+I[5]+4294588738&4294967295,b=R+(D<<4&4294967295|D>>>28),D=k+(b^R^O)+I[8]+2272392833&4294967295,k=b+(D<<11&4294967295|D>>>21),D=O+(k^b^R)+I[11]+1839030562&4294967295,O=k+(D<<16&4294967295|D>>>16),D=R+(O^k^b)+I[14]+4259657740&4294967295,R=O+(D<<23&4294967295|D>>>9),D=b+(R^O^k)+I[1]+2763975236&4294967295,b=R+(D<<4&4294967295|D>>>28),D=k+(b^R^O)+I[4]+1272893353&4294967295,k=b+(D<<11&4294967295|D>>>21),D=O+(k^b^R)+I[7]+4139469664&4294967295,O=k+(D<<16&4294967295|D>>>16),D=R+(O^k^b)+I[10]+3200236656&4294967295,R=O+(D<<23&4294967295|D>>>9),D=b+(R^O^k)+I[13]+681279174&4294967295,b=R+(D<<4&4294967295|D>>>28),D=k+(b^R^O)+I[0]+3936430074&4294967295,k=b+(D<<11&4294967295|D>>>21),D=O+(k^b^R)+I[3]+3572445317&4294967295,O=k+(D<<16&4294967295|D>>>16),D=R+(O^k^b)+I[6]+76029189&4294967295,R=O+(D<<23&4294967295|D>>>9),D=b+(R^O^k)+I[9]+3654602809&4294967295,b=R+(D<<4&4294967295|D>>>28),D=k+(b^R^O)+I[12]+3873151461&4294967295,k=b+(D<<11&4294967295|D>>>21),D=O+(k^b^R)+I[15]+530742520&4294967295,O=k+(D<<16&4294967295|D>>>16),D=R+(O^k^b)+I[2]+3299628645&4294967295,R=O+(D<<23&4294967295|D>>>9),D=b+(O^(R|~k))+I[0]+4096336452&4294967295,b=R+(D<<6&4294967295|D>>>26),D=k+(R^(b|~O))+I[7]+1126891415&4294967295,k=b+(D<<10&4294967295|D>>>22),D=O+(b^(k|~R))+I[14]+2878612391&4294967295,O=k+(D<<15&4294967295|D>>>17),D=R+(k^(O|~b))+I[5]+4237533241&4294967295,R=O+(D<<21&4294967295|D>>>11),D=b+(O^(R|~k))+I[12]+1700485571&4294967295,b=R+(D<<6&4294967295|D>>>26),D=k+(R^(b|~O))+I[3]+2399980690&4294967295,k=b+(D<<10&4294967295|D>>>22),D=O+(b^(k|~R))+I[10]+4293915773&4294967295,O=k+(D<<15&4294967295|D>>>17),D=R+(k^(O|~b))+I[1]+2240044497&4294967295,R=O+(D<<21&4294967295|D>>>11),D=b+(O^(R|~k))+I[8]+1873313359&4294967295,b=R+(D<<6&4294967295|D>>>26),D=k+(R^(b|~O))+I[15]+4264355552&4294967295,k=b+(D<<10&4294967295|D>>>22),D=O+(b^(k|~R))+I[6]+2734768916&4294967295,O=k+(D<<15&4294967295|D>>>17),D=R+(k^(O|~b))+I[13]+1309151649&4294967295,R=O+(D<<21&4294967295|D>>>11),D=b+(O^(R|~k))+I[4]+4149444226&4294967295,b=R+(D<<6&4294967295|D>>>26),D=k+(R^(b|~O))+I[11]+3174756917&4294967295,k=b+(D<<10&4294967295|D>>>22),D=O+(b^(k|~R))+I[2]+718787259&4294967295,O=k+(D<<15&4294967295|D>>>17),D=R+(k^(O|~b))+I[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+k&4294967295}i.prototype.u=function(x,b){b===void 0&&(b=x.length);for(var R=b-this.blockSize,I=this.B,O=this.h,k=0;k<b;){if(O==0)for(;k<=R;)s(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<b;)if(I[O++]=x.charCodeAt(k++),O==this.blockSize){s(this,I),O=0;break}}else for(;k<b;)if(I[O++]=x[k++],O==this.blockSize){s(this,I),O=0;break}}this.h=O,this.o+=b},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;var R=8*this.o;for(b=x.length-8;b<x.length;++b)x[b]=R&255,R/=256;for(this.u(x),x=Array(16),b=R=0;4>b;++b)for(var I=0;32>I;I+=8)x[R++]=this.g[b]>>>I&255;return x};function r(x,b){var R=o;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=b(x)}function a(x,b){this.h=b;for(var R=[],I=!0,O=x.length-1;0<=O;O--){var k=x[O]|0;I&&k==b||(R[O]=k,I=!1)}this.g=R}var o={};function l(x){return-128<=x&&128>x?r(x,function(b){return new a([b|0],0>b?-1:0)}):new a([x|0],0>x?-1:0)}function c(x){if(isNaN(x)||!isFinite(x))return f;if(0>x)return A(c(-x));for(var b=[],R=1,I=0;x>=R;I++)b[I]=x/R|0,R*=4294967296;return new a(b,0)}function h(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return A(h(x.substring(1),b));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(b,8)),I=f,O=0;O<x.length;O+=8){var k=Math.min(8,x.length-O),D=parseInt(x.substring(O,O+k),b);8>k?(k=c(Math.pow(b,k)),I=I.j(k).add(c(D))):(I=I.j(R),I=I.add(c(D)))}return I}var f=l(0),d=l(1),g=l(16777216);e=a.prototype,e.m=function(){if(E(this))return-A(this).m();for(var x=0,b=1,R=0;R<this.g.length;R++){var I=this.i(R);x+=(0<=I?I:4294967296+I)*b,b*=4294967296}return x},e.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(v(this))return"0";if(E(this))return"-"+A(this).toString(x);for(var b=c(Math.pow(x,6)),R=this,I="";;){var O=M(R,b).g;R=_(R,O.j(b));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=O,v(R))return k+I;for(;6>k.length;)k="0"+k;I=k+I}},e.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function v(x){if(x.h!=0)return!1;for(var b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function E(x){return x.h==-1}e.l=function(x){return x=_(this,x),E(x)?-1:v(x)?0:1};function A(x){for(var b=x.g.length,R=[],I=0;I<b;I++)R[I]=~x.g[I];return new a(R,~x.h).add(d)}e.abs=function(){return E(this)?A(this):this},e.add=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],I=0,O=0;O<=b;O++){var k=I+(this.i(O)&65535)+(x.i(O)&65535),D=(k>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);I=D>>>16,k&=65535,D&=65535,R[O]=D<<16|k}return new a(R,R[R.length-1]&-2147483648?-1:0)};function _(x,b){return x.add(A(b))}e.j=function(x){if(v(this)||v(x))return f;if(E(this))return E(x)?A(this).j(A(x)):A(A(this).j(x));if(E(x))return A(this.j(A(x)));if(0>this.l(g)&&0>x.l(g))return c(this.m()*x.m());for(var b=this.g.length+x.g.length,R=[],I=0;I<2*b;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(var O=0;O<x.g.length;O++){var k=this.i(I)>>>16,D=this.i(I)&65535,Ut=x.i(O)>>>16,ht=x.i(O)&65535;R[2*I+2*O]+=D*ht,y(R,2*I+2*O),R[2*I+2*O+1]+=k*ht,y(R,2*I+2*O+1),R[2*I+2*O+1]+=D*Ut,y(R,2*I+2*O+1),R[2*I+2*O+2]+=k*Ut,y(R,2*I+2*O+2)}for(I=0;I<b;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=b;I<2*b;I++)R[I]=0;return new a(R,0)};function y(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function T(x,b){this.g=x,this.h=b}function M(x,b){if(v(b))throw Error("division by zero");if(v(x))return new T(f,f);if(E(x))return b=M(A(x),b),new T(A(b.g),A(b.h));if(E(b))return b=M(x,A(b)),new T(A(b.g),b.h);if(30<x.g.length){if(E(x)||E(b))throw Error("slowDivide_ only works with positive integers.");for(var R=d,I=b;0>=I.l(x);)R=C(R),I=C(I);var O=V(R,1),k=V(I,1);for(I=V(I,2),R=V(R,2);!v(I);){var D=k.add(I);0>=D.l(x)&&(O=O.add(R),k=D),I=V(I,1),R=V(R,1)}return b=_(x,O.j(b)),new T(O,b)}for(O=f;0<=x.l(b);){for(R=Math.max(1,Math.floor(x.m()/b.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),k=c(R),D=k.j(b);E(D)||0<D.l(x);)R-=I,k=c(R),D=k.j(b);v(k)&&(k=d),O=O.add(k),x=_(x,D)}return new T(O,x)}e.A=function(x){return M(this,x).h},e.and=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],I=0;I<b;I++)R[I]=this.i(I)&x.i(I);return new a(R,this.h&x.h)},e.or=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],I=0;I<b;I++)R[I]=this.i(I)|x.i(I);return new a(R,this.h|x.h)},e.xor=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],I=0;I<b;I++)R[I]=this.i(I)^x.i(I);return new a(R,this.h^x.h)};function C(x){for(var b=x.g.length+1,R=[],I=0;I<b;I++)R[I]=x.i(I)<<1|x.i(I-1)>>>31;return new a(R,x.h)}function V(x,b){var R=b>>5;b%=32;for(var I=x.g.length-R,O=[],k=0;k<I;k++)O[k]=0<b?x.i(k+R)>>>b|x.i(k+R+1)<<32-b:x.i(k+R);return new a(O,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,G1=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=h,_s=a}).apply(typeof Ob<"u"?Ob:typeof self<"u"?self:typeof window<"u"?window:{});var lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $1,Fo,Y1,qu,$g,K1,W1,Q1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof lu=="object"&&lu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var i=n(this);function s(u,m){if(m)t:{var p=i;u=u.split(".");for(var w=0;w<u.length-1;w++){var N=u[w];if(!(N in p))break t;p=p[N]}u=u[u.length-1],w=p[u],m=m(w),m!=w&&m!=null&&t(p,u,{configurable:!0,writable:!0,value:m})}}function r(u,m){u instanceof String&&(u+="");var p=0,w=!1,N={next:function(){if(!w&&p<u.length){var L=p++;return{value:m(L,u[L]),done:!1}}return w=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}s("Array.prototype.values",function(u){return u||function(){return r(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function c(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function h(u,m,p){return u.call.apply(u.bind,arguments)}function f(u,m,p){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,w),u.apply(m,N)}}return function(){return u.apply(m,arguments)}}function d(u,m,p){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,d.apply(null,arguments)}function g(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var w=p.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function v(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(w,N,L){for(var F=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)F[xt-2]=arguments[xt];return m.prototype[N].apply(w,F)}}function E(u){const m=u.length;if(0<m){const p=Array(m);for(let w=0;w<m;w++)p[w]=u[w];return p}return[]}function A(u,m){for(let p=1;p<arguments.length;p++){const w=arguments[p];if(l(w)){const N=u.length||0,L=w.length||0;u.length=N+L;for(let F=0;F<L;F++)u[N+F]=w[F]}else u.push(w)}}class _{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function y(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=o.navigator;return u&&(u=u.userAgent)?u:""}function M(u){return M[" "](u),u}M[" "]=function(){};var C=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function V(u,m,p){for(const w in u)m.call(p,u[w],w,u)}function x(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function b(u){const m={};for(const p in u)m[p]=u[p];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,m){let p,w;for(let N=1;N<arguments.length;N++){w=arguments[N];for(p in w)u[p]=w[p];for(let L=0;L<R.length;L++)p=R[L],Object.prototype.hasOwnProperty.call(w,p)&&(u[p]=w[p])}}function O(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function k(u){o.setTimeout(()=>{throw u},0)}function D(){var u=mt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ut{constructor(){this.h=this.g=null}add(m,p){const w=ht.get();w.set(m,p),this.h?this.h.next=w:this.g=w,this.h=w}}var ht=new _(()=>new B,u=>u.reset());class B{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let G,Y=!1,mt=new Ut,bt=()=>{const u=o.Promise.resolve(void 0);G=()=>{u.then(yn)}};var yn=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(p){k(p)}var m=ht;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}Y=!1};function $t(){this.s=this.s,this.C=this.C}$t.prototype.s=!1,$t.prototype.ma=function(){this.s||(this.s=!0,this.N())},$t.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function At(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};o.addEventListener("test",p,m),o.removeEventListener("test",p,m)}catch{}return u}();function ye(u,m){if(At.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(C){t:{try{M(m.nodeName);var N=!0;break t}catch{}N=!1}N||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Zn[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ye.aa.h.call(this)}}v(ye,At);var Zn={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Rc="closure_listenable_"+(1e6*Math.random()|0),mI=0;function gI(u,m,p,w,N){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!w,this.ha=N,this.key=++mI,this.da=this.fa=!1}function Ic(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Cc(u){this.src=u,this.g={},this.h=0}Cc.prototype.add=function(u,m,p,w,N){var L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);var F=cd(u,m,w,N);return-1<F?(m=u[F],p||(m.fa=!1)):(m=new gI(m,this.src,L,!!w,N),m.fa=p,u.push(m)),m};function ld(u,m){var p=m.type;if(p in u.g){var w=u.g[p],N=Array.prototype.indexOf.call(w,m,void 0),L;(L=0<=N)&&Array.prototype.splice.call(w,N,1),L&&(Ic(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function cd(u,m,p,w){for(var N=0;N<u.length;++N){var L=u[N];if(!L.da&&L.listener==m&&L.capture==!!p&&L.ha==w)return N}return-1}var ud="closure_lm_"+(1e6*Math.random()|0),hd={};function F_(u,m,p,w,N){if(Array.isArray(m)){for(var L=0;L<m.length;L++)F_(u,m[L],p,w,N);return null}return p=G_(p),u&&u[Rc]?u.K(m,p,c(w)?!!w.capture:!1,N):pI(u,m,p,!1,w,N)}function pI(u,m,p,w,N,L){if(!m)throw Error("Invalid event type");var F=c(N)?!!N.capture:!!N,xt=dd(u);if(xt||(u[ud]=xt=new Cc(u)),p=xt.add(m,p,w,F,L),p.proxy)return p;if(w=yI(),p.proxy=w,w.src=u,w.listener=p,u.addEventListener)ce||(N=F),N===void 0&&(N=!1),u.addEventListener(m.toString(),w,N);else if(u.attachEvent)u.attachEvent(q_(m.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return p}function yI(){function u(p){return m.call(u.src,u.listener,p)}const m=_I;return u}function H_(u,m,p,w,N){if(Array.isArray(m))for(var L=0;L<m.length;L++)H_(u,m[L],p,w,N);else w=c(w)?!!w.capture:!!w,p=G_(p),u&&u[Rc]?(u=u.i,m=String(m).toString(),m in u.g&&(L=u.g[m],p=cd(L,p,w,N),-1<p&&(Ic(L[p]),Array.prototype.splice.call(L,p,1),L.length==0&&(delete u.g[m],u.h--)))):u&&(u=dd(u))&&(m=u.g[m.toString()],u=-1,m&&(u=cd(m,p,w,N)),(p=-1<u?m[u]:null)&&fd(p))}function fd(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Rc])ld(m.i,u);else{var p=u.type,w=u.proxy;m.removeEventListener?m.removeEventListener(p,w,u.capture):m.detachEvent?m.detachEvent(q_(p),w):m.addListener&&m.removeListener&&m.removeListener(w),(p=dd(m))?(ld(p,u),p.h==0&&(p.src=null,m[ud]=null)):Ic(u)}}}function q_(u){return u in hd?hd[u]:hd[u]="on"+u}function _I(u,m){if(u.da)u=!0;else{m=new ye(m,this);var p=u.listener,w=u.ha||u.src;u.fa&&fd(u),u=p.call(w,m)}return u}function dd(u){return u=u[ud],u instanceof Cc?u:null}var md="__closure_events_fn_"+(1e9*Math.random()>>>0);function G_(u){return typeof u=="function"?u:(u[md]||(u[md]=function(m){return u.handleEvent(m)}),u[md])}function _e(){$t.call(this),this.i=new Cc(this),this.M=this,this.F=null}v(_e,$t),_e.prototype[Rc]=!0,_e.prototype.removeEventListener=function(u,m,p,w){H_(this,u,m,p,w)};function Re(u,m){var p,w=u.F;if(w)for(p=[];w;w=w.F)p.push(w);if(u=u.M,w=m.type||m,typeof m=="string")m=new At(m,u);else if(m instanceof At)m.target=m.target||u;else{var N=m;m=new At(w,u),I(m,N)}if(N=!0,p)for(var L=p.length-1;0<=L;L--){var F=m.g=p[L];N=Dc(F,w,!0,m)&&N}if(F=m.g=u,N=Dc(F,w,!0,m)&&N,N=Dc(F,w,!1,m)&&N,p)for(L=0;L<p.length;L++)F=m.g=p[L],N=Dc(F,w,!1,m)&&N}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],w=0;w<p.length;w++)Ic(p[w]);delete u.g[m],u.h--}}this.F=null},_e.prototype.K=function(u,m,p,w){return this.i.add(String(u),m,!1,p,w)},_e.prototype.L=function(u,m,p,w){return this.i.add(String(u),m,!0,p,w)};function Dc(u,m,p,w){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var N=!0,L=0;L<m.length;++L){var F=m[L];if(F&&!F.da&&F.capture==p){var xt=F.listener,ue=F.ha||F.src;F.fa&&ld(u.i,F),N=xt.call(ue,w)!==!1&&N}}return N&&!w.defaultPrevented}function $_(u,m,p){if(typeof u=="function")p&&(u=d(u,p));else if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:o.setTimeout(u,m||0)}function Y_(u){u.g=$_(()=>{u.g=null,u.i&&(u.i=!1,Y_(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class vI extends $t{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Y_(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lo(u){$t.call(this),this.h=u,this.g={}}v(lo,$t);var K_=[];function W_(u){V(u.g,function(m,p){this.g.hasOwnProperty(p)&&fd(m)},u),u.g={}}lo.prototype.N=function(){lo.aa.N.call(this),W_(this)},lo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gd=o.JSON.stringify,bI=o.JSON.parse,EI=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function pd(){}pd.prototype.h=null;function Q_(u){return u.h||(u.h=u.i())}function X_(){}var co={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yd(){At.call(this,"d")}v(yd,At);function _d(){At.call(this,"c")}v(_d,At);var Ls={},Z_=null;function Oc(){return Z_=Z_||new _e}Ls.La="serverreachability";function J_(u){At.call(this,Ls.La,u)}v(J_,At);function uo(u){const m=Oc();Re(m,new J_(m))}Ls.STAT_EVENT="statevent";function t0(u,m){At.call(this,Ls.STAT_EVENT,u),this.stat=m}v(t0,At);function Ie(u){const m=Oc();Re(m,new t0(m,u))}Ls.Ma="timingevent";function e0(u,m){At.call(this,Ls.Ma,u),this.size=m}v(e0,At);function ho(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},m)}function fo(){this.g=!0}fo.prototype.xa=function(){this.g=!1};function TI(u,m,p,w,N,L){u.info(function(){if(u.g)if(L)for(var F="",xt=L.split("&"),ue=0;ue<xt.length;ue++){var ct=xt[ue].split("=");if(1<ct.length){var ve=ct[0];ct=ct[1];var be=ve.split("_");F=2<=be.length&&be[1]=="type"?F+(ve+"="+ct+"&"):F+(ve+"=redacted&")}}else F=null;else F=L;return"XMLHTTP REQ ("+w+") [attempt "+N+"]: "+m+`
`+p+`
`+F})}function xI(u,m,p,w,N,L,F){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+N+"]: "+m+`
`+p+`
`+L+" "+F})}function kr(u,m,p,w){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+SI(u,p)+(w?" "+w:"")})}function wI(u,m){u.info(function(){return"TIMEOUT: "+m})}fo.prototype.info=function(){};function SI(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var w=p[u];if(!(2>w.length)){var N=w[1];if(Array.isArray(N)&&!(1>N.length)){var L=N[0];if(L!="noop"&&L!="stop"&&L!="close")for(var F=1;F<N.length;F++)N[F]=""}}}}return gd(p)}catch{return m}}var Mc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},n0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vd;function kc(){}v(kc,pd),kc.prototype.g=function(){return new XMLHttpRequest},kc.prototype.i=function(){return{}},vd=new kc;function Vi(u,m,p,w){this.j=u,this.i=m,this.l=p,this.R=w||1,this.U=new lo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new i0}function i0(){this.i=null,this.g="",this.h=!1}var s0={},bd={};function Ed(u,m,p){u.L=1,u.v=Lc(Jn(m)),u.m=p,u.P=!0,r0(u,null)}function r0(u,m){u.F=Date.now(),Nc(u),u.A=Jn(u.v);var p=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),v0(p.i,"t",w),u.C=0,p=u.j.J,u.h=new i0,u.g=L0(u.j,p?m:null,!u.m),0<u.O&&(u.M=new vI(d(u.Y,u,u.g),u.O)),m=u.U,p=u.g,w=u.ca;var N="readystatechange";Array.isArray(N)||(N&&(K_[0]=N.toString()),N=K_);for(var L=0;L<N.length;L++){var F=F_(p,N[L],w||m.handleEvent,!1,m.h||m);if(!F)break;m.g[F.key]=F}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),uo(),TI(u.i,u.u,u.A,u.l,u.R,u.m)}Vi.prototype.ca=function(u){u=u.target;const m=this.M;m&&ti(u)==3?m.j():this.Y(u)},Vi.prototype.Y=function(u){try{if(u==this.g)t:{const be=ti(this.g);var m=this.g.Ba();const Vr=this.g.Z();if(!(3>be)&&(be!=3||this.g&&(this.h.h||this.g.oa()||A0(this.g)))){this.J||be!=4||m==7||(m==8||0>=Vr?uo(3):uo(2)),Td(this);var p=this.g.Z();this.X=p;e:if(a0(this)){var w=A0(this.g);u="";var N=w.length,L=ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Us(this),mo(this);var F="";break e}this.h.i=new o.TextDecoder}for(m=0;m<N;m++)this.h.h=!0,u+=this.h.i.decode(w[m],{stream:!(L&&m==N-1)});w.length=0,this.h.g+=u,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=p==200,xI(this.i,this.u,this.A,this.l,this.R,be,p),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,ue=this.g;if((xt=ue.g?ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(xt)){var ct=xt;break e}}ct=null}if(p=ct)kr(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xd(this,p);else{this.o=!1,this.s=3,Ie(12),Us(this),mo(this);break t}}if(this.P){p=!0;let _n;for(;!this.J&&this.C<F.length;)if(_n=AI(this,F),_n==bd){be==4&&(this.s=4,Ie(14),p=!1),kr(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==s0){this.s=4,Ie(15),kr(this.i,this.l,F,"[Invalid Chunk]"),p=!1;break}else kr(this.i,this.l,_n,null),xd(this,_n);if(a0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||F.length!=0||this.h.h||(this.s=1,Ie(16),p=!1),this.o=this.o&&p,!p)kr(this.i,this.l,F,"[Invalid Chunked Response]"),Us(this),mo(this);else if(0<F.length&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.ba&&!ve.M&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Cd(ve),ve.M=!0,Ie(11))}}else kr(this.i,this.l,F,null),xd(this,F);be==4&&Us(this),this.o&&!this.J&&(be==4?k0(this.j,this):(this.o=!1,Nc(this)))}else HI(this.g),p==400&&0<F.indexOf("Unknown SID")?(this.s=3,Ie(12)):(this.s=0,Ie(13)),Us(this),mo(this)}}}catch{}finally{}};function a0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function AI(u,m){var p=u.C,w=m.indexOf(`
`,p);return w==-1?bd:(p=Number(m.substring(p,w)),isNaN(p)?s0:(w+=1,w+p>m.length?bd:(m=m.slice(w,w+p),u.C=w+p,m)))}Vi.prototype.cancel=function(){this.J=!0,Us(this)};function Nc(u){u.S=Date.now()+u.I,o0(u,u.I)}function o0(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ho(d(u.ba,u),m)}function Td(u){u.B&&(o.clearTimeout(u.B),u.B=null)}Vi.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(wI(this.i,this.A),this.L!=2&&(uo(),Ie(17)),Us(this),this.s=2,mo(this)):o0(this,this.S-u)};function mo(u){u.j.G==0||u.J||k0(u.j,u)}function Us(u){Td(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,W_(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function xd(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||wd(p.h,u))){if(!u.K&&wd(p.h,u)&&p.G==3){try{var w=p.Da.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var N=w;if(N[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Hc(p),Bc(p);else break t;Id(p),Ie(18)}}else p.za=N[1],0<p.za-p.T&&37500>N[2]&&p.F&&p.v==0&&!p.C&&(p.C=ho(d(p.Za,p),6e3));if(1>=u0(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else zs(p,11)}else if((u.K||p.g==u)&&Hc(p),!y(m))for(N=p.Da.g.parse(m),m=0;m<N.length;m++){let ct=N[m];if(p.T=ct[0],ct=ct[1],p.G==2)if(ct[0]=="c"){p.K=ct[1],p.ia=ct[2];const ve=ct[3];ve!=null&&(p.la=ve,p.j.info("VER="+p.la));const be=ct[4];be!=null&&(p.Aa=be,p.j.info("SVER="+p.Aa));const Vr=ct[5];Vr!=null&&typeof Vr=="number"&&0<Vr&&(w=1.5*Vr,p.L=w,p.j.info("backChannelRequestTimeoutMs_="+w)),w=p;const _n=u.g;if(_n){const Gc=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gc){var L=w.h;L.g||Gc.indexOf("spdy")==-1&&Gc.indexOf("quic")==-1&&Gc.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Sd(L,L.h),L.h=null))}if(w.D){const Dd=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;Dd&&(w.ya=Dd,It(w.I,w.D,Dd))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),w=p;var F=u;if(w.qa=V0(w,w.J?w.ia:null,w.W),F.K){h0(w.h,F);var xt=F,ue=w.L;ue&&(xt.I=ue),xt.B&&(Td(xt),Nc(xt)),w.g=F}else O0(w);0<p.i.length&&Fc(p)}else ct[0]!="stop"&&ct[0]!="close"||zs(p,7);else p.G==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?zs(p,7):Rd(p):ct[0]!="noop"&&p.l&&p.l.ta(ct),p.v=0)}}uo(4)}catch{}}var RI=class{constructor(u,m){this.g=u,this.map=m}};function l0(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function c0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function u0(u){return u.h?1:u.g?u.g.size:0}function wd(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Sd(u,m){u.g?u.g.add(m):u.h=m}function h0(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}l0.prototype.cancel=function(){if(this.i=f0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function f0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return E(u.i)}function II(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],p=u.length,w=0;w<p;w++)m.push(u[w]);return m}m=[],p=0;for(w in u)m[p++]=u[w];return m}function CI(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const w in u)m[p++]=w;return m}}}function d0(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=CI(u),w=II(u),N=w.length,L=0;L<N;L++)m.call(void 0,w[L],p&&p[L],u)}var m0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DI(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var w=u[p].indexOf("="),N=null;if(0<=w){var L=u[p].substring(0,w);N=u[p].substring(w+1)}else L=u[p];m(L,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function js(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof js){this.h=u.h,Pc(this,u.j),this.o=u.o,this.g=u.g,Vc(this,u.s),this.l=u.l;var m=u.i,p=new yo;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),g0(this,p),this.m=u.m}else u&&(m=String(u).match(m0))?(this.h=!1,Pc(this,m[1]||"",!0),this.o=go(m[2]||""),this.g=go(m[3]||"",!0),Vc(this,m[4]),this.l=go(m[5]||"",!0),g0(this,m[6]||"",!0),this.m=go(m[7]||"")):(this.h=!1,this.i=new yo(null,this.h))}js.prototype.toString=function(){var u=[],m=this.j;m&&u.push(po(m,p0,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(po(m,p0,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(po(p,p.charAt(0)=="/"?kI:MI,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",po(p,PI)),u.join("")};function Jn(u){return new js(u)}function Pc(u,m,p){u.j=p?go(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Vc(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function g0(u,m,p){m instanceof yo?(u.i=m,VI(u.i,u.h)):(p||(m=po(m,NI)),u.i=new yo(m,u.h))}function It(u,m,p){u.i.set(m,p)}function Lc(u){return It(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function go(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function po(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,OI),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function OI(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var p0=/[#\/\?@]/g,MI=/[#\?:]/g,kI=/[#\?]/g,NI=/[#\?@]/g,PI=/#/g;function yo(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Li(u){u.g||(u.g=new Map,u.h=0,u.i&&DI(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}e=yo.prototype,e.add=function(u,m){Li(this),this.i=null,u=Nr(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function y0(u,m){Li(u),m=Nr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function _0(u,m){return Li(u),m=Nr(u,m),u.g.has(m)}e.forEach=function(u,m){Li(this),this.g.forEach(function(p,w){p.forEach(function(N){u.call(m,N,w,this)},this)},this)},e.na=function(){Li(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let w=0;w<m.length;w++){const N=u[w];for(let L=0;L<N.length;L++)p.push(m[w])}return p},e.V=function(u){Li(this);let m=[];if(typeof u=="string")_0(this,u)&&(m=m.concat(this.g.get(Nr(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},e.set=function(u,m){return Li(this),this.i=null,u=Nr(this,u),_0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},e.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function v0(u,m,p){y0(u,m),0<p.length&&(u.i=null,u.g.set(Nr(u,m),E(p)),u.h+=p.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var w=m[p];const L=encodeURIComponent(String(w)),F=this.V(w);for(w=0;w<F.length;w++){var N=L;F[w]!==""&&(N+="="+encodeURIComponent(String(F[w]))),u.push(N)}}return this.i=u.join("&")};function Nr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function VI(u,m){m&&!u.j&&(Li(u),u.i=null,u.g.forEach(function(p,w){var N=w.toLowerCase();w!=N&&(y0(this,w),v0(this,N,p))},u)),u.j=m}function LI(u,m){const p=new fo;if(o.Image){const w=new Image;w.onload=g(Ui,p,"TestLoadImage: loaded",!0,m,w),w.onerror=g(Ui,p,"TestLoadImage: error",!1,m,w),w.onabort=g(Ui,p,"TestLoadImage: abort",!1,m,w),w.ontimeout=g(Ui,p,"TestLoadImage: timeout",!1,m,w),o.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else m(!1)}function UI(u,m){const p=new fo,w=new AbortController,N=setTimeout(()=>{w.abort(),Ui(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:w.signal}).then(L=>{clearTimeout(N),L.ok?Ui(p,"TestPingServer: ok",!0,m):Ui(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(N),Ui(p,"TestPingServer: error",!1,m)})}function Ui(u,m,p,w,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),w(p)}catch{}}function jI(){this.g=new EI}function zI(u,m,p){const w=p||"";try{d0(u,function(N,L){let F=N;c(N)&&(F=gd(N)),m.push(w+L+"="+encodeURIComponent(F))})}catch(N){throw m.push(w+"type="+encodeURIComponent("_badmap")),N}}function Uc(u){this.l=u.Ub||null,this.j=u.eb||!1}v(Uc,pd),Uc.prototype.g=function(){return new jc(this.l,this.j)},Uc.prototype.i=function(u){return function(){return u}}({});function jc(u,m){_e.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(jc,_e),e=jc.prototype,e.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,vo(this)},e.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||o).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_o(this)),this.readyState=0},e.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,vo(this)),this.g&&(this.readyState=3,vo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;b0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function b0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}e.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?_o(this):vo(this),this.readyState==3&&b0(this)}},e.Ra=function(u){this.g&&(this.response=this.responseText=u,_o(this))},e.Qa=function(u){this.g&&(this.response=u,_o(this))},e.ga=function(){this.g&&_o(this)};function _o(u){u.readyState=4,u.l=null,u.j=null,u.v=null,vo(u)}e.setRequestHeader=function(u,m){this.u.append(u,m)},e.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function vo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(jc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function E0(u){let m="";return V(u,function(p,w){m+=w,m+=":",m+=p,m+=`\r
`}),m}function Ad(u,m,p){t:{for(w in p){var w=!1;break t}w=!0}w||(p=E0(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):It(u,m,p))}function jt(u){_e.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(jt,_e);var BI=/^https?$/i,FI=["POST","PUT"];e=jt.prototype,e.Ha=function(u){this.J=u},e.ea=function(u,m,p,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vd.g(),this.v=this.o?Q_(this.o):Q_(vd),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(L){T0(this,L);return}if(u=p||"",p=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var N in w)p.set(N,w[N]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const L of w.keys())p.set(L,w.get(L));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(p.keys()).find(L=>L.toLowerCase()=="content-type"),N=o.FormData&&u instanceof o.FormData,!(0<=Array.prototype.indexOf.call(FI,m,void 0))||w||N||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,F]of p)this.g.setRequestHeader(L,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{S0(this),this.u=!0,this.g.send(u),this.u=!1}catch(L){T0(this,L)}};function T0(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,x0(u),zc(u)}function x0(u){u.A||(u.A=!0,Re(u,"complete"),Re(u,"error"))}e.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Re(this,"complete"),Re(this,"abort"),zc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zc(this,!0)),jt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?w0(this):this.bb())},e.bb=function(){w0(this)};function w0(u){if(u.h&&typeof a<"u"&&(!u.v[1]||ti(u)!=4||u.Z()!=2)){if(u.u&&ti(u)==4)$_(u.Ea,0,u);else if(Re(u,"readystatechange"),ti(u)==4){u.h=!1;try{const F=u.Z();t:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var w;if(w=F===0){var N=String(u.D).match(m0)[1]||null;!N&&o.self&&o.self.location&&(N=o.self.location.protocol.slice(0,-1)),w=!BI.test(N?N.toLowerCase():"")}p=w}if(p)Re(u,"complete"),Re(u,"success");else{u.m=6;try{var L=2<ti(u)?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.Z()+"]",x0(u)}}finally{zc(u)}}}}function zc(u,m){if(u.g){S0(u);const p=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Re(u,"ready");try{p.onreadystatechange=w}catch{}}}function S0(u){u.I&&(o.clearTimeout(u.I),u.I=null)}e.isActive=function(){return!!this.g};function ti(u){return u.g?u.g.readyState:0}e.Z=function(){try{return 2<ti(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),bI(m)}};function A0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function HI(u){const m={};u=(u.g&&2<=ti(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(y(u[w]))continue;var p=O(u[w]);const N=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const L=m[N]||[];m[N]=L,L.push(p)}x(m,function(w){return w.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bo(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function R0(u){this.Aa=0,this.i=[],this.j=new fo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bo("baseRetryDelayMs",5e3,u),this.cb=bo("retryDelaySeedMs",1e4,u),this.Wa=bo("forwardChannelMaxRetries",2,u),this.wa=bo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new l0(u&&u.concurrentRequestLimit),this.Da=new jI,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=R0.prototype,e.la=8,e.G=1,e.connect=function(u,m,p,w){Ie(0),this.W=u,this.H=m||{},p&&w!==void 0&&(this.H.OSID=p,this.H.OAID=w),this.F=this.X,this.I=V0(this,null,this.W),Fc(this)};function Rd(u){if(I0(u),u.G==3){var m=u.U++,p=Jn(u.I);if(It(p,"SID",u.K),It(p,"RID",m),It(p,"TYPE","terminate"),Eo(u,p),m=new Vi(u,u.j,m),m.L=2,m.v=Lc(Jn(p)),p=!1,o.navigator&&o.navigator.sendBeacon)try{p=o.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&o.Image&&(new Image().src=m.v,p=!0),p||(m.g=L0(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Nc(m)}P0(u)}function Bc(u){u.g&&(Cd(u),u.g.cancel(),u.g=null)}function I0(u){Bc(u),u.u&&(o.clearTimeout(u.u),u.u=null),Hc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&o.clearTimeout(u.s),u.s=null)}function Fc(u){if(!c0(u.h)&&!u.s){u.s=!0;var m=u.Ga;G||bt(),Y||(G(),Y=!0),mt.add(m,u),u.B=0}}function qI(u,m){return u0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ho(d(u.Ga,u,m),N0(u,u.B)),u.B++,!0)}e.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const N=new Vi(this,this.j,u);let L=this.o;if(this.S&&(L?(L=b(L),I(L,this.S)):L=this.S),this.m!==null||this.O||(N.H=L,L=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var w=this.i[p];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(m+=w,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=D0(this,N,m),p=Jn(this.I),It(p,"RID",u),It(p,"CVER",22),this.D&&It(p,"X-HTTP-Session-Id",this.D),Eo(this,p),L&&(this.O?m="headers="+encodeURIComponent(String(E0(L)))+"&"+m:this.m&&Ad(p,this.m,L)),Sd(this.h,N),this.Ua&&It(p,"TYPE","init"),this.P?(It(p,"$req",m),It(p,"SID","null"),N.T=!0,Ed(N,p,null)):Ed(N,p,m),this.G=2}}else this.G==3&&(u?C0(this,u):this.i.length==0||c0(this.h)||C0(this))};function C0(u,m){var p;m?p=m.l:p=u.U++;const w=Jn(u.I);It(w,"SID",u.K),It(w,"RID",p),It(w,"AID",u.T),Eo(u,w),u.m&&u.o&&Ad(w,u.m,u.o),p=new Vi(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=D0(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Sd(u.h,p),Ed(p,w,m)}function Eo(u,m){u.H&&V(u.H,function(p,w){It(m,w,p)}),u.l&&d0({},function(p,w){It(m,w,p)})}function D0(u,m,p){p=Math.min(u.i.length,p);var w=u.l?d(u.l.Na,u.l,u):null;t:{var N=u.i;let L=-1;for(;;){const F=["count="+p];L==-1?0<p?(L=N[0].g,F.push("ofs="+L)):L=0:F.push("ofs="+L);let xt=!0;for(let ue=0;ue<p;ue++){let ct=N[ue].g;const ve=N[ue].map;if(ct-=L,0>ct)L=Math.max(0,N[ue].g-100),xt=!1;else try{zI(ve,F,"req"+ct+"_")}catch{w&&w(ve)}}if(xt){w=F.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,w}function O0(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;G||bt(),Y||(G(),Y=!0),mt.add(m,u),u.v=0}}function Id(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ho(d(u.Fa,u),N0(u,u.v)),u.v++,!0)}e.Fa=function(){if(this.u=null,M0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ho(d(this.ab,this),u)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ie(10),Bc(this),M0(this))};function Cd(u){u.A!=null&&(o.clearTimeout(u.A),u.A=null)}function M0(u){u.g=new Vi(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Jn(u.qa);It(m,"RID","rpc"),It(m,"SID",u.K),It(m,"AID",u.T),It(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&It(m,"TO",u.ja),It(m,"TYPE","xmlhttp"),Eo(u,m),u.m&&u.o&&Ad(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Lc(Jn(m)),p.m=null,p.P=!0,r0(p,u)}e.Za=function(){this.C!=null&&(this.C=null,Bc(this),Id(this),Ie(19))};function Hc(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function k0(u,m){var p=null;if(u.g==m){Hc(u),Cd(u),u.g=null;var w=2}else if(wd(u.h,m))p=m.D,h0(u.h,m),w=1;else return;if(u.G!=0){if(m.o)if(w==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var N=u.B;w=Oc(),Re(w,new e0(w,p)),Fc(u)}else O0(u);else if(N=m.s,N==3||N==0&&0<m.X||!(w==1&&qI(u,m)||w==2&&Id(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),N){case 1:zs(u,5);break;case 4:zs(u,10);break;case 3:zs(u,6);break;default:zs(u,2)}}}function N0(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function zs(u,m){if(u.j.info("Error code "+m),m==2){var p=d(u.fb,u),w=u.Xa;const N=!w;w=new js(w||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Pc(w,"https"),Lc(w),N?LI(w.toString(),p):UI(w.toString(),p)}else Ie(2);u.G=0,u.l&&u.l.sa(m),P0(u),I0(u)}e.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))};function P0(u){if(u.G=0,u.ka=[],u.l){const m=f0(u.h);(m.length!=0||u.i.length!=0)&&(A(u.ka,m),A(u.ka,u.i),u.h.i.length=0,E(u.i),u.i.length=0),u.l.ra()}}function V0(u,m,p){var w=p instanceof js?Jn(p):new js(p);if(w.g!="")m&&(w.g=m+"."+w.g),Vc(w,w.s);else{var N=o.location;w=N.protocol,m=m?m+"."+N.hostname:N.hostname,N=+N.port;var L=new js(null);w&&Pc(L,w),m&&(L.g=m),N&&Vc(L,N),p&&(L.l=p),w=L}return p=u.D,m=u.ya,p&&m&&It(w,p,m),It(w,"VER",u.la),Eo(u,w),w}function L0(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new jt(new Uc({eb:p})):new jt(u.pa),m.Ha(u.J),m}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function U0(){}e=U0.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function qc(){}qc.prototype.g=function(u,m){return new He(u,m)};function He(u,m){_e.call(this),this.g=new R0(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!y(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!y(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Pr(this)}v(He,_e),He.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},He.prototype.close=function(){Rd(this.g)},He.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=gd(u),u=p);m.i.push(new RI(m.Ya++,u)),m.G==3&&Fc(m)},He.prototype.N=function(){this.g.l=null,delete this.j,Rd(this.g),delete this.g,He.aa.N.call(this)};function j0(u){yd.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}v(j0,yd);function z0(){_d.call(this),this.status=1}v(z0,_d);function Pr(u){this.g=u}v(Pr,U0),Pr.prototype.ua=function(){Re(this.g,"a")},Pr.prototype.ta=function(u){Re(this.g,new j0(u))},Pr.prototype.sa=function(u){Re(this.g,new z0)},Pr.prototype.ra=function(){Re(this.g,"b")},qc.prototype.createWebChannel=qc.prototype.g,He.prototype.send=He.prototype.o,He.prototype.open=He.prototype.m,He.prototype.close=He.prototype.close,Q1=function(){return new qc},W1=function(){return Oc()},K1=Ls,$g={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mc.NO_ERROR=0,Mc.TIMEOUT=8,Mc.HTTP_ERROR=6,qu=Mc,n0.COMPLETE="complete",Y1=n0,X_.EventType=co,co.OPEN="a",co.CLOSE="b",co.ERROR="c",co.MESSAGE="d",_e.prototype.listen=_e.prototype.K,Fo=X_,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,$1=jt}).apply(typeof lu<"u"?lu:typeof self<"u"?self:typeof window<"u"?window:{});const Mb="@firebase/firestore",kb="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Te.UNAUTHENTICATED=new Te(null),Te.GOOGLE_CREDENTIALS=new Te("google-credentials-uid"),Te.FIRST_PARTY=new Te("first-party-uid"),Te.MOCK_USER=new Te("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new jf("@firebase/firestore");function qr(){return fr.logLevel}function H(e,...t){if(fr.logLevel<=st.DEBUG){const n=t.map(Py);fr.debug(`Firestore (${to}): ${e}`,...n)}}function Ci(e,...t){if(fr.logLevel<=st.ERROR){const n=t.map(Py);fr.error(`Firestore (${to}): ${e}`,...n)}}function ka(e,...t){if(fr.logLevel<=st.WARN){const n=t.map(Py);fr.warn(`Firestore (${to}): ${e}`,...n)}}function Py(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,X1(e,i,n)}function X1(e,t,n){let i=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Ci(i),new Error(i)}function gt(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||X1(t,s,i)}function Z(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Mn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class oP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Te.UNAUTHENTICATED))}shutdown(){}}class lP{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cP{constructor(t){this.t=t,this.currentUser=Te.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){gt(this.o===void 0,42304);let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let r=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new vs,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=r;t.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},o=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new vs)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(gt(typeof i.accessToken=="string",31837,{l:i}),new Z1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return gt(t===null||typeof t=="string",2055,{h:t}),new Te(t)}}class uP{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=Te.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hP{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new uP(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Te.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Nb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fP{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){gt(this.o===void 0,3512);const i=r=>{r.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Nb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(gt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Nb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=dP(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=t.charAt(s[r]%62))}return i}}function tt(e,t){return e<t?-1:e>t?1:0}function Yg(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),s=t.codePointAt(n);if(i!==s){if(i<128&&s<128)return tt(i,s);{const r=J1(),a=mP(r.encode(Pb(e,n)),r.encode(Pb(t,n)));return a!==0?a:tt(i,s)}}n+=i>65535?2:1}return tt(e.length,t.length)}function Pb(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function mP(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return tt(e[n],t[n]);return tt(e.length,t.length)}function Na(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=-62135596800,Lb=1e6;class Xt{static now(){return Xt.fromMillis(Date.now())}static fromDate(t){return Xt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*Lb);return new Xt(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new q(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Vb)throw new q(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new q(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lb}_compareTo(t){return this.seconds===t.seconds?tt(this.nanoseconds,t.nanoseconds):tt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Vb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{static fromTimestamp(t){return new X(t)}static min(){return new X(new Xt(0,0))}static max(){return new X(new Xt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="__name__";class Ln{constructor(t,n,i){n===void 0?n=0:n>t.length&&W(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&W(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Ln.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ln?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const r=Ln.compareSegments(t.get(s),n.get(s));if(r!==0)return r}return tt(t.length,n.length)}static compareSegments(t,n){const i=Ln.isNumericId(t),s=Ln.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Ln.extractNumericId(t).compare(Ln.extractNumericId(n)):Yg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return _s.fromString(t.substring(4,t.length-2))}}class Dt extends Ln{construct(t,n,i){return new Dt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new q(j.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const gP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class me extends Ln{construct(t,n,i){return new me(t,n,i)}static isValidIdentifier(t){return gP.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),me.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ub}static keyField(){return new me([Ub])}static fromServerFormat(t){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new q(j.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<t.length;){const o=t[s];if(o==="\\"){if(s+1===t.length)throw new q(j.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(i+=o,s++):(r(),s++)}if(r(),a)throw new q(j.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new me(n)}static emptyPath(){return new me([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.path=t}static fromPath(t){return new $(Dt.fromString(t))}static fromName(t){return new $(Dt.fromString(t).popFirst(5))}static empty(){return new $(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Dt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Dt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new $(new Dt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=-1;function pP(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=X.fromTimestamp(i===1e9?new Xt(n+1,0):new Xt(n,i));return new Is(s,$.empty(),t)}function yP(e){return new Is(e.readTime,e.key,jl)}class Is{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Is(X.min(),$.empty(),jl)}static max(){return new Is(X.max(),$.empty(),jl)}}function _P(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=$.comparator(e.documentKey,t.documentKey),n!==0?n:tt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(e){if(e.code!==j.FAILED_PRECONDITION||e.message!==vP)throw e;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&W(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new U((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):U.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):U.reject(n)}static resolve(t){return new U((n,i)=>{n(t)})}static reject(t){return new U((n,i)=>{i(t)})}static waitFor(t){return new U((n,i)=>{let s=0,r=0,a=!1;t.forEach(o=>{++s,o.next(()=>{++r,a&&r===s&&n()},l=>i(l))}),a=!0,r===s&&n()})}static or(t){let n=U.resolve(!1);for(const i of t)n=n.next(s=>s?U.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(t,n){return new U((i,s)=>{const r=t.length,a=new Array(r);let o=0;for(let l=0;l<r;l++){const c=l;n(t[c]).next(h=>{a[c]=h,++o,o===r&&i(a)},h=>s(h))}})}static doWhile(t,n){return new U((i,s)=>{const r=()=>{t()===!0?n().next(()=>{r()},s):i()};r()})}}function EP(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function no(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}zf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=-1;function Bf(e){return e==null}function zh(e){return e===0&&1/e==-1/0}function TP(e){return typeof e=="number"&&Number.isInteger(e)&&!zh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="";function xP(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=jb(t)),t=wP(e.get(n),t);return jb(t)}function wP(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const r=e.charAt(s);switch(r){case"\0":n+="";break;case eA:n+="";break;default:n+=r}}return n}function jb(e){return e+eA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Rr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function nA(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t,n){this.comparator=t,this.root=n||fe.EMPTY}insert(t,n){return new Lt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,fe.BLACK,null,null))}remove(t){return new Lt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new cu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new cu(this.root,t,this.comparator,!1)}getReverseIterator(){return new cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new cu(this.root,t,this.comparator,!0)}}class cu{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?i(t.key,n):1,n&&s&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class fe{constructor(t,n,i,s,r){this.key=t,this.value=n,this.color=i??fe.RED,this.left=s??fe.EMPTY,this.right=r??fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,r){return new fe(t??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const r=i(t,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(t,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return fe.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw W(43730,{key:this.key,value:this.value});if(this.right.isRed())throw W(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw W(27949);return t+(this.isRed()?0:1)}}fe.EMPTY=null,fe.RED=!0,fe.BLACK=!1;fe.EMPTY=new class{constructor(){this.size=0}get key(){throw W(57766)}get value(){throw W(16141)}get color(){throw W(16727)}get left(){throw W(29726)}get right(){throw W(36894)}copy(t,n,i,s,r){return this}insert(t,n,i){return new fe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(t){this.comparator=t,this.data=new Lt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bb(this.data.getIterator())}getIteratorFrom(t){return new Bb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof te)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new te(this.comparator);return n.data=t,n}}class Bb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t){this.fields=t,t.sort(me.comparator)}static empty(){return new bn([])}unionWith(t){let n=new te(me.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new bn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Na(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new iA("Invalid base64 string: "+r):r}}(t);return new pe(n)}static fromUint8Array(t){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(t);return new pe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return tt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}pe.EMPTY_BYTE_STRING=new pe("");const SP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(e){if(gt(!!e,39018),typeof e=="string"){let t=0;const n=SP.exec(e);if(gt(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:qt(e.seconds),nanos:qt(e.nanos)}}function qt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ds(e){return typeof e=="string"?pe.fromBase64String(e):pe.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="server_timestamp",rA="__type__",aA="__previous_value__",oA="__local_write_time__";function Ly(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[rA])===null||n===void 0?void 0:n.stringValue)===sA}function Ff(e){const t=e.mapValue.fields[aA];return Ly(t)?Ff(t):t}function zl(e){const t=Cs(e.mapValue.fields[oA].timestampValue);return new Xt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(t,n,i,s,r,a,o,l,c,h){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const Bh="(default)";class Bl{constructor(t,n){this.projectId=t,this.database=n||Bh}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===Bh}isEqual(t){return t instanceof Bl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="__type__",RP="__max__",uu={mapValue:{}},cA="__vector__",Fh="value";function Os(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ly(e)?4:CP(e)?9007199254740991:IP(e)?10:11:W(28295,{value:e})}function Kn(e,t){if(e===t)return!0;const n=Os(e);if(n!==Os(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return zl(e).isEqual(zl(t));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=Cs(s.timestampValue),o=Cs(r.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,r){return Ds(s.bytesValue).isEqual(Ds(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,r){return qt(s.geoPointValue.latitude)===qt(r.geoPointValue.latitude)&&qt(s.geoPointValue.longitude)===qt(r.geoPointValue.longitude)}(e,t);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return qt(s.integerValue)===qt(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=qt(s.doubleValue),o=qt(r.doubleValue);return a===o?zh(a)===zh(o):isNaN(a)&&isNaN(o)}return!1}(e,t);case 9:return Na(e.arrayValue.values||[],t.arrayValue.values||[],Kn);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},o=r.mapValue.fields||{};if(zb(a)!==zb(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Kn(a[l],o[l])))return!1;return!0}(e,t);default:return W(52216,{left:e})}}function Fl(e,t){return(e.values||[]).find(n=>Kn(n,t))!==void 0}function Pa(e,t){if(e===t)return 0;const n=Os(e),i=Os(t);if(n!==i)return tt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(e.booleanValue,t.booleanValue);case 2:return function(r,a){const o=qt(r.integerValue||r.doubleValue),l=qt(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return Fb(e.timestampValue,t.timestampValue);case 4:return Fb(zl(e),zl(t));case 5:return Yg(e.stringValue,t.stringValue);case 6:return function(r,a){const o=Ds(r),l=Ds(a);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(r,a){const o=r.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const h=tt(o[c],l[c]);if(h!==0)return h}return tt(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,a){const o=tt(qt(r.latitude),qt(a.latitude));return o!==0?o:tt(qt(r.longitude),qt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Hb(e.arrayValue,t.arrayValue);case 10:return function(r,a){var o,l,c,h;const f=r.fields||{},d=a.fields||{},g=(o=f[Fh])===null||o===void 0?void 0:o.arrayValue,v=(l=d[Fh])===null||l===void 0?void 0:l.arrayValue,E=tt(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=v==null?void 0:v.values)===null||h===void 0?void 0:h.length)||0);return E!==0?E:Hb(g,v)}(e.mapValue,t.mapValue);case 11:return function(r,a){if(r===uu.mapValue&&a===uu.mapValue)return 0;if(r===uu.mapValue)return 1;if(a===uu.mapValue)return-1;const o=r.fields||{},l=Object.keys(o),c=a.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const d=Yg(l[f],h[f]);if(d!==0)return d;const g=Pa(o[l[f]],c[h[f]]);if(g!==0)return g}return tt(l.length,h.length)}(e.mapValue,t.mapValue);default:throw W(23264,{Pe:n})}}function Fb(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return tt(e,t);const n=Cs(e),i=Cs(t),s=tt(n.seconds,i.seconds);return s!==0?s:tt(n.nanos,i.nanos)}function Hb(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=Pa(n[s],i[s]);if(r)return r}return tt(n.length,i.length)}function Va(e){return Kg(e)}function Kg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Cs(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Ds(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return $.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=Kg(r);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${Kg(n.fields[a])}`;return s+"}"}(e.mapValue):W(61005,{value:e})}function Gu(e){switch(Os(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ff(e);return t?16+Gu(t):16;case 5:return 2*e.stringValue.length;case 6:return Ds(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+Gu(r),0)}(e.arrayValue);case 10:case 11:return function(i){let s=0;return Rr(i.fields,(r,a)=>{s+=r.length+Gu(a)}),s}(e.mapValue);default:throw W(13486,{value:e})}}function qb(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Wg(e){return!!e&&"integerValue"in e}function Uy(e){return!!e&&"arrayValue"in e}function Gb(e){return!!e&&"nullValue"in e}function $b(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $u(e){return!!e&&"mapValue"in e}function IP(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[lA])===null||n===void 0?void 0:n.stringValue)===cA}function hl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Rr(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=hl(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=hl(e.arrayValue.values[n]);return t}return Object.assign({},e)}function CP(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===RP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.value=t}static empty(){return new un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!$u(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=hl(n)}setAll(t){let n=me.emptyPath(),i={},s=[];t.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,i,s),i={},s=[],n=o.popLast()}a?i[o.lastSegment()]=hl(a):s.push(o.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(t){const n=this.field(t.popLast());$u(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Kn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];$u(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){Rr(n,(s,r)=>t[s]=r);for(const s of i)delete t[s]}clone(){return new un(hl(this.value))}}function uA(e){const t=[];return Rr(e.fields,(n,i)=>{const s=new me([n]);if($u(i)){const r=uA(i.mapValue).fields;if(r.length===0)t.push(s);else for(const a of r)t.push(s.child(a))}else t.push(s)}),new bn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t,n,i,s,r,a,o){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=o}static newInvalidDocument(t){return new xe(t,0,X.min(),X.min(),X.min(),un.empty(),0)}static newFoundDocument(t,n,i,s){return new xe(t,1,n,X.min(),i,s,0)}static newNoDocument(t,n){return new xe(t,2,n,X.min(),X.min(),un.empty(),0)}static newUnknownDocument(t,n){return new xe(t,3,n,X.min(),X.min(),un.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(t,n){this.position=t,this.inclusive=n}}function Yb(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const r=t[s],a=e.position[s];if(r.field.isKeyField()?i=$.comparator($.fromName(a.referenceValue),n.key):i=Pa(a,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function Kb(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Kn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(t,n="asc"){this.field=t,this.dir=n}}function DP(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{}class Wt extends hA{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new MP(t,n,i):n==="array-contains"?new PP(t,i):n==="in"?new VP(t,i):n==="not-in"?new LP(t,i):n==="array-contains-any"?new UP(t,i):new Wt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new kP(t,i):new NP(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Pa(n,this.value)):n!==null&&Os(this.value)===Os(n)&&this.matchesComparison(Pa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return W(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rn extends hA{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new Rn(t,n)}matches(t){return fA(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function fA(e){return e.op==="and"}function dA(e){return OP(e)&&fA(e)}function OP(e){for(const t of e.filters)if(t instanceof Rn)return!1;return!0}function Qg(e){if(e instanceof Wt)return e.field.canonicalString()+e.op.toString()+Va(e.value);if(dA(e))return e.filters.map(t=>Qg(t)).join(",");{const t=e.filters.map(n=>Qg(n)).join(",");return`${e.op}(${t})`}}function mA(e,t){return e instanceof Wt?function(i,s){return s instanceof Wt&&i.op===s.op&&i.field.isEqual(s.field)&&Kn(i.value,s.value)}(e,t):e instanceof Rn?function(i,s){return s instanceof Rn&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,o)=>r&&mA(a,s.filters[o]),!0):!1}(e,t):void W(19439)}function gA(e){return e instanceof Wt?function(n){return`${n.field.canonicalString()} ${n.op} ${Va(n.value)}`}(e):e instanceof Rn?function(n){return n.op.toString()+" {"+n.getFilters().map(gA).join(" ,")+"}"}(e):"Filter"}class MP extends Wt{constructor(t,n,i){super(t,n,i),this.key=$.fromName(i.referenceValue)}matches(t){const n=$.comparator(t.key,this.key);return this.matchesComparison(n)}}class kP extends Wt{constructor(t,n){super(t,"in",n),this.keys=pA("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class NP extends Wt{constructor(t,n){super(t,"not-in",n),this.keys=pA("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function pA(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>$.fromName(i.referenceValue))}class PP extends Wt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Uy(n)&&Fl(n.arrayValue,this.value)}}class VP extends Wt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Fl(this.value.arrayValue,n)}}class LP extends Wt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fl(this.value.arrayValue,n)}}class UP extends Wt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Uy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Fl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(t,n=null,i=[],s=[],r=null,a=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=o,this.Ie=null}}function Wb(e,t=null,n=[],i=[],s=null,r=null,a=null){return new jP(e,t,n,i,s,r,a)}function jy(e){const t=Z(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Qg(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),Bf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Va(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Va(i)).join(",")),t.Ie=n}return t.Ie}function zy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!DP(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!mA(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Kb(e.startAt,t.startAt)&&Kb(e.endAt,t.endAt)}function Xg(e){return $.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(t,n=null,i=[],s=[],r=null,a="F",o=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=o,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function zP(e,t,n,i,s,r,a,o){return new io(e,t,n,i,s,r,a,o)}function yA(e){return new io(e)}function Qb(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function _A(e){return e.collectionGroup!==null}function fl(e){const t=Z(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const r of t.explicitOrderBy)t.Ee.push(r),n.add(r.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new te(me.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new Hl(r,i))}),n.has(me.keyField().canonicalString())||t.Ee.push(new Hl(me.keyField(),i))}return t.Ee}function Hn(e){const t=Z(e);return t.de||(t.de=BP(t,fl(e))),t.de}function BP(e,t){if(e.limitType==="F")return Wb(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new Hl(s.field,r)});const n=e.endAt?new Hh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Hh(e.startAt.position,e.startAt.inclusive):null;return Wb(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Zg(e,t){const n=e.filters.concat([t]);return new io(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Jg(e,t,n){return new io(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Hf(e,t){return zy(Hn(e),Hn(t))&&e.limitType===t.limitType}function vA(e){return`${jy(Hn(e))}|lt:${e.limitType}`}function Gr(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>gA(s)).join(", ")}]`),Bf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Va(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Va(s)).join(",")),`Target(${i})`}(Hn(e))}; limitType=${e.limitType})`}function qf(e,t){return t.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):$.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(e,t)&&function(i,s){for(const r of fl(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(a,o,l){const c=Yb(a,o,l);return a.inclusive?c<=0:c<0}(i.startAt,fl(i),s)||i.endAt&&!function(a,o,l){const c=Yb(a,o,l);return a.inclusive?c>=0:c>0}(i.endAt,fl(i),s))}(e,t)}function FP(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function bA(e){return(t,n)=>{let i=!1;for(const s of fl(e)){const r=HP(s,t,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function HP(e,t,n){const i=e.field.isKeyField()?$.comparator(t.key,n.key):function(r,a,o){const l=a.data.field(r),c=o.data.field(r);return l!==null&&c!==null?Pa(l,c):W(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return W(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return void(s[r]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Rr(this.inner,(n,i)=>{for(const[s,r]of i)t(s,r)})}isEmpty(){return nA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=new Lt($.comparator);function Di(){return qP}const EA=new Lt($.comparator);function Ho(...e){let t=EA;for(const n of e)t=t.insert(n.key,n);return t}function TA(e){let t=EA;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Xs(){return dl()}function xA(){return dl()}function dl(){return new Ir(e=>e.toString(),(e,t)=>e.isEqual(t))}const GP=new Lt($.comparator),$P=new te($.comparator);function rt(...e){let t=$P;for(const n of e)t=t.add(n);return t}const YP=new te(tt);function KP(){return YP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(t)?"-0":t}}function wA(e){return{integerValue:""+e}}function WP(e,t){return TP(t)?wA(t):By(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(){this._=void 0}}function QP(e,t,n){return e instanceof qh?function(s,r){const a={fields:{[rA]:{stringValue:sA},[oA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Ly(r)&&(r=Ff(r)),r&&(a.fields[aA]=r),{mapValue:a}}(n,t):e instanceof ql?AA(e,t):e instanceof Gl?RA(e,t):function(s,r){const a=SA(s,r),o=Xb(a)+Xb(s.Re);return Wg(a)&&Wg(s.Re)?wA(o):By(s.serializer,o)}(e,t)}function XP(e,t,n){return e instanceof ql?AA(e,t):e instanceof Gl?RA(e,t):n}function SA(e,t){return e instanceof Gh?function(i){return Wg(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class qh extends Gf{}class ql extends Gf{constructor(t){super(),this.elements=t}}function AA(e,t){const n=IA(t);for(const i of e.elements)n.some(s=>Kn(s,i))||n.push(i);return{arrayValue:{values:n}}}class Gl extends Gf{constructor(t){super(),this.elements=t}}function RA(e,t){let n=IA(t);for(const i of e.elements)n=n.filter(s=>!Kn(s,i));return{arrayValue:{values:n}}}class Gh extends Gf{constructor(t,n){super(),this.serializer=t,this.Re=n}}function Xb(e){return qt(e.integerValue||e.doubleValue)}function IA(e){return Uy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function ZP(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof ql&&s instanceof ql||i instanceof Gl&&s instanceof Gl?Na(i.elements,s.elements,Kn):i instanceof Gh&&s instanceof Gh?Kn(i.Re,s.Re):i instanceof qh&&s instanceof qh}(e.transform,t.transform)}class JP{constructor(t,n){this.version=t,this.transformResults=n}}class Ei{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ei}static exists(t){return new Ei(void 0,t)}static updateTime(t){return new Ei(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Yu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class $f{}function CA(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new OA(e.key,Ei.none()):new _c(e.key,e.data,Ei.none());{const n=e.data,i=un.empty();let s=new te(me.comparator);for(let r of t.fields)if(!s.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new Cr(e.key,i,new bn(s.toArray()),Ei.none())}}function t4(e,t,n){e instanceof _c?function(s,r,a){const o=s.value.clone(),l=Jb(s.fieldTransforms,r,a.transformResults);o.setAll(l),r.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Cr?function(s,r,a){if(!Yu(s.precondition,r))return void r.convertToUnknownDocument(a.version);const o=Jb(s.fieldTransforms,r,a.transformResults),l=r.data;l.setAll(DA(s)),l.setAll(o),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function ml(e,t,n,i){return e instanceof _c?function(r,a,o,l){if(!Yu(r.precondition,a))return o;const c=r.value.clone(),h=tE(r.fieldTransforms,l,a);return c.setAll(h),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(e,t,n,i):e instanceof Cr?function(r,a,o,l){if(!Yu(r.precondition,a))return o;const c=tE(r.fieldTransforms,l,a),h=a.data;return h.setAll(DA(r)),h.setAll(c),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(f=>f.field))}(e,t,n,i):function(r,a,o){return Yu(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(e,t,n)}function e4(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),r=SA(i.transform,s||null);r!=null&&(n===null&&(n=un.empty()),n.set(i.field,r))}return n||null}function Zb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Na(i,s,(r,a)=>ZP(r,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class _c extends $f{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Cr extends $f{constructor(t,n,i,s,r=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function DA(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function Jb(e,t,n){const i=new Map;gt(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let s=0;s<n.length;s++){const r=e[s],a=r.transform,o=t.data.field(r.field);i.set(r.field,XP(a,o,n[s]))}return i}function tE(e,t,n){const i=new Map;for(const s of e){const r=s.transform,a=n.data.field(s.field);i.set(s.field,QP(r,a,t))}return i}class OA extends $f{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n4 extends $f{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(t.key)&&t4(r,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=ml(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=ml(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=xA();return this.mutations.forEach(s=>{const r=t.get(s.key),a=r.overlayedDocument;let o=this.applyToLocalView(a,r.mutatedFields);o=n.has(s.key)?null:o;const l=CA(a,o);l!==null&&i.set(s.key,l),a.isValidDocument()||a.convertToNoDocument(X.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),rt())}isEqual(t){return this.batchId===t.batchId&&Na(this.mutations,t.mutations,(n,i)=>Zb(n,i))&&Na(this.baseMutations,t.baseMutations,(n,i)=>Zb(n,i))}}class Fy{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){gt(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let s=function(){return GP}();const r=t.mutations;for(let a=0;a<r.length;a++)s=s.insert(r[a].key,i[a].version);return new Fy(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,at;function a4(e){switch(e){case j.OK:return W(64938);case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return W(15467,{code:e})}}function MA(e){if(e===void 0)return Ci("GRPC error has no .code"),j.UNKNOWN;switch(e){case Yt.OK:return j.OK;case Yt.CANCELLED:return j.CANCELLED;case Yt.UNKNOWN:return j.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return j.INTERNAL;case Yt.UNAVAILABLE:return j.UNAVAILABLE;case Yt.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Yt.NOT_FOUND:return j.NOT_FOUND;case Yt.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Yt.ABORTED:return j.ABORTED;case Yt.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Yt.DATA_LOSS:return j.DATA_LOSS;default:return W(39323,{code:e})}}(at=Yt||(Yt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=new _s([4294967295,4294967295],0);function eE(e){const t=J1().encode(e),n=new G1;return n.update(t),new Uint8Array(n.digest())}function nE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new _s([n,i],0),new _s([s,r],0)]}class Hy{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new qo(`Invalid padding: ${n}`);if(i<0)throw new qo(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new qo(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new qo(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=_s.fromNumber(this.pe)}we(t,n,i){let s=t.add(n.multiply(_s.fromNumber(i)));return s.compare(o4)===1&&(s=new _s([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=eE(t),[i,s]=nE(n);for(let r=0;r<this.hashCount;r++){const a=this.we(i,s,r);if(!this.be(a))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),a=new Hy(r,s,n);return i.forEach(o=>a.insert(o)),a}insert(t){if(this.pe===0)return;const n=eE(t),[i,s]=nE(n);for(let r=0;r<this.hashCount;r++){const a=this.we(i,s,r);this.Se(a)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class qo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(t,n,i,s,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,vc.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Yf(X.min(),s,new Lt(tt),Di(),rt())}}class vc{constructor(t,n,i,s,r){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new vc(i,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(t,n,i,s){this.De=t,this.removedTargetIds=n,this.key=i,this.ve=s}}class kA{constructor(t,n){this.targetId=t,this.Ce=n}}class NA{constructor(t,n,i=pe.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class iE{constructor(){this.Fe=0,this.Me=sE(),this.xe=pe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=rt(),n=rt(),i=rt();return this.Me.forEach((s,r)=>{switch(r){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:W(38017,{changeType:r})}}),new vc(this.xe,this.Oe,t,n,i)}Qe(){this.Ne=!1,this.Me=sE()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,gt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class l4{constructor(t){this.ze=t,this.je=new Map,this.He=Di(),this.Je=hu(),this.Ye=hu(),this.Ze=new Lt(tt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const i=this.rt(n);switch(t.state){case 0:this.it(n)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(t.resumeToken));break;default:W(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((i,s)=>{this.it(s)&&n(s)})}ot(t){const n=t.targetId,i=t.Ce.count,s=this._t(n);if(s){const r=s.target;if(Xg(r))if(i===0){const a=new $(r.path);this.tt(n,a,xe.newNoDocument(a,X.min()))}else gt(i===1,20013,{expectedCount:i});else{const a=this.ut(n);if(a!==i){const o=this.ct(t),l=o?this.lt(o,t,a):1;if(l!==0){this.st(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let a,o;try{a=Ds(i).toUint8Array()}catch(l){if(l instanceof iA)return ka("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new Hy(a,s,r)}catch(l){return ka(l instanceof qo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.pe===0?null:o}lt(t,n,i){return n.Ce.count===i-this.Tt(t,n.targetId)?0:2}Tt(t,n){const i=this.ze.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const a=this.ze.Pt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;t.mightContain(o)||(this.tt(n,r,null),s++)}),s}It(t){const n=new Map;this.je.forEach((r,a)=>{const o=this._t(a);if(o){if(r.current&&Xg(o.target)){const l=new $(o.target.path);this.Et(l).has(a)||this.dt(a,l)||this.tt(a,l,xe.newNoDocument(l,t))}r.Le&&(n.set(a,r.qe()),r.Qe())}});let i=rt();this.Ye.forEach((r,a)=>{let o=!0;a.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(r))}),this.He.forEach((r,a)=>a.setReadTime(t));const s=new Yf(t,n,this.Ze,this.He,i);return this.He=Di(),this.Je=hu(),this.Ye=hu(),this.Ze=new Lt(tt),s}et(t,n){if(!this.it(t))return;const i=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,i){if(!this.it(t))return;const s=this.rt(t);this.dt(t,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),i&&(this.He=this.He.insert(n,i))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new iE,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new te(tt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new te(tt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||H("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new iE),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function hu(){return new Lt($.comparator)}function sE(){return new Lt($.comparator)}const c4={asc:"ASCENDING",desc:"DESCENDING"},u4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h4={and:"AND",or:"OR"};class f4{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function tp(e,t){return e.useProto3Json||Bf(t)?t:{value:t}}function $h(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function PA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function d4(e,t){return $h(e,t.toTimestamp())}function qn(e){return gt(!!e,49232),X.fromTimestamp(function(n){const i=Cs(n);return new Xt(i.seconds,i.nanos)}(e))}function qy(e,t){return ep(e,t).canonicalString()}function ep(e,t){const n=function(s){return new Dt(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function VA(e){const t=Dt.fromString(e);return gt(BA(t),10190,{key:t.toString()}),t}function np(e,t){return qy(e.databaseId,t.path)}function vm(e,t){const n=VA(t);if(n.get(1)!==e.databaseId.projectId)throw new q(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new q(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new $(UA(n))}function LA(e,t){return qy(e.databaseId,t)}function m4(e){const t=VA(e);return t.length===4?Dt.emptyPath():UA(t)}function ip(e){return new Dt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function UA(e){return gt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function rE(e,t,n){return{name:np(e,t),fields:n.value.mapValue.fields}}function g4(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:W(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],r=function(c,h){return c.useProto3Json?(gt(h===void 0||typeof h=="string",58123),pe.fromBase64String(h||"")):(gt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),pe.fromUint8Array(h||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(c){const h=c.code===void 0?j.UNKNOWN:MA(c.code);return new q(h,c.message||"")}(a);n=new NA(i,s,r,o||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=vm(e,i.document.name),r=qn(i.document.updateTime),a=i.document.createTime?qn(i.document.createTime):X.min(),o=new un({mapValue:{fields:i.document.fields}}),l=xe.newFoundDocument(s,r,a,o),c=i.targetIds||[],h=i.removedTargetIds||[];n=new Ku(c,h,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=vm(e,i.document),r=i.readTime?qn(i.readTime):X.min(),a=xe.newNoDocument(s,r),o=i.removedTargetIds||[];n=new Ku([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=vm(e,i.document),r=i.removedTargetIds||[];n=new Ku([],r,s,null)}else{if(!("filter"in t))return W(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new r4(s,r),o=i.targetId;n=new kA(o,a)}}return n}function p4(e,t){let n;if(t instanceof _c)n={update:rE(e,t.key,t.value)};else if(t instanceof OA)n={delete:np(e,t.key)};else if(t instanceof Cr)n={update:rE(e,t.key,t.data),updateMask:S4(t.fieldMask)};else{if(!(t instanceof n4))return W(16599,{ft:t.type});n={verify:np(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,a){const o=a.transform;if(o instanceof qh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ql)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Gl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Gh)return{fieldPath:a.field.canonicalString(),increment:o.Re};throw W(20930,{transform:a.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:d4(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:W(27497)}(e,t.precondition)),n}function y4(e,t){return e&&e.length>0?(gt(t!==void 0,14353),e.map(n=>function(s,r){let a=s.updateTime?qn(s.updateTime):qn(r);return a.isEqual(X.min())&&(a=qn(r)),new JP(a,s.transformResults||[])}(n,t))):[]}function _4(e,t){return{documents:[LA(e,t.path)]}}function v4(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=LA(e,s);const r=function(c){if(c.length!==0)return zA(Rn.create(c,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const a=function(c){if(c.length!==0)return c.map(h=>function(d){return{field:$r(d.field),direction:T4(d.dir)}}(h))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=tp(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{gt:n,parent:s}}function b4(e){let t=m4(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){gt(i===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:t=t.child(h.collectionId)}let r=[];n.where&&(r=function(f){const d=jA(f);return d instanceof Rn&&dA(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(d=>function(v){return new Hl(Yr(v.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(d))}(n.orderBy));let o=null;n.limit&&(o=function(f){let d;return d=typeof f=="object"?f.value:f,Bf(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,g=f.values||[];return new Hh(g,d)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const d=!f.before,g=f.values||[];return new Hh(g,d)}(n.endAt)),zP(t,s,a,r,o,"F",l,c)}function E4(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W(28987,{purpose:s})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function jA(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Yr(n.unaryFilter.field);return Wt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Yr(n.unaryFilter.field);return Wt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Yr(n.unaryFilter.field);return Wt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Yr(n.unaryFilter.field);return Wt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return W(61313);default:return W(60726)}}(e):e.fieldFilter!==void 0?function(n){return Wt.create(Yr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return W(58110);default:return W(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Rn.create(n.compositeFilter.filters.map(i=>jA(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return W(1026)}}(n.compositeFilter.op))}(e):W(30097,{filter:e})}function T4(e){return c4[e]}function x4(e){return u4[e]}function w4(e){return h4[e]}function $r(e){return{fieldPath:e.canonicalString()}}function Yr(e){return me.fromServerFormat(e.fieldPath)}function zA(e){return e instanceof Wt?function(n){if(n.op==="=="){if($b(n.value))return{unaryFilter:{field:$r(n.field),op:"IS_NAN"}};if(Gb(n.value))return{unaryFilter:{field:$r(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($b(n.value))return{unaryFilter:{field:$r(n.field),op:"IS_NOT_NAN"}};if(Gb(n.value))return{unaryFilter:{field:$r(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$r(n.field),op:x4(n.op),value:n.value}}}(e):e instanceof Rn?function(n){const i=n.getFilters().map(s=>zA(s));return i.length===1?i[0]:{compositeFilter:{op:w4(n.op),filters:i}}}(e):W(54877,{filter:e})}function S4(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function BA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t,n,i,s,r=X.min(),a=X.min(),o=pe.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new ss(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(t){this.wt=t}}function R4(e){const t=b4({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Jg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.Cn=new C4}addToCollectionParentIndex(t,n){return this.Cn.add(n),U.resolve()}getCollectionParents(t,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return U.resolve()}deleteFieldIndex(t,n){return U.resolve()}deleteAllFieldIndexes(t){return U.resolve()}createTargetIndexes(t,n){return U.resolve()}getDocumentsMatchingTarget(t,n){return U.resolve(null)}getIndexType(t,n){return U.resolve(0)}getFieldIndexes(t,n){return U.resolve([])}getNextCollectionGroupToUpdate(t){return U.resolve(null)}getMinOffset(t,n){return U.resolve(Is.min())}getMinOffsetFromCollectionGroup(t,n){return U.resolve(Is.min())}updateCollectionGroup(t,n,i){return U.resolve()}updateIndexEntries(t,n){return U.resolve()}}class C4{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new te(Dt.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new te(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FA=41943040;class Ve{static withCacheSize(t){return new Ve(t,Ve.DEFAULT_COLLECTION_PERCENTILE,Ve.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ve.DEFAULT_COLLECTION_PERCENTILE=10,Ve.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ve.DEFAULT=new Ve(FA,Ve.DEFAULT_COLLECTION_PERCENTILE,Ve.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ve.DISABLED=new Ve(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new La(0)}static lr(){return new La(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="LruGarbageCollector",D4=1048576;function lE([e,t],[n,i]){const s=tt(e,n);return s===0?tt(t,i):s}class O4{constructor(t){this.Er=t,this.buffer=new te(lE),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();lE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class M4{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){H(oE,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){no(n)?H(oE,"Ignoring IndexedDB error during garbage collection: ",n):await eo(n)}await this.mr(3e5)})}}class k4{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return U.resolve(zf.le);const i=new O4(n);return this.gr.forEachTarget(t,s=>i.Rr(s.sequenceNumber)).next(()=>this.gr.yr(t,s=>i.Rr(s))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.gr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(aE)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aE):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let i,s,r,a,o,l,c;const h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,a=Date.now(),this.nthSequenceNumber(t,s))).next(f=>(i=f,o=Date.now(),this.removeTargets(t,i,n))).next(f=>(r=f,l=Date.now(),this.removeOrphanedDocuments(t,i))).next(f=>(c=Date.now(),qr()<=st.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${s} in `+(o-a)+`ms
	Removed ${r} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:f})))}}function N4(e,t){return new k4(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this.changes=new Ir(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,xe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?U.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&ml(i.mutation,s,bn.empty(),Xt.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,rt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=rt()){const s=Xs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(r=>{let a=Ho();return r.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=Xs();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,rt()))}populateOverlays(t,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(t,s).next(r=>{r.forEach((a,o)=>{n.set(a,o)})})}computeViews(t,n,i,s){let r=Di();const a=dl(),o=function(){return dl()}();return n.forEach((l,c)=>{const h=i.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Cr)?r=r.insert(c.key,c):h!==void 0?(a.set(c.key,h.mutation.getFieldMask()),ml(h.mutation,c,h.mutation.getFieldMask(),Xt.now())):a.set(c.key,bn.empty())}),this.recalculateAndSaveOverlays(t,r).next(l=>(l.forEach((c,h)=>a.set(c,h)),n.forEach((c,h)=>{var f;return o.set(c,new V4(h,(f=a.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(t,n){const i=dl();let s=new Lt((a,o)=>a-o),r=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=i.get(l)||bn.empty();h=o.applyToLocalView(c,h),i.set(l,h);const f=(s.get(o.batchId)||rt()).add(l);s=s.insert(o.batchId,f)})}).next(()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,h=l.value,f=xA();h.forEach(d=>{if(!r.has(d)){const g=CA(n.get(d),i.get(d));g!==null&&f.set(d,g),r=r.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(t,c,f))}return U.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,s){return function(a){return $.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):_A(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-r.size):U.resolve(Xs());let o=jl,l=r;return a.next(c=>U.forEach(c,(h,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),r.get(h)?U.resolve():this.remoteDocumentCache.getEntry(t,h).next(d=>{l=l.insert(h,d)}))).next(()=>this.populateOverlays(t,c,r)).next(()=>this.computeViews(t,l,c,rt())).next(h=>({batchId:o,changes:TA(h)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new $(n)).next(i=>{let s=Ho();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const r=n.collectionGroup;let a=Ho();return this.indexManager.getCollectionParents(t,r).next(o=>U.forEach(o,l=>{const c=function(f,d){return new io(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(r));return this.getDocumentsMatchingCollectionQuery(t,c,i,s).next(h=>{h.forEach((f,d)=>{a=a.insert(f,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,r,s))).next(a=>{r.forEach((l,c)=>{const h=c.getKey();a.get(h)===null&&(a=a.insert(h,xe.newInvalidDocument(h)))});let o=Ho();return a.forEach((l,c)=>{const h=r.get(l);h!==void 0&&ml(h.mutation,c,bn.empty(),Xt.now()),qf(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return U.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:qn(s.createTime)}}(n)),U.resolve()}getNamedQuery(t,n){return U.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(s){return{name:s.name,query:R4(s.bundledQuery),readTime:qn(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this.overlays=new Lt($.comparator),this.Qr=new Map}getOverlay(t,n){return U.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Xs();return U.forEach(n,s=>this.getOverlay(t,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,r)=>{this.St(t,n,r)}),U.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.Qr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Qr.delete(i)),U.resolve()}getOverlaysForCollection(t,n,i){const s=Xs(),r=n.length+1,a=new $(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&l.largestBatchId>i&&s.set(l.getKey(),l)}return U.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let r=new Lt((c,h)=>c-h);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let h=r.get(c.largestBatchId);h===null&&(h=Xs(),r=r.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const o=Xs(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>o.set(c,h)),!(o.size()>=s)););return U.resolve(o)}St(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.Qr.get(s.largestBatchId).delete(i.key);this.Qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new s4(n,i));let r=this.Qr.get(n);r===void 0&&(r=rt(),this.Qr.set(n,r)),this.Qr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.sessionToken=pe.EMPTY_BYTE_STRING}getSessionToken(t){return U.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this.$r=new te(ne.Ur),this.Kr=new te(ne.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const i=new ne(t,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.zr(new ne(t,n))}jr(t,n){t.forEach(i=>this.removeReference(i,n))}Hr(t){const n=new $(new Dt([])),i=new ne(n,t),s=new ne(n,t+1),r=[];return this.Kr.forEachInRange([i,s],a=>{this.zr(a),r.push(a.key)}),r}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new $(new Dt([])),i=new ne(n,t),s=new ne(n,t+1);let r=rt();return this.Kr.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(t){const n=new ne(t,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class ne{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return $.comparator(t.key,n.key)||tt(t.Zr,n.Zr)}static Wr(t,n){return tt(t.Zr,n.Zr)||$.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new te(ne.Ur)}checkEmpty(t){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const r=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new i4(r,n,i,s);this.mutationQueue.push(a);for(const o of s)this.Xr=this.Xr.add(new ne(o.key,r)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return U.resolve(a)}lookupMutationBatch(t,n){return U.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.ti(i),r=s<0?0:s;return U.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Vy:this.nr-1)}getAllMutationBatches(t){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new ne(n,0),s=new ne(n,Number.POSITIVE_INFINITY),r=[];return this.Xr.forEachInRange([i,s],a=>{const o=this.ei(a.Zr);r.push(o)}),U.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new te(tt);return n.forEach(s=>{const r=new ne(s,0),a=new ne(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([r,a],o=>{i=i.add(o.Zr)})}),U.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let r=i;$.isDocumentKey(r)||(r=r.child(""));const a=new ne(new $(r),0);let o=new te(tt);return this.Xr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===s&&(o=o.add(l.Zr)),!0)},a),U.resolve(this.ni(o))}ni(t){const n=[];return t.forEach(i=>{const s=this.ei(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){gt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return U.forEach(n.mutations,s=>{const r=new ne(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,n){const i=new ne(n,0),s=this.Xr.firstAfterOrEqual(i);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,U.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(t){this.ii=t,this.docs=function(){return new Lt($.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,a=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return U.resolve(i?i.document.mutableCopy():xe.newInvalidDocument(n))}getEntries(t,n){let i=Di();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():xe.newInvalidDocument(s))}),U.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let r=Di();const a=n.path,o=new $(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||_P(yP(h),i)<=0||(s.has(h.key)||qf(n,h))&&(r=r.insert(h.key,h.mutableCopy()))}return U.resolve(r)}getAllFromCollectionGroup(t,n,i,s){W(9500)}si(t,n){return U.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new H4(this)}getSize(t){return U.resolve(this.size)}}class H4 extends P4{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(t,s)):this.Br.removeEntry(i)}),U.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(t){this.persistence=t,this.oi=new Ir(n=>jy(n),zy),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this._i=0,this.ai=new Gy,this.targetCount=0,this.ui=La.cr()}forEachTarget(t,n){return this.oi.forEach((i,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(t){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return U.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),U.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new La(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,U.resolve()}updateTargetData(t,n){return this.Tr(n),U.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(t,n,i){let s=0;const r=[];return this.oi.forEach((a,o)=>{o.sequenceNumber<=n&&i.get(o.targetId)===null&&(this.oi.delete(a),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),s++)}),U.waitFor(r).next(()=>s)}getTargetCount(t){return U.resolve(this.targetCount)}getTargetData(t,n){const i=this.oi.get(n)||null;return U.resolve(i)}addMatchingKeys(t,n,i){return this.ai.Gr(n,i),U.resolve()}removeMatchingKeys(t,n,i){this.ai.jr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(a=>{r.push(s.markPotentiallyOrphaned(t,a))}),U.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),U.resolve()}getMatchingKeysForTargetId(t,n){const i=this.ai.Yr(n);return U.resolve(i)}containsKey(t,n){return U.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(t,n){this.ci={},this.overlays={},this.li=new zf(0),this.hi=!1,this.hi=!0,this.Pi=new z4,this.referenceDelegate=t(this),this.Ti=new q4(this),this.indexManager=new I4,this.remoteDocumentCache=function(s){return new F4(s)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new A4(n),this.Ei=new U4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new j4,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ci[t.toKey()];return i||(i=new B4(n,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,i){H("MemoryPersistence","Starting transaction:",t);const s=new G4(this.li.next());return this.referenceDelegate.di(),i(s).next(r=>this.referenceDelegate.Ai(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ri(t,n){return U.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,n)))}}class G4 extends bP{constructor(t){super(),this.currentSequenceNumber=t}}class $y{constructor(t){this.persistence=t,this.Vi=new Gy,this.mi=null}static fi(t){return new $y(t)}get gi(){if(this.mi)return this.mi;throw W(60996)}addReference(t,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),U.resolve()}removeReference(t,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),U.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),U.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(r=>this.gi.add(r.toString()))}).next(()=>i.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.gi,i=>{const s=$.fromPath(i);return this.pi(t,s).next(r=>{r||n.removeEntry(s,X.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return U.or([()=>U.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Yh{constructor(t,n){this.persistence=t,this.yi=new Ir(i=>xP(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=N4(this,n)}static fi(t,n){return new Yh(t,n)}di(){}Ai(t){return U.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(s=>i+s))}br(t){let n=0;return this.yr(t,i=>{n++}).next(()=>n)}yr(t,n){return U.forEach(this.yi,(i,s)=>this.Dr(t,i,s).next(r=>r?U.resolve():n(s)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.si(t,a=>this.Dr(t,a,n).next(o=>{o||(i++,r.removeEntry(a,X.min()))})).next(()=>r.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),U.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),U.resolve()}removeReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),U.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),U.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Gu(t.data.value)),n}Dr(t,n,i){return U.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.yi.get(n);return U.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.ds=i,this.As=s}static Rs(t,n){let i=rt(),s=rt();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Yy(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Bk()?8:EP(Ae())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,i,s){const r={result:null};return this.ws(t,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.bs(t,n,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new $4;return this.Ss(t,n,a).next(o=>{if(r.result=o,this.fs)return this.Ds(t,n,a,o.size)})}).next(()=>r.result)}Ds(t,n,i,s){return i.documentReadCount<this.gs?(qr()<=st.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Gr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),U.resolve()):(qr()<=st.DEBUG&&H("QueryEngine","Query:",Gr(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ps*s?(qr()<=st.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Gr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Hn(n))):U.resolve())}ws(t,n){if(Qb(n))return U.resolve(null);let i=Hn(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Jg(n,null,"F"),i=Hn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const a=rt(...r);return this.ys.getDocuments(t,a).next(o=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.vs(n,o);return this.Cs(n,c,a,l.readTime)?this.ws(t,Jg(n,null,"F")):this.Fs(t,c,n,l)}))})))}bs(t,n,i,s){return Qb(n)||s.isEqual(X.min())?U.resolve(null):this.ys.getDocuments(t,i).next(r=>{const a=this.vs(n,r);return this.Cs(n,a,i,s)?U.resolve(null):(qr()<=st.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Gr(n)),this.Fs(t,a,n,pP(s,jl)).next(o=>o))})}vs(t,n){let i=new te(bA(t));return n.forEach((s,r)=>{qf(t,r)&&(i=i.add(r))}),i}Cs(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Ss(t,n,i){return qr()<=st.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Gr(n)),this.ys.getDocumentsMatchingQuery(t,n,Is.min(),i)}Fs(t,n,i,s){return this.ys.getDocumentsMatchingQuery(t,i,s).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="LocalStore",K4=3e8;class W4{constructor(t,n,i,s){this.persistence=t,this.Ms=n,this.serializer=s,this.xs=new Lt(tt),this.Os=new Ir(r=>jy(r),zy),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new L4(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function Q4(e,t,n,i){return new W4(e,t,n,i)}async function qA(e,t){const n=Z(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Ls(t),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],o=[];let l=rt();for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of r){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(i,l).next(c=>({ks:c,removedBatchIds:a,addedBatchIds:o}))})})}function X4(e,t){const n=Z(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),r=n.Bs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,h){const f=c.batch,d=f.keys();let g=U.resolve();return d.forEach(v=>{g=g.next(()=>h.getEntry(l,v)).next(E=>{const A=c.docVersions.get(v);gt(A!==null,48541),E.version.compareTo(A)<0&&(f.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),h.addEntry(E)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(n,i,t,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let l=rt();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function GA(e){const t=Z(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function Z4(e,t){const n=Z(e),i=t.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const o=[];t.targetChanges.forEach((h,f)=>{const d=s.get(f);if(!d)return;o.push(n.Ti.removeMatchingKeys(r,h.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(r,h.addedDocuments,f)));let g=d.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(f)!==null?g=g.withResumeToken(pe.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,i)),s=s.insert(f,g),function(E,A,_){return E.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=K4?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(d,g,h)&&o.push(n.Ti.updateTargetData(r,g))});let l=Di(),c=rt();if(t.documentUpdates.forEach(h=>{t.resolvedLimboDocuments.has(h)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(r,h))}),o.push(J4(r,a,t.documentUpdates).next(h=>{l=h.qs,c=h.Qs})),!i.isEqual(X.min())){const h=n.Ti.getLastRemoteSnapshotVersion(r).next(f=>n.Ti.setTargetsMetadata(r,r.currentSequenceNumber,i));o.push(h)}return U.waitFor(o).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,c)).next(()=>l)}).then(r=>(n.xs=s,r))}function J4(e,t,n){let i=rt(),s=rt();return n.forEach(r=>i=i.add(r)),t.getEntries(e,i).next(r=>{let a=Di();return n.forEach((o,l)=>{const c=r.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(o)),l.isNoDocument()&&l.version.isEqual(X.min())?(t.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),a=a.insert(o,l)):H(Ky,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{qs:a,Qs:s}})}function tV(e,t){const n=Z(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Vy),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function eV(e,t){const n=Z(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Ti.getTargetData(i,t).next(r=>r?(s=r,U.resolve(s)):n.Ti.allocateTargetId(i).next(a=>(s=new ss(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.xs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(t,i.targetId)),i})}async function sp(e,t,n){const i=Z(e),s=i.xs.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!no(a))throw a;H(Ky,`Failed to update sequence numbers for target ${t}: ${a}`)}i.xs=i.xs.remove(t),i.Os.delete(s.target)}function cE(e,t,n){const i=Z(e);let s=X.min(),r=rt();return i.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,h){const f=Z(l),d=f.Os.get(h);return d!==void 0?U.resolve(f.xs.get(d)):f.Ti.getTargetData(c,h)}(i,a,Hn(t)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(a,o.targetId).next(l=>{r=l})}).next(()=>i.Ms.getDocumentsMatchingQuery(a,t,n?s:X.min(),n?r:rt())).next(o=>(nV(i,FP(t),o),{documents:o,$s:r})))}function nV(e,t,n){let i=e.Ns.get(t)||X.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),e.Ns.set(t,i)}class uE{constructor(){this.activeTargetIds=KP()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class iV{constructor(){this.xo=new uE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,i){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new uE,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="ConnectivityMonitor";class fE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){H(hE,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){H(hE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fu=null;function rp(){return fu===null?fu=function(){return 268435456+Math.round(2147483648*Math.random())}():fu++,"0x"+fu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="RestConnection",rV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aV{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${i}/databases/${s}`,this.Go=this.databaseId.database===Bh?`project_id=${i}`:`project_id=${i}&database_id=${s}`}zo(t,n,i,s,r){const a=rp(),o=this.jo(t,n.toUriEncodedString());H(bm,`Sending RPC '${t}' ${a}:`,o,i);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,s,r);const{host:c}=new URL(o),h=Za(c);return this.Jo(t,o,l,i,h).then(f=>(H(bm,`Received RPC '${t}' ${a}: `,f),f),f=>{throw ka(bm,`RPC '${t}' ${a} failed with error: `,f,"url: ",o,"request:",i),f})}Yo(t,n,i,s,r,a){return this.zo(t,n,i,s,r)}Ho(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+to}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>t[r]=s),i&&i.headers.forEach((s,r)=>t[r]=s)}jo(t,n){const i=rV[t];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee="WebChannelConnection";class lV extends aV{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,s,r){const a=rp();return new Promise((o,l)=>{const c=new $1;c.setWithCredentials(!0),c.listenOnce(Y1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case qu.NO_ERROR:const f=c.getResponseJson();H(Ee,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(f)),o(f);break;case qu.TIMEOUT:H(Ee,`RPC '${t}' ${a} timed out`),l(new q(j.DEADLINE_EXCEEDED,"Request time out"));break;case qu.HTTP_ERROR:const d=c.getStatus();if(H(Ee,`RPC '${t}' ${a} failed with status:`,d,"response text:",c.getResponseText()),d>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const E=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(y)>=0?y:j.UNKNOWN}(v.status);l(new q(E,v.message))}else l(new q(j.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new q(j.UNAVAILABLE,"Connection failed."));break;default:W(9055,{h_:t,streamId:a,P_:c.getLastErrorCode(),T_:c.getLastError()})}}finally{H(Ee,`RPC '${t}' ${a} completed.`)}});const h=JSON.stringify(s);H(Ee,`RPC '${t}' ${a} sending request:`,s),c.send(n,"POST",h,i,15)})}I_(t,n,i){const s=rp(),r=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=Q1(),o=W1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const h=r.join("");H(Ee,`Creating RPC '${t}' stream ${s}: ${h}`,l);const f=a.createWebChannel(h,l);this.E_(f);let d=!1,g=!1;const v=new oV({Zo:A=>{g?H(Ee,`Not sending because RPC '${t}' stream ${s} is closed:`,A):(d||(H(Ee,`Opening RPC '${t}' stream ${s} transport.`),f.open(),d=!0),H(Ee,`RPC '${t}' stream ${s} sending:`,A),f.send(A))},Xo:()=>f.close()}),E=(A,_,y)=>{A.listen(_,T=>{try{y(T)}catch(M){setTimeout(()=>{throw M},0)}})};return E(f,Fo.EventType.OPEN,()=>{g||(H(Ee,`RPC '${t}' stream ${s} transport opened.`),v.__())}),E(f,Fo.EventType.CLOSE,()=>{g||(g=!0,H(Ee,`RPC '${t}' stream ${s} transport closed`),v.u_(),this.d_(f))}),E(f,Fo.EventType.ERROR,A=>{g||(g=!0,ka(Ee,`RPC '${t}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),v.u_(new q(j.UNAVAILABLE,"The operation could not be completed")))}),E(f,Fo.EventType.MESSAGE,A=>{var _;if(!g){const y=A.data[0];gt(!!y,16349);const T=y,M=(T==null?void 0:T.error)||((_=T[0])===null||_===void 0?void 0:_.error);if(M){H(Ee,`RPC '${t}' stream ${s} received error:`,M);const C=M.status;let V=function(R){const I=Yt[R];if(I!==void 0)return MA(I)}(C),x=M.message;V===void 0&&(V=j.INTERNAL,x="Unknown error status: "+C+" with message "+M.message),g=!0,v.u_(new q(V,x)),f.close()}else H(Ee,`RPC '${t}' stream ${s} received:`,y),v.c_(y)}}),E(o,K1.STAT_EVENT,A=>{A.stat===$g.PROXY?H(Ee,`RPC '${t}' stream ${s} detected buffering proxy`):A.stat===$g.NOPROXY&&H(Ee,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.a_()},0),v}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function Em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(e){return new f4(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(t,n,i=1e3,s=1.5,r=6e4){this.xi=t,this.timerId=n,this.A_=i,this.R_=s,this.V_=r,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-i);s>0&&H("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="PersistentStream";class YA{constructor(t,n,i,s,r,a,o,l){this.xi=t,this.S_=i,this.D_=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new $A(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Ci(n.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.v_===n&&this.z_(i,s)},i=>{t(()=>{const s=new q(j.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(s)})})}z_(t,n){const i=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{i(()=>this.j_(s))}),this.stream.onMessage(s=>{i(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return H(dE,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(H(dE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cV extends YA{constructor(t,n,i,s,r,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=g4(this.serializer,t),i=function(r){if(!("targetChange"in r))return X.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?X.min():a.readTime?qn(a.readTime):X.min()}(t);return this.listener.Y_(n,i)}Z_(t){const n={};n.database=ip(this.serializer),n.addTarget=function(r,a){let o;const l=a.target;if(o=Xg(l)?{documents:_4(r,l)}:{query:v4(r,l).gt},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=PA(r,a.resumeToken);const c=tp(r,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(X.min())>0){o.readTime=$h(r,a.snapshotVersion.toTimestamp());const c=tp(r,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const i=E4(this.serializer,t);i&&(n.labels=i),this.Q_(n)}X_(t){const n={};n.database=ip(this.serializer),n.removeTarget=t,this.Q_(n)}}class uV extends YA{constructor(t,n,i,s,r,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=y4(t.writeResults,t.commitTime),i=qn(t.commitTime);return this.listener.ra(i,n)}ia(){const t={};t.database=ip(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>p4(this.serializer,i))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{}class fV extends hV{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new q(j.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.zo(t,ep(n,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new q(j.UNKNOWN,r.toString())})}Yo(t,n,i,s,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Yo(t,ep(n,i),s,a,o,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new q(j.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class dV{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ci(n),this.ua=!1):H("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="RemoteStore";class mV{constructor(t,n,i,s,r){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=r,this.Ra.No(a=>{i.enqueueAndForget(async()=>{Dr(this)&&(H(dr,"Restarting streams for network reachability change."),await async function(l){const c=Z(l);c.da.add(4),await bc(c),c.Va.set("Unknown"),c.da.delete(4),await Wf(c)}(this))})}),this.Va=new dV(i,s)}}async function Wf(e){if(Dr(e))for(const t of e.Aa)await t(!0)}async function bc(e){for(const t of e.Aa)await t(!1)}function KA(e,t){const n=Z(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Zy(n)?Xy(n):so(n).N_()&&Qy(n,t))}function Wy(e,t){const n=Z(e),i=so(n);n.Ea.delete(t),i.N_()&&WA(n,t),n.Ea.size===0&&(i.N_()?i.k_():Dr(n)&&n.Va.set("Unknown"))}function Qy(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(X.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}so(e).Z_(t)}function WA(e,t){e.ma.Ke(t),so(e).X_(t)}function Xy(e){e.ma=new l4({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),so(e).start(),e.Va.ca()}function Zy(e){return Dr(e)&&!so(e).O_()&&e.Ea.size>0}function Dr(e){return Z(e).da.size===0}function QA(e){e.ma=void 0}async function gV(e){e.Va.set("Online")}async function pV(e){e.Ea.forEach((t,n)=>{Qy(e,t)})}async function yV(e,t){QA(e),Zy(e)?(e.Va.Pa(t),Xy(e)):e.Va.set("Unknown")}async function _V(e,t,n){if(e.Va.set("Online"),t instanceof NA&&t.state===2&&t.cause)try{await async function(s,r){const a=r.cause;for(const o of r.targetIds)s.Ea.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.Ea.delete(o),s.ma.removeTarget(o))}(e,t)}catch(i){H(dr,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Kh(e,i)}else if(t instanceof Ku?e.ma.Xe(t):t instanceof kA?e.ma.ot(t):e.ma.nt(t),!n.isEqual(X.min()))try{const i=await GA(e.localStore);n.compareTo(i)>=0&&await function(r,a){const o=r.ma.It(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=r.Ea.get(c);h&&r.Ea.set(c,h.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const h=r.Ea.get(l);if(!h)return;r.Ea.set(l,h.withResumeToken(pe.EMPTY_BYTE_STRING,h.snapshotVersion)),WA(r,l);const f=new ss(h.target,l,c,h.sequenceNumber);Qy(r,f)}),r.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(i){H(dr,"Failed to raise snapshot:",i),await Kh(e,i)}}async function Kh(e,t,n){if(!no(t))throw t;e.da.add(1),await bc(e),e.Va.set("Offline"),n||(n=()=>GA(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{H(dr,"Retrying IndexedDB access"),await n(),e.da.delete(1),await Wf(e)})}function XA(e,t){return t().catch(n=>Kh(e,n,t))}async function Qf(e){const t=Z(e),n=Ms(t);let i=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Vy;for(;vV(t);)try{const s=await tV(t.localStore,i);if(s===null){t.Ia.length===0&&n.k_();break}i=s.batchId,bV(t,s)}catch(s){await Kh(t,s)}ZA(t)&&JA(t)}function vV(e){return Dr(e)&&e.Ia.length<10}function bV(e,t){e.Ia.push(t);const n=Ms(e);n.N_()&&n.ea&&n.ta(t.mutations)}function ZA(e){return Dr(e)&&!Ms(e).O_()&&e.Ia.length>0}function JA(e){Ms(e).start()}async function EV(e){Ms(e).ia()}async function TV(e){const t=Ms(e);for(const n of e.Ia)t.ta(n.mutations)}async function xV(e,t,n){const i=e.Ia.shift(),s=Fy.from(i,t,n);await XA(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Qf(e)}async function wV(e,t){t&&Ms(e).ea&&await async function(i,s){if(function(a){return a4(a)&&a!==j.ABORTED}(s.code)){const r=i.Ia.shift();Ms(i).L_(),await XA(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Qf(i)}}(e,t),ZA(e)&&JA(e)}async function mE(e,t){const n=Z(e);n.asyncQueue.verifyOperationInProgress(),H(dr,"RemoteStore received new credentials");const i=Dr(n);n.da.add(3),await bc(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Wf(n)}async function SV(e,t){const n=Z(e);t?(n.da.delete(2),await Wf(n)):t||(n.da.add(2),await bc(n),n.Va.set("Unknown"))}function so(e){return e.fa||(e.fa=function(n,i,s){const r=Z(n);return r.oa(),new cV(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{e_:gV.bind(null,e),n_:pV.bind(null,e),i_:yV.bind(null,e),Y_:_V.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),Zy(e)?Xy(e):e.Va.set("Unknown")):(await e.fa.stop(),QA(e))})),e.fa}function Ms(e){return e.ga||(e.ga=function(n,i,s){const r=Z(n);return r.oa(),new uV(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:EV.bind(null,e),i_:wV.bind(null,e),na:TV.bind(null,e),ra:xV.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await Qf(e)):(await e.ga.stop(),e.Ia.length>0&&(H(dr,`Stopping write stream with ${e.Ia.length} pending writes`),e.Ia=[]))})),e.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(t,n,i,s,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,r){const a=Date.now()+i,o=new Jy(t,n,a,s,r);return o.start(i),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(j.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function t_(e,t){if(Ci("AsyncQueue",`${t}: ${e}`),no(e))return new q(j.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{static emptySet(t){return new pa(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||$.comparator(n.key,i.key):(n,i)=>$.comparator(n.key,i.key),this.keyedMap=Ho(),this.sortedSet=new Lt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof pa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new pa;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.pa=new Lt($.comparator)}track(t){const n=t.doc.key,i=this.pa.get(n);i?t.type!==0&&i.type===3?this.pa=this.pa.insert(n,t):t.type===3&&i.type!==1?this.pa=this.pa.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.pa=this.pa.remove(n):t.type===1&&i.type===2?this.pa=this.pa.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):W(63341,{Vt:t,ya:i}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,i)=>{t.push(i)}),t}}class Ua{constructor(t,n,i,s,r,a,o,l,c){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,i,s,r){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Ua(t,n,pa.emptySet(n),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class RV{constructor(){this.queries=pE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=Z(n),r=s.queries;s.queries=pE(),r.forEach((a,o)=>{for(const l of o.Sa)l.onError(i)})})(this,new q(j.ABORTED,"Firestore shutting down"))}}function pE(){return new Ir(e=>vA(e),Hf)}async function IV(e,t){const n=Z(e);let i=3;const s=t.query;let r=n.queries.get(s);r?!r.Da()&&t.va()&&(i=2):(r=new AV,i=t.va()?0:1);try{switch(i){case 0:r.ba=await n.onListen(s,!0);break;case 1:r.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const o=t_(a,`Initialization of query '${Gr(t.query)}' failed`);return void t.onError(o)}n.queries.set(s,r),r.Sa.push(t),t.Fa(n.onlineState),r.ba&&t.Ma(r.ba)&&e_(n)}async function CV(e,t){const n=Z(e),i=t.query;let s=3;const r=n.queries.get(i);if(r){const a=r.Sa.indexOf(t);a>=0&&(r.Sa.splice(a,1),r.Sa.length===0?s=t.va()?0:1:!r.Da()&&t.va()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function DV(e,t){const n=Z(e);let i=!1;for(const s of t){const r=s.query,a=n.queries.get(r);if(a){for(const o of a.Sa)o.Ma(s)&&(i=!0);a.ba=s}}i&&e_(n)}function OV(e,t,n){const i=Z(e),s=i.queries.get(t);if(s)for(const r of s.Sa)r.onError(n);i.queries.delete(t)}function e_(e){e.Ca.forEach(t=>{t.next()})}var ap,yE;(yE=ap||(ap={})).xa="default",yE.Cache="cache";class MV{constructor(t,n,i){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Ua(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const i=n!=="Offline";return(!this.options.Qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=Ua.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t){this.key=t}}class eR{constructor(t){this.key=t}}class kV{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=rt(),this.mutatedKeys=rt(),this.Za=bA(t),this.Xa=new pa(this.Za)}get eu(){return this.Ha}tu(t,n){const i=n?n.nu:new gE,s=n?n.Xa:this.Xa;let r=n?n.mutatedKeys:this.mutatedKeys,a=s,o=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((h,f)=>{const d=s.get(h),g=qf(this.query,f)?f:null,v=!!d&&this.mutatedKeys.has(d.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let A=!1;d&&g?d.data.isEqual(g.data)?v!==E&&(i.track({type:3,doc:g}),A=!0):this.ru(d,g)||(i.track({type:2,doc:g}),A=!0,(l&&this.Za(g,l)>0||c&&this.Za(g,c)<0)&&(o=!0)):!d&&g?(i.track({type:0,doc:g}),A=!0):d&&!g&&(i.track({type:1,doc:d}),A=!0,(l||c)&&(o=!0)),A&&(g?(a=a.add(g),r=E?r.add(h):r.delete(h)):(a=a.delete(h),r=r.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),r=r.delete(h.key),i.track({type:1,doc:h})}return{Xa:a,nu:i,Cs:o,mutatedKeys:r}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const r=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const a=t.nu.wa();a.sort((h,f)=>function(g,v){const E=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W(20277,{Vt:A})}};return E(g)-E(v)}(h.type,f.type)||this.Za(h.doc,f.doc)),this.iu(i),s=s!=null&&s;const o=n&&!s?this.su():[],l=this.Ya.size===0&&this.current&&!s?1:0,c=l!==this.Ja;return this.Ja=l,a.length!==0||c?{snapshot:new Ua(this.query,t.Xa,r,a,t.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:o}:{ou:o}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new gE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=rt(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return t.forEach(i=>{this.Ya.has(i)||n.push(new eR(i))}),this.Ya.forEach(i=>{t.has(i)||n.push(new tR(i))}),n}au(t){this.Ha=t.$s,this.Ya=rt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return Ua.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const n_="SyncEngine";class NV{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class PV{constructor(t){this.key=t,this.cu=!1}}class VV{constructor(t,n,i,s,r,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Ir(o=>vA(o),Hf),this.Pu=new Map,this.Tu=new Set,this.Iu=new Lt($.comparator),this.Eu=new Map,this.du=new Gy,this.Au={},this.Ru=new Map,this.Vu=La.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function LV(e,t,n=!0){const i=oR(e);let s;const r=i.hu.get(t);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.uu()):s=await nR(i,t,n,!0),s}async function UV(e,t){const n=oR(e);await nR(n,t,!0,!1)}async function nR(e,t,n,i){const s=await eV(e.localStore,Hn(t)),r=s.targetId,a=e.sharedClientState.addLocalQueryTarget(r,n);let o;return i&&(o=await jV(e,t,r,a==="current",s.resumeToken)),e.isPrimaryClient&&n&&KA(e.remoteStore,s),o}async function jV(e,t,n,i,s){e.fu=(f,d,g)=>async function(E,A,_,y){let T=A.view.tu(_);T.Cs&&(T=await cE(E.localStore,A.query,!1).then(({documents:x})=>A.view.tu(x,T)));const M=y&&y.targetChanges.get(A.targetId),C=y&&y.targetMismatches.get(A.targetId)!=null,V=A.view.applyChanges(T,E.isPrimaryClient,M,C);return vE(E,A.targetId,V.ou),V.snapshot}(e,f,d,g);const r=await cE(e.localStore,t,!0),a=new kV(t,r.$s),o=a.tu(r.documents),l=vc.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),c=a.applyChanges(o,e.isPrimaryClient,l);vE(e,n,c.ou);const h=new NV(t,n,a);return e.hu.set(t,h),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),c.snapshot}async function zV(e,t,n){const i=Z(e),s=i.hu.get(t),r=i.Pu.get(s.targetId);if(r.length>1)return i.Pu.set(s.targetId,r.filter(a=>!Hf(a,t))),void i.hu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await sp(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Wy(i.remoteStore,s.targetId),op(i,s.targetId)}).catch(eo)):(op(i,s.targetId),await sp(i.localStore,s.targetId,!0))}async function BV(e,t){const n=Z(e),i=n.hu.get(t),s=n.Pu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Wy(n.remoteStore,i.targetId))}async function FV(e,t,n){const i=WV(e);try{const s=await function(a,o){const l=Z(a),c=Xt.now(),h=o.reduce((g,v)=>g.add(v.key),rt());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=Di(),E=rt();return l.Bs.getEntries(g,h).next(A=>{v=A,v.forEach((_,y)=>{y.isValidDocument()||(E=E.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(A=>{f=A;const _=[];for(const y of o){const T=e4(y,f.get(y.key).overlayedDocument);T!=null&&_.push(new Cr(y.key,T,uA(T.value.mapValue),Ei.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,_,o)}).next(A=>{d=A;const _=A.applyToLocalDocumentSet(f,E);return l.documentOverlayCache.saveOverlays(g,A.batchId,_)})}).then(()=>({batchId:d.batchId,changes:TA(f)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(a,o,l){let c=a.Au[a.currentUser.toKey()];c||(c=new Lt(tt)),c=c.insert(o,l),a.Au[a.currentUser.toKey()]=c}(i,s.batchId,n),await Ec(i,s.changes),await Qf(i.remoteStore)}catch(s){const r=t_(s,"Failed to persist write");n.reject(r)}}async function iR(e,t){const n=Z(e);try{const i=await Z4(n.localStore,t);t.targetChanges.forEach((s,r)=>{const a=n.Eu.get(r);a&&(gt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.cu=!0:s.modifiedDocuments.size>0?gt(a.cu,14607):s.removedDocuments.size>0&&(gt(a.cu,42227),a.cu=!1))}),await Ec(n,i,t)}catch(i){await eo(i)}}function _E(e,t,n){const i=Z(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.hu.forEach((r,a)=>{const o=a.view.Fa(t);o.snapshot&&s.push(o.snapshot)}),function(a,o){const l=Z(a);l.onlineState=o;let c=!1;l.queries.forEach((h,f)=>{for(const d of f.Sa)d.Fa(o)&&(c=!0)}),c&&e_(l)}(i.eventManager,t),s.length&&i.lu.Y_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function HV(e,t,n){const i=Z(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Eu.get(t),r=s&&s.key;if(r){let a=new Lt($.comparator);a=a.insert(r,xe.newNoDocument(r,X.min()));const o=rt().add(r),l=new Yf(X.min(),new Map,new Lt(tt),a,o);await iR(i,l),i.Iu=i.Iu.remove(r),i.Eu.delete(t),i_(i)}else await sp(i.localStore,t,!1).then(()=>op(i,t,n)).catch(eo)}async function qV(e,t){const n=Z(e),i=t.batch.batchId;try{const s=await X4(n.localStore,t);rR(n,i,null),sR(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ec(n,s)}catch(s){await eo(s)}}async function GV(e,t,n){const i=Z(e);try{const s=await function(a,o){const l=Z(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(gt(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(i.localStore,t);rR(i,t,n),sR(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Ec(i,s)}catch(s){await eo(s)}}function sR(e,t){(e.Ru.get(t)||[]).forEach(n=>{n.resolve()}),e.Ru.delete(t)}function rR(e,t,n){const i=Z(e);let s=i.Au[i.currentUser.toKey()];if(s){const r=s.get(t);r&&(n?r.reject(n):r.resolve(),s=s.remove(t)),i.Au[i.currentUser.toKey()]=s}}function op(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Pu.get(t))e.hu.delete(i),n&&e.lu.gu(i,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(i=>{e.du.containsKey(i)||aR(e,i)})}function aR(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);n!==null&&(Wy(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),i_(e))}function vE(e,t,n){for(const i of n)i instanceof tR?(e.du.addReference(i.key,t),$V(e,i)):i instanceof eR?(H(n_,"Document no longer in limbo: "+i.key),e.du.removeReference(i.key,t),e.du.containsKey(i.key)||aR(e,i.key)):W(19791,{pu:i})}function $V(e,t){const n=t.key,i=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(i)||(H(n_,"New document in limbo: "+n),e.Tu.add(i),i_(e))}function i_(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new $(Dt.fromString(t)),i=e.Vu.next();e.Eu.set(i,new PV(n)),e.Iu=e.Iu.insert(n,i),KA(e.remoteStore,new ss(Hn(yA(n.path)),i,"TargetPurposeLimboResolution",zf.le))}}async function Ec(e,t,n){const i=Z(e),s=[],r=[],a=[];i.hu.isEmpty()||(i.hu.forEach((o,l)=>{a.push(i.fu(l,t,n).then(c=>{var h;if((c||n)&&i.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=Yy.Rs(l.targetId,c);r.push(f)}}))}),await Promise.all(a),i.lu.Y_(s),await async function(l,c){const h=Z(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(c,d=>U.forEach(d.ds,g=>h.persistence.referenceDelegate.addReference(f,d.targetId,g)).next(()=>U.forEach(d.As,g=>h.persistence.referenceDelegate.removeReference(f,d.targetId,g)))))}catch(f){if(!no(f))throw f;H(Ky,"Failed to update sequence numbers: "+f)}for(const f of c){const d=f.targetId;if(!f.fromCache){const g=h.xs.get(d),v=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(v);h.xs=h.xs.insert(d,E)}}}(i.localStore,r))}async function YV(e,t){const n=Z(e);if(!n.currentUser.isEqual(t)){H(n_,"User change. New user:",t.toKey());const i=await qA(n.localStore,t);n.currentUser=t,function(r,a){r.Ru.forEach(o=>{o.forEach(l=>{l.reject(new q(j.CANCELLED,a))})}),r.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Ec(n,i.ks)}}function KV(e,t){const n=Z(e),i=n.Eu.get(t);if(i&&i.cu)return rt().add(i.key);{let s=rt();const r=n.Pu.get(t);if(!r)return s;for(const a of r){const o=n.hu.get(a);s=s.unionWith(o.view.eu)}return s}}function oR(e){const t=Z(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=iR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=KV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=HV.bind(null,t),t.lu.Y_=DV.bind(null,t.eventManager),t.lu.gu=OV.bind(null,t.eventManager),t}function WV(e){const t=Z(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=GV.bind(null,t),t}class Wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Kf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return Q4(this.persistence,new Y4,t.initialUser,this.serializer)}Su(t){return new HA($y.fi,this.serializer)}bu(t){return new iV}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wh.provider={build:()=>new Wh};class QV extends Wh{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){gt(this.persistence.referenceDelegate instanceof Yh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new M4(i,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?Ve.withCacheSize(this.cacheSizeBytes):Ve.DEFAULT;return new HA(i=>Yh.fi(i,n),this.serializer)}}class lp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>_E(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=YV.bind(null,this.syncEngine),await SV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new RV}()}createDatastore(t){const n=Kf(t.databaseInfo.databaseId),i=function(r){return new lV(r)}(t.databaseInfo);return function(r,a,o,l){return new fV(r,a,o,l)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,r,a,o){return new mV(i,s,r,a,o)}(this.localStore,this.datastore,t.asyncQueue,n=>_E(this.syncEngine,n,0),function(){return fE.C()?new fE:new sV}())}createSyncEngine(t,n){return function(s,r,a,o,l,c,h){const f=new VV(s,r,a,o,l,c);return h&&(f.mu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const r=Z(s);H(dr,"RemoteStore shutting down."),r.da.add(5),await bc(r),r.Ra.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}lp.provider={build:()=>new lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Ci("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="FirestoreClient";class ZV{constructor(t,n,i,s,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Te.UNAUTHENTICATED,this.clientId=tA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{H(ks,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(H(ks,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=t_(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Tm(e,t){e.asyncQueue.verifyOperationInProgress(),H(ks,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await qA(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function bE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await JV(e);H(ks,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>mE(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>mE(t.remoteStore,s)),e._onlineComponents=t}async function JV(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){H(ks,"Using user provided OfflineComponentProvider");try{await Tm(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(s){return s.name==="FirebaseError"?s.code===j.FAILED_PRECONDITION||s.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ka("Error using user provided cache. Falling back to memory cache: "+n),await Tm(e,new Wh)}}else H(ks,"Using default OfflineComponentProvider"),await Tm(e,new QV(void 0));return e._offlineComponents}async function lR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(H(ks,"Using user provided OnlineComponentProvider"),await bE(e,e._uninitializedComponentsProvider._online)):(H(ks,"Using default OnlineComponentProvider"),await bE(e,new lp))),e._onlineComponents}function tL(e){return lR(e).then(t=>t.syncEngine)}async function eL(e){const t=await lR(e),n=t.eventManager;return n.onListen=LV.bind(null,t.syncEngine),n.onUnlisten=zV.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=UV.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=BV.bind(null,t.syncEngine),n}function nL(e,t,n={}){const i=new vs;return e.asyncQueue.enqueueAndForget(async()=>function(r,a,o,l,c){const h=new XV({next:d=>{h.xu(),a.enqueueAndForget(()=>CV(r,f)),d.fromCache&&l.source==="server"?c.reject(new q(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new MV(o,h,{includeMetadataChanges:!0,Qa:!0});return IV(r,f)}(await eL(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(e,t,n){if(!n)throw new q(j.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function iL(e,t,n,i){if(t===!0&&i===!0)throw new q(j.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function TE(e){if(!$.isDocumentKey(e))throw new q(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function xE(e){if($.isDocumentKey(e))throw new q(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Xf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":W(12329,{type:typeof e})}function Qh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new q(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xf(e);throw new q(j.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="firestore.googleapis.com",wE=!0;class SE{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new q(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hR,this.ssl=wE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:wE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=FA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<D4)throw new q(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}iL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cR((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Zf{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new q(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new oP;switch(i.type){case"firstParty":return new hP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new q(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=EE.get(n);i&&(H("ComponentProvider","Removing Datastore"),EE.delete(n),i.terminate())}(this),Promise.resolve()}}function sL(e,t,n,i={}){var s;e=Qh(e,Zf);const r=Za(t),a=e._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${n}`;r&&(N1(`https://${l}`),P1("Firestore",!0)),a.host!==hR&&a.host!==l&&ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:r,emulatorOptions:i});if(!Rs(c,o)&&(e._setSettings(c),i.mockUserToken)){let h,f;if(typeof i.mockUserToken=="string")h=i.mockUserToken,f=Te.MOCK_USER;else{h=kk(i.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new q(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Te(d)}e._authCredentials=new lP(new Z1(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Or(this.firestore,t,this._query)}}class dn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new dn(this.firestore,t,this._key)}}class bs extends Or{constructor(t,n,i){super(t,n,yA(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new dn(this.firestore,null,new $(t))}withConverter(t){return new bs(this.firestore,t,this._path)}}function Xh(e,t,...n){if(e=le(e),uR("collection","path",t),e instanceof Zf){const i=Dt.fromString(t,...n);return xE(i),new bs(e,null,i)}{if(!(e instanceof dn||e instanceof bs))throw new q(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Dt.fromString(t,...n));return xE(i),new bs(e.firestore,null,i)}}function rL(e,t,...n){if(e=le(e),arguments.length===1&&(t=tA.newId()),uR("doc","path",t),e instanceof Zf){const i=Dt.fromString(t,...n);return TE(i),new dn(e,null,new $(i))}{if(!(e instanceof dn||e instanceof bs))throw new q(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Dt.fromString(t,...n));return TE(i),new dn(e.firestore,e instanceof bs?e.converter:null,new $(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="AsyncQueue";class RE{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new $A(this,"async_queue_retry"),this.rc=()=>{const i=Em();i&&H(AE,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=t;const n=Em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=Em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new vs;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!no(t))throw t;H(AE,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(i=>{throw this.Xu=i,this.ec=!1,Ci("INTERNAL UNHANDLED ERROR: ",IE(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=n,n}enqueueAfterDelay(t,n,i){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const s=Jy.createAndSchedule(this,t,n,i,r=>this.uc(r));return this.Zu.push(s),s}oc(){this.Xu&&W(47125,{cc:IE(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function IE(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class s_ extends Zf{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new RE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new RE(t),this._firestoreClient=void 0,await t}}}function aL(e,t){const n=typeof e=="object"?e:Ny(),i=typeof e=="string"?e:Bh,s=Ar(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=Ok("firestore");r&&sL(s,...r)}return s}function fR(e){if(e._terminated)throw new q(j.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||oL(e),e._firestoreClient}function oL(e){var t,n,i;const s=e._freezeSettings(),r=function(o,l,c,h){return new AP(o,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,cR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new ZV(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ja(pe.fromBase64String(t))}catch(n){throw new q(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ja(pe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new q(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new me(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new q(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new q(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return tt(this._lat,t._lat)||tt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=/^__.*__$/;class cL{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Cr(t,this.data,this.fieldMask,n,this.fieldTransforms):new _c(t,this.data,n,this.fieldTransforms)}}function mR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W(40011,{Ic:e})}}class l_{constructor(t,n,i,s,r,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Ec(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new l_(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.dc({path:i,Rc:!1});return s.Vc(t),s}mc(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.dc({path:i,Rc:!1});return s.Ec(),s}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Zh(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(mR(this.Ic)&&lL.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class uL{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Kf(t)}bc(t,n,i,s=!1){return new l_({Ic:t,methodName:n,wc:i,path:me.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gR(e){const t=e._freezeSettings(),n=Kf(e._databaseId);return new uL(e._databaseId,!!t.ignoreUndefinedProperties,n)}function hL(e,t,n,i,s,r={}){const a=e.bc(r.merge||r.mergeFields?2:0,t,n,s);_R("Data must be an object, but it was:",a,i);const o=pR(i,a);let l,c;if(r.merge)l=new bn(a.fieldMask),c=a.fieldTransforms;else if(r.mergeFields){const h=[];for(const f of r.mergeFields){const d=dL(t,f,n);if(!a.contains(d))throw new q(j.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);gL(h,d)||h.push(d)}l=new bn(h),c=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=a.fieldTransforms;return new cL(new un(o),l,c)}function fL(e,t,n,i=!1){return c_(n,e.bc(i?4:3,t))}function c_(e,t){if(yR(e=le(e)))return _R("Unsupported field value:",t,e),pR(e,t);if(e instanceof dR)return function(i,s){if(!mR(s.Ic))throw s.gc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(i,s){const r=[];let a=0;for(const o of i){let l=c_(o,s.fc(a));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),a++}return{arrayValue:{values:r}}}(e,t)}return function(i,s){if((i=le(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return WP(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Xt.fromDate(i);return{timestampValue:$h(s.serializer,r)}}if(i instanceof Xt){const r=new Xt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:$h(s.serializer,r)}}if(i instanceof a_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ja)return{bytesValue:PA(s.serializer,i._byteString)};if(i instanceof dn){const r=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(r))throw s.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:qy(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof o_)return function(a,o){return{mapValue:{fields:{[lA]:{stringValue:cA},[Fh]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.gc("VectorValues must only contain numeric values.");return By(o.serializer,c)})}}}}}}(i,s);throw s.gc(`Unsupported field value: ${Xf(i)}`)}(e,t)}function pR(e,t){const n={};return nA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Rr(e,(i,s)=>{const r=c_(s,t.Ac(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function yR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Xt||e instanceof a_||e instanceof ja||e instanceof dn||e instanceof dR||e instanceof o_)}function _R(e,t,n){if(!yR(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=Xf(n);throw i==="an object"?t.gc(e+" a custom object"):t.gc(e+" "+i)}}function dL(e,t,n){if((t=le(t))instanceof r_)return t._internalPath;if(typeof t=="string")return vR(e,t);throw Zh("Field path arguments must be of type string or ",e,!1,void 0,n)}const mL=new RegExp("[~\\*/\\[\\]]");function vR(e,t,n){if(t.search(mL)>=0)throw Zh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new r_(...t.split("."))._internalPath}catch{throw Zh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Zh(e,t,n,i,s){const r=i&&!i.isEmpty(),a=s!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(r||a)&&(l+=" (found",r&&(l+=` in field ${i}`),a&&(l+=` in document ${s}`),l+=")"),new q(j.INVALID_ARGUMENT,o+e+l)}function gL(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(t,n,i,s,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new pL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(u_("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pL extends bR{data(){return super.data()}}function u_(e,t){return typeof t=="string"?vR(e,t):t instanceof r_?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new q(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class h_{}class ER extends h_{}function cp(e,t,...n){let i=[];t instanceof h_&&i.push(t),i=i.concat(n),function(r){const a=r.filter(l=>l instanceof d_).length,o=r.filter(l=>l instanceof f_).length;if(a>1||a>0&&o>0)throw new q(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)e=s._apply(e);return e}class f_ extends ER{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new f_(t,n,i)}_apply(t){const n=this._parse(t);return xR(t._query,n),new Or(t.firestore,t.converter,Zg(t._query,n))}_parse(t){const n=gR(t.firestore);return function(r,a,o,l,c,h,f){let d;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new q(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){DE(f,h);const v=[];for(const E of f)v.push(CE(l,r,E));d={arrayValue:{values:v}}}else d=CE(l,r,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||DE(f,h),d=fL(o,a,f,h==="in"||h==="not-in");return Wt.create(c,h,d)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class d_ extends h_{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new d_(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Rn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,r){let a=s;const o=r.getFlattenedFilters();for(const l of o)xR(a,l),a=Zg(a,l)}(t._query,n),new Or(t.firestore,t.converter,Zg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class m_ extends ER{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new m_(t,n)}_apply(t){const n=function(s,r,a){if(s.startAt!==null)throw new q(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new q(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hl(r,a)}(t._query,this._field,this._direction);return new Or(t.firestore,t.converter,function(s,r){const a=s.explicitOrderBy.concat([r]);return new io(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,n))}}function TR(e,t="asc"){const n=t,i=u_("orderBy",e);return m_._create(i,n)}function CE(e,t,n){if(typeof(n=le(n))=="string"){if(n==="")throw new q(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_A(t)&&n.indexOf("/")!==-1)throw new q(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Dt.fromString(n));if(!$.isDocumentKey(i))throw new q(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return qb(e,new $(i))}if(n instanceof dn)return qb(e,n._key);throw new q(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xf(n)}.`)}function DE(e,t){if(!Array.isArray(e)||e.length===0)throw new q(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function xR(e,t){const n=function(s,r){for(const a of s)for(const o of a.getFlattenedFilters())if(r.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new q(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new q(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class _L{convertValue(t,n="none"){switch(Os(t)){case 0:return null;case 1:return t.booleanValue;case 2:return qt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ds(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw W(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Rr(t,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(t){var n,i,s;const r=(s=(i=(n=t.fields)===null||n===void 0?void 0:n[Fh].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(a=>qt(a.doubleValue));return new o_(r)}convertGeoPoint(t){return new a_(qt(t.latitude),qt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Ff(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(zl(t));default:return null}}convertTimestamp(t){const n=Cs(t);return new Xt(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Dt.fromString(t);gt(BA(i),9688,{name:t});const s=new Bl(i.get(1),i.get(3)),r=new $(i.popFirst(5));return s.isEqual(n)||Ci(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(e,t,n){let i;return i=e?e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class bL extends bR{constructor(t,n,i,s,r,a){super(t,n,i,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(u_("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Wu extends bL{data(t={}){return super.data(t)}}class EL{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new du(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Wu(this._firestore,this._userDataWriter,i.key,i,new du(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const l=new Wu(s._firestore,s._userDataWriter,o.doc.key,o.doc,new du(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const l=new Wu(s._firestore,s._userDataWriter,o.doc.key,o.doc,new du(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:TL(o.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function TL(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W(61501,{type:e})}}class xL extends _L{constructor(t){super(),this.firestore=t}convertBytes(t){return new ja(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function up(e){e=Qh(e,Or);const t=Qh(e.firestore,s_),n=fR(t),i=new xL(t);return yL(e._query),nL(n,e._query).then(s=>new EL(t,i,e,s))}function wL(e,t){const n=Qh(e.firestore,s_),i=rL(e),s=vL(e.converter,t);return SL(n,[hL(gR(e.firestore),"addDoc",i._key,s,e.converter!==null,{}).toMutation(i._key,Ei.exists(!1))]).then(()=>i)}function SL(e,t){return function(i,s){const r=new vs;return i.asyncQueue.enqueueAndForget(async()=>FV(await tL(i),s,r)),r.promise}(fR(e),t)}(function(t,n=!0){(function(s){to=s})(Ja),Yn(new An("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),o=new s_(new cP(i.getProvider("auth-internal")),new fP(a,i.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new q(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(c.options.projectId,h)}(a,s),a);return r=Object.assign({useFetchStreams:n},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),fn(Mb,kb,t),fn(Mb,kb,"esm2017")})();var AL="firebase",RL="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn(AL,RL,"app");function g_(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function wR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IL=wR,SR=new Sr("auth","Firebase",wR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=new jf("@firebase/auth");function CL(e,...t){Jh.logLevel<=st.WARN&&Jh.warn(`Auth (${Ja}): ${e}`,...t)}function Qu(e,...t){Jh.logLevel<=st.ERROR&&Jh.error(`Auth (${Ja}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(e,...t){throw p_(e,...t)}function Gn(e,...t){return p_(e,...t)}function AR(e,t,n){const i=Object.assign(Object.assign({},IL()),{[t]:n});return new Sr("auth","Firebase",i).create(t,{appName:e.name})}function Ti(e){return AR(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function p_(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return SR.create(e,...t)}function K(e,t,...n){if(!e)throw p_(t,...n)}function pi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Qu(t),new Error(t)}function Oi(e,t){e||pi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function DL(){return OE()==="http:"||OE()==="https:"}function OE(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DL()||V1()||"connection"in navigator)?navigator.onLine:!0}function ML(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Oi(n>t,"Short delay should be less than long delay!"),this.isMobile=Vk()||jk()}get(){return OL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(e,t){Oi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PL=new Tc(3e4,6e4);function Ni(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Pi(e,t,n,i,s={}){return IR(e,s,async()=>{let r={},a={};i&&(t==="GET"?a=i:r={body:JSON.stringify(i)});const o=yc(Object.assign({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:l},r);return Uk()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&Za(e.emulatorConfig.host)&&(c.credentials="include"),RR.fetch()(await CR(e,e.config.apiHost,n,o),c)})}async function IR(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},kL),t);try{const s=new LL(e),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw mu(e,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const o=r.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw mu(e,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw mu(e,"email-already-in-use",a);if(l==="USER_DISABLED")throw mu(e,"user-disabled",a);const h=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw AR(e,h,c);In(e,h)}}catch(s){if(s instanceof Mn)throw s;In(e,"network-request-failed",{message:String(s)})}}async function xc(e,t,n,i,s={}){const r=await Pi(e,t,n,i,s);return"mfaPendingCredential"in r&&In(e,"multi-factor-auth-required",{_serverResponse:r}),r}async function CR(e,t,n,i){const s=`${t}${n}?${i}`,r=e,a=r.config.emulator?y_(e.config,s):`${e.config.apiScheme}://${s}`;return NL.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}function VL(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Gn(this.auth,"network-request-failed")),PL.get())})}}function mu(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Gn(e,t,i);return s.customData._tokenResponse=n,s}function ME(e){return e!==void 0&&e.enterprise!==void 0}class UL{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return VL(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jL(e,t){return Pi(e,"GET","/v2/recaptchaConfig",Ni(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zL(e,t){return Pi(e,"POST","/v1/accounts:delete",t)}async function tf(e,t){return Pi(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function BL(e,t=!1){const n=le(e),i=await n.getIdToken(t),s=__(i);K(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:gl(xm(s.auth_time)),issuedAtTime:gl(xm(s.iat)),expirationTime:gl(xm(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function xm(e){return Number(e)*1e3}function __(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Qu("JWT malformed, contained fewer than 3 sections"),null;try{const s=D1(n);return s?JSON.parse(s):(Qu("Failed to decode base64 JWT payload"),null)}catch(s){return Qu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function kE(e){const t=__(e);return K(t,"internal-error"),K(typeof t.exp<"u","internal-error"),K(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Mn&&FL(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function FL({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gl(this.lastLoginAt),this.creationTime=gl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ef(e){var t;const n=e.auth,i=await e.getIdToken(),s=await $l(e,tf(n,{idToken:i}));K(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];e._notifyReloadListener(r);const a=!((t=r.providerUserInfo)===null||t===void 0)&&t.length?DR(r.providerUserInfo):[],o=GL(e.providerData,a),l=e.isAnonymous,c=!(e.email&&r.passwordHash)&&!(o!=null&&o.length),h=l?c:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new fp(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(e,f)}async function qL(e){const t=le(e);await ef(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function GL(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function DR(e){return e.map(t=>{var{providerId:n}=t,i=g_(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $L(e,t){const n=await IR(e,{},async()=>{const i=yc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,a=await CR(e,s,"/v1/token",`key=${r}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:i};return e.emulatorConfig&&Za(e.emulatorConfig.host)&&(l.credentials="include"),RR.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YL(e,t){return Pi(e,"POST","/v2/accounts:revokeToken",Ni(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){K(t.idToken,"internal-error"),K(typeof t.idToken<"u","internal-error"),K(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):kE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){K(t.length!==0,"internal-error");const n=kE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await $L(t,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new ya;return i&&(K(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),s&&(K(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),r&&(K(typeof r=="number","internal-error",{appName:t}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ya,this.toJSON())}_performRefresh(){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(e,t){K(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class En{constructor(t){var{uid:n,auth:i,stsTokenManager:s}=t,r=g_(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new fp(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await $l(this,this.stsTokenManager.getToken(this.auth,t));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return BL(this,t)}reload(){return qL(this)}_assign(t){this!==t&&(K(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new En(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await ef(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cn(this.auth.app))return Promise.reject(Ti(this.auth));const t=await this.getIdToken();return await $l(this,zL(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,s,r,a,o,l,c,h;const f=(i=n.displayName)!==null&&i!==void 0?i:void 0,d=(s=n.email)!==null&&s!==void 0?s:void 0,g=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,v=(a=n.photoURL)!==null&&a!==void 0?a:void 0,E=(o=n.tenantId)!==null&&o!==void 0?o:void 0,A=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:M,isAnonymous:C,providerData:V,stsTokenManager:x}=n;K(T&&x,t,"internal-error");const b=ya.fromJSON(this.name,x);K(typeof T=="string",t,"internal-error"),Bi(f,t.name),Bi(d,t.name),K(typeof M=="boolean",t,"internal-error"),K(typeof C=="boolean",t,"internal-error"),Bi(g,t.name),Bi(v,t.name),Bi(E,t.name),Bi(A,t.name),Bi(_,t.name),Bi(y,t.name);const R=new En({uid:T,auth:t,email:d,emailVerified:M,displayName:f,isAnonymous:C,photoURL:v,phoneNumber:g,tenantId:E,stsTokenManager:b,createdAt:_,lastLoginAt:y});return V&&Array.isArray(V)&&(R.providerData=V.map(I=>Object.assign({},I))),A&&(R._redirectEventId=A),R}static async _fromIdTokenResponse(t,n,i=!1){const s=new ya;s.updateFromServerResponse(n);const r=new En({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await ef(r),r}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];K(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?DR(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),o=new ya;o.updateFromIdToken(i);const l=new En({uid:s.localId,auth:t,stsTokenManager:o,isAnonymous:a}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new fp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=new Map;function yi(e){Oi(e instanceof Function,"Expected a class definition");let t=NE.get(e);return t?(Oi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,NE.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}OR.type="NONE";const PE=OR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(e,t,n){return`firebase:${e}:${t}:${n}`}class _a{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=Xu(this.userKey,s.apiKey,r),this.fullPersistenceKey=Xu("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await tf(this.auth,{idToken:t}).catch(()=>{});return n?En._fromGetAccountInfoResponse(this.auth,n,t):null}return En._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new _a(yi(PE),t,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||yi(PE);const a=Xu(i,t.config.apiKey,t.name);let o=null;for(const c of n)try{const h=await c._get(a);if(h){let f;if(typeof h=="string"){const d=await tf(t,{idToken:h}).catch(()=>{});if(!d)break;f=await En._fromGetAccountInfoResponse(t,d,h)}else f=En._fromJSON(t,h);c!==r&&(o=f),r=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new _a(r,t,i):(r=l[0],o&&await r._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(a)}catch{}})),new _a(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(PR(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(MR(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(LR(t))return"Blackberry";if(UR(t))return"Webos";if(kR(t))return"Safari";if((t.includes("chrome/")||NR(t))&&!t.includes("edge/"))return"Chrome";if(VR(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function MR(e=Ae()){return/firefox\//i.test(e)}function kR(e=Ae()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function NR(e=Ae()){return/crios\//i.test(e)}function PR(e=Ae()){return/iemobile/i.test(e)}function VR(e=Ae()){return/android/i.test(e)}function LR(e=Ae()){return/blackberry/i.test(e)}function UR(e=Ae()){return/webos/i.test(e)}function v_(e=Ae()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function KL(e=Ae()){var t;return v_(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function WL(){return zk()&&document.documentMode===10}function jR(e=Ae()){return v_(e)||VR(e)||UR(e)||LR(e)||/windows phone/i.test(e)||PR(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(e,t=[]){let n;switch(e){case"Browser":n=VE(Ae());break;case"Worker":n=`${VE(Ae())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ja}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=r=>new Promise((a,o)=>{try{const l=t(r);a(l)}catch(l){o(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL(e,t={}){return Pi(e,"GET","/v2/passwordPolicy",Ni(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=6;class JL{constructor(t){var n,i,s,r;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:ZL,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=t.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,s,r,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LE(this),this.idTokenSubscription=new LE(this),this.beforeStateQueue=new QL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=yi(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await _a.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await tf(this,{idToken:t}),i=await En._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(cn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(t);(!a||a===o)&&(l!=null&&l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ef(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ML()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(cn(this.app))return Promise.reject(Ti(this));const n=t?le(t):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&K(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return cn(this.app)?Promise.reject(Ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return cn(this.app)?Promise.reject(Ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await XL(this),n=new JL(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Sr("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await YL(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&yi(t)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await _a.create(this,[yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(o,this,"internal-error"),o.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,i,s);return()=>{a=!0,l()}}else{const l=t.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=zR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var t;if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&CL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Mr(e){return le(e)}class LE{constructor(t){this.auth=t,this.observer=null,this.addObserver=Yk(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e6(e){Jf=e}function BR(e){return Jf.loadJS(e)}function n6(){return Jf.recaptchaEnterpriseScript}function i6(){return Jf.gapiScript}function s6(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class r6{constructor(){this.enterprise=new a6}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class a6{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const o6="recaptcha-enterprise",FR="NO_RECAPTCHA";class l6{constructor(t){this.type=o6,this.auth=Mr(t)}async verify(t="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(a,o)=>{jL(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new UL(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function s(r,a,o){const l=window.grecaptcha;ME(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:t}).then(c=>{a(c)}).catch(()=>{a(FR)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new r6().execute("siteKey",{action:"verify"}):new Promise((r,a)=>{i(this.auth).then(o=>{if(!n&&ME(window.grecaptcha))s(o,r,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=n6();l.length!==0&&(l+=o),BR(l).then(()=>{s(o,r,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function UE(e,t,n,i=!1,s=!1){const r=new l6(e);let a;if(s)a=FR;else try{a=await r.verify(n)}catch{a=await r.verify(n,!0)}const o=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return i?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function dp(e,t,n,i,s){var r;if(!((r=e._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await UE(e,t,n,n==="getOobCode");return i(e,a)}else return i(e,t).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await UE(e,t,n,n==="getOobCode");return i(e,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(e,t){const n=Ar(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(Rs(r,t??{}))return s;In(s,"already-initialized")}return n.initialize({options:t})}function u6(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(yi);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function h6(e,t,n){const i=Mr(e);K(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,r=HR(t),{host:a,port:o}=f6(t),l=o===null?"":`:${o}`,c={url:`${r}//${a}${l}/`},h=Object.freeze({host:a,port:o,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){K(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),K(Rs(c,i.config.emulator)&&Rs(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,Za(a)?(N1(`${r}//${a}${l}`),P1("Auth",!0)):d6()}function HR(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function f6(e){const t=HR(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:jE(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:jE(a)}}}function jE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function d6(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return pi("not implemented")}_getIdTokenResponse(t){return pi("not implemented")}_linkToIdToken(t,n){return pi("not implemented")}_getReauthenticationResolver(t){return pi("not implemented")}}async function m6(e,t){return Pi(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g6(e,t){return xc(e,"POST","/v1/accounts:signInWithPassword",Ni(e,t))}async function p6(e,t){return Pi(e,"POST","/v1/accounts:sendOobCode",Ni(e,t))}async function y6(e,t){return p6(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _6(e,t){return xc(e,"POST","/v1/accounts:signInWithEmailLink",Ni(e,t))}async function v6(e,t){return xc(e,"POST","/v1/accounts:signInWithEmailLink",Ni(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends b_{constructor(t,n,i,s=null){super("password",i),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new Yl(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new Yl(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dp(t,n,"signInWithPassword",g6);case"emailLink":return _6(t,{email:this._email,oobCode:this._password});default:In(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dp(t,i,"signUpPassword",m6);case"emailLink":return v6(t,{idToken:n,email:this._email,oobCode:this._password});default:In(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(e,t){return xc(e,"POST","/v1/accounts:signInWithIdp",Ni(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6="http://localhost";class mr extends b_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new mr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):In("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=n,r=g_(n,["providerId","signInMethod"]);if(!i||!s)return null;const a=new mr(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return va(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,va(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,va(t,n)}buildRequest(){const t={requestUri:b6,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=yc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function T6(e){const t=zo(Bo(e)).link,n=t?zo(Bo(t)).deep_link_id:null,i=zo(Bo(e)).deep_link_id;return(i?zo(Bo(i)).link:null)||i||n||t||e}class E_{constructor(t){var n,i,s,r,a,o;const l=zo(Bo(t)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(i=l.oobCode)!==null&&i!==void 0?i:null,f=E6((s=l.mode)!==null&&s!==void 0?s:null);K(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(a=l.lang)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(t){const n=T6(t);try{return new E_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.providerId=ro.PROVIDER_ID}static credential(t,n){return Yl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=E_.parseLink(n);return K(i,"argument-error"),Yl._fromEmailAndCode(t,i.code,i.tenantId)}}ro.PROVIDER_ID="password";ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends qR{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends wc{constructor(){super("facebook.com")}static credential(t){return mr._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qi.credentialFromTaggedObject(t)}static credentialFromError(t){return Qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qi.credential(t.oauthAccessToken)}catch{return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return mr._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Xi.credentialFromTaggedObject(t)}static credentialFromError(t){return Xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Xi.credential(n,i)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends wc{constructor(){super("github.com")}static credential(t){return mr._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zi.credentialFromTaggedObject(t)}static credentialFromError(t){return Zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zi.credential(t.oauthAccessToken)}catch{return null}}}Zi.GITHUB_SIGN_IN_METHOD="github.com";Zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends wc{constructor(){super("twitter.com")}static credential(t,n){return mr._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ji.credentialFromTaggedObject(t)}static credentialFromError(t){return Ji.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Ji.credential(n,i)}catch{return null}}}Ji.TWITTER_SIGN_IN_METHOD="twitter.com";Ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x6(e,t){return xc(e,"POST","/v1/accounts:signUp",Ni(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const r=await En._fromIdTokenResponse(t,i,s),a=zE(i);return new gr({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=zE(i);return new gr({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function zE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends Mn{constructor(t,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,nf.prototype),this.customData={appName:t.name,tenantId:(r=t.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new nf(t,n,i,s)}}function GR(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?nf._fromErrorAndOperation(e,r,t,i):r})}async function w6(e,t,n=!1){const i=await $l(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return gr._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(e,t,n=!1){const{auth:i}=e;if(cn(i.app))return Promise.reject(Ti(i));const s="reauthenticate";try{const r=await $l(e,GR(i,s,t,e),n);K(r.idToken,i,"internal-error");const a=__(r.idToken);K(a,i,"internal-error");const{sub:o}=a;return K(e.uid===o,i,"user-mismatch"),gr._forOperation(e,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&In(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(e,t,n=!1){if(cn(e.app))return Promise.reject(Ti(e));const i="signIn",s=await GR(e,i,t),r=await gr._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(r.user),r}async function A6(e,t){return $R(Mr(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(e){const t=Mr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function R6(e,t,n){if(cn(e.app))return Promise.reject(Ti(e));const i=Mr(e),a=await dp(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",x6).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&YR(e),l}),o=await gr._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function I6(e,t,n){return cn(e.app)?Promise.reject(Ti(e)):A6(le(e),ro.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&YR(e),i})}async function C6(e,t){const n=le(e),s={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()},{email:r}=await y6(n.auth,s);r!==e.email&&await e.reload()}function D6(e,t,n,i){return le(e).onIdTokenChanged(t,n,i)}function O6(e,t,n){return le(e).beforeAuthStateChanged(t,n)}function M6(e,t,n,i){return le(e).onAuthStateChanged(t,n,i)}function k6(e){return le(e).signOut()}const sf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sf,"1"),this.storage.removeItem(sf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=1e3,P6=10;class WR extends KR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);WL()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,P6):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},N6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}WR.type="LOCAL";const V6=WR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR extends KR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}QR.type="SESSION";const XR=QR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new td(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const o=Array.from(a).map(async c=>c(n.origin,r)),l=await L6(o);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}td.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((o,l)=>{const c=T_("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(f){const d=f;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(h),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),o(d.data.response);break;default:clearTimeout(h),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return window}function j6(e){$n().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){return typeof $n().WorkerGlobalScope<"u"&&typeof $n().importScripts=="function"}async function z6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B6(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function F6(){return ZR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="firebaseLocalStorageDb",H6=1,rf="firebaseLocalStorage",t2="fbase_key";class Sc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ed(e,t){return e.transaction([rf],t?"readwrite":"readonly").objectStore(rf)}function q6(){const e=indexedDB.deleteDatabase(JR);return new Sc(e).toPromise()}function mp(){const e=indexedDB.open(JR,H6);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(rf,{keyPath:t2})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(rf)?t(i):(i.close(),await q6(),t(await mp()))})})}async function BE(e,t,n){const i=ed(e,!0).put({[t2]:t,value:n});return new Sc(i).toPromise()}async function G6(e,t){const n=ed(e,!1).get(t),i=await new Sc(n).toPromise();return i===void 0?null:i.value}function FE(e,t){const n=ed(e,!0).delete(t);return new Sc(n).toPromise()}const $6=800,Y6=3;class e2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>Y6)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=td._getInstance(F6()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await z6(),!this.activeServiceWorker)return;this.sender=new U6(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||B6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await mp();return await BE(t,sf,"1"),await FE(t,sf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>BE(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>G6(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>FE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=ed(s,!1).getAll();return new Sc(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}e2.type="LOCAL";const K6=e2;new Tc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(e,t){return t?yi(t):(K(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_ extends b_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return va(t,this._buildIdpRequest())}_linkToIdToken(t,n){return va(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return va(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Q6(e){return $R(e.auth,new x_(e),e.bypassAuthState)}function X6(e){const{auth:t,user:n}=e;return K(n,t,"internal-error"),S6(n,new x_(e),e.bypassAuthState)}async function Z6(e){const{auth:t,user:n}=e;return K(n,t,"internal-error"),w6(n,new x_(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t,n,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:o}=t;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Q6;case"linkViaPopup":case"linkViaRedirect":return Z6;case"reauthViaPopup":case"reauthViaRedirect":return X6;default:In(this.auth,"internal-error")}}resolve(t){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=new Tc(2e3,1e4);class aa extends n2{constructor(t,n,i,s,r){super(t,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,aa.currentPopupAction&&aa.currentPopupAction.cancel(),aa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return K(t,this.auth,"internal-error"),t}async onExecution(){Oi(this.filter.length===1,"Popup operations only handle one event");const t=T_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,aa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,J6.get())};t()}}aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3="pendingRedirect",Zu=new Map;class e3 extends n2{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Zu.get(this.auth._key());if(!t){try{const i=await n3(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Zu.set(this.auth._key(),t)}return this.bypassAuthState||Zu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n3(e,t){const n=r3(t),i=s3(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function i3(e,t){Zu.set(e._key(),t)}function s3(e){return yi(e._redirectPersistence)}function r3(e){return Xu(t3,e.config.apiKey,e.name)}async function a3(e,t,n=!1){if(cn(e.app))return Promise.reject(Ti(e));const i=Mr(e),s=W6(i,t),a=await new e3(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=10*60*1e3;class l3{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!c3(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!i2(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Gn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=o3&&this.cachedEventUids.clear(),this.cachedEventUids.has(HE(t))}saveEventToCache(t){this.cachedEventUids.add(HE(t)),this.lastProcessedEventTime=Date.now()}}function HE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function i2({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function c3(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return i2(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3(e,t={}){return Pi(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f3=/^https?/;async function d3(e){if(e.config.emulator)return;const{authorizedDomains:t}=await u3(e);for(const n of t)try{if(m3(n))return}catch{}In(e,"unauthorized-domain")}function m3(e){const t=hp(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!f3.test(n))return!1;if(h3.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=new Tc(3e4,6e4);function qE(){const e=$n().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function p3(e){return new Promise((t,n)=>{var i,s,r;function a(){qE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qE(),n(Gn(e,"network-request-failed"))},timeout:g3.get()})}if(!((s=(i=$n().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((r=$n().gapi)===null||r===void 0)&&r.load)a();else{const o=s6("iframefcb");return $n()[o]=()=>{gapi.load?a():n(Gn(e,"network-request-failed"))},BR(`${i6()}?onload=${o}`).catch(l=>n(l))}}).catch(t=>{throw Ju=null,t})}let Ju=null;function y3(e){return Ju=Ju||p3(e),Ju}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=new Tc(5e3,15e3),v3="__/auth/iframe",b3="emulator/auth/iframe",E3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x3(e){const t=e.config;K(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?y_(t,b3):`https://${e.config.authDomain}/${v3}`,i={apiKey:t.apiKey,appName:e.name,v:Ja},s=T3.get(e.config.apiHost);s&&(i.eid=s);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${yc(i).slice(1)}`}async function w3(e){const t=await y3(e),n=$n().gapi;return K(n,e,"internal-error"),t.open({where:document.body,url:x3(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E3,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=Gn(e,"network-request-failed"),o=$n().setTimeout(()=>{r(a)},_3.get());function l(){$n().clearTimeout(o),s(i)}i.ping(l).then(l,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A3=500,R3=600,I3="_blank",C3="http://localhost";class GE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function D3(e,t,n,i=A3,s=R3){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const l=Object.assign(Object.assign({},S3),{width:i.toString(),height:s.toString(),top:r,left:a}),c=Ae().toLowerCase();n&&(o=NR(c)?I3:n),MR(c)&&(t=t||C3,l.scrollbars="yes");const h=Object.entries(l).reduce((d,[g,v])=>`${d}${g}=${v},`,"");if(KL(c)&&o!=="_self")return O3(t||"",o),new GE(null);const f=window.open(t||"",o,h);K(f,e,"popup-blocked");try{f.focus()}catch{}return new GE(f)}function O3(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3="__/auth/handler",k3="emulator/auth/handler",N3=encodeURIComponent("fac");async function $E(e,t,n,i,s,r){K(e.config.authDomain,e,"auth-domain-config-required"),K(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Ja,eventId:s};if(t instanceof qR){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",$k(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(t instanceof wc){const h=t.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const l=await e._getAppCheckToken(),c=l?`#${N3}=${encodeURIComponent(l)}`:"";return`${P3(e)}?${yc(o).slice(1)}${c}`}function P3({config:e}){return e.emulator?y_(e,k3):`https://${e.authDomain}/${M3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="webStorageSupport";class V3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XR,this._completeRedirectFn=a3,this._overrideRedirectResult=i3}async _openPopup(t,n,i,s){var r;Oi((r=this.eventManagers[t._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await $E(t,n,i,hp(),s);return D3(t,a,T_())}async _openRedirect(t,n,i,s){await this._originValidation(t);const r=await $E(t,n,i,hp(),s);return j6(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Oi(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await w3(t),i=new l3(t);return n.register("authEvent",s=>(K(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(wm,{type:wm},s=>{var r;const a=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[wm];a!==void 0&&n(!!a),In(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=d3(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return jR()||kR()||v_()}}const L3=V3;var YE="@firebase/auth",KE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z3(e){Yn(new An("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;K(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:a,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zR(e)},c=new t6(i,s,r,l);return u6(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Yn(new An("auth-internal",t=>{const n=Mr(t.getProvider("auth").getImmediate());return(i=>new U3(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fn(YE,KE,j3(e)),fn(YE,KE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=5*60,F3=k1("authIdTokenMaxAge")||B3;let WE=null;const H3=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>F3)return;const s=n==null?void 0:n.token;WE!==s&&(WE=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function gp(e=Ny()){const t=Ar(e,"auth");if(t.isInitialized())return t.getImmediate();const n=c6(e,{popupRedirectResolver:L3,persistence:[K6,V6,XR]}),i=k1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=H3(r.toString());O6(n,a,()=>a(n.currentUser)),D6(n,o=>a(o))}}const s=O1("auth");return s&&h6(n,`http://${s}`),n}function q3(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}e6({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const r=Gn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",q3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z3("Browser");const s2="@firebase/installations",w_="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=1e4,a2=`w:${w_}`,o2="FIS_v2",G3="https://firebaseinstallations.googleapis.com/v1",$3=60*60*1e3,Y3="installations",K3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},pr=new Sr(Y3,K3,W3);function l2(e){return e instanceof Mn&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2({projectId:e}){return`${G3}/projects/${e}/installations`}function u2(e){return{token:e.token,requestStatus:2,expiresIn:X3(e.expiresIn),creationTime:Date.now()}}async function h2(e,t){const i=(await t.json()).error;return pr.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function f2({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Q3(e,{refreshToken:t}){const n=f2(e);return n.append("Authorization",Z3(t)),n}async function d2(e){const t=await e();return t.status>=500&&t.status<600?e():t}function X3(e){return Number(e.replace("s","000"))}function Z3(e){return`${o2} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J3({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=c2(e),s=f2(e),r=t.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const a={fid:n,authVersion:o2,appId:e.appId,sdkVersion:a2},o={method:"POST",headers:s,body:JSON.stringify(a)},l=await d2(()=>fetch(i,o));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:u2(c.authToken)}}else throw await h2("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=/^[cdef][\w-]{21}$/,pp="";function n5(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=i5(e);return e5.test(n)?n:pp}catch{return pp}}function i5(e){return t5(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new Map;function p2(e,t){const n=nd(e);y2(n,t),s5(n,t)}function y2(e,t){const n=g2.get(e);if(n)for(const i of n)i(t)}function s5(e,t){const n=r5();n&&n.postMessage({key:e,fid:t}),a5()}let Zs=null;function r5(){return!Zs&&"BroadcastChannel"in self&&(Zs=new BroadcastChannel("[Firebase] FID Change"),Zs.onmessage=e=>{y2(e.data.key,e.data.fid)}),Zs}function a5(){g2.size===0&&Zs&&(Zs.close(),Zs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5="firebase-installations-database",l5=1,yr="firebase-installations-store";let Sm=null;function S_(){return Sm||(Sm=B1(o5,l5,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(yr)}}})),Sm}async function af(e,t){const n=nd(e),s=(await S_()).transaction(yr,"readwrite"),r=s.objectStore(yr),a=await r.get(n);return await r.put(t,n),await s.done,(!a||a.fid!==t.fid)&&p2(e,t.fid),t}async function _2(e){const t=nd(e),i=(await S_()).transaction(yr,"readwrite");await i.objectStore(yr).delete(t),await i.done}async function id(e,t){const n=nd(e),s=(await S_()).transaction(yr,"readwrite"),r=s.objectStore(yr),a=await r.get(n),o=t(a);return o===void 0?await r.delete(n):await r.put(o,n),await s.done,o&&(!a||a.fid!==o.fid)&&p2(e,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A_(e){let t;const n=await id(e.appConfig,i=>{const s=c5(i),r=u5(e,s);return t=r.registrationPromise,r.installationEntry});return n.fid===pp?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function c5(e){const t=e||{fid:n5(),registrationStatus:0};return v2(t)}function u5(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(pr.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=h5(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:f5(e)}:{installationEntry:t}}async function h5(e,t){try{const n=await J3(e,t);return af(e.appConfig,n)}catch(n){throw l2(n)&&n.customData.serverCode===409?await _2(e.appConfig):await af(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function f5(e){let t=await QE(e.appConfig);for(;t.registrationStatus===1;)await m2(100),t=await QE(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await A_(e);return i||n}return t}function QE(e){return id(e,t=>{if(!t)throw pr.create("installation-not-found");return v2(t)})}function v2(e){return d5(e)?{fid:e.fid,registrationStatus:0}:e}function d5(e){return e.registrationStatus===1&&e.registrationTime+r2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5({appConfig:e,heartbeatServiceProvider:t},n){const i=g5(e,n),s=Q3(e,n),r=t.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const a={installation:{sdkVersion:a2,appId:e.appId}},o={method:"POST",headers:s,body:JSON.stringify(a)},l=await d2(()=>fetch(i,o));if(l.ok){const c=await l.json();return u2(c)}else throw await h2("Generate Auth Token",l)}function g5(e,{fid:t}){return`${c2(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R_(e,t=!1){let n;const i=await id(e.appConfig,r=>{if(!b2(r))throw pr.create("not-registered");const a=r.authToken;if(!t&&_5(a))return r;if(a.requestStatus===1)return n=p5(e,t),r;{if(!navigator.onLine)throw pr.create("app-offline");const o=b5(r);return n=y5(e,o),o}});return n?await n:i.authToken}async function p5(e,t){let n=await XE(e.appConfig);for(;n.authToken.requestStatus===1;)await m2(100),n=await XE(e.appConfig);const i=n.authToken;return i.requestStatus===0?R_(e,t):i}function XE(e){return id(e,t=>{if(!b2(t))throw pr.create("not-registered");const n=t.authToken;return E5(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function y5(e,t){try{const n=await m5(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return await af(e.appConfig,i),n}catch(n){if(l2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await _2(e.appConfig);else{const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await af(e.appConfig,i)}throw n}}function b2(e){return e!==void 0&&e.registrationStatus===2}function _5(e){return e.requestStatus===2&&!v5(e)}function v5(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+$3}function b5(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function E5(e){return e.requestStatus===1&&e.requestTime+r2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T5(e){const t=e,{installationEntry:n,registrationPromise:i}=await A_(t);return i?i.catch(console.error):R_(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x5(e,t=!1){const n=e;return await w5(n),(await R_(n,t)).token}async function w5(e){const{registrationPromise:t}=await A_(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(e){if(!e||!e.options)throw Am("App Configuration");if(!e.name)throw Am("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Am(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Am(e){return pr.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="installations",A5="installations-internal",R5=e=>{const t=e.getProvider("app").getImmediate(),n=S5(t),i=Ar(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},I5=e=>{const t=e.getProvider("app").getImmediate(),n=Ar(t,E2).getImmediate();return{getId:()=>T5(n),getToken:s=>x5(n,s)}};function C5(){Yn(new An(E2,R5,"PUBLIC")),Yn(new An(A5,I5,"PRIVATE"))}C5();fn(s2,w_);fn(s2,w_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="analytics",D5="firebase_id",O5="origin",M5=60*1e3,k5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",I_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je=new jf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Je=new Sr("analytics","Analytics",N5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(e){if(!e.startsWith(I_)){const t=Je.create("invalid-gtag-resource",{gtagURL:e});return je.warn(t.message),""}return e}function T2(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function V5(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function L5(e,t){const n=V5("firebase-js-sdk-policy",{createScriptURL:P5}),i=document.createElement("script"),s=`${I_}?l=${e}&id=${t}`;i.src=n?n==null?void 0:n.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function U5(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function j5(e,t,n,i,s,r){const a=i[s];try{if(a)await t[a];else{const l=(await T2(n)).find(c=>c.measurementId===s);l&&await t[l.appId]}}catch(o){je.error(o)}e("config",s,r)}async function z5(e,t,n,i,s){try{let r=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const o=await T2(n);for(const l of a){const c=o.find(f=>f.measurementId===l),h=c&&t[c.appId];if(h)r.push(h);else{r=[];break}}}r.length===0&&(r=Object.values(t)),await Promise.all(r),e("event",i,s||{})}catch(r){je.error(r)}}function B5(e,t,n,i){async function s(r,...a){try{if(r==="event"){const[o,l]=a;await z5(e,t,n,o,l)}else if(r==="config"){const[o,l]=a;await j5(e,t,n,i,o,l)}else if(r==="consent"){const[o,l]=a;e("consent",o,l)}else if(r==="get"){const[o,l,c]=a;e("get",o,l,c)}else if(r==="set"){const[o]=a;e("set",o)}else e(r,...a)}catch(o){je.error(o)}}return s}function F5(e,t,n,i,s){let r=function(...a){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(r=window[s]),window[s]=B5(r,e,t,n),{gtagCore:r,wrappedGtag:window[s]}}function H5(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(I_)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=30,G5=1e3;class $5{constructor(t={},n=G5){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const x2=new $5;function Y5(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function K5(e){var t;const{appId:n,apiKey:i}=e,s={method:"GET",headers:Y5(i)},r=k5.replace("{app-id}",n),a=await fetch(r,s);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();!((t=l.error)===null||t===void 0)&&t.message&&(o=l.error.message)}catch{}throw Je.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function W5(e,t=x2,n){const{appId:i,apiKey:s,measurementId:r}=e.options;if(!i)throw Je.create("no-app-id");if(!s){if(r)return{measurementId:r,appId:i};throw Je.create("no-api-key")}const a=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Z5;return setTimeout(async()=>{o.abort()},M5),w2({appId:i,apiKey:s,measurementId:r},a,o,t)}async function w2(e,{throttleEndTimeMillis:t,backoffCount:n},i,s=x2){var r;const{appId:a,measurementId:o}=e;try{await Q5(i,t)}catch(l){if(o)return je.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:o};throw l}try{const l=await K5(e);return s.deleteThrottleMetadata(a),l}catch(l){const c=l;if(!X5(c)){if(s.deleteThrottleMetadata(a),o)return je.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:o};throw l}const h=Number((r=c==null?void 0:c.customData)===null||r===void 0?void 0:r.httpStatus)===503?Tb(n,s.intervalMillis,q5):Tb(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(a,f),je.debug(`Calling attemptFetch again in ${h} millis`),w2(e,f,i,s)}}function Q5(e,t){return new Promise((n,i)=>{const s=Math.max(t-Date.now(),0),r=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(r),i(Je.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function X5(e){if(!(e instanceof Mn)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class Z5{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function J5(e,t,n,i,s){if(s&&s.global){e("event",n,i);return}else{const r=await t,a=Object.assign(Object.assign({},i),{send_to:r});e("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t9(){if(L1())try{await U1()}catch(e){return je.warn(Je.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return je.warn(Je.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function e9(e,t,n,i,s,r,a){var o;const l=W5(e);l.then(g=>{n[g.measurementId]=g.appId,e.options.measurementId&&g.measurementId!==e.options.measurementId&&je.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>je.error(g)),t.push(l);const c=t9().then(g=>{if(g)return i.getId()}),[h,f]=await Promise.all([l,c]);H5(r)||L5(r,h.measurementId),s("js",new Date);const d=(o=a==null?void 0:a.config)!==null&&o!==void 0?o:{};return d[O5]="firebase",d.update=!0,f!=null&&(d[D5]=f),s("config",h.measurementId,d),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(t){this.app=t}_delete(){return delete pl[this.app.options.appId],Promise.resolve()}}let pl={},ZE=[];const JE={};let Rm="dataLayer",i9="gtag",tT,S2,eT=!1;function s9(){const e=[];if(V1()&&e.push("This is a browser extension environment."),Fk()||e.push("Cookies are not available."),e.length>0){const t=e.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=Je.create("invalid-analytics-context",{errorInfo:t});je.warn(n.message)}}function r9(e,t,n){s9();const i=e.options.appId;if(!i)throw Je.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)je.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Je.create("no-api-key");if(pl[i]!=null)throw Je.create("already-exists",{id:i});if(!eT){U5(Rm);const{wrappedGtag:r,gtagCore:a}=F5(pl,ZE,JE,Rm,i9);S2=r,tT=a,eT=!0}return pl[i]=e9(e,ZE,JE,t,tT,Rm,n),new n9(e)}function a9(e=Ny()){e=le(e);const t=Ar(e,of);return t.isInitialized()?t.getImmediate():o9(e)}function o9(e,t={}){const n=Ar(e,of);if(n.isInitialized()){const s=n.getImmediate();if(Rs(t,n.getOptions()))return s;throw Je.create("already-initialized")}return n.initialize({options:t})}function l9(e,t,n,i){e=le(e),J5(S2,pl[e.app.options.appId],t,n,i).catch(s=>je.error(s))}const nT="@firebase/analytics",iT="0.10.16";function c9(){Yn(new An(of,(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return r9(i,s,n)},"PUBLIC")),Yn(new An("analytics-internal",e,"PRIVATE")),fn(nT,iT),fn(nT,iT,"esm2017");function e(t){try{const n=t.getProvider(of).getImmediate();return{logEvent:(i,s,r)=>l9(n,i,s,r)}}catch(n){throw Je.create("interop-component-reg-failed",{reason:n})}}}c9();const u9={apiKey:"AIzaSyCWsB6mRj87OxhBzjmPYO3VziOkzEKeOac",authDomain:"admin-jetel.firebaseapp.com",projectId:"admin-jetel",storageBucket:"admin-jetel.appspot.com",messagingSenderId:"192204818240",appId:"1:192204818240:web:112f7b656bc27048b71ca5",measurementId:"G-X3BWNPE09E"},Kl=F1(u9),A2=gp(Kl),yl=aL(Kl);typeof window<"u"&&a9(Kl);const h9={"Muito Satisfeito":"",Satisfeito:"",Regular:"",Ruim:""},f9={"Muito Satisfeito":"bg-green-500 border-green-700 hover:bg-green-600 text-white",Satisfeito:"bg-yellow-400 border-yellow-600 hover:bg-yellow-500 text-white",Regular:"bg-orange-500 border-orange-700 hover:bg-orange-600 text-white",Ruim:"bg-red-600 border-red-800 hover:bg-red-700 text-white"},d9={"Muito Satisfeito":"ring-green-700",Satisfeito:"ring-yellow-600",Regular:"ring-orange-700",Ruim:"ring-red-800"},gu=[{name:"recepcao",label:"Atendimento da Recepo",type:"radio",options:["Muito Satisfeito","Satisfeito","Regular","Ruim"]},{name:"triagem",label:"Atendimento da Triagem",type:"radio",options:["Muito Satisfeito","Satisfeito","Regular","Ruim"]},{name:"medico",label:"Atendimento Mdico",type:"radio",options:["Muito Satisfeito","Satisfeito","Regular","Ruim"]},{name:"orientacao",label:"Orientaes e esclarecimentos do mdico",type:"radio",options:["Muito Satisfeito","Satisfeito","Regular","Ruim"]},{name:"limpeza",label:"Higienizao/Limpeza do ambiente",type:"radio",options:["Muito Satisfeito","Satisfeito","Regular","Ruim"]},{name:"equipe",label:"Atendimento da equipe de Tcnicos e Enfermeiros",type:"radio",options:["Muito Satisfeito","Satisfeito","Regular","Ruim"]},{name:"sugestao",label:"Deseja deixar alguma SUGESTO, ELOGIO ou CRTICA?",type:"textarea",placeholder:"Sua resposta"},{name:"destaque",label:"Deseja destacar algum colaborador? Por qu?",type:"textarea",placeholder:"Sua resposta"},{name:"contato",label:"Gostaria de deixar seu contato?",type:"text",placeholder:"Seu telefone, e-mail ou WhatsApp (opcional)"},{name:"data",label:"Data em que voc foi atendido.",type:"date",placeholder:"dd/mm/aaaa"}];function m9(){const e=wr(),[t,n]=P.useState({recepcao:"",triagem:"",medico:"",orientacao:"",limpeza:"",equipe:"",sugestao:"",destaque:"",contato:"",data:""}),[i,s]=P.useState(0),[r,a]=P.useState(""),[o,l]=P.useState(""),[c,h]=P.useState(""),[f,d]=P.useState(!1),g=C=>{n({...t,[C.target.name]:C.target.value}),a(C.target.value),setTimeout(()=>a(""),400)},v=()=>s(C=>C+1),E=()=>s(C=>C-1),A=()=>{for(const C of gu)if((C.type==="radio"||C.type==="date")&&!t[C.name])return!1;return!0},_=async C=>{if(C.preventDefault(),h(""),l(""),!A()){h("Por favor, preencha todas as perguntas obrigatrias antes de enviar.");return}if(!f){d(!0);return}try{await wL(Xh(yl,"surveys"),{...t,timestamp:Xt.now()}),l("Pesquisa enviada! Obrigado pela sua participao."),setTimeout(()=>e("/"),2e3),n({recepcao:"",triagem:"",medico:"",orientacao:"",limpeza:"",equipe:"",sugestao:"",destaque:"",contato:"",data:""}),s(0),d(!1)}catch(V){h("Erro ao enviar pesquisa: "+(V.message||"Tente novamente.")),d(!1)}},y=()=>d(!1),T=gu[i],M=t[T.name];return S.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-200 via-green-100 to-green-200 flex items-center justify-center py-4 px-2",children:[S.jsxs("div",{className:"w-full max-w-md bg-white rounded-3xl shadow-2xl p-6 sm:p-8 border-2 border-blue-200 flex flex-col items-center",children:[S.jsx("button",{className:"mb-6 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded-lg text-blue-700 font-semibold transition self-start",onClick:()=>e("/"),children:" Voltar"}),S.jsxs("div",{className:"flex flex-col items-center mb-8 w-full",children:[S.jsx("img",{src:Lh,alt:"Logo Jetel Mendes",className:"h-20 sm:h-24 mb-3 drop-shadow-xl animate-bounce-slow"}),S.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-blue-800 mb-1 text-center drop-shadow",children:"Pesquisa de Satisfao"}),S.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-green-700 mb-2 text-center",children:"PA Jetel Mendes"}),S.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-blue-400 to-green-400 rounded-full mb-2"})]}),o?S.jsx("div",{className:"flex flex-col items-center justify-center h-64 w-full",children:S.jsx("div",{className:"text-green-700 bg-green-50 border border-green-200 rounded p-4 text-center font-semibold text-lg shadow-lg",children:o})}):S.jsxs("form",{className:"flex flex-col gap-6 w-full",onSubmit:_,children:[S.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 shadow-md border border-blue-100 flex flex-col items-center",children:[S.jsxs("label",{className:"font-bold text-blue-900 block mb-4 text-xl text-center",children:[T.label,(T.type==="radio"||T.type==="date")&&S.jsx("span",{className:"text-red-600",children:"*"})]}),T.type==="radio"&&S.jsx("div",{className:"flex flex-row justify-center gap-2 sm:gap-4 w-full",children:T.options.map(C=>S.jsxs("label",{className:`flex flex-col items-center gap-2 font-bold cursor-pointer transition
                        rounded-xl px-2 py-2 w-1/4 border-2
                        ${f9[C]}
                        ${M===C||r===C?"scale-105 shadow-lg ring-2 "+d9[C]+" animate-bounce-slow":""}
                      `,style:{transition:"all 0.2s"},children:[S.jsx("input",{type:"radio",name:T.name,value:C,checked:t[T.name]===C,onChange:g,required:!0,className:"accent-blue-600 w-5 h-5",style:{display:"none"}}),S.jsx("span",{className:`text-4xl select-none transition-colors duration-200 ${M===C?"text-white":""}`,children:h9[C]}),S.jsx("span",{className:"text-xs sm:text-sm text-center",children:C})]},C))}),T.type==="textarea"&&S.jsx("textarea",{name:T.name,value:t[T.name],onChange:g,className:"border border-blue-200 rounded-lg px-4 py-3 w-full mt-2 focus:ring-2 focus:ring-blue-200 resize-none text-base",rows:3,placeholder:T.placeholder,maxLength:300}),T.type==="date"&&S.jsx("input",{type:"date",name:T.name,value:t[T.name],onChange:g,className:"border border-blue-200 rounded-lg px-4 py-3 mt-2 w-full focus:ring-2 focus:ring-blue-200 text-base",placeholder:T.placeholder,required:!0}),T.type==="text"&&S.jsx("input",{type:"text",name:T.name,value:t[T.name],onChange:g,className:"border border-blue-200 rounded-lg px-4 py-3 mt-2 w-full focus:ring-2 focus:ring-blue-200 text-base",placeholder:T.placeholder,maxLength:100})]}),S.jsxs("div",{className:"flex justify-between mt-4 w-full",children:[i>0&&S.jsx("button",{type:"button",className:"bg-blue-100 hover:bg-blue-200 text-blue-700 font-semibold py-2 px-6 rounded-lg shadow transition",onClick:E,children:"Voltar"}),i<gu.length-1?S.jsx("button",{type:"button",className:"bg-gradient-to-r from-green-400 to-blue-500 hover:from-green-500 hover:to-blue-600 text-white font-bold py-2 px-8 rounded-xl shadow-lg transition ml-auto",onClick:v,disabled:T.type==="radio"||T.type==="date"?!t[T.name]:!1,children:"Prxima"}):S.jsx("button",{type:"submit",className:"bg-gradient-to-r from-green-400 to-blue-500 hover:from-green-500 hover:to-blue-600 text-white font-bold py-2 px-8 rounded-xl shadow-lg transition ml-auto",disabled:!A(),children:"Enviar"})]}),S.jsx("div",{className:"flex justify-center mt-4",children:S.jsxs("div",{className:"relative inline-block px-6 py-2 rounded-full bg-gradient-to-r from-blue-400 to-green-400 shadow-lg text-white font-extrabold text-lg tracking-widest animate-pagePulse border-4 border-white",children:["Pergunta ",i+1," de ",gu.length,S.jsx("span",{className:"absolute top-0 left-0 w-full h-full rounded-full pointer-events-none border-2 border-blue-300 animate-pulsePage"})]})}),c&&S.jsx("div",{className:"text-red-700 bg-red-50 border border-red-200 rounded p-2 text-center font-semibold",children:c})]}),f&&S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:S.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 max-w-xs w-full flex flex-col items-center",children:[S.jsx("h3",{className:"text-lg font-bold mb-4 text-blue-800",children:"Deseja enviar suas respostas?"}),S.jsxs("div",{className:"flex gap-4 mt-2",children:[S.jsx("button",{className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded font-semibold",onClick:async()=>{d(!1),await _({preventDefault:()=>{}})},children:"Enviar"}),S.jsx("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded font-semibold",onClick:y,children:"Cancelar"})]})]})})]}),S.jsx("style",{children:`
          .animate-bounce-slow {
            animation: bounce 2.5s infinite;
          }
          @keyframes bounce {
            0%, 100% { transform: translateY(0);}
            50% { transform: translateY(-10px);}
          }
          .animate-pagePulse {
            animation: pagePulse 1.5s infinite alternate;
          }
          @keyframes pagePulse {
            0% { box-shadow: 0 0 0 0 rgba(34,197,94,0.3), 0 0 0 0 rgba(59,130,246,0.3);}
            100% { box-shadow: 0 0 0 8px rgba(34,197,94,0), 0 0 0 16px rgba(59,130,246,0);}
          }
          .animate-pulsePage {
            animation: pulsePage 1.5s infinite alternate;
          }
          @keyframes pulsePage {
            0% { opacity: 0.5; }
            100% { opacity: 0; }
          }
          @media (max-width: 640px) {
            .w-1\\/4 { width: 23% !important; min-width: 70px; }
            .flex-row { flex-direction: row !important; }
            .p-6 { padding: 1rem !important; }
            .sm\\:p-8 { padding: 1.5rem !important; }
          }
        `})]})}function g9(){const e=wr(),[t,n]=P.useState(""),[i,s]=P.useState(""),[r,a]=P.useState(""),[o,l]=P.useState(""),[c,h]=P.useState(""),[f,d]=P.useState(""),[g,v]=P.useState(""),[E,A]=P.useState(!1),[_,y]=P.useState(""),T=async C=>{C.preventDefault(),v(""),d(""),h("");const V=gp(Kl);try{if(!(await I6(V,t,i)).user.emailVerified){v("Confirme seu e-mail pelo link enviado antes de acessar o painel.");return}e("/admin/dashboard")}catch(x){x.code==="auth/user-not-found"?(y(t),v("E-mail no cadastrado. Deseja cadastrar este e-mail como administrador?")):x.code==="auth/wrong-password"?v("Senha incorreta."):x.code==="auth/too-many-requests"?v("Muitas tentativas. Tente novamente mais tarde."):v("E-mail ou senha invlidos.")}},M=async C=>{C.preventDefault(),h(""),d("");const V=gp(Kl);try{const x=await R6(V,r,o);await C6(x.user),d("Administrador cadastrado! Verifique seu e-mail e confirme pelo link enviado antes de fazer login."),A(!1),y("")}catch(x){h("Erro ao cadastrar: "+(x.message||""))}};return E?S.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center px-4",children:S.jsxs("form",{onSubmit:M,className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-8 border border-blue-100 flex flex-col gap-4",children:[S.jsx("button",{className:"self-start mb-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded-lg text-blue-700 font-semibold transition",type:"button",onClick:()=>A(!1),children:" Voltar"}),S.jsx("img",{src:Lh,alt:"Logo Jetel Mendes",className:"h-16 mb-2 drop-shadow-lg mx-auto"}),S.jsx("h2",{className:"text-xl font-bold text-blue-800 text-center mb-2",children:"Cadastrar Administrador"}),S.jsx("input",{type:"email",placeholder:"E-mail",value:r,onChange:C=>a(C.target.value),required:!0,className:"border border-blue-200 rounded px-3 py-2 focus:ring-2 focus:ring-blue-200"}),S.jsx("input",{type:"password",placeholder:"Senha",value:o,onChange:C=>l(C.target.value),required:!0,className:"border border-blue-200 rounded px-3 py-2 focus:ring-2 focus:ring-blue-200"}),S.jsx("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg shadow transition text-lg",children:"Cadastrar"}),c&&S.jsx("p",{className:"text-red-600 text-center",children:c}),f&&S.jsx("p",{className:"text-green-600 text-center",children:f})]})}):S.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center px-4",children:S.jsxs("form",{onSubmit:T,className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-8 border border-blue-100 flex flex-col gap-4",children:[S.jsx("button",{className:"self-start mb-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded-lg text-blue-700 font-semibold transition",type:"button",onClick:()=>e("/"),children:" Voltar"}),S.jsx("img",{src:Lh,alt:"Logo Jetel Mendes",className:"h-16 mb-2 drop-shadow-lg mx-auto"}),S.jsx("h2",{className:"text-xl font-bold text-blue-800 text-center mb-2",children:"Login do Administrador"}),S.jsx("input",{type:"email",placeholder:"E-mail",value:t,onChange:C=>n(C.target.value),required:!0,className:"border border-blue-200 rounded px-3 py-2 focus:ring-2 focus:ring-blue-200"}),S.jsx("input",{type:"password",placeholder:"Senha",value:i,onChange:C=>s(C.target.value),required:!0,className:"border border-blue-200 rounded px-3 py-2 focus:ring-2 focus:ring-blue-200"}),S.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg shadow transition text-lg",children:"Entrar"}),g&&S.jsx("p",{className:"text-red-600 text-center",children:g}),_&&S.jsx("button",{type:"button",className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg shadow transition text-lg mt-2",onClick:()=>{A(!0),a(_)},children:"Cadastrar este e-mail como Administrador"})]})})}const p9=async()=>{try{return await k6(A2),{success:!0}}catch(e){return console.error("Error signing out:",e),{success:!1,error:e.message}}},y9=e=>M6(A2,e),lf=({children:e,title:t})=>{const n=wr(),i=ki(),s=async()=>{try{await p9(),n("/admin/login")}catch(a){console.error("Error logging out:",a)}},r=[{path:"/admin/dashboard",label:"Dashboard",icon:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"},{path:"/admin/reports",label:"Relatrios",icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"}];return S.jsxs("div",{className:"min-h-screen bg-gray-50",children:[S.jsx("header",{className:"bg-white shadow",children:S.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:S.jsxs("div",{className:"flex justify-between items-center py-6",children:[S.jsxs("div",{className:"flex items-center space-x-4",children:[S.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:S.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z"})})}),S.jsxs("div",{children:[S.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"JETEL MENDES"}),S.jsx("p",{className:"text-sm text-gray-600",children:"Painel Administrativo"})]})]}),S.jsxs("div",{className:"flex items-center space-x-4",children:[S.jsx("span",{className:"text-sm text-gray-700",children:"Administrador"}),S.jsx("button",{onClick:s,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Sair"})]})]})})}),S.jsx("nav",{className:"bg-white border-b border-gray-200",children:S.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:S.jsx("div",{className:"flex space-x-8",children:r.map(a=>S.jsxs("button",{onClick:()=>n(a.path),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${i.pathname===a.path?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:a.icon})}),S.jsx("span",{children:a.label})]},a.path))})})}),S.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:S.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[t&&S.jsx("div",{className:"mb-6",children:S.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t})}),e]})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ac(e){return e+.5|0}const rs=(e,t,n)=>Math.max(Math.min(e,n),t);function Go(e){return rs(Ac(e*2.55),0,255)}function Es(e){return rs(Ac(e*255),0,255)}function ci(e){return rs(Ac(e/2.55)/100,0,1)}function sT(e){return rs(Ac(e*100),0,100)}const en={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},yp=[..."0123456789ABCDEF"],_9=e=>yp[e&15],v9=e=>yp[(e&240)>>4]+yp[e&15],pu=e=>(e&240)>>4===(e&15),b9=e=>pu(e.r)&&pu(e.g)&&pu(e.b)&&pu(e.a);function E9(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&en[e[1]]*17,g:255&en[e[2]]*17,b:255&en[e[3]]*17,a:t===5?en[e[4]]*17:255}:(t===7||t===9)&&(n={r:en[e[1]]<<4|en[e[2]],g:en[e[3]]<<4|en[e[4]],b:en[e[5]]<<4|en[e[6]],a:t===9?en[e[7]]<<4|en[e[8]]:255})),n}const T9=(e,t)=>e<255?t(e):"";function x9(e){var t=b9(e)?_9:v9;return e?"#"+t(e.r)+t(e.g)+t(e.b)+T9(e.a,t):void 0}const w9=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function R2(e,t,n){const i=t*Math.min(n,1-n),s=(r,a=(r+e/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function S9(e,t,n){const i=(s,r=(s+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function A9(e,t,n){const i=R2(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function R9(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function C_(e){const n=e.r/255,i=e.g/255,s=e.b/255,r=Math.max(n,i,s),a=Math.min(n,i,s),o=(r+a)/2;let l,c,h;return r!==a&&(h=r-a,c=o>.5?h/(2-r-a):h/(r+a),l=R9(n,i,s,h,r),l=l*60+.5),[l|0,c||0,o]}function D_(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(Es)}function O_(e,t,n){return D_(R2,e,t,n)}function I9(e,t,n){return D_(A9,e,t,n)}function C9(e,t,n){return D_(S9,e,t,n)}function I2(e){return(e%360+360)%360}function D9(e){const t=w9.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Go(+t[5]):Es(+t[5]));const s=I2(+t[2]),r=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?i=I9(s,r,a):t[1]==="hsv"?i=C9(s,r,a):i=O_(s,r,a),{r:i[0],g:i[1],b:i[2],a:n}}function O9(e,t){var n=C_(e);n[0]=I2(n[0]+t),n=O_(n),e.r=n[0],e.g=n[1],e.b=n[2]}function M9(e){if(!e)return;const t=C_(e),n=t[0],i=sT(t[1]),s=sT(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${ci(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const rT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},aT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function k9(){const e={},t=Object.keys(aT),n=Object.keys(rT);let i,s,r,a,o;for(i=0;i<t.length;i++){for(a=o=t[i],s=0;s<n.length;s++)r=n[s],o=o.replace(r,rT[r]);r=parseInt(aT[a],16),e[o]=[r>>16&255,r>>8&255,r&255]}return e}let yu;function N9(e){yu||(yu=k9(),yu.transparent=[0,0,0,0]);const t=yu[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const P9=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function V9(e){const t=P9.exec(e);let n=255,i,s,r;if(t){if(t[7]!==i){const a=+t[7];n=t[8]?Go(a):rs(a*255,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?Go(i):rs(i,0,255)),s=255&(t[4]?Go(s):rs(s,0,255)),r=255&(t[6]?Go(r):rs(r,0,255)),{r:i,g:s,b:r,a:n}}}function L9(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ci(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Im=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,jr=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function U9(e,t,n){const i=jr(ci(e.r)),s=jr(ci(e.g)),r=jr(ci(e.b));return{r:Es(Im(i+n*(jr(ci(t.r))-i))),g:Es(Im(s+n*(jr(ci(t.g))-s))),b:Es(Im(r+n*(jr(ci(t.b))-r))),a:e.a+n*(t.a-e.a)}}function _u(e,t,n){if(e){let i=C_(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=O_(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function C2(e,t){return e&&Object.assign(t||{},e)}function oT(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Es(e[3]))):(t=C2(e,{r:0,g:0,b:0,a:1}),t.a=Es(t.a)),t}function j9(e){return e.charAt(0)==="r"?V9(e):D9(e)}class Wl{constructor(t){if(t instanceof Wl)return t;const n=typeof t;let i;n==="object"?i=oT(t):n==="string"&&(i=E9(t)||N9(t)||j9(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=C2(this._rgb);return t&&(t.a=ci(t.a)),t}set rgb(t){this._rgb=oT(t)}rgbString(){return this._valid?L9(this._rgb):void 0}hexString(){return this._valid?x9(this._rgb):void 0}hslString(){return this._valid?M9(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let r;const a=n===r?.5:n,o=2*a-1,l=i.a-s.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=a*i.a+(1-a)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=U9(this._rgb,t._rgb,n)),this}clone(){return new Wl(this.rgb)}alpha(t){return this._rgb.a=Es(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Ac(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return _u(this._rgb,2,t),this}darken(t){return _u(this._rgb,2,-t),this}saturate(t){return _u(this._rgb,1,t),this}desaturate(t){return _u(this._rgb,1,-t),this}rotate(t){return O9(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function si(){}const z9=(()=>{let e=0;return()=>e++})();function St(e){return e==null}function re(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ut(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function pn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Nn(e,t){return pn(e)?e:t}function _t(e,t){return typeof e>"u"?t:e}const B9=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ct(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function yt(e,t,n,i){let s,r,a;if(re(e))for(r=e.length,s=0;s<r;s++)t.call(n,e[s],s);else if(ut(e))for(a=Object.keys(e),r=a.length,s=0;s<r;s++)t.call(n,e[a[s]],a[s])}function cf(e,t){let n,i,s,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],r=t[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function uf(e){if(re(e))return e.map(uf);if(ut(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=uf(e[n[s]]);return t}return e}function D2(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function F9(e,t,n,i){if(!D2(e))return;const s=t[e],r=n[e];ut(s)&&ut(r)?Ql(s,r,i):t[e]=uf(r)}function Ql(e,t,n){const i=re(t)?t:[t],s=i.length;if(!ut(e))return e;n=n||{};const r=n.merger||F9;let a;for(let o=0;o<s;++o){if(a=i[o],!ut(a))continue;const l=Object.keys(a);for(let c=0,h=l.length;c<h;++c)r(l[c],e,a,n)}return e}function _l(e,t){return Ql(e,t,{merger:H9})}function H9(e,t,n){if(!D2(e))return;const i=t[e],s=n[e];ut(i)&&ut(s)?_l(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=uf(s))}const lT={"":e=>e,x:e=>e.x,y:e=>e.y};function q9(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function G9(e){const t=q9(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function za(e,t){return(lT[t]||(lT[t]=G9(t)))(e)}function M_(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Xl=e=>typeof e<"u",Ns=e=>typeof e=="function",cT=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function $9(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const ze=Math.PI,Ts=2*ze,hf=Number.POSITIVE_INFINITY,Y9=ze/180,Tn=ze/2,Fs=ze/4,uT=ze*2/3,O2=Math.log10,xs=Math.sign;function th(e,t,n){return Math.abs(e-t)<n}function hT(e){const t=Math.round(e);e=th(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(O2(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function K9(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,r)=>s-r).pop(),t}function W9(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function ff(e){return!W9(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Q9(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function X9(e,t,n){let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Js(e){return e*(ze/180)}function Z9(e){return e*(180/ze)}function fT(e){if(!pn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function J9(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*ze&&(r+=Ts),{angle:r,distance:s}}function tU(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Hs(e){return(e%Ts+Ts)%Ts}function eU(e,t,n,i){const s=Hs(e),r=Hs(t),a=Hs(n),o=Hs(r-s),l=Hs(a-s),c=Hs(s-r),h=Hs(s-a);return s===r||s===a||i||o>l&&c<h}function xn(e,t,n){return Math.max(t,Math.min(n,e))}function nU(e){return xn(e,-32768,32767)}function oa(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function k_(e,t,n){n=n||(a=>e[a]<t);let i=e.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const _p=(e,t,n,i)=>k_(e,n,i?s=>{const r=e[s][t];return r<n||r===n&&e[s+1][t]===n}:s=>e[s][t]<n),iU=(e,t,n)=>k_(e,n,i=>e[i][t]>=n);function sU(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const M2=["push","pop","shift","splice","unshift"];function rU(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),M2.forEach(n=>{const i="_onData"+M_(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const a=s.apply(this,r);return e._chartjs.listeners.forEach(o=>{typeof o[i]=="function"&&o[i](...r)}),a}})})}function dT(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(M2.forEach(r=>{delete e[r]}),delete e._chartjs)}function k2(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const N2=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function P2(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,N2.call(window,()=>{i=!1,e.apply(t,n)}))}}function aU(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const V2=e=>e==="start"?"left":e==="end"?"right":"center",$e=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,oU=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t,vu=e=>e===0||e===1,mT=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ts/n)),gT=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ts/n)+1,vl={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Tn)+1,easeOutSine:e=>Math.sin(e*Tn),easeInOutSine:e=>-.5*(Math.cos(ze*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>vu(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>vu(e)?e:mT(e,.075,.3),easeOutElastic:e=>vu(e)?e:gT(e,.075,.3),easeInOutElastic(e){return vu(e)?e:e<.5?.5*mT(e*2,.1125,.45):.5+.5*gT(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-vl.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?vl.easeInBounce(e*2)*.5:vl.easeOutBounce(e*2-1)*.5+.5};function L2(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function pT(e){return L2(e)?e:new Wl(e)}function Cm(e){return L2(e)?e:new Wl(e).saturate(.5).darken(.1).hexString()}const lU=["x","y","borderWidth","radius","tension"],cU=["color","borderColor","backgroundColor"];function uU(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:cU},numbers:{type:"number",properties:lU}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function hU(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const yT=new Map;function fU(e,t){t=t||{};const n=e+JSON.stringify(t);let i=yT.get(n);return i||(i=new Intl.NumberFormat(e,t),yT.set(n,i)),i}function U2(e,t,n){return fU(t,n).format(e)}const dU={values(e){return re(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,r=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=mU(e,n)}const a=O2(Math.abs(r)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),U2(e,i,l)}};function mU(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var j2={formatters:dU};function gU(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:j2.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const _r=Object.create(null),vp=Object.create(null);function bl(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];e=e[r]||(e[r]=Object.create(null))}return e}function Dm(e,t,n){return typeof t=="string"?Ql(bl(e,t),n):Ql(bl(e,""),t)}class pU{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Cm(s.backgroundColor),this.hoverBorderColor=(i,s)=>Cm(s.borderColor),this.hoverColor=(i,s)=>Cm(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Dm(this,t,n)}get(t){return bl(this,t)}describe(t,n){return Dm(vp,t,n)}override(t,n){return Dm(_r,t,n)}route(t,n,i,s){const r=bl(this,t),a=bl(this,i),o="_"+n;Object.defineProperties(r,{[o]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],c=a[s];return ut(l)?Object.assign({},c,l):_t(l,c)},set(l){this[o]=l}}})}apply(t){t.forEach(n=>n(this))}}var Gt=new pU({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[uU,hU,gU]);function yU(e){return!e||St(e.size)||St(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function _T(e,t,n,i,s){let r=t[s];return r||(r=t[s]=e.measureText(s).width,n.push(s)),r>i&&(i=r),i}function qs(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function vT(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function bT(e,t,n,i){z2(e,t,n,i,null)}function z2(e,t,n,i,s){let r,a,o,l,c,h,f,d;const g=t.pointStyle,v=t.rotation,E=t.radius;let A=(v||0)*Y9;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(A),e.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),e.restore();return}if(!(isNaN(E)||E<=0)){switch(e.beginPath(),g){default:s?e.ellipse(n,i,s/2,E,0,0,Ts):e.arc(n,i,E,0,Ts),e.closePath();break;case"triangle":h=s?s/2:E,e.moveTo(n+Math.sin(A)*h,i-Math.cos(A)*E),A+=uT,e.lineTo(n+Math.sin(A)*h,i-Math.cos(A)*E),A+=uT,e.lineTo(n+Math.sin(A)*h,i-Math.cos(A)*E),e.closePath();break;case"rectRounded":c=E*.516,l=E-c,a=Math.cos(A+Fs)*l,f=Math.cos(A+Fs)*(s?s/2-c:l),o=Math.sin(A+Fs)*l,d=Math.sin(A+Fs)*(s?s/2-c:l),e.arc(n-f,i-o,c,A-ze,A-Tn),e.arc(n+d,i-a,c,A-Tn,A),e.arc(n+f,i+o,c,A,A+Tn),e.arc(n-d,i+a,c,A+Tn,A+ze),e.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*E,h=s?s/2:l,e.rect(n-h,i-l,2*h,2*l);break}A+=Fs;case"rectRot":f=Math.cos(A)*(s?s/2:E),a=Math.cos(A)*E,o=Math.sin(A)*E,d=Math.sin(A)*(s?s/2:E),e.moveTo(n-f,i-o),e.lineTo(n+d,i-a),e.lineTo(n+f,i+o),e.lineTo(n-d,i+a),e.closePath();break;case"crossRot":A+=Fs;case"cross":f=Math.cos(A)*(s?s/2:E),a=Math.cos(A)*E,o=Math.sin(A)*E,d=Math.sin(A)*(s?s/2:E),e.moveTo(n-f,i-o),e.lineTo(n+f,i+o),e.moveTo(n+d,i-a),e.lineTo(n-d,i+a);break;case"star":f=Math.cos(A)*(s?s/2:E),a=Math.cos(A)*E,o=Math.sin(A)*E,d=Math.sin(A)*(s?s/2:E),e.moveTo(n-f,i-o),e.lineTo(n+f,i+o),e.moveTo(n+d,i-a),e.lineTo(n-d,i+a),A+=Fs,f=Math.cos(A)*(s?s/2:E),a=Math.cos(A)*E,o=Math.sin(A)*E,d=Math.sin(A)*(s?s/2:E),e.moveTo(n-f,i-o),e.lineTo(n+f,i+o),e.moveTo(n+d,i-a),e.lineTo(n-d,i+a);break;case"line":a=s?s/2:Math.cos(A)*E,o=Math.sin(A)*E,e.moveTo(n-a,i-o),e.lineTo(n+a,i+o);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(A)*(s?s/2:E),i+Math.sin(A)*E);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function B2(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function N_(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function P_(e){e.restore()}function _U(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),St(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function vU(e,t,n,i,s){if(s.strikethrough||s.underline){const r=e.measureText(i),a=t-r.actualBoundingBoxLeft,o=t+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,h=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(a,h),e.lineTo(o,h),e.stroke()}}function bU(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function df(e,t,n,i,s,r={}){const a=re(t)?t:[t],o=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(e.save(),e.font=s.string,_U(e,r),l=0;l<a.length;++l)c=a[l],r.backdrop&&bU(e,r.backdrop),o&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),St(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,n,i,r.maxWidth)),e.fillText(c,n,i,r.maxWidth),vU(e,n,i,c,r),i+=Number(s.lineHeight);e.restore()}function mf(e,t){const{x:n,y:i,w:s,h:r,radius:a}=t;e.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*ze,ze,!0),e.lineTo(n,i+r-a.bottomLeft),e.arc(n+a.bottomLeft,i+r-a.bottomLeft,a.bottomLeft,ze,Tn,!0),e.lineTo(n+s-a.bottomRight,i+r),e.arc(n+s-a.bottomRight,i+r-a.bottomRight,a.bottomRight,Tn,0,!0),e.lineTo(n+s,i+a.topRight),e.arc(n+s-a.topRight,i+a.topRight,a.topRight,0,-Tn,!0),e.lineTo(n+a.topLeft,i)}const EU=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,TU=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function xU(e,t){const n=(""+e).match(EU);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const wU=e=>+e||0;function F2(e,t){const n={},i=ut(t),s=i?Object.keys(t):t,r=ut(e)?i?a=>_t(e[a],e[t[a]]):a=>e[a]:()=>e;for(const a of s)n[a]=wU(r(a));return n}function H2(e){return F2(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ba(e){return F2(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Cn(e){const t=H2(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ue(e,t){e=e||{},t=t||Gt.font;let n=_t(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=_t(e.style,t.style);i&&!(""+i).match(TU)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:_t(e.family,t.family),lineHeight:xU(_t(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:_t(e.weight,t.weight),string:""};return s.string=yU(s),s}function bu(e,t,n,i){let s,r,a;for(s=0,r=e.length;s<r;++s)if(a=e[s],a!==void 0&&a!==void 0)return a}function SU(e,t,n){const{min:i,max:s}=e,r=B9(t,(s-i)/2),a=(o,l)=>n&&o===0?0:o+l;return{min:a(i,-Math.abs(r)),max:a(s,r)}}function ao(e,t){return Object.assign(Object.create(e),t)}function V_(e,t=[""],n,i,s=()=>e[0]){const r=n||e;typeof i>"u"&&(i=Y2("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:i,_getTarget:s,override:o=>V_([o,...e],t,r,i)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete e[0][l],!0},get(o,l){return G2(o,l,()=>kU(l,t,e,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(o,l){return TT(o).includes(l)},ownKeys(o){return TT(o)},set(o,l,c){const h=o._storage||(o._storage=s());return o[l]=h[l]=c,delete o._keys,!0}})}function Ba(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:q2(e,i),setContext:r=>Ba(e,r,n,i),override:r=>Ba(e.override(r),t,n,i)};return new Proxy(s,{deleteProperty(r,a){return delete r[a],delete e[a],!0},get(r,a,o){return G2(r,a,()=>RU(r,a,o))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,a){return Reflect.has(e,a)},ownKeys(){return Reflect.ownKeys(e)},set(r,a,o){return e[a]=o,delete r[a],!0}})}function q2(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Ns(n)?n:()=>n,isIndexable:Ns(i)?i:()=>i}}const AU=(e,t)=>e?e+M_(t):t,L_=(e,t)=>ut(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function G2(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function RU(e,t,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:a}=e;let o=i[t];return Ns(o)&&a.isScriptable(t)&&(o=IU(t,o,e,n)),re(o)&&o.length&&(o=CU(t,o,e,a.isIndexable)),L_(t,o)&&(o=Ba(o,s,r&&r[t],a)),o}function IU(e,t,n,i){const{_proxy:s,_context:r,_subProxy:a,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(r,a||i);return o.delete(e),L_(e,l)&&(l=U_(s._scopes,s,e,l)),l}function CU(e,t,n,i){const{_proxy:s,_context:r,_subProxy:a,_descriptors:o}=n;if(typeof r.index<"u"&&i(e))return t[r.index%t.length];if(ut(t[0])){const l=t,c=s._scopes.filter(h=>h!==l);t=[];for(const h of l){const f=U_(c,s,e,h);t.push(Ba(f,r,a&&a[e],o))}}return t}function $2(e,t,n){return Ns(e)?e(t,n):e}const DU=(e,t)=>e===!0?t:typeof e=="string"?za(t,e):void 0;function OU(e,t,n,i,s){for(const r of t){const a=DU(n,r);if(a){e.add(a);const o=$2(a._fallback,n,s);if(typeof o<"u"&&o!==n&&o!==i)return o}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function U_(e,t,n,i){const s=t._rootScopes,r=$2(t._fallback,n,i),a=[...e,...s],o=new Set;o.add(i);let l=ET(o,a,n,r||n,i);return l===null||typeof r<"u"&&r!==n&&(l=ET(o,a,r,l,i),l===null)?!1:V_(Array.from(o),[""],s,r,()=>MU(t,n,i))}function ET(e,t,n,i,s){for(;n;)n=OU(e,t,n,i,s);return n}function MU(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return re(s)&&ut(n)?n:s||{}}function kU(e,t,n,i){let s;for(const r of t)if(s=Y2(AU(r,e),n),typeof s<"u")return L_(e,s)?U_(n,i,e,s):s}function Y2(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function TT(e){let t=e._keys;return t||(t=e._keys=NU(e._scopes)),t}function NU(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function j_(){return typeof window<"u"&&typeof document<"u"}function z_(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function gf(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const sd=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function PU(e,t){return sd(e).getPropertyValue(t)}const VU=["top","right","bottom","left"];function or(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=VU[s];i[r]=parseFloat(e[t+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const LU=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function UU(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:r}=i;let a=!1,o,l;if(LU(s,r,e.target))o=s,l=r;else{const c=t.getBoundingClientRect();o=i.clientX-c.left,l=i.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function Qs(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=sd(n),r=s.boxSizing==="border-box",a=or(s,"padding"),o=or(s,"border","width"),{x:l,y:c,box:h}=UU(e,n),f=a.left+(h&&o.left),d=a.top+(h&&o.top);let{width:g,height:v}=t;return r&&(g-=a.width+o.width,v-=a.height+o.height),{x:Math.round((l-f)/g*n.width/i),y:Math.round((c-d)/v*n.height/i)}}function jU(e,t,n){let i,s;if(t===void 0||n===void 0){const r=e&&z_(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const a=r.getBoundingClientRect(),o=sd(r),l=or(o,"border","width"),c=or(o,"padding");t=a.width-c.width-l.width,n=a.height-c.height-l.height,i=gf(o.maxWidth,r,"clientWidth"),s=gf(o.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:i||hf,maxHeight:s||hf}}const Eu=e=>Math.round(e*10)/10;function zU(e,t,n,i){const s=sd(e),r=or(s,"margin"),a=gf(s.maxWidth,e,"clientWidth")||hf,o=gf(s.maxHeight,e,"clientHeight")||hf,l=jU(e,t,n);let{width:c,height:h}=l;if(s.boxSizing==="content-box"){const d=or(s,"border","width"),g=or(s,"padding");c-=g.width+d.width,h-=g.height+d.height}return c=Math.max(0,c-r.width),h=Math.max(0,i?c/i:h-r.height),c=Eu(Math.min(c,a,l.maxWidth)),h=Eu(Math.min(h,o,l.maxHeight)),c&&!h&&(h=Eu(c/2)),(t!==void 0||n!==void 0)&&i&&l.height&&h>l.height&&(h=l.height,c=Eu(Math.floor(h*i))),{width:c,height:h}}function xT(e,t,n){const i=t||1,s=Math.floor(e.height*i),r=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||a.height!==s||a.width!==r?(e.currentDevicePixelRatio=i,a.height=s,a.width=r,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const BU=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};j_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function wT(e,t){const n=PU(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const FU=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},HU=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Ea(e,t,n){return e?FU(t,n):HU()}function K2(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function W2(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Tu(e,t,n){return e.options.clip?e[n]:t[n]}function qU(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:Tu(n,t,"left"),right:Tu(n,t,"right"),top:Tu(i,t,"top"),bottom:Tu(i,t,"bottom")}:t}function GU(e,t){const n=t._clip;if(n.disabled)return!1;const i=qU(t,e.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class $U{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const r=n.listeners[s],a=n.duration;r.forEach(o=>o({chart:t,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=N2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let a=r.length-1,o=!1,l;for(;a>=0;--a)l=r[a],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),o=!0):(r[a]=r[r.length-1],r.pop());o&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var oi=new $U;const ST="transparent",YU={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=pT(e||ST),s=i.valid&&pT(t||ST);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class KU{constructor(t,n,i,s){const r=n[i];s=bu([t.to,s,r,t.from]);const a=bu([t.from,r,s]);this._active=!0,this._fn=t.fn||YU[t.type||typeof a],this._easing=vl[t.easing]||vl.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,a=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=bu([t.to,n,s,t.from]),this._from=bu([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,r=this._from,a=this._loop,o=this._to;let l;if(this._active=r!==o&&(a||n<i),!this._active){this._target[s]=o,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,o,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class Q2{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!ut(t))return;const n=Object.keys(Gt.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const r=t[s];if(!ut(r))return;const a={};for(const o of n)a[o]=r[o];(re(r.properties)&&r.properties||[s]).forEach(o=>{(o===s||!i.has(o))&&i.set(o,a)})})}_animateOptions(t,n){const i=n.options,s=QU(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&WU(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,n){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),a=Object.keys(n),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(t,n));continue}const h=n[c];let f=r[c];const d=i.get(c);if(f)if(d&&f.active()){f.update(d,h,o);continue}else f.cancel();if(!d||!d.duration){t[c]=h;continue}r[c]=f=new KU(d,t,c,h),s.push(f)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return oi.add(this._chart,i),!0}}function WU(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=e[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function QU(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function AT(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function XU(e,t,n){if(n===!1)return!1;const i=AT(e,n),s=AT(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function ZU(e){let t,n,i,s;return ut(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function X2(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function RT(e,t,n,i={}){const s=e.keys,r=i.mode==="single";let a,o,l,c;if(t===null)return;let h=!1;for(a=0,o=s.length;a<o;++a){if(l=+s[a],l===n){if(h=!0,i.all)continue;break}c=e.values[l],pn(c)&&(r||t===0||xs(t)===xs(c))&&(t+=c)}return!h&&!i.all?0:t}function JU(e,t){const{iScale:n,vScale:i}=t,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",a=Object.keys(e),o=new Array(a.length);let l,c,h;for(l=0,c=a.length;l<c;++l)h=a[l],o[l]={[s]:h,[r]:e[h]};return o}function Om(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function tj(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function ej(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function nj(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function IT(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=e[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function CT(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:r,vScale:a,index:o}=i,l=r.axis,c=a.axis,h=tj(r,a,i),f=t.length;let d;for(let g=0;g<f;++g){const v=t[g],{[l]:E,[c]:A}=v,_=v._stacks||(v._stacks={});d=_[c]=nj(s,h,E),d[o]=A,d._top=IT(d,a,!0,i.type),d._bottom=IT(d,a,!1,i.type);const y=d._visualValues||(d._visualValues={});y[o]=A}}function Mm(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function ij(e,t){return ao(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function sj(e,t,n){return ao(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Oo(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const km=e=>e==="reset"||e==="none",DT=(e,t)=>t?e:Object.assign({},e),rj=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:X2(n,!0),values:null};class El{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Om(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Oo(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(f,d,g,v)=>f==="x"?d:f==="r"?v:g,r=n.xAxisID=_t(i.xAxisID,Mm(t,"x")),a=n.yAxisID=_t(i.yAxisID,Mm(t,"y")),o=n.rAxisID=_t(i.rAxisID,Mm(t,"r")),l=n.indexAxis,c=n.iAxisID=s(l,r,a,o),h=n.vAxisID=s(l,a,r,o);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&dT(this._data,this),t._stacked&&Oo(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(ut(n)){const s=this._cachedMeta;this._data=JU(n,s)}else if(i!==n){if(i){dT(i,this);const s=this._cachedMeta;Oo(s),s._parsed=[]}n&&Object.isExtensible(n)&&rU(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=Om(n.vScale,n),n.stack!==i.stack&&(s=!0,Oo(n),n.stack=i.stack),this._resyncElements(t),(s||r!==n._stacked)&&(CT(this,n._parsed),n._stacked=Om(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:a}=i,o=r.axis;let l=t===0&&n===s.length?!0:i._sorted,c=t>0&&i._parsed[t-1],h,f,d;if(this._parsing===!1)i._parsed=s,i._sorted=!0,d=s;else{re(s[t])?d=this.parseArrayData(i,s,t,n):ut(s[t])?d=this.parseObjectData(i,s,t,n):d=this.parsePrimitiveData(i,s,t,n);const g=()=>f[o]===null||c&&f[o]<c[o];for(h=0;h<n;++h)i._parsed[h+t]=f=d[h],l&&(g()&&(l=!1),c=f);i._sorted=l}a&&CT(this,d)}parsePrimitiveData(t,n,i,s){const{iScale:r,vScale:a}=t,o=r.axis,l=a.axis,c=r.getLabels(),h=r===a,f=new Array(s);let d,g,v;for(d=0,g=s;d<g;++d)v=d+i,f[d]={[o]:h||r.parse(c[v],v),[l]:a.parse(n[v],v)};return f}parseArrayData(t,n,i,s){const{xScale:r,yScale:a}=t,o=new Array(s);let l,c,h,f;for(l=0,c=s;l<c;++l)h=l+i,f=n[h],o[l]={x:r.parse(f[0],h),y:a.parse(f[1],h)};return o}parseObjectData(t,n,i,s){const{xScale:r,yScale:a}=t,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let h,f,d,g;for(h=0,f=s;h<f;++h)d=h+i,g=n[d],c[h]={x:r.parse(za(g,o),d),y:a.parse(za(g,l),d)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,r=this._cachedMeta,a=n[t.axis],o={keys:X2(s,!0),values:n._stacks[t.axis]._visualValues};return RT(o,a,r.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const r=i[n.axis];let a=r===null?NaN:r;const o=s&&i._stacks[n.axis];s&&o&&(s.values=o,a=RT(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&t===i.iScale,a=s.length,o=this._getOtherScale(t),l=rj(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=ej(o);let d,g;function v(){g=s[d];const E=g[o.axis];return!pn(g[t.axis])||h>E||f<E}for(d=0;d<a&&!(!v()&&(this.updateRangeFromParsed(c,t,g,l),r));++d);if(r){for(d=a-1;d>=0;--d)if(!v()){this.updateRangeFromParsed(c,t,g,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,r,a;for(s=0,r=n.length;s<r;++s)a=n[s][t.axis],pn(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=ZU(_t(this.options.clip,XU(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||s.length-o,c=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(t,r,o,l),h=o;h<o+l;++h){const f=s[h];f.hidden||(f.active&&c?a.push(f):f.draw(t,r))}for(h=0;h<a.length;++h)a[h].draw(t,r)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];r=a.$context||(a.$context=sj(this.getContext(),t,a)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=ij(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",r=this._cachedDataOpts,a=t+"-"+n,o=r[a],l=this.enableOptionSharing&&Xl(i);if(o)return DT(o,l);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,t),f=s?[`${t}Hover`,"hover",t,""]:[t,""],d=c.getOptionScopes(this.getDataset(),h),g=Object.keys(Gt.elements[t]),v=()=>this.getContext(i,s,n),E=c.resolveNamedOptions(d,g,v,f);return E.$shared&&(E.$shared=l,r[a]=Object.freeze(DT(E,l))),E}_resolveAnimations(t,n,i){const s=this.chart,r=this._cachedDataOpts,a=`animation-${n}`,o=r[a];if(o)return o;let l;if(s.options.animation!==!1){const h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,n),d=h.getOptionScopes(this.getDataset(),f);l=h.createResolver(d,this.getContext(t,i,n))}const c=new Q2(s,l&&l.animations);return l&&l._cacheable&&(r[a]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||km(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,r=this.getSharedOptions(i),a=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:a}}updateElement(t,n,i,s){km(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!km(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const s=i.length,r=n.length,a=Math.min(r,s);a&&this.parse(0,a),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,n,i=!0){const s=this._cachedMeta,r=s.data,a=t+n;let o;const l=c=>{for(c.length+=n,o=c.length-1;o>=a;o--)c[o]=c[o-n]};for(l(r),o=t;o<a;++o)r[o]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,n),i&&this.updateElements(r,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&Oo(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}lt(El,"defaults",{}),lt(El,"datasetElementType",null),lt(El,"dataElementType",null);function aj(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=k2(i.sort((s,r)=>s-r))}return e._cache.$bar}function oj(e){const t=e.iScale,n=aj(t,e.type);let i=t._length,s,r,a,o;const l=()=>{a===32767||a===-32768||(Xl(o)&&(i=Math.min(i,Math.abs(a-o)||i)),o=a)};for(s=0,r=n.length;s<r;++s)a=t.getPixelForValue(n[s]),l();for(o=void 0,s=0,r=t.ticks.length;s<r;++s)a=t.getPixelForTick(s),l();return i}function lj(e,t,n,i){const s=n.barThickness;let r,a;return St(s)?(r=t.min*n.categoryPercentage,a=n.barPercentage):(r=s*i,a=1),{chunk:r/i,ratio:a,start:t.pixels[e]-r/2}}function cj(e,t,n,i){const s=t.pixels,r=s[e];let a=e>0?s[e-1]:null,o=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;a===null&&(a=r-(o===null?t.end-t.start:o-r)),o===null&&(o=r+r-a);const c=r-(r-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/i,ratio:n.barPercentage,start:c}}function uj(e,t,n,i){const s=n.parse(e[0],i),r=n.parse(e[1],i),a=Math.min(s,r),o=Math.max(s,r);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:r,min:a,max:o}}function Z2(e,t,n,i){return re(e)?uj(e,t,n,i):t[n.axis]=n.parse(e,i),t}function OT(e,t,n,i){const s=e.iScale,r=e.vScale,a=s.getLabels(),o=s===r,l=[];let c,h,f,d;for(c=n,h=n+i;c<h;++c)d=t[c],f={},f[s.axis]=o||s.parse(a[c],c),l.push(Z2(d,f,r,c));return l}function Nm(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function hj(e,t,n){return e!==0?xs(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function fj(e){let t,n,i,s,r;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:t,top:s,bottom:r}}function dj(e,t,n,i){let s=t.borderSkipped;const r={};if(!s){e.borderSkipped=r;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:c,bottom:h}=fj(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=h:(r[MT(h,a,o,l)]=!0,s=c)),r[MT(s,a,o,l)]=!0,e.borderSkipped=r}function MT(e,t,n,i){return i?(e=mj(e,t,n),e=kT(e,n,t)):e=kT(e,t,n),e}function mj(e,t,n){return e===t?n:e===n?t:e}function kT(e,t,n){return e==="start"?t:e==="end"?n:e}function gj(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class eh extends El{parsePrimitiveData(t,n,i,s){return OT(t,n,i,s)}parseArrayData(t,n,i,s){return OT(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:r,vScale:a}=t,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?o:l,h=a.axis==="x"?o:l,f=[];let d,g,v,E;for(d=i,g=i+s;d<g;++d)E=n[d],v={},v[r.axis]=r.parse(za(E,c),d),f.push(Z2(za(E,h),v,a,d));return f}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(t),a=r._custom,o=Nm(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const r=s==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),h=this._getRuler(),{sharedOptions:f,includeOptions:d}=this._getSharedOptions(n,s);for(let g=n;g<n+i;g++){const v=this.getParsed(g),E=r||St(v[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),A=this._calculateBarIndexPixels(g,h),_=(v._stacks||{})[o.axis],y={horizontal:c,base:E.base,enableBorderRadius:!_||Nm(v._custom)||a===_._top||a===_._bottom,x:c?E.head:A.center,y:c?A.center:E.head,height:c?A.size:Math.abs(E.size),width:c?Math.abs(E.size):A.size};d&&(y.options=f||this.resolveDataElementOptions(g,t[g].active?"active":s));const T=y.options||t[g].options;dj(y,T,_,a),gj(y,T,h.ratio),this.updateElement(t[g],g,y,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),r=i.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(n),l=o&&o[i.axis],c=h=>{const f=h._parsed.find(g=>g[i.axis]===l),d=f&&f[h.vScale.axis];if(St(d)||isNaN(d))return!0};for(const h of s)if(!(n!==void 0&&c(h))&&((r===!1||a.indexOf(h.stack)===-1||r===void 0&&h.stack===void 0)&&a.push(h.stack),h.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const s=this._getStacks(t,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,a;for(r=0,a=n.data.length;r<a;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const o=t.barThickness;return{min:o||oj(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:a}}=this,o=r||0,l=this.getParsed(t),c=l._custom,h=Nm(c);let f=l[n.axis],d=0,g=i?this.applyStack(n,l,i):f,v,E;g!==f&&(d=g-f,g=f),h&&(f=c.barStart,g=c.barEnd-c.barStart,f!==0&&xs(f)!==xs(c.barEnd)&&(d=0),d+=f);const A=!St(r)&&!h?r:d;let _=n.getPixelForValue(A);if(this.chart.getDataVisibility(t)?v=n.getPixelForValue(d+g):v=_,E=v-_,Math.abs(E)<a){E=hj(E,n,o)*a,f===o&&(_-=E/2);const y=n.getPixelForDecimal(0),T=n.getPixelForDecimal(1),M=Math.min(y,T),C=Math.max(y,T);_=Math.max(Math.min(_,C),M),v=_+E,i&&!h&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(v)-n.getValueForPixel(_))}if(_===n.getPixelForValue(o)){const y=xs(E)*n.getLineWidthForValue(o)/2;_+=y,E-=y}return{size:E,base:_,head:v,center:v+E/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,r=s.skipNull,a=_t(s.maxBarThickness,1/0);let o,l;if(n.grouped){const c=r?this._getStackCount(t):n.stackCount,h=s.barThickness==="flex"?cj(t,n,s,c):lj(t,n,s,c),f=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);o=h.start+h.chunk*f+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else o=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(a,n.min*n.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}lt(eh,"id","bar"),lt(eh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),lt(eh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Gs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class B_{constructor(t){lt(this,"options");this.options=t||{}}static override(t){Object.assign(B_.prototype,t)}init(){}formats(){return Gs()}parse(){return Gs()}format(){return Gs()}add(){return Gs()}diff(){return Gs()}startOf(){return Gs()}endOf(){return Gs()}}var pj={_date:B_};function yj(e,t,n,i){const{controller:s,data:r,_sorted:a}=e,o=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&t!=="r"&&a&&r.length){const c=o._reversePixels?iU:_p;if(i){if(s._sharedOptions){const h=r[0],f=typeof h.getRange=="function"&&h.getRange(t);if(f){const d=c(r,t,n-f),g=c(r,t,n+f);return{lo:d.lo,hi:g.hi}}}}else{const h=c(r,t,n);if(l){const{vScale:f}=s._cachedMeta,{_parsed:d}=e,g=d.slice(0,h.lo+1).reverse().findIndex(E=>!St(E[f.axis]));h.lo-=Math.max(0,g);const v=d.slice(h.hi).findIndex(E=>!St(E[f.axis]));h.hi+=Math.max(0,v)}return h}}return{lo:0,hi:r.length-1}}function rd(e,t,n,i,s){const r=e.getSortedVisibleDatasetMetas(),a=n[t];for(let o=0,l=r.length;o<l;++o){const{index:c,data:h}=r[o],{lo:f,hi:d}=yj(r[o],t,a,s);for(let g=f;g<=d;++g){const v=h[g];v.skip||i(v,c,g)}}}function _j(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const r=t?Math.abs(i.x-s.x):0,a=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function Pm(e,t,n,i,s){const r=[];return!s&&!e.isPointInArea(t)||rd(e,n,t,function(o,l,c){!s&&!B2(o,e.chartArea,0)||o.inRange(t.x,t.y,i)&&r.push({element:o,datasetIndex:l,index:c})},!0),r}function vj(e,t,n,i){let s=[];function r(a,o,l){const{startAngle:c,endAngle:h}=a.getProps(["startAngle","endAngle"],i),{angle:f}=J9(a,{x:t.x,y:t.y});eU(f,c,h)&&s.push({element:a,datasetIndex:o,index:l})}return rd(e,n,t,r),s}function bj(e,t,n,i,s,r){let a=[];const o=_j(n);let l=Number.POSITIVE_INFINITY;function c(h,f,d){const g=h.inRange(t.x,t.y,s);if(i&&!g)return;const v=h.getCenterPoint(s);if(!(!!r||e.isPointInArea(v))&&!g)return;const A=o(t,v);A<l?(a=[{element:h,datasetIndex:f,index:d}],l=A):A===l&&a.push({element:h,datasetIndex:f,index:d})}return rd(e,n,t,c),a}function Vm(e,t,n,i,s,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!i?vj(e,t,n,s):bj(e,t,n,i,s,r)}function NT(e,t,n,i,s){const r=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return rd(e,n,t,(l,c,h)=>{l[a]&&l[a](t[n],s)&&(r.push({element:l,datasetIndex:c,index:h}),o=o||l.inRange(t.x,t.y,s))}),i&&!o?[]:r}var Ej={modes:{index(e,t,n,i){const s=Qs(t,e),r=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?Pm(e,s,r,i,a):Vm(e,s,r,!1,i,a),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const h=o[0].index,f=c.data[h];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:h})}),l):[]},dataset(e,t,n,i){const s=Qs(t,e),r=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?Pm(e,s,r,i,a):Vm(e,s,r,!1,i,a);if(o.length>0){const l=o[0].datasetIndex,c=e.getDatasetMeta(l).data;o=[];for(let h=0;h<c.length;++h)o.push({element:c[h],datasetIndex:l,index:h})}return o},point(e,t,n,i){const s=Qs(t,e),r=n.axis||"xy",a=n.includeInvisible||!1;return Pm(e,s,r,i,a)},nearest(e,t,n,i){const s=Qs(t,e),r=n.axis||"xy",a=n.includeInvisible||!1;return Vm(e,s,r,n.intersect,i,a)},x(e,t,n,i){const s=Qs(t,e);return NT(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=Qs(t,e);return NT(e,s,"y",n.intersect,i)}}};const J2=["left","top","right","bottom"];function Mo(e,t){return e.filter(n=>n.pos===t)}function PT(e,t){return e.filter(n=>J2.indexOf(n.pos)===-1&&n.box.axis===t)}function ko(e,t){return e.sort((n,i)=>{const s=t?i:n,r=t?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function Tj(e){const t=[];let n,i,s,r,a,o;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:r,options:{stack:a,stackWeight:o=1}}=s,t.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&r+a,stackWeight:o});return t}function xj(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!J2.includes(s))continue;const a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return t}function wj(e,t){const n=xj(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,a,o;for(r=0,a=e.length;r<a;++r){o=e[r];const{fullSize:l}=o.box,c=n[o.stack],h=c&&o.stackWeight/c.weight;o.horizontal?(o.width=h?h*i:l&&t.availableWidth,o.height=s):(o.width=i,o.height=h?h*s:l&&t.availableHeight)}return n}function Sj(e){const t=Tj(e),n=ko(t.filter(c=>c.box.fullSize),!0),i=ko(Mo(t,"left"),!0),s=ko(Mo(t,"right")),r=ko(Mo(t,"top"),!0),a=ko(Mo(t,"bottom")),o=PT(t,"x"),l=PT(t,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(a).concat(o),chartArea:Mo(t,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(a).concat(o)}}function VT(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function tI(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Aj(e,t,n,i){const{pos:s,box:r}=n,a=e.maxPadding;if(!ut(s)){n.size&&(e[s]-=n.size);const f=i[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?r.height:r.width),n.size=f.size/f.count,e[s]+=n.size}r.getPadding&&tI(a,r.getPadding());const o=Math.max(0,t.outerWidth-VT(a,e,"left","right")),l=Math.max(0,t.outerHeight-VT(a,e,"top","bottom")),c=o!==e.w,h=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:c,other:h}:{same:h,other:c}}function Rj(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function Ij(e,t){const n=t.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{r[a]=Math.max(t[a],n[a])}),r}return i(e?["left","right"]:["top","bottom"])}function $o(e,t,n,i){const s=[];let r,a,o,l,c,h;for(r=0,a=e.length,c=0;r<a;++r){o=e[r],l=o.box,l.update(o.width||t.w,o.height||t.h,Ij(o.horizontal,t));const{same:f,other:d}=Aj(t,n,o,i);c|=f&&s.length,h=h||d,l.fullSize||s.push(o)}return c&&$o(s,t,n,i)||h}function xu(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function LT(e,t,n,i){const s=n.padding;let{x:r,y:a}=t;for(const o of e){const l=o.box,c=i[o.stack]||{placed:0,weight:1},h=o.stackWeight/c.weight||1;if(o.horizontal){const f=t.w*h,d=c.size||l.height;Xl(c.start)&&(a=c.start),l.fullSize?xu(l,s.left,a,n.outerWidth-s.right-s.left,d):xu(l,t.left+c.placed,a,f,d),c.start=a,c.placed+=f,a=l.bottom}else{const f=t.h*h,d=c.size||l.width;Xl(c.start)&&(r=c.start),l.fullSize?xu(l,r,s.top,d,n.outerHeight-s.bottom-s.top):xu(l,r,t.top+c.placed,d,f),c.start=r,c.placed+=f,r=l.right}}t.x=r,t.y=a}var as={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=Cn(e.options.layout.padding),r=Math.max(t-s.width,0),a=Math.max(n-s.height,0),o=Sj(e.boxes),l=o.vertical,c=o.horizontal;yt(e.boxes,E=>{typeof E.beforeLayout=="function"&&E.beforeLayout()});const h=l.reduce((E,A)=>A.box.options&&A.box.options.display===!1?E:E+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/h,hBoxMaxHeight:a/2}),d=Object.assign({},s);tI(d,Cn(i));const g=Object.assign({maxPadding:d,w:r,h:a,x:s.left,y:s.top},s),v=wj(l.concat(c),f);$o(o.fullSize,g,f,v),$o(l,g,f,v),$o(c,g,f,v)&&$o(l,g,f,v),Rj(g),LT(o.leftAndTop,g,f,v),g.x+=g.w,g.y+=g.h,LT(o.rightAndBottom,g,f,v),e.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},yt(o.chartArea,E=>{const A=E.box;Object.assign(A,e.chartArea),A.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class eI{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class Cj extends eI{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const nh="$chartjs",Dj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},UT=e=>e===null||e==="";function Oj(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[nh]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",UT(s)){const r=wT(e,"width");r!==void 0&&(e.width=r)}if(UT(i))if(e.style.height==="")e.height=e.width/(t||2);else{const r=wT(e,"height");r!==void 0&&(e.height=r)}return e}const nI=BU?{passive:!0}:!1;function Mj(e,t,n){e&&e.addEventListener(t,n,nI)}function kj(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,nI)}function Nj(e,t){const n=Dj[e.type]||e.type,{x:i,y:s}=Qs(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function pf(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Pj(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let a=!1;for(const o of r)a=a||pf(o.addedNodes,i),a=a&&!pf(o.removedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function Vj(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let a=!1;for(const o of r)a=a||pf(o.removedNodes,i),a=a&&!pf(o.addedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Zl=new Map;let jT=0;function iI(){const e=window.devicePixelRatio;e!==jT&&(jT=e,Zl.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function Lj(e,t){Zl.size||window.addEventListener("resize",iI),Zl.set(e,t)}function Uj(e){Zl.delete(e),Zl.size||window.removeEventListener("resize",iI)}function jj(e,t,n){const i=e.canvas,s=i&&z_(i);if(!s)return;const r=P2((o,l)=>{const c=s.clientWidth;n(o,l),c<s.clientWidth&&n()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||r(c,h)});return a.observe(s),Lj(e,r),a}function Lm(e,t,n){n&&n.disconnect(),t==="resize"&&Uj(e)}function zj(e,t,n){const i=e.canvas,s=P2(r=>{e.ctx!==null&&n(Nj(r,e))},e);return Mj(i,t,s),s}class Bj extends eI{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(Oj(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[nh])return!1;const i=n[nh].initial;["height","width"].forEach(r=>{const a=i[r];St(a)?n.removeAttribute(r):n.setAttribute(r,a)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[nh],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),a={attach:Pj,detach:Vj,resize:jj}[n]||zj;s[n]=a(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:Lm,detach:Lm,resize:Lm}[n]||kj)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return zU(t,n,i,s)}isAttached(t){const n=t&&z_(t);return!!(n&&n.isConnected)}}function Fj(e){return!j_()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Cj:Bj}class vr{constructor(){lt(this,"x");lt(this,"y");lt(this,"active",!1);lt(this,"options");lt(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return ff(this.x)&&ff(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}lt(vr,"defaults",{}),lt(vr,"defaultRoutes");function Hj(e,t){const n=e.options.ticks,i=qj(e),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?$j(t):[],a=r.length,o=r[0],l=r[a-1],c=[];if(a>s)return Yj(t,c,r,a/s),c;const h=Gj(r,t,s);if(a>0){let f,d;const g=a>1?Math.round((l-o)/(a-1)):null;for(wu(t,c,h,St(g)?0:o-g,o),f=0,d=a-1;f<d;f++)wu(t,c,h,r[f],r[f+1]);return wu(t,c,h,l,St(g)?t.length:l+g),c}return wu(t,c,h),c}function qj(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function Gj(e,t,n){const i=Kj(e),s=t.length/n;if(!i)return Math.max(s,1);const r=K9(i);for(let a=0,o=r.length-1;a<o;a++){const l=r[a];if(l>s)return l}return Math.max(s,1)}function $j(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function Yj(e,t,n,i){let s=0,r=n[0],a;for(i=Math.ceil(i),a=0;a<e.length;a++)a===r&&(t.push(e[a]),s++,r=n[s*i])}function wu(e,t,n,i,s){const r=_t(i,0),a=Math.min(_t(s,e.length),e.length);let o=0,l,c,h;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),h=r;h<0;)o++,h=Math.round(r+o*n);for(c=Math.max(r,0);c<a;c++)c===h&&(t.push(e[c]),o++,h=Math.round(r+o*n))}function Kj(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const Wj=e=>e==="left"?"right":e==="right"?"left":e,zT=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,BT=(e,t)=>Math.min(t||e,e);function FT(e,t){const n=[],i=e.length/t,s=e.length;let r=0;for(;r<s;r+=i)n.push(e[Math.floor(r)]);return n}function Qj(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),r=e._startPixel,a=e._endPixel,o=1e-6;let l=e.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(l-r,a-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(s-1))/2,l+=s<t?c:-c,l<r-o||l>a+o)))return l}function Xj(e,t){yt(e,n=>{const i=n.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function No(e){return e.drawTicks?e.tickLength:0}function HT(e,t){if(!e.display)return 0;const n=Ue(e.font,t),i=Cn(e.padding);return(re(e.text)?e.text.length:1)*n.lineHeight+i.height}function Zj(e,t){return ao(e,{scale:t,type:"scale"})}function Jj(e,t,n){return ao(e,{tick:n,index:t,type:"tick"})}function tz(e,t,n){let i=V2(e);return(n&&t!=="right"||!n&&t==="right")&&(i=Wj(i)),i}function ez(e,t,n,i){const{top:s,left:r,bottom:a,right:o,chart:l}=e,{chartArea:c,scales:h}=l;let f=0,d,g,v;const E=a-s,A=o-r;if(e.isHorizontal()){if(g=$e(i,r,o),ut(n)){const _=Object.keys(n)[0],y=n[_];v=h[_].getPixelForValue(y)+E-t}else n==="center"?v=(c.bottom+c.top)/2+E-t:v=zT(e,n,t);d=o-r}else{if(ut(n)){const _=Object.keys(n)[0],y=n[_];g=h[_].getPixelForValue(y)-A+t}else n==="center"?g=(c.left+c.right)/2-A+t:g=zT(e,n,t);v=$e(i,a,s),f=n==="left"?-Tn:Tn}return{titleX:g,titleY:v,maxWidth:d,rotation:f}}class oo extends vr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=Nn(t,Number.POSITIVE_INFINITY),n=Nn(n,Number.NEGATIVE_INFINITY),i=Nn(i,Number.POSITIVE_INFINITY),s=Nn(s,Number.NEGATIVE_INFINITY),{min:Nn(t,i),max:Nn(n,s),minDefined:pn(t),maxDefined:pn(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),a;if(s&&r)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,t),s||(n=Math.min(n,a.min)),r||(i=Math.max(i,a.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:Nn(n,Nn(i,n)),max:Nn(i,Nn(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ct(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:r,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=SU(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?FT(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Hj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ct(this.options.afterUpdate,[this])}beforeSetDimensions(){Ct(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ct(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ct(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ct(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=Ct(n.callback,[r.value,i,t],this)}afterTickToLabelConversion(){Ct(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ct(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=BT(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let a=s,o,l,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const h=this._getLabelSizes(),f=h.widest.width,d=h.highest.height,g=xn(this.chart.width-f,0,this.maxWidth);o=t.offset?this.maxWidth/i:g/(i-1),f+6>o&&(o=g/(i-(t.offset?.5:1)),l=this.maxHeight-No(t.grid)-n.padding-HT(t.title,this.chart.options.font),c=Math.sqrt(f*f+d*d),a=Z9(Math.min(Math.asin(xn((h.highest.height+6)/o,-1,1)),Math.asin(xn(l/c,-1,1))-Math.asin(xn(d/c,-1,1)))),a=Math.max(s,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){Ct(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ct(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=HT(s,n.options.font);if(o?(t.width=this.maxWidth,t.height=No(r)+l):(t.height=this.maxHeight,t.width=No(r)+l),i.display&&this.ticks.length){const{first:c,last:h,widest:f,highest:d}=this._getLabelSizes(),g=i.padding*2,v=Js(this.labelRotation),E=Math.cos(v),A=Math.sin(v);if(o){const _=i.mirror?0:A*f.width+E*d.height;t.height=Math.min(this.maxHeight,t.height+_+g)}else{const _=i.mirror?0:E*f.width+A*d.height;t.width=Math.min(this.maxWidth,t.width+_+g)}this._calculatePadding(c,h,A,E)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:r,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,g=0;l?c?(d=s*t.width,g=i*n.height):(d=i*t.height,g=s*n.width):r==="start"?g=n.width:r==="end"?d=t.width:r!=="inner"&&(d=t.width/2,g=n.width/2),this.paddingLeft=Math.max((d-h+a)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-f+a)*this.width/(this.width-f),0)}else{let h=n.height/2,f=t.height/2;r==="start"?(h=0,f=t.height):r==="end"&&(h=n.height,f=0),this.paddingTop=h+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ct(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)St(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=FT(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:r}=this,a=[],o=[],l=Math.floor(n/BT(n,i));let c=0,h=0,f,d,g,v,E,A,_,y,T,M,C;for(f=0;f<n;f+=l){if(v=t[f].label,E=this._resolveTickFontOptions(f),s.font=A=E.string,_=r[A]=r[A]||{data:{},gc:[]},y=E.lineHeight,T=M=0,!St(v)&&!re(v))T=_T(s,_.data,_.gc,T,v),M=y;else if(re(v))for(d=0,g=v.length;d<g;++d)C=v[d],!St(C)&&!re(C)&&(T=_T(s,_.data,_.gc,T,C),M+=y);a.push(T),o.push(M),c=Math.max(T,c),h=Math.max(M,h)}Xj(r,n);const V=a.indexOf(c),x=o.indexOf(h),b=R=>({width:a[R]||0,height:o[R]||0});return{first:b(0),last:b(n-1),widest:b(V),highest:b(x),widths:a,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return nU(this._alignToPixels?qs(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=Jj(this.getContext(),t,i))}return this.$context||(this.$context=Zj(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Js(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),a=t.autoSkipPadding||0,o=r?r.widest.width+a:0,l=r?r.highest.height+a:0;return this.isHorizontal()?l*i>o*s?o/i:l/s:l*s<o*i?l/i:o/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:a,border:o}=s,l=r.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),d=No(r),g=[],v=o.setContext(this.getContext()),E=v.display?v.width:0,A=E/2,_=function(B){return qs(i,B,E)};let y,T,M,C,V,x,b,R,I,O,k,D;if(a==="top")y=_(this.bottom),x=this.bottom-d,R=y-A,O=_(t.top)+A,D=t.bottom;else if(a==="bottom")y=_(this.top),O=t.top,D=_(t.bottom)-A,x=y+A,R=this.top+d;else if(a==="left")y=_(this.right),V=this.right-d,b=y-A,I=_(t.left)+A,k=t.right;else if(a==="right")y=_(this.left),I=t.left,k=_(t.right)-A,V=y+A,b=this.left+d;else if(n==="x"){if(a==="center")y=_((t.top+t.bottom)/2+.5);else if(ut(a)){const B=Object.keys(a)[0],G=a[B];y=_(this.chart.scales[B].getPixelForValue(G))}O=t.top,D=t.bottom,x=y+A,R=x+d}else if(n==="y"){if(a==="center")y=_((t.left+t.right)/2);else if(ut(a)){const B=Object.keys(a)[0],G=a[B];y=_(this.chart.scales[B].getPixelForValue(G))}V=y-A,b=V-d,I=t.left,k=t.right}const Ut=_t(s.ticks.maxTicksLimit,f),ht=Math.max(1,Math.ceil(f/Ut));for(T=0;T<f;T+=ht){const B=this.getContext(T),G=r.setContext(B),Y=o.setContext(B),mt=G.lineWidth,bt=G.color,yn=Y.dash||[],$t=Y.dashOffset,At=G.tickWidth,ce=G.tickColor,ye=G.tickBorderDash||[],Zn=G.tickBorderDashOffset;M=Qj(this,T,l),M!==void 0&&(C=qs(i,M,mt),c?V=b=I=k=C:x=R=O=D=C,g.push({tx1:V,ty1:x,tx2:b,ty2:R,x1:I,y1:O,x2:k,y2:D,width:mt,color:bt,borderDash:yn,borderDashOffset:$t,tickWidth:At,tickColor:ce,tickBorderDash:ye,tickBorderDashOffset:Zn}))}return this._ticksLength=f,this._borderValue=y,g}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:r}=i,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:h,mirror:f}=r,d=No(i.grid),g=d+h,v=f?-h:g,E=-Js(this.labelRotation),A=[];let _,y,T,M,C,V,x,b,R,I,O,k,D="middle";if(s==="top")V=this.bottom-v,x=this._getXAxisLabelAlignment();else if(s==="bottom")V=this.top+v,x=this._getXAxisLabelAlignment();else if(s==="left"){const ht=this._getYAxisLabelAlignment(d);x=ht.textAlign,C=ht.x}else if(s==="right"){const ht=this._getYAxisLabelAlignment(d);x=ht.textAlign,C=ht.x}else if(n==="x"){if(s==="center")V=(t.top+t.bottom)/2+g;else if(ut(s)){const ht=Object.keys(s)[0],B=s[ht];V=this.chart.scales[ht].getPixelForValue(B)+g}x=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")C=(t.left+t.right)/2-g;else if(ut(s)){const ht=Object.keys(s)[0],B=s[ht];C=this.chart.scales[ht].getPixelForValue(B)}x=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?D="top":l==="end"&&(D="bottom"));const Ut=this._getLabelSizes();for(_=0,y=o.length;_<y;++_){T=o[_],M=T.label;const ht=r.setContext(this.getContext(_));b=this.getPixelForTick(_)+r.labelOffset,R=this._resolveTickFontOptions(_),I=R.lineHeight,O=re(M)?M.length:1;const B=O/2,G=ht.color,Y=ht.textStrokeColor,mt=ht.textStrokeWidth;let bt=x;a?(C=b,x==="inner"&&(_===y-1?bt=this.options.reverse?"left":"right":_===0?bt=this.options.reverse?"right":"left":bt="center"),s==="top"?c==="near"||E!==0?k=-O*I+I/2:c==="center"?k=-Ut.highest.height/2-B*I+I:k=-Ut.highest.height+I/2:c==="near"||E!==0?k=I/2:c==="center"?k=Ut.highest.height/2-B*I:k=Ut.highest.height-O*I,f&&(k*=-1),E!==0&&!ht.showLabelBackdrop&&(C+=I/2*Math.sin(E))):(V=b,k=(1-O)*I/2);let yn;if(ht.showLabelBackdrop){const $t=Cn(ht.backdropPadding),At=Ut.heights[_],ce=Ut.widths[_];let ye=k-$t.top,Zn=0-$t.left;switch(D){case"middle":ye-=At/2;break;case"bottom":ye-=At;break}switch(x){case"center":Zn-=ce/2;break;case"right":Zn-=ce;break;case"inner":_===y-1?Zn-=ce:_>0&&(Zn-=ce/2);break}yn={left:Zn,top:ye,width:ce+$t.width,height:At+$t.height,color:ht.backdropColor}}A.push({label:M,font:R,textOffset:k,options:{rotation:E,color:G,strokeColor:Y,strokeWidth:mt,textAlign:bt,textBaseline:D,translation:[C,V],backdrop:yn}})}return A}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Js(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,a=this._getLabelSizes(),o=t+r,l=a.widest.width;let c,h;return n==="left"?s?(h=this.right+r,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-o,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h=this.left)):n==="right"?s?(h=this.left+r,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+o,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:r,height:a}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,r,a),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,a;const o=(l,c,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,a=s.length;r<a;++r){const l=s[r];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),a=i.display?r.width:0;if(!a)return;const o=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,h,f,d;this.isHorizontal()?(c=qs(t,this.left,a)-a/2,h=qs(t,this.right,o)+o/2,f=d=l):(f=qs(t,this.top,a)-a/2,d=qs(t,this.bottom,o)+o/2,c=h=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,f),n.lineTo(h,d),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&N_(i,s);const r=this.getLabelItems(t);for(const a of r){const o=a.options,l=a.font,c=a.label,h=a.textOffset;df(i,c,0,h,l,o)}s&&P_(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=Ue(i.font),a=Cn(i.padding),o=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||ut(n)?(l+=a.bottom,re(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=a.top;const{titleX:c,titleY:h,maxWidth:f,rotation:d}=ez(this,l,n,o);df(t,i.text,0,0,r,{color:i.color,maxWidth:f,rotation:d,textAlign:tz(o,n,s),textBaseline:"middle",translation:[c,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=_t(t.grid&&t.grid.z,-1),s=_t(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==oo.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,a;for(r=0,a=n.length;r<a;++r){const o=n[r];o[i]===this.id&&(!t||o.type===t)&&s.push(o)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Ue(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Su{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;sz(n)&&(i=this.register(n));const s=this.items,r=t.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,nz(t,a,i),this.override&&Gt.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in Gt[s]&&(delete Gt[s][i],this.override&&delete _r[i])}}function nz(e,t,n){const i=Ql(Object.create(null),[n?Gt.get(n):{},Gt.get(t),e.defaults]);Gt.set(t,i),e.defaultRoutes&&iz(t,e.defaultRoutes),e.descriptors&&Gt.describe(t,e.descriptors)}function iz(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),r=[e].concat(i).join("."),a=t[n].split("."),o=a.pop(),l=a.join(".");Gt.route(r,s,l,o)})}function sz(e){return"id"in e&&"defaults"in e}class rz{constructor(){this.controllers=new Su(El,"datasets",!0),this.elements=new Su(vr,"elements"),this.plugins=new Su(Object,"plugins"),this.scales=new Su(oo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):yt(s,a=>{const o=i||this._getRegistryForType(a);this._exec(t,o,a)})})}_exec(t,n,i){const s=M_(t);Ct(i["before"+s],[],i),n[t](i),Ct(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Vn=new rz;class az{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),a=this._notify(r,t,n,i);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,n,i,s){s=s||{};for(const r of t){const a=r.plugin,o=a[i],l=[n,s,r.options];if(Ct(o,l,a)===!1&&s.cancelable)return!1}return!0}invalidate(){St(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=_t(i.options&&i.options.plugins,{}),r=oz(i);return s===!1&&!n?[]:cz(t,r,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(r,a)=>r.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function oz(e){const t={},n=[],i=Object.keys(Vn.plugins.items);for(let r=0;r<i.length;r++)n.push(Vn.getPlugin(i[r]));const s=e.plugins||[];for(let r=0;r<s.length;r++){const a=s[r];n.indexOf(a)===-1&&(n.push(a),t[a.id]=!0)}return{plugins:n,localIds:t}}function lz(e,t){return!t&&e===!1?null:e===!0?{}:e}function cz(e,{plugins:t,localIds:n},i,s){const r=[],a=e.getContext();for(const o of t){const l=o.id,c=lz(i[l],s);c!==null&&r.push({plugin:o,options:uz(e.config,{plugin:o,local:n[l]},c,a)})}return r}function uz(e,{plugin:t,local:n},i,s){const r=e.pluginScopeKeys(t),a=e.getOptionScopes(i,r);return n&&t.defaults&&a.push(t.defaults),e.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function bp(e,t){const n=Gt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function hz(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function fz(e,t){return e===t?"_index_":"_value_"}function qT(e){if(e==="x"||e==="y"||e==="r")return e}function dz(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Ep(e,...t){if(qT(e))return e;for(const n of t){const i=n.axis||dz(n.position)||e.length>1&&qT(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function GT(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function mz(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return GT(e,"x",n[0])||GT(e,"y",n[0])}return{}}function gz(e,t){const n=_r[e.type]||{scales:{}},i=t.scales||{},s=bp(e.type,t),r=Object.create(null);return Object.keys(i).forEach(a=>{const o=i[a];if(!ut(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=Ep(a,o,mz(a,e),Gt.scales[o.type]),c=fz(l,s),h=n.scales||{};r[a]=_l(Object.create(null),[{axis:l},o,h[l],h[c]])}),e.data.datasets.forEach(a=>{const o=a.type||e.type,l=a.indexAxis||bp(o,t),h=(_r[o]||{}).scales||{};Object.keys(h).forEach(f=>{const d=hz(f,l),g=a[d+"AxisID"]||d;r[g]=r[g]||Object.create(null),_l(r[g],[{axis:d},i[g],h[f]])})}),Object.keys(r).forEach(a=>{const o=r[a];_l(o,[Gt.scales[o.type],Gt.scale])}),r}function sI(e){const t=e.options||(e.options={});t.plugins=_t(t.plugins,{}),t.scales=gz(e,t)}function rI(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function pz(e){return e=e||{},e.data=rI(e.data),sI(e),e}const $T=new Map,aI=new Set;function Au(e,t){let n=$T.get(e);return n||(n=t(),$T.set(e,n),aI.add(n)),n}const Po=(e,t,n)=>{const i=za(t,n);i!==void 0&&e.add(i)};class yz{constructor(t){this._config=pz(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=rI(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),sI(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Au(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Au(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Au(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return Au(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:r}=this,a=this._cachedScopes(t,i),o=a.get(n);if(o)return o;const l=new Set;n.forEach(h=>{t&&(l.add(t),h.forEach(f=>Po(l,t,f))),h.forEach(f=>Po(l,s,f)),h.forEach(f=>Po(l,_r[r]||{},f)),h.forEach(f=>Po(l,Gt,f)),h.forEach(f=>Po(l,vp,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),aI.has(n)&&a.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,_r[n]||{},Gt.datasets[n]||{},{type:n},Gt,vp]}resolveNamedOptions(t,n,i,s=[""]){const r={$shared:!0},{resolver:a,subPrefixes:o}=YT(this._resolverCache,t,s);let l=a;if(vz(a,n)){r.$shared=!1,i=Ns(i)?i():i;const c=this.createResolver(t,i,o);l=Ba(a,i,c)}for(const c of n)r[c]=l[c];return r}createResolver(t,n,i=[""],s){const{resolver:r}=YT(this._resolverCache,t,i);return ut(n)?Ba(r,n,void 0,s):r}}function YT(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let r=i.get(s);return r||(r={resolver:V_(t,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},i.set(s,r)),r}const _z=e=>ut(e)&&Object.getOwnPropertyNames(e).some(t=>Ns(e[t]));function vz(e,t){const{isScriptable:n,isIndexable:i}=q2(e);for(const s of t){const r=n(s),a=i(s),o=(a||r)&&e[s];if(r&&(Ns(o)||_z(o))||a&&re(o))return!0}return!1}var bz="4.4.9";const Ez=["top","bottom","left","right","chartArea"];function KT(e,t){return e==="top"||e==="bottom"||Ez.indexOf(e)===-1&&t==="x"}function WT(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function QT(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Ct(n&&n.onComplete,[e],t)}function Tz(e){const t=e.chart,n=t.options.animation;Ct(n&&n.onProgress,[e],t)}function oI(e){return j_()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ih={},XT=e=>{const t=oI(e);return Object.values(ih).filter(n=>n.canvas===t).pop()};function xz(e,t,n){const i=Object.keys(e);for(const s of i){const r=+s;if(r>=t){const a=e[s];delete e[s],(n>0||r>t)&&(e[r+n]=a)}}}function wz(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}var Fi;let ad=(Fi=class{static register(...t){Vn.add(...t),ZT()}static unregister(...t){Vn.remove(...t),ZT()}constructor(t,n){const i=this.config=new yz(n),s=oI(t),r=XT(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Fj(s)),this.platform.updateConfig(i);const o=this.platform.acquireContext(s,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,h=l&&l.width;if(this.id=z9(),this.ctx=o,this.canvas=l,this.width=h,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new az,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=aU(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],ih[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}oi.listen(this,"complete",QT),oi.listen(this,"progress",Tz),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return St(t)?n&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Vn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():xT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return vT(this.canvas,this.ctx),this}stop(){return oi.stop(this),this}resize(t,n){oi.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,t,n,r),o=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,xT(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Ct(i.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};yt(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((a,o)=>(a[o]=!1,a),{});let r=[];n&&(r=r.concat(Object.keys(n).map(a=>{const o=n[a],l=Ep(a,o),c=l==="r",h=l==="x";return{options:o,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),yt(r,a=>{const o=a.options,l=o.id,c=Ep(l,o),h=_t(o.type,a.dtype);(o.position===void 0||KT(o.position,c)!==KT(a.dposition))&&(o.position=a.dposition),s[l]=!0;let f=null;if(l in i&&i[l].type===h)f=i[l];else{const d=Vn.getScale(h);f=new d({id:l,type:h,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(o,t)}),yt(s,(a,o)=>{a||delete i[o]}),yt(i,a=>{as.configure(this,a,a.options),as.addBox(this,a)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(WT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let a=this.getDatasetMeta(i);const o=r.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=o,a.indexAxis=r.indexAxis||bp(o,this.options),a.order=r.order||0,a.index=i,a.label=""+r.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const l=Vn.getController(o),{datasetElementType:c,dataElementType:h}=Gt.datasets[o];Object.assign(l,{dataElementType:Vn.getElement(h),datasetElementType:c&&Vn.getElement(c)}),a.controller=new l(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){yt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:f}=this.getDatasetMeta(c),d=!s&&r.indexOf(f)===-1;f.buildOrUpdateElements(d),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||yt(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(WT("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){yt(this.scales,t=>{as.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!cT(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const a=i==="_removeElements"?-r:r;xz(t,s,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(t.filter(a=>a[0]===r).map((a,o)=>o+","+a.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!cT(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;as.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],yt(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Ns(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(oi.has(this)?this.attached&&!oi.running(this)&&oi.start(this):(this.draw(),QT({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const a=n[s];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=GU(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&N_(n,s),t.controller.draw(),s&&P_(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return B2(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const r=Ej.modes[n];return typeof r=="function"?r(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=ao(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),a=r.controller._resolveAnimations(void 0,s);Xl(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(r,{visible:i}),this.update(o=>o.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),oi.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),vT(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete ih[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(r,a)=>{n.addEventListener(this,r,a),t[r]=a},s=(r,a,o)=>{r.offsetX=a,r.offsetY=o,this._eventHandler(r)};yt(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},s=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{s("attach",o),this.attached=!0,this.resize(),i("resize",r),i("detach",a)};a=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){yt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},yt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let r,a,o,l;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),o=0,l=t.length;o<l;++o){a=t[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:r,index:a})=>{const o=this.getDatasetMeta(r);if(!o)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:o.data[a],index:a}});!cf(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,r=(l,c)=>l.filter(h=>!c.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),a=r(n,t),o=i?t:r(t,n);a.length&&this.updateHoverStyle(a,s.mode,!1),o.length&&s.mode&&this.updateHoverStyle(o,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:r}=this,a=n,o=this._getActiveElements(t,s,i,a),l=$9(t),c=wz(t,this._lastEvent,i,l);i&&(this._lastEvent=null,Ct(r.onHover,[t,o,this],this),l&&Ct(r.onClick,[t,o,this],this));const h=!cf(o,s);return(h||n)&&(this._active=o,this._updateHoverStyles(o,s,n)),this._lastEvent=c,h}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}},lt(Fi,"defaults",Gt),lt(Fi,"instances",ih),lt(Fi,"overrides",_r),lt(Fi,"registry",Vn),lt(Fi,"version",bz),lt(Fi,"getChart",XT),Fi);function ZT(){return yt(ad.instances,e=>e._plugins.invalidate())}function lI(e,t){const{x:n,y:i,base:s,width:r,height:a}=e.getProps(["x","y","base","width","height"],t);let o,l,c,h,f;return e.horizontal?(f=a/2,o=Math.min(n,s),l=Math.max(n,s),c=i-f,h=i+f):(f=r/2,o=n-f,l=n+f,c=Math.min(i,s),h=Math.max(i,s)),{left:o,top:c,right:l,bottom:h}}function os(e,t,n,i){return e?0:xn(t,n,i)}function Sz(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,r=H2(i);return{t:os(s.top,r.top,0,n),r:os(s.right,r.right,0,t),b:os(s.bottom,r.bottom,0,n),l:os(s.left,r.left,0,t)}}function Az(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,r=ba(s),a=Math.min(t,n),o=e.borderSkipped,l=i||ut(s);return{topLeft:os(!l||o.top||o.left,r.topLeft,0,a),topRight:os(!l||o.top||o.right,r.topRight,0,a),bottomLeft:os(!l||o.bottom||o.left,r.bottomLeft,0,a),bottomRight:os(!l||o.bottom||o.right,r.bottomRight,0,a)}}function Rz(e){const t=lI(e),n=t.right-t.left,i=t.bottom-t.top,s=Sz(e,n/2,i/2),r=Az(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Um(e,t,n,i){const s=t===null,r=n===null,o=e&&!(s&&r)&&lI(e,i);return o&&(s||oa(t,o.left,o.right))&&(r||oa(n,o.top,o.bottom))}function Iz(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function Cz(e,t){e.rect(t.x,t.y,t.w,t.h)}function jm(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-i,a=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+r,h:e.h+a,radius:e.radius}}class sh extends vr{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:a}=Rz(this),o=Iz(a.radius)?mf:Cz;t.save(),(a.w!==r.w||a.h!==r.h)&&(t.beginPath(),o(t,jm(a,n,r)),t.clip(),o(t,jm(r,-n,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),o(t,jm(r,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return Um(this,t,n,i)}inXRange(t,n){return Um(this,t,null,n)}inYRange(t,n){return Um(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}lt(sh,"id","bar"),lt(sh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),lt(sh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const JT=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},Dz=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class tx extends vr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Ct(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=Ue(i.font),r=s.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=JT(i,r);let c,h;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(a,r,o,l)+10):(h=this.maxHeight,c=this._fitCols(a,s,o,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:r,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=s+o;let f=t;r.textAlign="left",r.textBaseline="middle";let d=-1,g=-h;return this.legendItems.forEach((v,E)=>{const A=i+n/2+r.measureText(v.text).width;(E===0||c[c.length-1]+A+2*o>a)&&(f+=h,c[c.length-(E>0?0:1)]=0,g+=h,d++),l[E]={left:0,top:g,row:d,width:A,height:s},c[c.length-1]+=A+o}),f}_fitCols(t,n,i,s){const{ctx:r,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=a-t;let f=o,d=0,g=0,v=0,E=0;return this.legendItems.forEach((A,_)=>{const{itemWidth:y,itemHeight:T}=Oz(i,n,r,A,s);_>0&&g+T+2*o>h&&(f+=d+o,c.push({width:d,height:g}),v+=d+o,E++,d=g=0),l[_]={left:v,top:g,col:E,width:y,height:T},d=Math.max(d,y),g+=T+o}),f+=d,c.push({width:d,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,a=Ea(r,this.left,this.width);if(this.isHorizontal()){let o=0,l=$e(i,this.left+s,this.right-this.lineWidths[o]);for(const c of n)o!==c.row&&(o=c.row,l=$e(i,this.left+s,this.right-this.lineWidths[o])),c.top+=this.top+t+s,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+s}else{let o=0,l=$e(i,this.top+t+s,this.bottom-this.columnSizes[o].height);for(const c of n)c.col!==o&&(o=c.col,l=$e(i,this.top+t+s,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+s,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;N_(t,this),this._draw(),P_(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:a}=t,o=Gt.color,l=Ea(t.rtl,this.left,this.width),c=Ue(a.font),{padding:h}=a,f=c.size,d=f/2;let g;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:v,boxHeight:E,itemHeight:A}=JT(a,f),_=function(V,x,b){if(isNaN(v)||v<=0||isNaN(E)||E<0)return;s.save();const R=_t(b.lineWidth,1);if(s.fillStyle=_t(b.fillStyle,o),s.lineCap=_t(b.lineCap,"butt"),s.lineDashOffset=_t(b.lineDashOffset,0),s.lineJoin=_t(b.lineJoin,"miter"),s.lineWidth=R,s.strokeStyle=_t(b.strokeStyle,o),s.setLineDash(_t(b.lineDash,[])),a.usePointStyle){const I={radius:E*Math.SQRT2/2,pointStyle:b.pointStyle,rotation:b.rotation,borderWidth:R},O=l.xPlus(V,v/2),k=x+d;z2(s,I,O,k,a.pointStyleWidth&&v)}else{const I=x+Math.max((f-E)/2,0),O=l.leftForLtr(V,v),k=ba(b.borderRadius);s.beginPath(),Object.values(k).some(D=>D!==0)?mf(s,{x:O,y:I,w:v,h:E,radius:k}):s.rect(O,I,v,E),s.fill(),R!==0&&s.stroke()}s.restore()},y=function(V,x,b){df(s,b.text,V,x+A/2,c,{strikethrough:b.hidden,textAlign:l.textAlign(b.textAlign)})},T=this.isHorizontal(),M=this._computeTitleHeight();T?g={x:$e(r,this.left+h,this.right-i[0]),y:this.top+h+M,line:0}:g={x:this.left+h,y:$e(r,this.top+M+h,this.bottom-n[0].height),line:0},K2(this.ctx,t.textDirection);const C=A+h;this.legendItems.forEach((V,x)=>{s.strokeStyle=V.fontColor,s.fillStyle=V.fontColor;const b=s.measureText(V.text).width,R=l.textAlign(V.textAlign||(V.textAlign=a.textAlign)),I=v+d+b;let O=g.x,k=g.y;l.setWidth(this.width),T?x>0&&O+I+h>this.right&&(k=g.y+=C,g.line++,O=g.x=$e(r,this.left+h,this.right-i[g.line])):x>0&&k+C>this.bottom&&(O=g.x=O+n[g.line].width+h,g.line++,k=g.y=$e(r,this.top+M+h,this.bottom-n[g.line].height));const D=l.x(O);if(_(D,k,V),O=oU(R,O+v+d,T?O+I:this.right,t.rtl),y(l.x(O),k,V),T)g.x+=I+h;else if(typeof V.text!="string"){const Ut=c.lineHeight;g.y+=cI(V,Ut)+h}else g.y+=C}),W2(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=Ue(n.font),s=Cn(n.padding);if(!n.display)return;const r=Ea(t.rtl,this.left,this.width),a=this.ctx,o=n.position,l=i.size/2,c=s.top+l;let h,f=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),h=this.top+c,f=$e(t.align,f,this.right-d);else{const v=this.columnSizes.reduce((E,A)=>Math.max(E,A.height),0);h=c+$e(t.align,this.top,this.bottom-v-t.labels.padding-this._computeTitleHeight())}const g=$e(o,f,f+d);a.textAlign=r.textAlign(V2(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,df(a,n.text,g,h,i)}_computeTitleHeight(){const t=this.options.title,n=Ue(t.font),i=Cn(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,r;if(oa(t,this.left,this.right)&&oa(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],oa(t,s.left,s.left+s.width)&&oa(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!Nz(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,r=Dz(s,i);s&&!r&&Ct(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&Ct(n.onHover,[t,i,this],this)}else i&&Ct(n.onClick,[t,i,this],this)}}function Oz(e,t,n,i,s){const r=Mz(i,e,t,n),a=kz(s,i,t.lineHeight);return{itemWidth:r,itemHeight:a}}function Mz(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((r,a)=>r.length>a.length?r:a)),t+n.size/2+i.measureText(s).width}function kz(e,t,n){let i=e;return typeof t.text!="string"&&(i=cI(t,n)),i}function cI(e,t){const n=e.text?e.text.length:0;return t*n}function Nz(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Pz={id:"legend",_element:tx,start(e,t,n){const i=e.legend=new tx({ctx:e.ctx,options:n,chart:e});as.configure(e,i,n),as.addBox(e,i)},stop(e){as.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;as.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:a,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),h=Cn(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};const Yo={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,r=0;for(t=0,n=e.length;t<n;++t){const o=e[t].element;if(o&&o.hasValue()){const l=o.tooltipPosition();i.add(l.x),s+=l.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((o,l)=>o+l)/i.size,y:s/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,a,o;for(r=0,a=e.length;r<a;++r){const l=e[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),h=tU(t,c);h<s&&(s=h,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Pn(e,t){return t&&(re(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function li(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Vz(e,t){const{element:n,datasetIndex:i,index:s}=t,r=e.getDatasetMeta(i).controller,{label:a,value:o}=r.getLabelAndValue(s);return{chart:e,label:a,parsed:r.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:o,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function ex(e,t){const n=e.chart.ctx,{body:i,footer:s,title:r}=e,{boxWidth:a,boxHeight:o}=t,l=Ue(t.bodyFont),c=Ue(t.titleFont),h=Ue(t.footerFont),f=r.length,d=s.length,g=i.length,v=Cn(t.padding);let E=v.height,A=0,_=i.reduce((M,C)=>M+C.before.length+C.lines.length+C.after.length,0);if(_+=e.beforeBody.length+e.afterBody.length,f&&(E+=f*c.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),_){const M=t.displayColors?Math.max(o,l.lineHeight):l.lineHeight;E+=g*M+(_-g)*l.lineHeight+(_-1)*t.bodySpacing}d&&(E+=t.footerMarginTop+d*h.lineHeight+(d-1)*t.footerSpacing);let y=0;const T=function(M){A=Math.max(A,n.measureText(M).width+y)};return n.save(),n.font=c.string,yt(e.title,T),n.font=l.string,yt(e.beforeBody.concat(e.afterBody),T),y=t.displayColors?a+2+t.boxPadding:0,yt(i,M=>{yt(M.before,T),yt(M.lines,T),yt(M.after,T)}),y=0,n.font=h.string,yt(e.footer,T),n.restore(),A+=v.width,{width:A,height:E}}function Lz(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function Uz(e,t,n,i){const{x:s,width:r}=i,a=n.caretSize+n.caretPadding;if(e==="left"&&s+r+a>t.width||e==="right"&&s-r-a<0)return!0}function jz(e,t,n,i){const{x:s,width:r}=n,{width:a,chartArea:{left:o,right:l}}=e;let c="center";return i==="center"?c=s<=(o+l)/2?"left":"right":s<=r/2?c="left":s>=a-r/2&&(c="right"),Uz(c,e,t,n)&&(c="center"),c}function nx(e,t,n){const i=n.yAlign||t.yAlign||Lz(e,n);return{xAlign:n.xAlign||t.xAlign||jz(e,t,n,i),yAlign:i}}function zz(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function Bz(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function ix(e,t,n,i){const{caretSize:s,caretPadding:r,cornerRadius:a}=e,{xAlign:o,yAlign:l}=n,c=s+r,{topLeft:h,topRight:f,bottomLeft:d,bottomRight:g}=ba(a);let v=zz(t,o);const E=Bz(t,l,c);return l==="center"?o==="left"?v+=c:o==="right"&&(v-=c):o==="left"?v-=Math.max(h,d)+s:o==="right"&&(v+=Math.max(f,g)+s),{x:xn(v,0,i.width-t.width),y:xn(E,0,i.height-t.height)}}function Ru(e,t,n){const i=Cn(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function sx(e){return Pn([],li(e))}function Fz(e,t,n){return ao(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function rx(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const uI={beforeTitle:si,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:si,beforeBody:si,beforeLabel:si,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return St(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:si,afterBody:si,beforeFooter:si,footer:si,afterFooter:si};function Me(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?uI[t].call(n,i):s}class Tp extends vr{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new Q2(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=Fz(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=Me(i,"beforeTitle",this,t),r=Me(i,"title",this,t),a=Me(i,"afterTitle",this,t);let o=[];return o=Pn(o,li(s)),o=Pn(o,li(r)),o=Pn(o,li(a)),o}getBeforeBody(t,n){return sx(Me(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return yt(t,r=>{const a={before:[],lines:[],after:[]},o=rx(i,r);Pn(a.before,li(Me(o,"beforeLabel",this,r))),Pn(a.lines,Me(o,"label",this,r)),Pn(a.after,li(Me(o,"afterLabel",this,r))),s.push(a)}),s}getAfterBody(t,n){return sx(Me(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=Me(i,"beforeFooter",this,t),r=Me(i,"footer",this,t),a=Me(i,"afterFooter",this,t);let o=[];return o=Pn(o,li(s)),o=Pn(o,li(r)),o=Pn(o,li(a)),o}_createItems(t){const n=this._active,i=this.chart.data,s=[],r=[],a=[];let o=[],l,c;for(l=0,c=n.length;l<c;++l)o.push(Vz(this.chart,n[l]));return t.filter&&(o=o.filter((h,f,d)=>t.filter(h,f,d,i))),t.itemSort&&(o=o.sort((h,f)=>t.itemSort(h,f,i))),yt(o,h=>{const f=rx(t.callbacks,h);s.push(Me(f,"labelColor",this,h)),r.push(Me(f,"labelPointStyle",this,h)),a.push(Me(f,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=o,o}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,a=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const o=Yo[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const l=this._size=ex(this,i),c=Object.assign({},o,l),h=nx(this.chart,i,c),f=ix(i,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,r={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const r=this.getCaretPosition(t,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:a,cornerRadius:o}=i,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:f}=ba(o),{x:d,y:g}=t,{width:v,height:E}=n;let A,_,y,T,M,C;return r==="center"?(M=g+E/2,s==="left"?(A=d,_=A-a,T=M+a,C=M-a):(A=d+v,_=A+a,T=M-a,C=M+a),y=A):(s==="left"?_=d+Math.max(l,h)+a:s==="right"?_=d+v-Math.max(c,f)-a:_=this.caretX,r==="top"?(T=g,M=T-a,A=_-a,y=_+a):(T=g+E,M=T+a,A=_+a,y=_-a),C=T),{x1:A,x2:_,x3:y,y1:T,y2:M,y3:C}}drawTitle(t,n,i){const s=this.title,r=s.length;let a,o,l;if(r){const c=Ea(i.rtl,this.x,this.width);for(t.x=Ru(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",a=Ue(i.titleFont),o=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,l=0;l<r;++l)n.fillText(s[l],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+o,l+1===r&&(t.y+=i.titleMarginBottom-o)}}_drawColorBox(t,n,i,s,r){const a=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=r,h=Ue(r.bodyFont),f=Ru(this,"left",r),d=s.x(f),g=l<h.lineHeight?(h.lineHeight-l)/2:0,v=n.y+g;if(r.usePointStyle){const E={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},A=s.leftForLtr(d,c)+c/2,_=v+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,bT(t,E,A,_),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,bT(t,E,A,_)}else{t.lineWidth=ut(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const E=s.leftForLtr(d,c),A=s.leftForLtr(s.xPlus(d,1),c-2),_=ba(a.borderRadius);Object.values(_).some(y=>y!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,mf(t,{x:E,y:v,w:c,h:l,radius:_}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),mf(t,{x:A,y:v+1,w:c-2,h:l-2,radius:_}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(E,v,c,l),t.strokeRect(E,v,c,l),t.fillStyle=a.backgroundColor,t.fillRect(A,v+1,c-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:h}=i,f=Ue(i.bodyFont);let d=f.lineHeight,g=0;const v=Ea(i.rtl,this.x,this.width),E=function(b){n.fillText(b,v.x(t.x+g),t.y+d/2),t.y+=d+r},A=v.textAlign(a);let _,y,T,M,C,V,x;for(n.textAlign=a,n.textBaseline="middle",n.font=f.string,t.x=Ru(this,A,i),n.fillStyle=i.bodyColor,yt(this.beforeBody,E),g=o&&A!=="right"?a==="center"?c/2+h:c+2+h:0,M=0,V=s.length;M<V;++M){for(_=s[M],y=this.labelTextColors[M],n.fillStyle=y,yt(_.before,E),T=_.lines,o&&T.length&&(this._drawColorBox(n,t,M,v,i),d=Math.max(f.lineHeight,l)),C=0,x=T.length;C<x;++C)E(T[C]),d=f.lineHeight;yt(_.after,E)}g=0,d=f.lineHeight,yt(this.afterBody,E),t.y-=r}drawFooter(t,n,i){const s=this.footer,r=s.length;let a,o;if(r){const l=Ea(i.rtl,this.x,this.width);for(t.x=Ru(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",a=Ue(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,o=0;o<r;++o)n.fillText(s[o],l.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:r,yAlign:a}=this,{x:o,y:l}=t,{width:c,height:h}=i,{topLeft:f,topRight:d,bottomLeft:g,bottomRight:v}=ba(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(o+f,l),a==="top"&&this.drawCaret(t,n,i,s),n.lineTo(o+c-d,l),n.quadraticCurveTo(o+c,l,o+c,l+d),a==="center"&&r==="right"&&this.drawCaret(t,n,i,s),n.lineTo(o+c,l+h-v),n.quadraticCurveTo(o+c,l+h,o+c-v,l+h),a==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(o+g,l+h),n.quadraticCurveTo(o,l+h,o,l+h-g),a==="center"&&r==="left"&&this.drawCaret(t,n,i,s),n.lineTo(o,l+f),n.quadraticCurveTo(o,l,o+f,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const a=Yo[t.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=ex(this,t),l=Object.assign({},a,this._size),c=nx(n,t,l),h=ix(t,l,c,n);(s._to!==h.x||r._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Cn(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,s,n),K2(t,n.textDirection),r.y+=a.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),W2(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),r=!cf(i,s),a=this._positionChanged(s,n);(r||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],a=this._getActiveElements(t,r,n,i),o=this._positionChanged(a,t),l=n||!cf(a,r)||o;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,i,s){const r=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&a.reverse(),a}_positionChanged(t,n){const{caretX:i,caretY:s,options:r}=this,a=Yo[r.position].call(this,t,n);return a!==!1&&(i!==a.x||s!==a.y)}}lt(Tp,"positioners",Yo);var Hz={id:"tooltip",_element:Tp,positioners:Yo,afterInit(e,t,n){n&&(e.tooltip=new Tp({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:uI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const qz=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function Gz(e,t,n,i){const s=e.indexOf(t);if(s===-1)return qz(e,t,n,i);const r=e.lastIndexOf(t);return s!==r?n:s}const $z=(e,t)=>e===null?null:xn(Math.round(e),0,t);function ax(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class xp extends oo{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(St(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:Gz(i,t,_t(n,t),this._addedLabels),$z(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=n;a++)s.push({value:a});return s}getLabelForValue(t){return ax.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}lt(xp,"id","category"),lt(xp,"defaults",{ticks:{callback:ax}});function Yz(e,t){const n=[],{bounds:s,step:r,min:a,max:o,precision:l,count:c,maxTicks:h,maxDigits:f,includeBounds:d}=e,g=r||1,v=h-1,{min:E,max:A}=t,_=!St(a),y=!St(o),T=!St(c),M=(A-E)/(f+1);let C=hT((A-E)/v/g)*g,V,x,b,R;if(C<1e-14&&!_&&!y)return[{value:E},{value:A}];R=Math.ceil(A/C)-Math.floor(E/C),R>v&&(C=hT(R*C/v/g)*g),St(l)||(V=Math.pow(10,l),C=Math.ceil(C*V)/V),s==="ticks"?(x=Math.floor(E/C)*C,b=Math.ceil(A/C)*C):(x=E,b=A),_&&y&&r&&Q9((o-a)/r,C/1e3)?(R=Math.round(Math.min((o-a)/C,h)),C=(o-a)/R,x=a,b=o):T?(x=_?a:x,b=y?o:b,R=c-1,C=(b-x)/R):(R=(b-x)/C,th(R,Math.round(R),C/1e3)?R=Math.round(R):R=Math.ceil(R));const I=Math.max(fT(C),fT(x));V=Math.pow(10,St(l)?I:l),x=Math.round(x*V)/V,b=Math.round(b*V)/V;let O=0;for(_&&(d&&x!==a?(n.push({value:a}),x<a&&O++,th(Math.round((x+O*C)*V)/V,a,ox(a,M,e))&&O++):x<a&&O++);O<R;++O){const k=Math.round((x+O*C)*V)/V;if(y&&k>o)break;n.push({value:k})}return y&&d&&b!==o?n.length&&th(n[n.length-1].value,o,ox(o,M,e))?n[n.length-1].value=o:n.push({value:o}):(!y||b===o)&&n.push({value:b}),n}function ox(e,t,{horizontal:n,minRotation:i}){const s=Js(i),r=(n?Math.sin(s):Math.cos(s))||.001,a=.75*t*(""+e).length;return Math.min(t/r,a)}class Kz extends oo{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return St(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const a=l=>s=n?s:l,o=l=>r=i?r:l;if(t){const l=xs(s),c=xs(r);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);o(r+l),t||a(s-l)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,a=Yz(s,r);return t.bounds==="ticks"&&X9(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return U2(t,this.chart.options.locale,this.options.ticks.format)}}class wp extends Kz{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=pn(t)?t:0,this.max=pn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=Js(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}lt(wp,"id","linear"),lt(wp,"defaults",{ticks:{callback:j2.formatters.numeric}});const od={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Le=Object.keys(od);function lx(e,t){return e-t}function cx(e,t){if(St(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:r}=e._parseOpts;let a=t;return typeof i=="function"&&(a=i(a)),pn(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(ff(r)||r===!0)?n.startOf(a,"isoWeek",r):n.startOf(a,s)),+a)}function ux(e,t,n,i){const s=Le.length;for(let r=Le.indexOf(e);r<s-1;++r){const a=od[Le[r]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-t)/(o*a.size))<=i)return Le[r]}return Le[s-1]}function Wz(e,t,n,i,s){for(let r=Le.length-1;r>=Le.indexOf(n);r--){const a=Le[r];if(od[a].common&&e._adapter.diff(s,i,a)>=t-1)return a}return Le[n?Le.indexOf(n):0]}function Qz(e){for(let t=Le.indexOf(e)+1,n=Le.length;t<n;++t)if(od[Le[t]].common)return Le[t]}function hx(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=k_(n,t),r=n[i]>=t?n[i]:n[s];e[r]=!0}}function Xz(e,t,n,i){const s=e._adapter,r=+s.startOf(t[0].value,i),a=t[t.length-1].value;let o,l;for(o=r;o<=a;o=+s.add(o,1,i))l=n[o],l>=0&&(t[l].major=!0);return t}function fx(e,t,n){const i=[],s={},r=t.length;let a,o;for(a=0;a<r;++a)o=t[a],s[o]=a,i.push({value:o,major:!1});return r===0||!n?i:Xz(e,i,s,n)}class yf extends oo{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new pj._date(t.adapters.date);s.init(n),_l(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:cx(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:r,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!o&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=pn(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=pn(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,a=this.max,o=sU(s,r,a);return this._unit=n.unit||(i.autoSkip?ux(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):Wz(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Qz(this._unit),this.initOffsets(s),t.reverse&&o.reverse(),fx(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;n=xn(n,0,a),i=xn(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,a=r.unit||ux(r.minUnit,n,i,this._getLabelCapacity(n)),o=_t(s.ticks.stepSize,1),l=a==="week"?r.isoWeekday:!1,c=ff(l)||l===!0,h={};let f=n,d,g;if(c&&(f=+t.startOf(f,"isoWeek",l)),f=+t.startOf(f,c?"day":a),t.diff(i,n,a)>1e5*o)throw new Error(n+" and "+i+" are too far apart with stepSize of "+o+" "+a);const v=s.ticks.source==="data"&&this.getDataTimestamps();for(d=f,g=0;d<i;d=+t.add(d,o,a),g++)hx(h,d,v);return(d===i||s.bounds==="ticks"||g===1)&&hx(h,d,v),Object.keys(h).sort(lx).map(E=>+E)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,r=this._unit,a=n||s[r];return this._adapter.format(t,a)}_tickFormatFunction(t,n,i,s){const r=this.options,a=r.ticks.callback;if(a)return Ct(a,[t,n,i],this);const o=r.time.displayFormats,l=this._unit,c=this._majorUnit,h=l&&o[l],f=c&&o[c],d=i[n],g=c&&f&&d&&d.major;return this._adapter.format(t,s||(g?f:h))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=Js(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),a=Math.sin(s),o=this._resolveTickFontOptions(0).size;return{w:i*r+o*a,h:i*a+o*r}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(t,0,fx(this,[t],this._majorUnit),s),a=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(cx(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return k2(t.sort(lx))}}lt(yf,"id","time"),lt(yf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Iu(e,t,n){let i=0,s=e.length-1,r,a,o,l;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=_p(e,"pos",t)),{pos:r,time:o}=e[i],{pos:a,time:l}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=_p(e,"time",t)),{time:r,pos:o}=e[i],{time:a,pos:l}=e[s]);const c=a-r;return c?o+(l-o)*(t-r)/c:o}class dx extends yf{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Iu(n,this.min),this._tableRange=Iu(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],r=[];let a,o,l,c,h;for(a=0,o=t.length;a<o;++a)c=t[a],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,o=s.length;a<o;++a)h=s[a+1],l=s[a-1],c=s[a],Math.round((h+l)/2)!==c&&r.push({time:c,pos:a/(o-1)});return r}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Iu(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Iu(this._table,i*this._tableRange+this._minPos,!0)}}lt(dx,"id","timeseries"),lt(dx,"defaults",yf.defaults);const hI="label";function mx(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Zz(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function fI(e,t){e.labels=t}function dI(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:hI;const i=[];e.datasets=t.map(s=>{const r=e.datasets.find(a=>a[n]===s[n]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function Jz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hI;const n={labels:[],datasets:[]};return fI(n,e.labels),dI(n,e.datasets,t),n}function tB(e,t){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:a,data:o,options:l,plugins:c=[],fallbackContent:h,updateMode:f,...d}=e,g=P.useRef(null),v=P.useRef(null),E=()=>{g.current&&(v.current=new ad(g.current,{type:a,data:Jz(o,r),options:l&&{...l},plugins:c}),mx(t,v.current))},A=()=>{mx(t,null),v.current&&(v.current.destroy(),v.current=null)};return P.useEffect(()=>{!s&&v.current&&l&&Zz(v.current,l)},[s,l]),P.useEffect(()=>{!s&&v.current&&fI(v.current.config.data,o.labels)},[s,o.labels]),P.useEffect(()=>{!s&&v.current&&o.datasets&&dI(v.current.config.data,o.datasets,r)},[s,o.datasets]),P.useEffect(()=>{v.current&&(s?(A(),setTimeout(E)):v.current.update(f))},[s,l,o.labels,o.datasets,f]),P.useEffect(()=>{v.current&&(A(),setTimeout(E))},[a]),P.useEffect(()=>(E(),()=>A()),[]),Ax.createElement("canvas",{ref:g,role:"img",height:n,width:i,...d},h)}const eB=P.forwardRef(tB);function nB(e,t){return ad.register(t),P.forwardRef((n,i)=>Ax.createElement(eB,{...n,ref:i,type:e}))}const iB=nB("bar",eh),ri={total:S.jsx("span",{title:"Total de respostas",children:S.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V7M16 3v4M8 3v4M4 11h16"})})}),star:S.jsx("span",{title:"Nvel de Satisfao",children:S.jsxs("svg",{className:"w-8 h-8 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:[S.jsx("circle",{cx:"10",cy:"10",r:"10",fill:"#fde047"}),S.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.967a1 1 0 00.95.69h4.175c.969 0 1.371 1.24.588 1.81l-3.38 2.455a1 1 0 00-.364 1.118l1.287 3.966c.3.922-.755 1.688-1.54 1.118l-3.38-2.454a1 1 0 00-1.175 0l-3.38 2.454c-.784.57-1.838-.196-1.54-1.118l1.287-3.966a1 1 0 00-.364-1.118L2.05 9.394c-.783-.57-.38-1.81.588-1.81h4.175a1 1 0 00.95-.69l1.286-3.967z"})]})}),user:S.jsx("span",{title:"Colaborador destaque",children:S.jsxs("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[S.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#22c55e"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A9 9 0 1112 21a9 9 0 01-6.879-3.196z"})]})}),table:S.jsx("span",{title:"Pergunta",children:S.jsxs("svg",{className:"w-8 h-8 text-purple-500",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[S.jsx("rect",{width:"18",height:"14",x:"3",y:"5",rx:"2"}),S.jsx("path",{d:"M3 10h18M9 21V5"})]})}),filter:S.jsx("span",{title:"Filtros",children:S.jsxs("svg",{className:"w-8 h-8 text-cyan-500",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[S.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#06b6d4"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-.293.707l-6.414 6.414A1 1 0 0013 13.414V19a1 1 0 01-1.447.894l-4-2A1 1 0 017 17v-3.586a1 1 0 00-.293-.707L3.293 6.707A1 1 0 013 6V4z"})]})}),relatorios:S.jsx("span",{title:"Relatrios",children:S.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17v-6a2 2 0 012-2h2a2 2 0 012 2v6m-6 4h6a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),back:S.jsx("span",{title:"Voltar",children:S.jsx("svg",{className:"w-6 h-6 mr-2 text-blue-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})})};ad.register(sh,xp,wp,Hz,Pz);const Ko=["Muito Satisfeito","Satisfeito","Regular","Ruim"],gx=["#22c55e","#fde047","#fb923c","#ef4444"];function sB(e){const t=["recepcao","triagem","medico","orientacao","limpeza","equipe"],n={};t.forEach(s=>{n[s]={},Ko.forEach(r=>{n[s][r]=0})}),e.forEach(s=>{t.forEach(r=>{s[r]&&(n[r][s[r]]=(n[r][s[r]]||0)+1)})});const i=e.length;return{stats:n,total:i,fields:t}}function rB(e){const t={};e.forEach(s=>{if(s.destaque&&s.destaque.trim()){const r=s.destaque.split(" ")[0].trim();r&&(t[r]=(t[r]||0)+1)}});let n="",i=0;return Object.entries(t).forEach(([s,r])=>{r>i&&(n=s,i=r)}),n?{nome:n,qtd:i}:null}const aB=()=>{const[e,t]=P.useState([]),[n,i]=P.useState(!0),[s,r]=P.useState(""),[a,o]=P.useState({startDate:"",endDate:""}),[l,c]=P.useState(null),h=wr();P.useEffect(()=>{f()},[]);const f=async(C=null,V=null)=>{i(!0),r("");try{let x=cp(Xh(yl,"surveys"),TR("timestamp","desc")),R=(await up(x)).docs.map(I=>{var k;const O=I.data();return{id:I.id,...O,timestamp:(k=O.timestamp)!=null&&k.toDate?O.timestamp.toDate():new Date}});(C||V)&&(R=R.filter(I=>{if(!I.data)return!1;const O=new Date(I.data);return!(C&&O<C||V&&O>V)})),t(R)}catch{r("Erro ao carregar pesquisas")}finally{i(!1)}},d=()=>{const C=a.startDate?new Date(a.startDate):null,V=a.endDate?new Date(a.endDate):null;f(C,V)},g=()=>{o({startDate:"",endDate:""}),f()},v=l?e.filter(C=>Object.values(C).some(V=>V===l)):e,{stats:E,total:A,fields:_}=sB(v),y=rB(v),T={labels:_.map(C=>({recepcao:"Recepo",triagem:"Triagem",medico:"Mdico",orientacao:"Orientao",limpeza:"Limpeza",equipe:"Equipe"})[C]),datasets:Ko.map((C,V)=>({label:C,data:_.map(x=>E[x][C]),backgroundColor:gx[V],borderRadius:8,maxBarThickness:40}))},M={responsive:!0,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1}},scales:{x:{stacked:!0},y:{stacked:!0,beginAtZero:!0,ticks:{stepSize:1}}},maintainAspectRatio:!1};return n?S.jsx(lf,{title:"Relatrios",children:S.jsx("div",{className:"flex items-center justify-center h-64",children:S.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}):S.jsxs(lf,{title:"Relatrios",children:[S.jsx("div",{className:"mb-4",children:S.jsxs("button",{onClick:()=>h(-1),className:"flex items-center bg-blue-100 hover:bg-blue-200 text-blue-700 px-4 py-2 rounded-md font-medium transition-colors",children:[ri.back," Voltar"]})}),S.jsxs("div",{className:"flex flex-wrap gap-4 items-end mb-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Inicial"}),S.jsx("input",{type:"date",value:a.startDate,onChange:C=>o(V=>({...V,startDate:C.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Final"}),S.jsx("input",{type:"date",value:a.endDate,onChange:C=>o(V=>({...V,endDate:C.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("button",{onClick:d,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition-colors flex items-center",children:[ri.filter," Filtrar"]}),S.jsx("button",{onClick:g,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md font-medium transition-colors",children:"Limpar"})]})]}),S.jsxs("div",{className:"bg-gradient-to-br from-blue-100 via-white to-green-100 rounded-3xl shadow-2xl p-4 sm:p-6 md:p-10 mb-10 border border-gray-200",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8 gap-4 sm:gap-6",children:[S.jsxs("h3",{className:"text-2xl sm:text-3xl font-extrabold text-blue-900 flex items-center gap-4",children:[ri.total," Dashboard de Satisfao"]}),S.jsx("div",{className:"flex flex-col sm:flex-row gap-2",children:S.jsxs(Ll,{to:"/admin/relatorios",className:"w-full sm:w-auto bg-blue-100 hover:bg-blue-200 text-blue-700 px-4 sm:px-6 py-2 sm:py-3 rounded-xl font-semibold transition-colors flex items-center justify-center shadow-lg",type:"button",children:[ri.relatorios," Relatrios"]})})]}),S.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[Ko.map((C,V)=>S.jsxs("button",{type:"button",className:`flex items-center gap-2 text-base font-medium px-3 py-1 rounded-full border-2 transition
                ${l===C?"border-blue-600 ring-2 ring-blue-300":"border-gray-200"}
              `,style:{background:l===C?"#f0f9ff":"#fff"},onClick:()=>c(l===C?null:C),children:[S.jsx("span",{className:"inline-block rounded-full",style:{width:16,height:16,backgroundColor:gx[V],border:"2px solid #e5e7eb"}}),C]},C)),l&&S.jsx("button",{type:"button",className:"ml-2 px-3 py-1 rounded-full bg-gray-200 text-gray-700 font-medium border border-gray-300",onClick:()=>c(null),children:"Limpar filtro"})]}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-8 mb-8 justify-center",children:[S.jsxs("button",{className:"flex items-center bg-white rounded-2xl shadow-lg p-4 sm:p-6 gap-4 border border-gray-100 w-full transition hover:scale-[1.03] active:scale-100 justify-center",children:[ri.total,S.jsxs("div",{children:[S.jsx("div",{className:"text-gray-700 font-medium",children:"Total de respostas"}),S.jsx("div",{className:"text-2xl sm:text-3xl font-extrabold text-blue-600",children:A})]})]}),y&&S.jsxs("button",{className:"flex items-center bg-white rounded-2xl shadow-lg p-4 sm:p-6 gap-4 border border-gray-100 w-full transition hover:scale-[1.03] active:scale-100 justify-center",children:[ri.user,S.jsxs("div",{children:[S.jsx("div",{className:"text-gray-700 font-medium",children:"Colaborador destaque"}),S.jsxs("div",{className:"text-lg sm:text-xl font-bold text-green-700",children:[y.nome," ",S.jsxs("span",{className:"text-base font-normal",children:["(",y.qtd," citaes)"]})]})]})]}),S.jsxs("button",{className:"flex items-center bg-white rounded-2xl shadow-lg p-4 sm:p-6 gap-4 border border-gray-100 w-full transition hover:scale-[1.03] active:scale-100 justify-center",children:[ri.star,S.jsxs("div",{children:[S.jsx("div",{className:"text-gray-700 font-medium",children:"Nvel de Satisfao"}),S.jsxs("div",{className:"text-lg sm:text-xl font-bold text-yellow-500",children:[((E.recepcao["Muito Satisfeito"]+E.triagem["Muito Satisfeito"]+E.medico["Muito Satisfeito"])/(3*A)*100||0).toFixed(1),"%"]})]})]})]}),S.jsxs("div",{children:[S.jsx("div",{className:"mb-10 bg-white rounded-3xl p-2 sm:p-4 md:p-8 shadow-lg border border-gray-100",children:S.jsx("div",{className:"w-full h-60 sm:h-72 md:h-96",children:S.jsx(iB,{data:T,options:M})})}),S.jsx("div",{className:"overflow-x-auto mb-10",children:S.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-base rounded-xl shadow border border-gray-100",children:[S.jsx("thead",{className:"bg-gray-100",children:S.jsxs("tr",{children:[S.jsxs("th",{className:"px-4 py-3 text-left font-bold flex items-center gap-2 text-lg",children:[ri.table," Pergunta"]}),Ko.map(C=>S.jsx("th",{className:"px-4 py-3 text-center font-bold text-lg",children:C},C))]})}),S.jsx("tbody",{children:_.map(C=>S.jsxs("tr",{className:"hover:bg-blue-50 transition",children:[S.jsx("td",{className:"px-4 py-3 font-semibold capitalize",children:C}),Ko.map(V=>S.jsx("td",{className:"px-4 py-3 text-center",children:E[C][V]},V))]},C))})]})})]}),S.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 border border-gray-100",children:[S.jsxs("h3",{className:"text-xl sm:text-2xl font-semibold text-gray-800 mb-6 flex items-center gap-3",children:[ri.star," Respostas Recentes"]}),v.length>0?S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"min-w-full divide-y divide-gray-200 rounded-xl",children:[S.jsx("thead",{className:"bg-gray-50",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Data/Hora"}),S.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Recepo"}),S.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Triagem"}),S.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Mdico"}),S.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Orientao"}),S.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Limpeza"}),S.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Equipe"}),S.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Sugesto/Elogio/Crtica"}),S.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Destaque"}),S.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Data Atendimento"}),S.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Contato"})]})}),S.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.slice(0,10).map(C=>{var V;return S.jsxs("tr",{className:"hover:bg-green-50 transition",children:[S.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:(V=C.timestamp)==null?void 0:V.toLocaleString("pt-BR")}),S.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.recepcao}),S.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.triagem}),S.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.medico}),S.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.orientacao}),S.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.limpeza}),S.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.equipe}),S.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.sugestao}),S.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.destaque}),S.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.data}),S.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.contato})]},C.id)})})]})}):S.jsx("p",{className:"text-gray-500 text-center py-8",children:"Nenhuma resposta encontrada"})]})]}),S.jsx("style",{children:`
          @media (max-width: 640px) {
            .sm\\:p-10, .md\\:p-10 { padding: 1.5rem !important; }
            .sm\\:h-96, .md\\:h-96 { height: 260px !important; }
            .sm\\:grid-cols-2 { grid-template-columns: 1fr !important; }
            .sm\\:flex-row { flex-direction: column !important; }
            .sm\\:items-center { align-items: flex-start !important; }
            .sm\\:justify-between { justify-content: flex-start !important; }
            .grid-cols-1, .sm\\:grid-cols-2, .md\\:grid-cols-3 { grid-template-columns: 1fr !important; }
            .p-4, .sm\\:p-6, .md\\:p-10 { padding-left: 0.5rem !important; padding-right: 0.5rem !important; }
            .rounded-3xl { border-radius: 1.25rem !important; }
            .h-60, .sm\\:h-72, .md\\:h-96 { height: 180px !important; }
          }
        `})]})},zm={filter:S.jsx("svg",{className:"w-6 h-6 text-cyan-500 mr-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-.293.707l-6.414 6.414A1 1 0 0013 13.414V19a1 1 0 01-1.447.894l-4-2A1 1 0 017 17v-3.586a1 1 0 00-.293-.707L3.293 6.707A1 1 0 013 6V4z"})}),csv:S.jsx("svg",{className:"w-5 h-5 mr-2 text-green-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),back:S.jsx("svg",{className:"w-6 h-6 mr-2 text-blue-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})},Bm={"Muito Satisfeito":5,Satisfeito:4,Regular:3,Ruim:2,Pssimo:1},rh={recepcao:"Atendimento da Recepo",triagem:"Atendimento da Triagem",medico:"Atendimento Mdico",orientacao:"Orientaes do Mdico",limpeza:"Higienizao/Limpeza da unidade",equipe:"Atendimento da equipe de Tcnicos e Enfermeiros"},Sp=Object.keys(rh);function oB(e){const t=e.length,n={};Sp.forEach(f=>{const d=e.map(g=>{var E;const v=g[f]??((E=g.responses)==null?void 0:E[f]);return typeof v=="number"?v:typeof v=="string"&&Bm[v]||null}).filter(g=>g!==null&&!isNaN(g));n[f]=d.length?(d.reduce((g,v)=>g+v,0)/d.length).toFixed(2):"0.00"});let i="",s=-1/0,r="",a=1/0;Object.entries(n).forEach(([f,d])=>{const g=parseFloat(d);g>s&&(s=g,i=f),g<a&&(a=g,r=f)});const o=e.filter(f=>[5].includes(typeof f.recepcao=="number"?f.recepcao:Bm[f.recepcao])).length,l=e.filter(f=>[1,2,3].includes(typeof f.recepcao=="number"?f.recepcao:Bm[f.recepcao])).length,c=t>0?((o-l)/t*100).toFixed(0):"0",h=e.filter(f=>f.sugestao&&f.sugestao.trim()).map(f=>({id:f.id,text:f.sugestao,date:f.timestamp?new Date(f.timestamp).toLocaleDateString("pt-BR"):""}));return{total:t,averageRatings:n,bestSection:i,bestValue:s,worstSection:r,worstValue:a,nps:c,comments:h}}const px=()=>{const[e,t]=P.useState([]),[n,i]=P.useState(null),[s,r]=P.useState(!0),[a,o]=P.useState(""),[l,c]=P.useState({startDate:"",endDate:""}),h=wr();P.useEffect(()=>{f()},[]);const f=async(v=null,E=null)=>{r(!0),o("");try{let A="geral";(v||E)&&(A=`${v?v.toISOString().split("T")[0]:"ini"}_${E?E.toISOString().split("T")[0]:"fim"}`);const _=await up(cp(Xh(yl,"relatorios_agrupados")));let y=null;if(_.forEach(x=>{x.id===A&&(y=x.data())}),y){i(y),r(!1);return}let T=cp(Xh(yl,"surveys"),TR("timestamp","desc")),C=(await up(T)).docs.map(x=>{var R;const b=x.data();return{id:x.id,...b,timestamp:(R=b.timestamp)!=null&&R.toDate?b.timestamp.toDate():new Date}});(v||E)&&(C=C.filter(x=>{if(!x.timestamp)return!1;const b=new Date(x.timestamp);if(v&&b<v)return!1;if(E){const R=new Date(E);if(R.setHours(23,59,59,999),b>R)return!1}return!0})),t(C);const V=oB(C);await setDoc(doc(yl,"relatorios_agrupados",A),V),i(V)}catch{o("Erro ao carregar pesquisas")}finally{r(!1)}},d=()=>{const v=l.startDate?new Date(l.startDate):null,E=l.endDate?new Date(l.endDate):null;f(v,E)},g=()=>{c({startDate:"",endDate:""}),f()};return s?S.jsx(lf,{title:"Relatrios",children:S.jsx("div",{className:"flex items-center justify-center h-64",children:S.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}):S.jsxs(lf,{title:"Relatrios",children:[S.jsx("div",{className:"mb-4",children:S.jsxs("button",{onClick:()=>h("/admin/dashboard"),className:"flex items-center bg-blue-100 hover:bg-blue-200 text-blue-700 px-4 py-2 rounded-md font-medium transition-colors",children:[zm.back," Voltar para Dashboard"]})}),S.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[S.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Inicial"}),S.jsx("input",{type:"date",value:l.startDate,onChange:v=>c(E=>({...E,startDate:v.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Final"}),S.jsx("input",{type:"date",value:l.endDate,onChange:v=>c(E=>({...E,endDate:v.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("button",{onClick:d,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition-colors flex items-center",children:[zm.filter," Filtrar"]}),S.jsx("button",{onClick:g,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md font-medium transition-colors",children:"Limpar"})]})]}),S.jsx("div",{className:"flex gap-2",children:S.jsxs("button",{onClick:()=>{const v=[["Data/Hora","Recepo","Triagem","Mdico","Orientao","Limpeza","Equipe"],...e.map(y=>{var T,M,C,V,x,b;return[y.timestamp?new Date(y.timestamp).toLocaleString("pt-BR"):"",y.recepcao||((T=y.responses)==null?void 0:T.recepcao)||"",y.triagem||((M=y.responses)==null?void 0:M.triagem)||"",y.medico||((C=y.responses)==null?void 0:C.medico)||"",y.orientacao||((V=y.responses)==null?void 0:V.orientacao)||"",y.limpeza||((x=y.responses)==null?void 0:x.limpeza)||"",y.equipe||((b=y.responses)==null?void 0:b.equipe)||""]})].map(y=>y.join(",")).join(`
`),E=new Blob([v],{type:"text/csv;charset=utf-8;"}),A=document.createElement("a"),_=URL.createObjectURL(E);A.setAttribute("href",_),A.setAttribute("download",`pesquisa-satisfacao-${new Date().toISOString().split("T")[0]}.csv`),A.style.visibility="hidden",document.body.appendChild(A),A.click(),document.body.removeChild(A)},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md font-medium transition-colors flex items-center",children:[zm.csv," Exportar CSV"]})})]}),a&&S.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-6",children:a}),n&&S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[S.jsxs("div",{className:"bg-gradient-to-br from-blue-100 to-blue-300 rounded-lg shadow p-6 flex flex-col items-center",children:[S.jsx("span",{className:"text-5xl font-extrabold text-blue-700",children:n.total}),S.jsx("span",{className:"text-gray-700 mt-2 font-semibold",children:"Total de Respostas"})]}),S.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-green-300 rounded-lg shadow p-6 flex flex-col items-center",children:[S.jsx("span",{className:"text-5xl font-extrabold text-green-700",children:Object.values(n.averageRatings).length>0?(Object.values(n.averageRatings).reduce((v,E)=>parseFloat(v)+parseFloat(E),0)/Object.values(n.averageRatings).length).toFixed(2):"0.00"}),S.jsx("span",{className:"text-gray-700 mt-2 font-semibold",children:"Mdia Geral"})]}),S.jsxs("div",{className:"bg-gradient-to-br from-yellow-100 to-yellow-300 rounded-lg shadow p-6 flex flex-col items-center",children:[S.jsx("span",{className:"text-5xl font-extrabold text-yellow-700",children:n.bestValue}),S.jsx("span",{className:"text-gray-700 mt-2 font-semibold",children:"Melhor Seo"}),S.jsx("span",{className:"text-sm text-yellow-900",children:rh[n.bestSection]})]}),S.jsxs("div",{className:"bg-gradient-to-br from-red-100 to-red-300 rounded-lg shadow p-6 flex flex-col items-center",children:[S.jsx("span",{className:"text-5xl font-extrabold text-red-700",children:n.worstValue}),S.jsx("span",{className:"text-gray-700 mt-2 font-semibold",children:"Pior Seo"}),S.jsx("span",{className:"text-sm text-red-900",children:rh[n.worstSection]})]})]}),S.jsxs("div",{className:"bg-gradient-to-br from-indigo-100 to-indigo-300 rounded-lg shadow p-6 flex flex-col items-center",children:[S.jsx("span",{className:"text-5xl font-extrabold text-indigo-700",children:n.nps}),S.jsx("span",{className:"text-gray-700 mt-2 font-semibold",children:"NPS (Net Promoter Score)"}),S.jsx("span",{className:"text-xs text-indigo-900 mt-1",children:'Baseado nas respostas "Muito Satisfeito" e "Regular ou menos"'})]}),S.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Mdia por Seo"}),S.jsxs("table",{className:"min-w-full table-auto",children:[S.jsx("thead",{children:S.jsx("tr",{children:Sp.map(v=>S.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:rh[v]},v))})}),S.jsx("tbody",{children:S.jsx("tr",{children:Sp.map(v=>S.jsx("td",{className:"px-4 py-2 text-center text-lg font-bold text-blue-700",children:n.averageRatings[v]},v))})})]})]}),S.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Comentrios Recentes"}),S.jsxs("div",{className:"space-y-4",children:[n.comments.length===0&&S.jsx("div",{className:"text-gray-500",children:"Nenhum comentrio disponvel."}),n.comments.slice(0,5).map(v=>S.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[S.jsx("p",{className:"text-sm text-gray-600 mb-1",children:v.date}),S.jsx("p",{className:"text-base text-gray-800",children:v.text})]},v.id))]})]})]})]})};function lB(){return S.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-200 via-green-100 to-green-200 flex items-center justify-center px-4",children:[S.jsxs("div",{className:"w-full max-w-md bg-white rounded-3xl shadow-2xl p-8 border-2 border-blue-200 flex flex-col items-center relative overflow-hidden",children:[S.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-gradient-to-br from-green-300 to-blue-200 rounded-full opacity-30 z-0"}),S.jsx("div",{className:"absolute -bottom-10 -left-10 w-32 h-32 bg-gradient-to-tr from-blue-300 to-green-200 rounded-full opacity-30 z-0"}),S.jsx("img",{src:Lh,alt:"Logo Jetel Mendes",className:"h-24 mb-4 drop-shadow-xl animate-bounce-slow z-10"}),S.jsxs("h1",{className:"text-3xl sm:text-4xl font-extrabold text-blue-800 mb-2 text-center drop-shadow z-10",children:["Bem-vindo ao ",S.jsx("span",{className:"text-green-700",children:"PA Jetel Mendes"})]}),S.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-blue-400 to-green-400 rounded-full mb-4 z-10"}),S.jsx("p",{className:"text-gray-600 text-center mb-8 text-base sm:text-lg z-10",children:"Escolha uma opo para continuar:"}),S.jsxs("div",{className:"flex flex-col gap-6 w-full z-10",children:[S.jsxs(Ll,{to:"/pesquisa",className:"bg-gradient-to-r from-green-400 to-blue-500 hover:from-green-500 hover:to-blue-600 text-white font-bold py-4 rounded-xl shadow-lg transition text-center text-lg transform hover:scale-105",children:[S.jsx("span",{role:"img","aria-label":"Usurio",className:"mr-2",children:""}),"Sou Usurio - Responder Pesquisa de Satisfao"]}),S.jsxs(Ll,{to:"/admin/login",className:"bg-gradient-to-r from-blue-700 to-gray-900 hover:from-blue-800 hover:to-gray-800 text-white font-bold py-4 rounded-xl shadow-lg transition text-center text-lg transform hover:scale-105",children:[S.jsx("span",{role:"img","aria-label":"Admin",className:"mr-2",children:""}),"Sou Administrador - Acessar Painel"]})]})]}),S.jsx("style",{children:`
          .animate-bounce-slow {
            animation: bounce 2.5s infinite;
          }
          @keyframes bounce {
            0%, 100% { transform: translateY(0);}
            50% { transform: translateY(-10px);}
          }
        `})]})}const cB=()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})})},uB=()=>window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0,hB=()=>{const[e,t]=P.useState(null),[n,i]=P.useState(!1);P.useEffect(()=>{if(uB())return;const r=a=>{a.preventDefault(),t(a),i(!0)};return window.addEventListener("beforeinstallprompt",r),()=>{window.removeEventListener("beforeinstallprompt",r)}},[]);const s=async()=>{if(!e)return;e.prompt();const{outcome:r}=await e.userChoice;console.log(r==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),t(null),i(!1)};return n?S.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:S.jsxs("div",{className:"bg-blue-600 text-white p-4 rounded-lg shadow-lg max-w-sm",children:[S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx("div",{className:"flex-shrink-0",children:S.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z"})})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h3",{className:"text-sm font-medium",children:"Instalar App"}),S.jsx("p",{className:"text-xs text-blue-100",children:"Adicione  tela inicial para acesso rpido"})]})]}),S.jsxs("div",{className:"mt-3 flex space-x-2",children:[S.jsx("button",{onClick:s,className:"bg-white text-blue-600 px-3 py-1 rounded text-sm font-medium hover:bg-blue-50 transition-colors",children:"Instalar"}),S.jsx("button",{onClick:()=>i(!1),className:"text-blue-100 px-3 py-1 rounded text-sm hover:text-white transition-colors",children:"Agora no"})]})]})}):null},fB=()=>{const[e,t]=P.useState(null),[n,i]=P.useState(!0);return P.useEffect(()=>{const s=y9(r=>{t(r),i(!1)});return()=>s()},[]),{user:e,loading:n}},Fm=({children:e})=>{const{user:t,loading:n}=fB();return n?S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100",children:S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-400 border-t-transparent mb-4"}),S.jsx("span",{className:"text-blue-600 font-medium",children:"Carregando..."})]})}):t?e:S.jsx(jg,{to:"/admin/login",replace:!0})};function dB(){return S.jsx(dk,{children:S.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 flex flex-col",children:[S.jsx("div",{className:"flex-1 flex flex-col",children:S.jsxs(HM,{children:[S.jsx(ai,{path:"/",element:S.jsx(lB,{})}),S.jsx(ai,{path:"/pesquisa",element:S.jsx(m9,{})}),S.jsx(ai,{path:"/admin/login",element:S.jsx(g9,{})}),S.jsx(ai,{path:"/admin/dashboard",element:S.jsx(Fm,{children:S.jsx(aB,{})})}),S.jsx(ai,{path:"/admin/relatorios",element:S.jsx(Fm,{children:S.jsx(px,{})})}),S.jsx(ai,{path:"/admin/reports",element:S.jsx(Fm,{children:S.jsx(px,{})})}),S.jsx(ai,{path:"/admin",element:S.jsx(jg,{to:"/admin/dashboard",replace:!0})}),S.jsx(ai,{path:"*",element:S.jsx(jg,{to:"/",replace:!0})})]})}),S.jsx(hB,{})]})})}cB();HO.createRoot(document.getElementById("root")).render(S.jsx(P.StrictMode,{children:S.jsx(dB,{})}));
