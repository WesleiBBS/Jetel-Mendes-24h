var GI=Object.defineProperty;var $I=(e,t,n)=>t in e?GI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ct=(e,t,n)=>$I(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function YI(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dx={exports:{}},gf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KI=Symbol.for("react.transitional.element"),QI=Symbol.for("react.fragment");function mx(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:KI,type:e,key:i,ref:t!==void 0?t:null,props:n}}gf.Fragment=QI;gf.jsx=mx;gf.jsxs=mx;dx.exports=gf;var w=dx.exports,gx={exports:{}},J={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp=Symbol.for("react.transitional.element"),WI=Symbol.for("react.portal"),XI=Symbol.for("react.fragment"),ZI=Symbol.for("react.strict_mode"),JI=Symbol.for("react.profiler"),tC=Symbol.for("react.consumer"),eC=Symbol.for("react.context"),nC=Symbol.for("react.forward_ref"),iC=Symbol.for("react.suspense"),sC=Symbol.for("react.memo"),px=Symbol.for("react.lazy"),V0=Symbol.iterator;function rC(e){return e===null||typeof e!="object"?null:(e=V0&&e[V0]||e["@@iterator"],typeof e=="function"?e:null)}var yx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_x=Object.assign,vx={};function Fa(e,t,n){this.props=e,this.context=t,this.refs=vx,this.updater=n||yx}Fa.prototype.isReactComponent={};Fa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bx(){}bx.prototype=Fa.prototype;function bp(e,t,n){this.props=e,this.context=t,this.refs=vx,this.updater=n||yx}var Ep=bp.prototype=new bx;Ep.constructor=bp;_x(Ep,Fa.prototype);Ep.isPureReactComponent=!0;var U0=Array.isArray,kt={H:null,A:null,T:null,S:null,V:null},Ex=Object.prototype.hasOwnProperty;function Tp(e,t,n,i,s,r){return n=r.ref,{$$typeof:vp,type:e,key:t,ref:n!==void 0?n:null,props:r}}function aC(e,t){return Tp(e.type,t,void 0,void 0,void 0,e.props)}function xp(e){return typeof e=="object"&&e!==null&&e.$$typeof===vp}function oC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var j0=/\/+/g;function Id(e,t){return typeof e=="object"&&e!==null&&e.key!=null?oC(""+e.key):t.toString(36)}function z0(){}function lC(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(z0,z0):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function jr(e,t,n,i,s){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(r){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case vp:case WI:a=!0;break;case px:return a=e._init,jr(a(e._payload),t,n,i,s)}}if(a)return s=s(e),a=i===""?"."+Id(e,0):i,U0(s)?(n="",a!=null&&(n=a.replace(j0,"$&/")+"/"),jr(s,t,n,"",function(c){return c})):s!=null&&(xp(s)&&(s=aC(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(j0,"$&/")+"/")+a)),t.push(s)),1;a=0;var o=i===""?".":i+":";if(U0(e))for(var l=0;l<e.length;l++)i=e[l],r=o+Id(i,l),a+=jr(i,t,n,r,s);else if(l=rC(e),typeof l=="function")for(e=l.call(e),l=0;!(i=e.next()).done;)i=i.value,r=o+Id(i,l++),a+=jr(i,t,n,r,s);else if(r==="object"){if(typeof e.then=="function")return jr(lC(e),t,n,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function Hc(e,t,n){if(e==null)return e;var i=[],s=0;return jr(e,i,"","",function(r){return t.call(n,r,s++)}),i}function cC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var B0=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function uC(){}J.Children={map:Hc,forEach:function(e,t,n){Hc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Hc(e,function(){t++}),t},toArray:function(e){return Hc(e,function(t){return t})||[]},only:function(e){if(!xp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=Fa;J.Fragment=XI;J.Profiler=JI;J.PureComponent=bp;J.StrictMode=ZI;J.Suspense=iC;J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=kt;J.__COMPILER_RUNTIME={__proto__:null,c:function(e){return kt.H.useMemoCache(e)}};J.cache=function(e){return function(){return e.apply(null,arguments)}};J.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=_x({},e.props),s=e.key,r=void 0;if(t!=null)for(a in t.ref!==void 0&&(r=void 0),t.key!==void 0&&(s=""+t.key),t)!Ex.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(i[a]=t[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}return Tp(e.type,s,void 0,void 0,r,i)};J.createContext=function(e){return e={$$typeof:eC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:tC,_context:e},e};J.createElement=function(e,t,n){var i,s={},r=null;if(t!=null)for(i in t.key!==void 0&&(r=""+t.key),t)Ex.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=t[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];s.children=o}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return Tp(e,r,void 0,void 0,null,s)};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:nC,render:e}};J.isValidElement=xp;J.lazy=function(e){return{$$typeof:px,_payload:{_status:-1,_result:e},_init:cC}};J.memo=function(e,t){return{$$typeof:sC,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=kt.T,n={};kt.T=n;try{var i=e(),s=kt.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(uC,B0)}catch(r){B0(r)}finally{kt.T=t}};J.unstable_useCacheRefresh=function(){return kt.H.useCacheRefresh()};J.use=function(e){return kt.H.use(e)};J.useActionState=function(e,t,n){return kt.H.useActionState(e,t,n)};J.useCallback=function(e,t){return kt.H.useCallback(e,t)};J.useContext=function(e){return kt.H.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e,t){return kt.H.useDeferredValue(e,t)};J.useEffect=function(e,t,n){var i=kt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};J.useId=function(){return kt.H.useId()};J.useImperativeHandle=function(e,t,n){return kt.H.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return kt.H.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return kt.H.useLayoutEffect(e,t)};J.useMemo=function(e,t){return kt.H.useMemo(e,t)};J.useOptimistic=function(e,t){return kt.H.useOptimistic(e,t)};J.useReducer=function(e,t,n){return kt.H.useReducer(e,t,n)};J.useRef=function(e){return kt.H.useRef(e)};J.useState=function(e){return kt.H.useState(e)};J.useSyncExternalStore=function(e,t,n){return kt.H.useSyncExternalStore(e,t,n)};J.useTransition=function(){return kt.H.useTransition()};J.version="19.1.0";gx.exports=J;var P=gx.exports;const Tx=YI(P);var xx={exports:{}},pf={},wx={exports:{}},Sx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,G){var Y=B.length;B.push(G);t:for(;0<Y;){var mt=Y-1>>>1,Et=B[mt];if(0<s(Et,G))B[mt]=G,B[Y]=Et,Y=mt;else break t}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var G=B[0],Y=B.pop();if(Y!==G){B[0]=Y;t:for(var mt=0,Et=B.length,yn=Et>>>1;mt<yn;){var $t=2*(mt+1)-1,Rt=B[$t],ce=$t+1,ye=B[ce];if(0>s(Rt,Y))ce<Et&&0>s(ye,Rt)?(B[mt]=ye,B[ce]=Y,mt=ce):(B[mt]=Rt,B[$t]=Y,mt=$t);else if(ce<Et&&0>s(ye,Y))B[mt]=ye,B[ce]=Y,mt=ce;else break t}}return G}function s(B,G){var Y=B.sortIndex-G.sortIndex;return Y!==0?Y:B.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],h=1,f=null,d=3,g=!1,E=!1,T=!1,R=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function C(B){for(var G=n(c);G!==null;){if(G.callback===null)i(c);else if(G.startTime<=B)i(c),G.sortIndex=G.expirationTime,t(l,G);else break;G=n(c)}}function M(B){if(T=!1,C(B),!E)if(n(l)!==null)E=!0,L||(L=!0,N());else{var G=n(c);G!==null&&at(M,G.startTime-B)}}var L=!1,b=-1,_=5,A=-1;function I(){return R?!0:!(e.unstable_now()-A<_)}function O(){if(R=!1,L){var B=e.unstable_now();A=B;var G=!0;try{t:{E=!1,T&&(T=!1,v(b),b=-1),g=!0;var Y=d;try{e:{for(C(B),f=n(l);f!==null&&!(f.expirationTime>B&&I());){var mt=f.callback;if(typeof mt=="function"){f.callback=null,d=f.priorityLevel;var Et=mt(f.expirationTime<=B);if(B=e.unstable_now(),typeof Et=="function"){f.callback=Et,C(B),G=!0;break e}f===n(l)&&i(l),C(B)}else i(l);f=n(l)}if(f!==null)G=!0;else{var yn=n(c);yn!==null&&at(M,yn.startTime-B),G=!1}}break t}finally{f=null,d=Y,g=!1}G=void 0}}finally{G?N():L=!1}}}var N;if(typeof x=="function")N=function(){x(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,bt=D.port2;D.port1.onmessage=O,N=function(){bt.postMessage(null)}}else N=function(){y(O,0)};function at(B,G){b=y(function(){B(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_next=function(B){switch(d){case 1:case 2:case 3:var G=3;break;default:G=d}var Y=d;d=G;try{return B()}finally{d=Y}},e.unstable_requestPaint=function(){R=!0},e.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Y=d;d=B;try{return G()}finally{d=Y}},e.unstable_scheduleCallback=function(B,G,Y){var mt=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?mt+Y:mt):Y=mt,B){case 1:var Et=-1;break;case 2:Et=250;break;case 5:Et=1073741823;break;case 4:Et=1e4;break;default:Et=5e3}return Et=Y+Et,B={id:h++,callback:G,priorityLevel:B,startTime:Y,expirationTime:Et,sortIndex:-1},Y>mt?(B.sortIndex=Y,t(c,B),n(l)===null&&B===n(c)&&(T?(v(b),b=-1):T=!0,at(M,Y-mt))):(B.sortIndex=Et,t(l,B),E||g||(E=!0,L||(L=!0,N()))),B},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(B){var G=d;return function(){var Y=d;d=G;try{return B.apply(this,arguments)}finally{d=Y}}}})(Sx);wx.exports=Sx;var hC=wx.exports,Ax={exports:{}},Oe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fC=P;function Rx(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ui(){}var De={d:{f:Ui,r:function(){throw Error(Rx(522))},D:Ui,C:Ui,L:Ui,m:Ui,X:Ui,S:Ui,M:Ui},p:0,findDOMNode:null},dC=Symbol.for("react.portal");function mC(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dC,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Ko=fC.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function yf(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Oe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=De;Oe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Rx(299));return mC(e,t,null,n)};Oe.flushSync=function(e){var t=Ko.T,n=De.p;try{if(Ko.T=null,De.p=2,e)return e()}finally{Ko.T=t,De.p=n,De.d.f()}};Oe.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,De.d.C(e,t))};Oe.prefetchDNS=function(e){typeof e=="string"&&De.d.D(e)};Oe.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=yf(n,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,r=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?De.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:r}):n==="script"&&De.d.X(e,{crossOrigin:i,integrity:s,fetchPriority:r,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Oe.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=yf(t.as,t.crossOrigin);De.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&De.d.M(e)};Oe.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=yf(n,t.crossOrigin);De.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Oe.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=yf(t.as,t.crossOrigin);De.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else De.d.m(e)};Oe.requestFormReset=function(e){De.d.r(e)};Oe.unstable_batchedUpdates=function(e,t){return e(t)};Oe.useFormState=function(e,t,n){return Ko.H.useFormState(e,t,n)};Oe.useFormStatus=function(){return Ko.H.useHostTransitionStatus()};Oe.version="19.1.0";function Ix(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ix)}catch(e){console.error(e)}}Ix(),Ax.exports=Oe;var gC=Ax.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ee=hC,Cx=P,pC=gC;function z(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Dx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ox(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function F0(e){if(Wl(e)!==e)throw Error(z(188))}function yC(e){var t=e.alternate;if(!t){if(t=Wl(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return F0(s),e;if(r===i)return F0(s),t;r=r.sibling}throw Error(z(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,i=r;break}if(o===i){a=!0,i=s,n=r;break}o=o.sibling}if(!a){for(o=r.child;o;){if(o===n){a=!0,n=r,i=s;break}if(o===i){a=!0,i=r,n=s;break}o=o.sibling}if(!a)throw Error(z(189))}}if(n.alternate!==i)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function Mx(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Mx(e),t!==null)return t;e=e.sibling}return null}var Mt=Object.assign,_C=Symbol.for("react.element"),qc=Symbol.for("react.transitional.element"),Lo=Symbol.for("react.portal"),Yr=Symbol.for("react.fragment"),Nx=Symbol.for("react.strict_mode"),jm=Symbol.for("react.profiler"),vC=Symbol.for("react.provider"),kx=Symbol.for("react.consumer"),ui=Symbol.for("react.context"),wp=Symbol.for("react.forward_ref"),zm=Symbol.for("react.suspense"),Bm=Symbol.for("react.suspense_list"),Sp=Symbol.for("react.memo"),Hi=Symbol.for("react.lazy"),Fm=Symbol.for("react.activity"),bC=Symbol.for("react.memo_cache_sentinel"),H0=Symbol.iterator;function To(e){return e===null||typeof e!="object"?null:(e=H0&&e[H0]||e["@@iterator"],typeof e=="function"?e:null)}var EC=Symbol.for("react.client.reference");function Hm(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===EC?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yr:return"Fragment";case jm:return"Profiler";case Nx:return"StrictMode";case zm:return"Suspense";case Bm:return"SuspenseList";case Fm:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Lo:return"Portal";case ui:return(e.displayName||"Context")+".Provider";case kx:return(e._context.displayName||"Context")+".Consumer";case wp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sp:return t=e.displayName||null,t!==null?t:Hm(e.type)||"Memo";case Hi:t=e._payload,e=e._init;try{return Hm(e(t))}catch{}}return null}var Vo=Array.isArray,W=Cx.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt=pC.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Js={pending:!1,data:null,method:null,action:null},qm=[],Kr=-1;function Qn(e){return{current:e}}function oe(e){0>Kr||(e.current=qm[Kr],qm[Kr]=null,Kr--)}function Pt(e,t){Kr++,qm[Kr]=e.current,e.current=t}var zn=Qn(null),bl=Qn(null),os=Qn(null),ih=Qn(null);function sh(e,t){switch(Pt(os,t),Pt(bl,e),Pt(zn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Kv(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Kv(t),e=XS(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}oe(zn),Pt(zn,e)}function Ta(){oe(zn),oe(bl),oe(os)}function Gm(e){e.memoizedState!==null&&Pt(ih,e);var t=zn.current,n=XS(t,e.type);t!==n&&(Pt(bl,e),Pt(zn,n))}function rh(e){bl.current===e&&(oe(zn),oe(bl)),ih.current===e&&(oe(ih),Dl._currentValue=Js)}var $m=Object.prototype.hasOwnProperty,Ap=ee.unstable_scheduleCallback,Cd=ee.unstable_cancelCallback,TC=ee.unstable_shouldYield,xC=ee.unstable_requestPaint,Bn=ee.unstable_now,wC=ee.unstable_getCurrentPriorityLevel,Px=ee.unstable_ImmediatePriority,Lx=ee.unstable_UserBlockingPriority,ah=ee.unstable_NormalPriority,SC=ee.unstable_LowPriority,Vx=ee.unstable_IdlePriority,AC=ee.log,RC=ee.unstable_setDisableYieldValue,Xl=null,Qe=null;function Ji(e){if(typeof AC=="function"&&RC(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Xl,e)}catch{}}var We=Math.clz32?Math.clz32:DC,IC=Math.log,CC=Math.LN2;function DC(e){return e>>>=0,e===0?32:31-(IC(e)/CC|0)|0}var Gc=256,$c=4194304;function Gs(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _f(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var s=0,r=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~r,i!==0?s=Gs(i):(a&=o,a!==0?s=Gs(a):n||(n=o&~e,n!==0&&(s=Gs(n))))):(o=i&~r,o!==0?s=Gs(o):a!==0?s=Gs(a):n||(n=i&~e,n!==0&&(s=Gs(n)))),s===0?0:t!==0&&t!==s&&!(t&r)&&(r=s&-s,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:s}function Zl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function OC(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ux(){var e=Gc;return Gc<<=1,!(Gc&4194048)&&(Gc=256),e}function jx(){var e=$c;return $c<<=1,!($c&62914560)&&($c=4194304),e}function Dd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Jl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function MC(e,t,n,i,s,r){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var h=31-We(n),f=1<<h;o[h]=0,l[h]=-1;var d=c[h];if(d!==null)for(c[h]=null,h=0;h<d.length;h++){var g=d[h];g!==null&&(g.lane&=-536870913)}n&=~f}i!==0&&zx(e,i,0),r!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=r&~(a&~t))}function zx(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-We(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function Bx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-We(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}function Rp(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ip(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Fx(){var e=dt.p;return e!==0?e:(e=window.event,e===void 0?32:o1(e.type))}function NC(e,t){var n=dt.p;try{return dt.p=e,t()}finally{dt.p=n}}var ks=Math.random().toString(36).slice(2),we="__reactFiber$"+ks,Be="__reactProps$"+ks,Ha="__reactContainer$"+ks,Ym="__reactEvents$"+ks,kC="__reactListeners$"+ks,PC="__reactHandles$"+ks,q0="__reactResources$"+ks,tc="__reactMarker$"+ks;function Cp(e){delete e[we],delete e[Be],delete e[Ym],delete e[kC],delete e[PC]}function Qr(e){var t=e[we];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ha]||n[we]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xv(e);e!==null;){if(n=e[we])return n;e=Xv(e)}return t}e=n,n=e.parentNode}return null}function qa(e){if(e=e[we]||e[Ha]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Uo(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(z(33))}function oa(e){var t=e[q0];return t||(t=e[q0]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function se(e){e[tc]=!0}var Hx=new Set,qx={};function vr(e,t){xa(e,t),xa(e+"Capture",t)}function xa(e,t){for(qx[e]=t,e=0;e<t.length;e++)Hx.add(t[e])}var LC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),G0={},$0={};function VC(e){return $m.call($0,e)?!0:$m.call(G0,e)?!1:LC.test(e)?$0[e]=!0:(G0[e]=!0,!1)}function Au(e,t,n){if(VC(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Yc(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ei(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var Od,Y0;function zr(e){if(Od===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Od=t&&t[1]||"",Y0=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Od+e+Y0}var Md=!1;function Nd(e,t){if(!e||Md)return"";Md=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(g){var d=g}Reflect.construct(e,[],f)}else{try{f.call()}catch(g){d=g}e.call(f.prototype)}}else{try{throw Error()}catch(g){d=g}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(g){if(g&&d&&typeof g.stack=="string")return[g.stack,d.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),a=r[0],o=r[1];if(a&&o){var l=a.split(`
`),c=o.split(`
`);for(s=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(i===l.length||s===c.length)for(i=l.length-1,s=c.length-1;1<=i&&0<=s&&l[i]!==c[s];)s--;for(;1<=i&&0<=s;i--,s--)if(l[i]!==c[s]){if(i!==1||s!==1)do if(i--,s--,0>s||l[i]!==c[s]){var h=`
`+l[i].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=i&&0<=s);break}}}finally{Md=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?zr(n):""}function UC(e){switch(e.tag){case 26:case 27:case 5:return zr(e.type);case 16:return zr("Lazy");case 13:return zr("Suspense");case 19:return zr("SuspenseList");case 0:case 15:return Nd(e.type,!1);case 11:return Nd(e.type.render,!1);case 1:return Nd(e.type,!0);case 31:return zr("Activity");default:return""}}function K0(e){try{var t="";do t+=UC(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jC(e){var t=Gx(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,r.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function oh(e){e._valueTracker||(e._valueTracker=jC(e))}function $x(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Gx(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function lh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var zC=/[\n"\\]/g;function on(e){return e.replace(zC,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Km(e,t,n,i,s,r,a,o){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+sn(t)):e.value!==""+sn(t)&&(e.value=""+sn(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?Qm(e,a,sn(t)):n!=null?Qm(e,a,sn(n)):i!=null&&e.removeAttribute("value"),s==null&&r!=null&&(e.defaultChecked=!!r),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+sn(o):e.removeAttribute("name")}function Yx(e,t,n,i,s,r,a,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null))return;n=n!=null?""+sn(n):"",t=t!=null?""+sn(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a)}function Qm(e,t,n){t==="number"&&lh(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function la(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+sn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Kx(e,t,n){if(t!=null&&(t=""+sn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+sn(n):""}function Qx(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(z(92));if(Vo(i)){if(1<i.length)throw Error(z(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=sn(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function wa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var BC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Q0(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||BC.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Wx(e,t,n){if(t!=null&&typeof t!="object")throw Error(z(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&n[s]!==i&&Q0(e,s,i)}else for(var r in t)t.hasOwnProperty(r)&&Q0(e,r,t[r])}function Dp(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),HC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ru(e){return HC.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Wm=null;function Op(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wr=null,ca=null;function W0(e){var t=qa(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;t:switch(e=t.stateNode,t.type){case"input":if(Km(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+on(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=i[Be]||null;if(!s)throw Error(z(90));Km(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&$x(i)}break t;case"textarea":Kx(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&la(e,!!n.multiple,t,!1)}}}var kd=!1;function Xx(e,t,n){if(kd)return e(t,n);kd=!0;try{var i=e(t);return i}finally{if(kd=!1,(Wr!==null||ca!==null)&&(If(),Wr&&(t=Wr,e=ca,ca=Wr=null,W0(t),e)))for(t=0;t<e.length;t++)W0(e[t])}}function El(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Be]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xm=!1;if(Ti)try{var xo={};Object.defineProperty(xo,"passive",{get:function(){Xm=!0}}),window.addEventListener("test",xo,xo),window.removeEventListener("test",xo,xo)}catch{Xm=!1}var ts=null,Mp=null,Iu=null;function Zx(){if(Iu)return Iu;var e,t=Mp,n=t.length,i,s="value"in ts?ts.value:ts.textContent,r=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===s[r-i];i++);return Iu=s.slice(e,1<i?1-i:void 0)}function Cu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kc(){return!0}function X0(){return!1}function Fe(e){function t(n,i,s,r,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Kc:X0,this.isPropagationStopped=X0,this}return Mt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kc)},persist:function(){},isPersistent:Kc}),t}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vf=Fe(br),ec=Mt({},br,{view:0,detail:0}),qC=Fe(ec),Pd,Ld,wo,bf=Mt({},ec,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Np,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wo&&(wo&&e.type==="mousemove"?(Pd=e.screenX-wo.screenX,Ld=e.screenY-wo.screenY):Ld=Pd=0,wo=e),Pd)},movementY:function(e){return"movementY"in e?e.movementY:Ld}}),Z0=Fe(bf),GC=Mt({},bf,{dataTransfer:0}),$C=Fe(GC),YC=Mt({},ec,{relatedTarget:0}),Vd=Fe(YC),KC=Mt({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),QC=Fe(KC),WC=Mt({},br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),XC=Fe(WC),ZC=Mt({},br,{data:0}),J0=Fe(ZC),JC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=eD[e])?!!t[e]:!1}function Np(){return nD}var iD=Mt({},ec,{key:function(e){if(e.key){var t=JC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Np,charCode:function(e){return e.type==="keypress"?Cu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sD=Fe(iD),rD=Mt({},bf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tv=Fe(rD),aD=Mt({},ec,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Np}),oD=Fe(aD),lD=Mt({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),cD=Fe(lD),uD=Mt({},bf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hD=Fe(uD),fD=Mt({},br,{newState:0,oldState:0}),dD=Fe(fD),mD=[9,13,27,32],kp=Ti&&"CompositionEvent"in window,Qo=null;Ti&&"documentMode"in document&&(Qo=document.documentMode);var gD=Ti&&"TextEvent"in window&&!Qo,Jx=Ti&&(!kp||Qo&&8<Qo&&11>=Qo),ev=" ",nv=!1;function tw(e,t){switch(e){case"keyup":return mD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ew(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xr=!1;function pD(e,t){switch(e){case"compositionend":return ew(t);case"keypress":return t.which!==32?null:(nv=!0,ev);case"textInput":return e=t.data,e===ev&&nv?null:e;default:return null}}function yD(e,t){if(Xr)return e==="compositionend"||!kp&&tw(e,t)?(e=Zx(),Iu=Mp=ts=null,Xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jx&&t.locale!=="ko"?null:t.data;default:return null}}var _D={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_D[e.type]:t==="textarea"}function nw(e,t,n,i){Wr?ca?ca.push(i):ca=[i]:Wr=i,t=Ah(t,"onChange"),0<t.length&&(n=new vf("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Wo=null,Tl=null;function vD(e){KS(e,0)}function Ef(e){var t=Uo(e);if($x(t))return e}function sv(e,t){if(e==="change")return t}var iw=!1;if(Ti){var Ud;if(Ti){var jd="oninput"in document;if(!jd){var rv=document.createElement("div");rv.setAttribute("oninput","return;"),jd=typeof rv.oninput=="function"}Ud=jd}else Ud=!1;iw=Ud&&(!document.documentMode||9<document.documentMode)}function av(){Wo&&(Wo.detachEvent("onpropertychange",sw),Tl=Wo=null)}function sw(e){if(e.propertyName==="value"&&Ef(Tl)){var t=[];nw(t,Tl,e,Op(e)),Xx(vD,t)}}function bD(e,t,n){e==="focusin"?(av(),Wo=t,Tl=n,Wo.attachEvent("onpropertychange",sw)):e==="focusout"&&av()}function ED(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ef(Tl)}function TD(e,t){if(e==="click")return Ef(t)}function xD(e,t){if(e==="input"||e==="change")return Ef(t)}function wD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tn=typeof Object.is=="function"?Object.is:wD;function xl(e,t){if(tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!$m.call(t,s)||!tn(e[s],t[s]))return!1}return!0}function ov(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lv(e,t){var n=ov(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=ov(n)}}function rw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function aw(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=lh(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=lh(e.document)}return t}function Pp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var SD=Ti&&"documentMode"in document&&11>=document.documentMode,Zr=null,Zm=null,Xo=null,Jm=!1;function cv(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jm||Zr==null||Zr!==lh(i)||(i=Zr,"selectionStart"in i&&Pp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Xo&&xl(Xo,i)||(Xo=i,i=Ah(Zm,"onSelect"),0<i.length&&(t=new vf("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Zr)))}function zs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Jr={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},zd={},ow={};Ti&&(ow=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function Er(e){if(zd[e])return zd[e];if(!Jr[e])return e;var t=Jr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ow)return zd[e]=t[n];return e}var lw=Er("animationend"),cw=Er("animationiteration"),uw=Er("animationstart"),AD=Er("transitionrun"),RD=Er("transitionstart"),ID=Er("transitioncancel"),hw=Er("transitionend"),fw=new Map,tg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tg.push("scrollEnd");function Dn(e,t){fw.set(e,t),vr(t,[e])}var uv=new WeakMap;function ln(e,t){if(typeof e=="object"&&e!==null){var n=uv.get(e);return n!==void 0?n:(t={value:e,source:t,stack:K0(t)},uv.set(e,t),t)}return{value:e,source:t,stack:K0(t)}}var nn=[],ta=0,Lp=0;function Tf(){for(var e=ta,t=Lp=ta=0;t<e;){var n=nn[t];nn[t++]=null;var i=nn[t];nn[t++]=null;var s=nn[t];nn[t++]=null;var r=nn[t];if(nn[t++]=null,i!==null&&s!==null){var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}r!==0&&dw(n,s,r)}}function xf(e,t,n,i){nn[ta++]=e,nn[ta++]=t,nn[ta++]=n,nn[ta++]=i,Lp|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Vp(e,t,n,i){return xf(e,t,n,i),ch(e)}function Ga(e,t){return xf(e,null,null,t),ch(e)}function dw(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var s=!1,r=e.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(s=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,s&&t!==null&&(s=31-We(n),e=r.hiddenUpdates,i=e[s],i===null?e[s]=[t]:i.push(t),t.lane=n|536870912),r):null}function ch(e){if(50<ol)throw ol=0,Eg=null,Error(z(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ea={};function CD(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,t,n,i){return new CD(e,t,n,i)}function Up(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yi(e,t){var n=e.alternate;return n===null?(n=Ke(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function mw(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Du(e,t,n,i,s,r){var a=0;if(i=e,typeof e=="function")Up(e)&&(a=1);else if(typeof e=="string")a=OO(e,n,zn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Fm:return e=Ke(31,n,t,s),e.elementType=Fm,e.lanes=r,e;case Yr:return tr(n.children,s,r,t);case Nx:a=8,s|=24;break;case jm:return e=Ke(12,n,t,s|2),e.elementType=jm,e.lanes=r,e;case zm:return e=Ke(13,n,t,s),e.elementType=zm,e.lanes=r,e;case Bm:return e=Ke(19,n,t,s),e.elementType=Bm,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vC:case ui:a=10;break t;case kx:a=9;break t;case wp:a=11;break t;case Sp:a=14;break t;case Hi:a=16,i=null;break t}a=29,n=Error(z(130,e===null?"null":typeof e,"")),i=null}return t=Ke(a,n,t,s),t.elementType=e,t.type=i,t.lanes=r,t}function tr(e,t,n,i){return e=Ke(7,e,i,t),e.lanes=n,e}function Bd(e,t,n){return e=Ke(6,e,null,t),e.lanes=n,e}function Fd(e,t,n){return t=Ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var na=[],ia=0,uh=null,hh=0,rn=[],an=0,er=null,hi=1,fi="";function $s(e,t){na[ia++]=hh,na[ia++]=uh,uh=e,hh=t}function gw(e,t,n){rn[an++]=hi,rn[an++]=fi,rn[an++]=er,er=e;var i=hi;e=fi;var s=32-We(i)-1;i&=~(1<<s),n+=1;var r=32-We(t)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,hi=1<<32-We(t)+s|n<<s|i,fi=r+e}else hi=1<<r|n<<s|i,fi=e}function jp(e){e.return!==null&&($s(e,1),gw(e,1,0))}function zp(e){for(;e===uh;)uh=na[--ia],na[ia]=null,hh=na[--ia],na[ia]=null;for(;e===er;)er=rn[--an],rn[an]=null,fi=rn[--an],rn[an]=null,hi=rn[--an],rn[an]=null}var Ce=null,zt=null,ft=!1,nr=null,Un=!1,eg=Error(z(519));function or(e){var t=Error(z(418,""));throw wl(ln(t,e)),eg}function hv(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[we]=e,t[Be]=i,n){case"dialog":nt("cancel",t),nt("close",t);break;case"iframe":case"object":case"embed":nt("load",t);break;case"video":case"audio":for(n=0;n<Rl.length;n++)nt(Rl[n],t);break;case"source":nt("error",t);break;case"img":case"image":case"link":nt("error",t),nt("load",t);break;case"details":nt("toggle",t);break;case"input":nt("invalid",t),Yx(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),oh(t);break;case"select":nt("invalid",t);break;case"textarea":nt("invalid",t),Qx(t,i.value,i.defaultValue,i.children),oh(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||WS(t.textContent,n)?(i.popover!=null&&(nt("beforetoggle",t),nt("toggle",t)),i.onScroll!=null&&nt("scroll",t),i.onScrollEnd!=null&&nt("scrollend",t),i.onClick!=null&&(t.onclick=Of),t=!0):t=!1,t||or(e)}function fv(e){for(Ce=e.return;Ce;)switch(Ce.tag){case 5:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ce=Ce.return}}function So(e){if(e!==Ce)return!1;if(!ft)return fv(e),ft=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Rg(e.type,e.memoizedProps)),n=!n),n&&zt&&or(e),fv(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){zt=wn(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}zt=null}}else t===27?(t=zt,Ps(e.type)?(e=Dg,Dg=null,zt=e):zt=t):zt=Ce?wn(e.stateNode.nextSibling):null;return!0}function nc(){zt=Ce=null,ft=!1}function dv(){var e=nr;return e!==null&&(Pe===null?Pe=e:Pe.push.apply(Pe,e),nr=null),e}function wl(e){nr===null?nr=[e]:nr.push(e)}var ng=Qn(null),Tr=null,di=null;function Gi(e,t,n){Pt(ng,t._currentValue),t._currentValue=n}function _i(e){e._currentValue=ng.current,oe(ng)}function ig(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function sg(e,t,n,i){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var r=s.dependencies;if(r!==null){var a=s.child;r=r.firstContext;t:for(;r!==null;){var o=r;r=s;for(var l=0;l<t.length;l++)if(o.context===t[l]){r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),ig(r.return,n,e),i||(a=null);break t}r=o.next}}else if(s.tag===18){if(a=s.return,a===null)throw Error(z(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),ig(a,n,e),a=null}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}}function ic(e,t,n,i){e=null;for(var s=t,r=!1;s!==null;){if(!r){if(s.flags&524288)r=!0;else if(s.flags&262144)break}if(s.tag===10){var a=s.alternate;if(a===null)throw Error(z(387));if(a=a.memoizedProps,a!==null){var o=s.type;tn(s.pendingProps.value,a.value)||(e!==null?e.push(o):e=[o])}}else if(s===ih.current){if(a=s.alternate,a===null)throw Error(z(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Dl):e=[Dl])}s=s.return}e!==null&&sg(t,e,n,i),t.flags|=262144}function fh(e){for(e=e.firstContext;e!==null;){if(!tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function lr(e){Tr=e,di=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Se(e){return pw(Tr,e)}function Qc(e,t){return Tr===null&&lr(e),pw(e,t)}function pw(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},di===null){if(e===null)throw Error(z(308));di=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else di=di.next=t;return n}var DD=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},OD=ee.unstable_scheduleCallback,MD=ee.unstable_NormalPriority,Zt={$$typeof:ui,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bp(){return{controller:new DD,data:new Map,refCount:0}}function sc(e){e.refCount--,e.refCount===0&&OD(MD,function(){e.controller.abort()})}var Zo=null,rg=0,Sa=0,ua=null;function ND(e,t){if(Zo===null){var n=Zo=[];rg=0,Sa=uy(),ua={status:"pending",value:void 0,then:function(i){n.push(i)}}}return rg++,t.then(mv,mv),t}function mv(){if(--rg===0&&Zo!==null){ua!==null&&(ua.status="fulfilled");var e=Zo;Zo=null,Sa=0,ua=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function kD(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var gv=W.S;W.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&ND(e,t),gv!==null&&gv(e,t)};var ir=Qn(null);function Fp(){var e=ir.current;return e!==null?e:It.pooledCache}function Ou(e,t){t===null?Pt(ir,ir.current):Pt(ir,t.pool)}function yw(){var e=Fp();return e===null?null:{parent:Zt._currentValue,pool:e}}var rc=Error(z(460)),_w=Error(z(474)),wf=Error(z(542)),ag={then:function(){}};function pv(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Wc(){}function vw(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Wc,Wc),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_v(e),e;default:if(typeof t.status=="string")t.then(Wc,Wc);else{if(e=It,e!==null&&100<e.shellSuspendCounter)throw Error(z(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=i}},function(i){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_v(e),e}throw Jo=t,rc}}var Jo=null;function yv(){if(Jo===null)throw Error(z(459));var e=Jo;return Jo=null,e}function _v(e){if(e===rc||e===wf)throw Error(z(483))}var qi=!1;function Hp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function og(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ls(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function cs(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,vt&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,t=ch(e),dw(e,null,n),t}return xf(e,i,t,n),ch(e)}function tl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Bx(e,n)}}function Hd(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?s=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?s=r=t:r=r.next=t}else s=r=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lg=!1;function el(){if(lg){var e=ua;if(e!==null)throw e}}function nl(e,t,n,i){lg=!1;var s=e.updateQueue;qi=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?r=c:a.next=c,a=l;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(r!==null){var f=s.baseState;a=0,h=c=l=null,o=r;do{var d=o.lane&-536870913,g=d!==o.lane;if(g?(lt&d)===d:(i&d)===d){d!==0&&d===Sa&&(lg=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var E=e,T=o;d=t;var R=n;switch(T.tag){case 1:if(E=T.payload,typeof E=="function"){f=E.call(R,f,d);break t}f=E;break t;case 3:E.flags=E.flags&-65537|128;case 0:if(E=T.payload,d=typeof E=="function"?E.call(R,f,d):E,d==null)break t;f=Mt({},f,d);break t;case 2:qi=!0}}d=o.callback,d!==null&&(e.flags|=64,g&&(e.flags|=8192),g=s.callbacks,g===null?s.callbacks=[d]:g.push(d))}else g={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=g,l=f):h=h.next=g,a|=d;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;g=o,o=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,r===null&&(s.shared.lanes=0),Ss|=a,e.lanes=a,e.memoizedState=f}}function bw(e,t){if(typeof e!="function")throw Error(z(191,e));e.call(t)}function Ew(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)bw(n[e],t)}var Aa=Qn(null),dh=Qn(0);function vv(e,t){e=Si,Pt(dh,e),Pt(Aa,t),Si=e|t.baseLanes}function cg(){Pt(dh,Si),Pt(Aa,Aa.current)}function qp(){Si=dh.current,oe(Aa),oe(dh)}var xs=0,et=null,xt=null,Kt=null,mh=!1,ha=!1,cr=!1,gh=0,Sl=0,fa=null,PD=0;function Ft(){throw Error(z(321))}function Gp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tn(e[n],t[n]))return!1;return!0}function $p(e,t,n,i,s,r){return xs=r,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,W.H=e===null||e.memoizedState===null?Zw:Jw,cr=!1,r=n(i,s),cr=!1,ha&&(r=xw(t,n,i,s)),Tw(e),r}function Tw(e){W.H=ph;var t=xt!==null&&xt.next!==null;if(xs=0,Kt=xt=et=null,mh=!1,Sl=0,fa=null,t)throw Error(z(300));e===null||ae||(e=e.dependencies,e!==null&&fh(e)&&(ae=!0))}function xw(e,t,n,i){et=e;var s=0;do{if(ha&&(fa=null),Sl=0,ha=!1,25<=s)throw Error(z(301));if(s+=1,Kt=xt=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}W.H=FD,r=t(n,i)}while(ha);return r}function LD(){var e=W.H,t=e.useState()[0];return t=typeof t.then=="function"?ac(t):t,e=e.useState()[0],(xt!==null?xt.memoizedState:null)!==e&&(et.flags|=1024),t}function Yp(){var e=gh!==0;return gh=0,e}function Kp(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Qp(e){if(mh){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}mh=!1}xs=0,Kt=xt=et=null,ha=!1,Sl=gh=0,fa=null}function Ne(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?et.memoizedState=Kt=e:Kt=Kt.next=e,Kt}function Wt(){if(xt===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=Kt===null?et.memoizedState:Kt.next;if(t!==null)Kt=t,xt=e;else{if(e===null)throw et.alternate===null?Error(z(467)):Error(z(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Kt===null?et.memoizedState=Kt=e:Kt=Kt.next=e}return Kt}function Wp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ac(e){var t=Sl;return Sl+=1,fa===null&&(fa=[]),e=vw(fa,e,t),t=et,(Kt===null?t.memoizedState:Kt.next)===null&&(t=t.alternate,W.H=t===null||t.memoizedState===null?Zw:Jw),e}function Sf(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ac(e);if(e.$$typeof===ui)return Se(e)}throw Error(z(438,String(e)))}function Xp(e){var t=null,n=et.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=et.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Wp(),et.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=bC;return t.index++,n}function xi(e,t){return typeof t=="function"?t(e):t}function Mu(e){var t=Wt();return Zp(t,xt,e)}function Zp(e,t,n){var i=e.queue;if(i===null)throw Error(z(311));i.lastRenderedReducer=n;var s=e.baseQueue,r=i.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}t.baseQueue=s=r,i.pending=null}if(r=e.baseState,s===null)e.memoizedState=r;else{t=s.next;var o=a=null,l=null,c=t,h=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(lt&f)===f:(xs&f)===f){var d=c.revertLane;if(d===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===Sa&&(h=!0);else if((xs&d)===d){c=c.next,d===Sa&&(h=!0);continue}else f={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=f,a=r):l=l.next=f,et.lanes|=d,Ss|=d;f=c.action,cr&&n(r,f),r=c.hasEagerState?c.eagerState:n(r,f)}else d={lane:f,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=d,a=r):l=l.next=d,et.lanes|=f,Ss|=f;c=c.next}while(c!==null&&c!==t);if(l===null?a=r:l.next=o,!tn(r,e.memoizedState)&&(ae=!0,h&&(n=ua,n!==null)))throw n;e.memoizedState=r,e.baseState=a,e.baseQueue=l,i.lastRenderedState=r}return s===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function qd(e){var t=Wt(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,r=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do r=e(r,a.action),a=a.next;while(a!==s);tn(r,t.memoizedState)||(ae=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function ww(e,t,n){var i=et,s=Wt(),r=ft;if(r){if(n===void 0)throw Error(z(407));n=n()}else n=t();var a=!tn((xt||s).memoizedState,n);a&&(s.memoizedState=n,ae=!0),s=s.queue;var o=Rw.bind(null,i,s,e);if(oc(2048,8,o,[e]),s.getSnapshot!==t||a||Kt!==null&&Kt.memoizedState.tag&1){if(i.flags|=2048,Ra(9,Af(),Aw.bind(null,i,s,n,t),null),It===null)throw Error(z(349));r||xs&124||Sw(i,t,n)}return n}function Sw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=et.updateQueue,t===null?(t=Wp(),et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Aw(e,t,n,i){t.value=n,t.getSnapshot=i,Iw(t)&&Cw(e)}function Rw(e,t,n){return n(function(){Iw(t)&&Cw(e)})}function Iw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tn(e,n)}catch{return!0}}function Cw(e){var t=Ga(e,2);t!==null&&Ze(t,e,2)}function ug(e){var t=Ne();if(typeof e=="function"){var n=e;if(e=n(),cr){Ji(!0);try{n()}finally{Ji(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},t}function Dw(e,t,n,i){return e.baseState=n,Zp(e,xt,typeof i=="function"?i:xi)}function VD(e,t,n,i,s){if(Rf(e))throw Error(z(485));if(e=t.action,e!==null){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};W.T!==null?n(!0):r.isTransition=!1,i(r),n=t.pending,n===null?(r.next=t.pending=r,Ow(t,r)):(r.next=n.next,t.pending=n.next=r)}}function Ow(e,t){var n=t.action,i=t.payload,s=e.state;if(t.isTransition){var r=W.T,a={};W.T=a;try{var o=n(s,i),l=W.S;l!==null&&l(a,o),bv(e,t,o)}catch(c){hg(e,t,c)}finally{W.T=r}}else try{r=n(s,i),bv(e,t,r)}catch(c){hg(e,t,c)}}function bv(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Ev(e,t,i)},function(i){return hg(e,t,i)}):Ev(e,t,n)}function Ev(e,t,n){t.status="fulfilled",t.value=n,Mw(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Ow(e,n)))}function hg(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Mw(t),t=t.next;while(t!==i)}e.action=null}function Mw(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Nw(e,t){return t}function Tv(e,t){if(ft){var n=It.formState;if(n!==null){t:{var i=et;if(ft){if(zt){e:{for(var s=zt,r=Un;s.nodeType!==8;){if(!r){s=null;break e}if(s=wn(s.nextSibling),s===null){s=null;break e}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){zt=wn(s.nextSibling),i=s.data==="F!";break t}}or(i)}i=!1}i&&(t=n[0])}}return n=Ne(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nw,lastRenderedState:t},n.queue=i,n=Qw.bind(null,et,i),i.dispatch=n,i=ug(!1),r=ny.bind(null,et,!1,i.queue),i=Ne(),s={state:t,dispatch:null,action:e,pending:null},i.queue=s,n=VD.bind(null,et,s,r,n),s.dispatch=n,i.memoizedState=e,[t,n,!1]}function xv(e){var t=Wt();return kw(t,xt,e)}function kw(e,t,n){if(t=Zp(e,t,Nw)[0],e=Mu(xi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=ac(t)}catch(a){throw a===rc?wf:a}else i=t;t=Wt();var s=t.queue,r=s.dispatch;return n!==t.memoizedState&&(et.flags|=2048,Ra(9,Af(),UD.bind(null,s,n),null)),[i,r,e]}function UD(e,t){e.action=t}function wv(e){var t=Wt(),n=xt;if(n!==null)return kw(t,n,e);Wt(),t=t.memoizedState,n=Wt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Ra(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=et.updateQueue,t===null&&(t=Wp(),et.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Af(){return{destroy:void 0,resource:void 0}}function Pw(){return Wt().memoizedState}function Nu(e,t,n,i){var s=Ne();i=i===void 0?null:i,et.flags|=e,s.memoizedState=Ra(1|t,Af(),n,i)}function oc(e,t,n,i){var s=Wt();i=i===void 0?null:i;var r=s.memoizedState.inst;xt!==null&&i!==null&&Gp(i,xt.memoizedState.deps)?s.memoizedState=Ra(t,r,n,i):(et.flags|=e,s.memoizedState=Ra(1|t,r,n,i))}function Sv(e,t){Nu(8390656,8,e,t)}function Lw(e,t){oc(2048,8,e,t)}function Vw(e,t){return oc(4,2,e,t)}function Uw(e,t){return oc(4,4,e,t)}function jw(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zw(e,t,n){n=n!=null?n.concat([e]):null,oc(4,4,jw.bind(null,t,e),n)}function Jp(){}function Bw(e,t){var n=Wt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Gp(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Fw(e,t){var n=Wt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Gp(t,i[1]))return i[0];if(i=e(),cr){Ji(!0);try{e()}finally{Ji(!1)}}return n.memoizedState=[i,t],i}function ty(e,t,n){return n===void 0||xs&1073741824?e.memoizedState=t:(e.memoizedState=n,e=MS(),et.lanes|=e,Ss|=e,n)}function Hw(e,t,n,i){return tn(n,t)?n:Aa.current!==null?(e=ty(e,n,i),tn(e,t)||(ae=!0),e):xs&42?(e=MS(),et.lanes|=e,Ss|=e,t):(ae=!0,e.memoizedState=n)}function qw(e,t,n,i,s){var r=dt.p;dt.p=r!==0&&8>r?r:8;var a=W.T,o={};W.T=o,ny(e,!1,t,n);try{var l=s(),c=W.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=kD(l,i);il(e,t,h,Xe(e))}else il(e,t,i,Xe(e))}catch(f){il(e,t,{then:function(){},status:"rejected",reason:f},Xe())}finally{dt.p=r,W.T=a}}function jD(){}function fg(e,t,n,i){if(e.tag!==5)throw Error(z(476));var s=Gw(e).queue;qw(e,s,t,Js,n===null?jD:function(){return $w(e),n(i)})}function Gw(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Js,baseState:Js,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:Js},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function $w(e){var t=Gw(e).next.queue;il(e,t,{},Xe())}function ey(){return Se(Dl)}function Yw(){return Wt().memoizedState}function Kw(){return Wt().memoizedState}function zD(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Xe();e=ls(n);var i=cs(t,e,n);i!==null&&(Ze(i,t,n),tl(i,t,n)),t={cache:Bp()},e.payload=t;return}t=t.return}}function BD(e,t,n){var i=Xe();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Rf(e)?Ww(t,n):(n=Vp(e,t,n,i),n!==null&&(Ze(n,e,i),Xw(n,t,i)))}function Qw(e,t,n){var i=Xe();il(e,t,n,i)}function il(e,t,n,i){var s={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rf(e))Ww(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var a=t.lastRenderedState,o=r(a,n);if(s.hasEagerState=!0,s.eagerState=o,tn(o,a))return xf(e,t,s,0),It===null&&Tf(),!1}catch{}finally{}if(n=Vp(e,t,s,i),n!==null)return Ze(n,e,i),Xw(n,t,i),!0}return!1}function ny(e,t,n,i){if(i={lane:2,revertLane:uy(),action:i,hasEagerState:!1,eagerState:null,next:null},Rf(e)){if(t)throw Error(z(479))}else t=Vp(e,n,i,2),t!==null&&Ze(t,e,2)}function Rf(e){var t=e.alternate;return e===et||t!==null&&t===et}function Ww(e,t){ha=mh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xw(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Bx(e,n)}}var ph={readContext:Se,use:Sf,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft},Zw={readContext:Se,use:Sf,useCallback:function(e,t){return Ne().memoizedState=[e,t===void 0?null:t],e},useContext:Se,useEffect:Sv,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Nu(4194308,4,jw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Nu(4194308,4,e,t)},useInsertionEffect:function(e,t){Nu(4,2,e,t)},useMemo:function(e,t){var n=Ne();t=t===void 0?null:t;var i=e();if(cr){Ji(!0);try{e()}finally{Ji(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Ne();if(n!==void 0){var s=n(t);if(cr){Ji(!0);try{n(t)}finally{Ji(!1)}}}else s=t;return i.memoizedState=i.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},i.queue=e,e=e.dispatch=BD.bind(null,et,e),[i.memoizedState,e]},useRef:function(e){var t=Ne();return e={current:e},t.memoizedState=e},useState:function(e){e=ug(e);var t=e.queue,n=Qw.bind(null,et,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Jp,useDeferredValue:function(e,t){var n=Ne();return ty(n,e,t)},useTransition:function(){var e=ug(!1);return e=qw.bind(null,et,e.queue,!0,!1),Ne().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=et,s=Ne();if(ft){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),It===null)throw Error(z(349));lt&124||Sw(i,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,Sv(Rw.bind(null,i,r,e),[e]),i.flags|=2048,Ra(9,Af(),Aw.bind(null,i,r,n,t),null),n},useId:function(){var e=Ne(),t=It.identifierPrefix;if(ft){var n=fi,i=hi;n=(i&~(1<<32-We(i)-1)).toString(32)+n,t=""+t+"R"+n,n=gh++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=PD++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:ey,useFormState:Tv,useActionState:Tv,useOptimistic:function(e){var t=Ne();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ny.bind(null,et,!0,n),n.dispatch=t,[e,t]},useMemoCache:Xp,useCacheRefresh:function(){return Ne().memoizedState=zD.bind(null,et)}},Jw={readContext:Se,use:Sf,useCallback:Bw,useContext:Se,useEffect:Lw,useImperativeHandle:zw,useInsertionEffect:Vw,useLayoutEffect:Uw,useMemo:Fw,useReducer:Mu,useRef:Pw,useState:function(){return Mu(xi)},useDebugValue:Jp,useDeferredValue:function(e,t){var n=Wt();return Hw(n,xt.memoizedState,e,t)},useTransition:function(){var e=Mu(xi)[0],t=Wt().memoizedState;return[typeof e=="boolean"?e:ac(e),t]},useSyncExternalStore:ww,useId:Yw,useHostTransitionStatus:ey,useFormState:xv,useActionState:xv,useOptimistic:function(e,t){var n=Wt();return Dw(n,xt,e,t)},useMemoCache:Xp,useCacheRefresh:Kw},FD={readContext:Se,use:Sf,useCallback:Bw,useContext:Se,useEffect:Lw,useImperativeHandle:zw,useInsertionEffect:Vw,useLayoutEffect:Uw,useMemo:Fw,useReducer:qd,useRef:Pw,useState:function(){return qd(xi)},useDebugValue:Jp,useDeferredValue:function(e,t){var n=Wt();return xt===null?ty(n,e,t):Hw(n,xt.memoizedState,e,t)},useTransition:function(){var e=qd(xi)[0],t=Wt().memoizedState;return[typeof e=="boolean"?e:ac(e),t]},useSyncExternalStore:ww,useId:Yw,useHostTransitionStatus:ey,useFormState:wv,useActionState:wv,useOptimistic:function(e,t){var n=Wt();return xt!==null?Dw(n,xt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Xp,useCacheRefresh:Kw},da=null,Al=0;function Xc(e){var t=Al;return Al+=1,da===null&&(da=[]),vw(da,e,t)}function Ao(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Zc(e,t){throw t.$$typeof===_C?Error(z(525)):(e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Av(e){var t=e._init;return t(e._payload)}function tS(e){function t(y,v){if(e){var x=y.deletions;x===null?(y.deletions=[v],y.flags|=16):x.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function i(y){for(var v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(y,v){return y=yi(y,v),y.index=0,y.sibling=null,y}function r(y,v,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<v?(y.flags|=67108866,v):x):(y.flags|=67108866,v)):(y.flags|=1048576,v)}function a(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function o(y,v,x,C){return v===null||v.tag!==6?(v=Bd(x,y.mode,C),v.return=y,v):(v=s(v,x),v.return=y,v)}function l(y,v,x,C){var M=x.type;return M===Yr?h(y,v,x.props.children,C,x.key):v!==null&&(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Hi&&Av(M)===v.type)?(v=s(v,x.props),Ao(v,x),v.return=y,v):(v=Du(x.type,x.key,x.props,null,y.mode,C),Ao(v,x),v.return=y,v)}function c(y,v,x,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Fd(x,y.mode,C),v.return=y,v):(v=s(v,x.children||[]),v.return=y,v)}function h(y,v,x,C,M){return v===null||v.tag!==7?(v=tr(x,y.mode,C,M),v.return=y,v):(v=s(v,x),v.return=y,v)}function f(y,v,x){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Bd(""+v,y.mode,x),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case qc:return x=Du(v.type,v.key,v.props,null,y.mode,x),Ao(x,v),x.return=y,x;case Lo:return v=Fd(v,y.mode,x),v.return=y,v;case Hi:var C=v._init;return v=C(v._payload),f(y,v,x)}if(Vo(v)||To(v))return v=tr(v,y.mode,x,null),v.return=y,v;if(typeof v.then=="function")return f(y,Xc(v),x);if(v.$$typeof===ui)return f(y,Qc(y,v),x);Zc(y,v)}return null}function d(y,v,x,C){var M=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return M!==null?null:o(y,v,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case qc:return x.key===M?l(y,v,x,C):null;case Lo:return x.key===M?c(y,v,x,C):null;case Hi:return M=x._init,x=M(x._payload),d(y,v,x,C)}if(Vo(x)||To(x))return M!==null?null:h(y,v,x,C,null);if(typeof x.then=="function")return d(y,v,Xc(x),C);if(x.$$typeof===ui)return d(y,v,Qc(y,x),C);Zc(y,x)}return null}function g(y,v,x,C,M){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return y=y.get(x)||null,o(v,y,""+C,M);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case qc:return y=y.get(C.key===null?x:C.key)||null,l(v,y,C,M);case Lo:return y=y.get(C.key===null?x:C.key)||null,c(v,y,C,M);case Hi:var L=C._init;return C=L(C._payload),g(y,v,x,C,M)}if(Vo(C)||To(C))return y=y.get(x)||null,h(v,y,C,M,null);if(typeof C.then=="function")return g(y,v,x,Xc(C),M);if(C.$$typeof===ui)return g(y,v,x,Qc(v,C),M);Zc(v,C)}return null}function E(y,v,x,C){for(var M=null,L=null,b=v,_=v=0,A=null;b!==null&&_<x.length;_++){b.index>_?(A=b,b=null):A=b.sibling;var I=d(y,b,x[_],C);if(I===null){b===null&&(b=A);break}e&&b&&I.alternate===null&&t(y,b),v=r(I,v,_),L===null?M=I:L.sibling=I,L=I,b=A}if(_===x.length)return n(y,b),ft&&$s(y,_),M;if(b===null){for(;_<x.length;_++)b=f(y,x[_],C),b!==null&&(v=r(b,v,_),L===null?M=b:L.sibling=b,L=b);return ft&&$s(y,_),M}for(b=i(b);_<x.length;_++)A=g(b,y,_,x[_],C),A!==null&&(e&&A.alternate!==null&&b.delete(A.key===null?_:A.key),v=r(A,v,_),L===null?M=A:L.sibling=A,L=A);return e&&b.forEach(function(O){return t(y,O)}),ft&&$s(y,_),M}function T(y,v,x,C){if(x==null)throw Error(z(151));for(var M=null,L=null,b=v,_=v=0,A=null,I=x.next();b!==null&&!I.done;_++,I=x.next()){b.index>_?(A=b,b=null):A=b.sibling;var O=d(y,b,I.value,C);if(O===null){b===null&&(b=A);break}e&&b&&O.alternate===null&&t(y,b),v=r(O,v,_),L===null?M=O:L.sibling=O,L=O,b=A}if(I.done)return n(y,b),ft&&$s(y,_),M;if(b===null){for(;!I.done;_++,I=x.next())I=f(y,I.value,C),I!==null&&(v=r(I,v,_),L===null?M=I:L.sibling=I,L=I);return ft&&$s(y,_),M}for(b=i(b);!I.done;_++,I=x.next())I=g(b,y,_,I.value,C),I!==null&&(e&&I.alternate!==null&&b.delete(I.key===null?_:I.key),v=r(I,v,_),L===null?M=I:L.sibling=I,L=I);return e&&b.forEach(function(N){return t(y,N)}),ft&&$s(y,_),M}function R(y,v,x,C){if(typeof x=="object"&&x!==null&&x.type===Yr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case qc:t:{for(var M=x.key;v!==null;){if(v.key===M){if(M=x.type,M===Yr){if(v.tag===7){n(y,v.sibling),C=s(v,x.props.children),C.return=y,y=C;break t}}else if(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Hi&&Av(M)===v.type){n(y,v.sibling),C=s(v,x.props),Ao(C,x),C.return=y,y=C;break t}n(y,v);break}else t(y,v);v=v.sibling}x.type===Yr?(C=tr(x.props.children,y.mode,C,x.key),C.return=y,y=C):(C=Du(x.type,x.key,x.props,null,y.mode,C),Ao(C,x),C.return=y,y=C)}return a(y);case Lo:t:{for(M=x.key;v!==null;){if(v.key===M)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(y,v.sibling),C=s(v,x.children||[]),C.return=y,y=C;break t}else{n(y,v);break}else t(y,v);v=v.sibling}C=Fd(x,y.mode,C),C.return=y,y=C}return a(y);case Hi:return M=x._init,x=M(x._payload),R(y,v,x,C)}if(Vo(x))return E(y,v,x,C);if(To(x)){if(M=To(x),typeof M!="function")throw Error(z(150));return x=M.call(x),T(y,v,x,C)}if(typeof x.then=="function")return R(y,v,Xc(x),C);if(x.$$typeof===ui)return R(y,v,Qc(y,x),C);Zc(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,v!==null&&v.tag===6?(n(y,v.sibling),C=s(v,x),C.return=y,y=C):(n(y,v),C=Bd(x,y.mode,C),C.return=y,y=C),a(y)):n(y,v)}return function(y,v,x,C){try{Al=0;var M=R(y,v,x,C);return da=null,M}catch(b){if(b===rc||b===wf)throw b;var L=Ke(29,b,null,y.mode);return L.lanes=C,L.return=y,L}finally{}}}var Ia=tS(!0),eS=tS(!1),mn=Qn(null),Fn=null;function $i(e){var t=e.alternate;Pt(Jt,Jt.current&1),Pt(mn,e),Fn===null&&(t===null||Aa.current!==null||t.memoizedState!==null)&&(Fn=e)}function nS(e){if(e.tag===22){if(Pt(Jt,Jt.current),Pt(mn,e),Fn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Fn=e)}}else Yi()}function Yi(){Pt(Jt,Jt.current),Pt(mn,mn.current)}function mi(e){oe(mn),Fn===e&&(Fn=null),oe(Jt)}var Jt=Qn(0);function yh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Cg(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Gd(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Mt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var dg={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Xe(),s=ls(i);s.payload=t,n!=null&&(s.callback=n),t=cs(e,s,i),t!==null&&(Ze(t,e,i),tl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Xe(),s=ls(i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=cs(e,s,i),t!==null&&(Ze(t,e,i),tl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xe(),i=ls(n);i.tag=2,t!=null&&(i.callback=t),t=cs(e,i,n),t!==null&&(Ze(t,e,n),tl(t,e,n))}};function Rv(e,t,n,i,s,r,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,a):t.prototype&&t.prototype.isPureReactComponent?!xl(n,i)||!xl(s,r):!0}function Iv(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&dg.enqueueReplaceState(t,t.state,null)}function ur(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Mt({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}var _h=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function iS(e){_h(e)}function sS(e){console.error(e)}function rS(e){_h(e)}function vh(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Cv(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function mg(e,t,n){return n=ls(n),n.tag=3,n.payload={element:null},n.callback=function(){vh(e,t)},n}function aS(e){return e=ls(e),e.tag=3,e}function oS(e,t,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=i.value;e.payload=function(){return s(r)},e.callback=function(){Cv(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){Cv(t,n,i),typeof s!="function"&&(us===null?us=new Set([this]):us.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function HD(e,t,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&ic(t,n,s,!0),n=mn.current,n!==null){switch(n.tag){case 13:return Fn===null?Tg():n.alternate===null&&Bt===0&&(Bt=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===ag?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),nm(e,i,s)),!1;case 22:return n.flags|=65536,i===ag?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),nm(e,i,s)),!1}throw Error(z(435,n.tag))}return nm(e,i,s),Tg(),!1}if(ft)return t=mn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==eg&&(e=Error(z(422),{cause:i}),wl(ln(e,n)))):(i!==eg&&(t=Error(z(423),{cause:i}),wl(ln(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,i=ln(i,n),s=mg(e.stateNode,i,s),Hd(e,s),Bt!==4&&(Bt=2)),!1;var r=Error(z(520),{cause:i});if(r=ln(r,n),al===null?al=[r]:al.push(r),Bt!==4&&(Bt=2),t===null)return!0;i=ln(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=mg(n.stateNode,i,e),Hd(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(us===null||!us.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,s=aS(s),oS(s,e,n,i),Hd(n,s),!1}n=n.return}while(n!==null);return!1}var lS=Error(z(461)),ae=!1;function he(e,t,n,i){t.child=e===null?eS(t,null,n,i):Ia(t,e.child,n,i)}function Dv(e,t,n,i,s){n=n.render;var r=t.ref;if("ref"in i){var a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}else a=i;return lr(t),i=$p(e,t,n,a,r,s),o=Yp(),e!==null&&!ae?(Kp(e,t,s),wi(e,t,s)):(ft&&o&&jp(t),t.flags|=1,he(e,t,i,s),t.child)}function Ov(e,t,n,i,s){if(e===null){var r=n.type;return typeof r=="function"&&!Up(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,cS(e,t,r,i,s)):(e=Du(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!iy(e,s)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:xl,n(a,i)&&e.ref===t.ref)return wi(e,t,s)}return t.flags|=1,e=yi(r,i),e.ref=t.ref,e.return=t,t.child=e}function cS(e,t,n,i,s){if(e!==null){var r=e.memoizedProps;if(xl(r,i)&&e.ref===t.ref)if(ae=!1,t.pendingProps=i=r,iy(e,s))e.flags&131072&&(ae=!0);else return t.lanes=e.lanes,wi(e,t,s)}return gg(e,t,n,i,s)}function uS(e,t,n){var i=t.pendingProps,s=i.children,r=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=r!==null?r.baseLanes|n:n,e!==null){for(s=t.child=e.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;t.childLanes=r&~i}else t.childLanes=0,t.child=null;return Mv(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(t,r!==null?r.cachePool:null),r!==null?vv(t,r):cg(),nS(t);else return t.lanes=t.childLanes=536870912,Mv(e,t,r!==null?r.baseLanes|n:n,n)}else r!==null?(Ou(t,r.cachePool),vv(t,r),Yi(),t.memoizedState=null):(e!==null&&Ou(t,null),cg(),Yi());return he(e,t,s,n),t.child}function Mv(e,t,n,i){var s=Fp();return s=s===null?null:{parent:Zt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Ou(t,null),cg(),nS(t),e!==null&&ic(e,t,i,!0),null}function ku(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(z(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function gg(e,t,n,i,s){return lr(t),n=$p(e,t,n,i,void 0,s),i=Yp(),e!==null&&!ae?(Kp(e,t,s),wi(e,t,s)):(ft&&i&&jp(t),t.flags|=1,he(e,t,n,s),t.child)}function Nv(e,t,n,i,s,r){return lr(t),t.updateQueue=null,n=xw(t,i,n,s),Tw(e),i=Yp(),e!==null&&!ae?(Kp(e,t,r),wi(e,t,r)):(ft&&i&&jp(t),t.flags|=1,he(e,t,n,r),t.child)}function kv(e,t,n,i,s){if(lr(t),t.stateNode===null){var r=ea,a=n.contextType;typeof a=="object"&&a!==null&&(r=Se(a)),r=new n(i,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=dg,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=i,r.state=t.memoizedState,r.refs={},Hp(t),a=n.contextType,r.context=typeof a=="object"&&a!==null?Se(a):ea,r.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Gd(t,n,a,i),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&dg.enqueueReplaceState(r,r.state,null),nl(t,i,r,s),el(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){r=t.stateNode;var o=t.memoizedProps,l=ur(n,o);r.props=l;var c=r.context,h=n.contextType;a=ea,typeof h=="object"&&h!==null&&(a=Se(h));var f=n.getDerivedStateFromProps;h=typeof f=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,h||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||c!==a)&&Iv(t,r,i,a),qi=!1;var d=t.memoizedState;r.state=d,nl(t,i,r,s),el(),c=t.memoizedState,o||d!==c||qi?(typeof f=="function"&&(Gd(t,n,f,i),c=t.memoizedState),(l=qi||Rv(t,n,l,i,d,c,a))?(h||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),r.props=i,r.state=c,r.context=a,i=l):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,og(e,t),a=t.memoizedProps,h=ur(n,a),r.props=h,f=t.pendingProps,d=r.context,c=n.contextType,l=ea,typeof c=="object"&&c!==null&&(l=Se(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==f||d!==l)&&Iv(t,r,i,l),qi=!1,d=t.memoizedState,r.state=d,nl(t,i,r,s),el();var g=t.memoizedState;a!==f||d!==g||qi||e!==null&&e.dependencies!==null&&fh(e.dependencies)?(typeof o=="function"&&(Gd(t,n,o,i),g=t.memoizedState),(h=qi||Rv(t,n,h,i,d,g,l)||e!==null&&e.dependencies!==null&&fh(e.dependencies))?(c||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,g,l),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,g,l)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),r.props=i,r.state=g,r.context=l,i=h):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,ku(e,t),i=(t.flags&128)!==0,r||i?(r=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&i?(t.child=Ia(t,e.child,null,s),t.child=Ia(t,null,n,s)):he(e,t,n,s),t.memoizedState=r.state,e=t.child):e=wi(e,t,s),e}function Pv(e,t,n,i){return nc(),t.flags|=256,he(e,t,n,i),t.child}var $d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yd(e){return{baseLanes:e,cachePool:yw()}}function Kd(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=hn),e}function hS(e,t,n){var i=t.pendingProps,s=!1,r=(t.flags&128)!==0,a;if((a=r)||(a=e!==null&&e.memoizedState===null?!1:(Jt.current&2)!==0),a&&(s=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(ft){if(s?$i(t):Yi(),ft){var o=zt,l;if(l=o){t:{for(l=o,o=Un;l.nodeType!==8;){if(!o){o=null;break t}if(l=wn(l.nextSibling),l===null){o=null;break t}}o=l}o!==null?(t.memoizedState={dehydrated:o,treeContext:er!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},l=Ke(18,null,null,0),l.stateNode=o,l.return=t,t.child=l,Ce=t,zt=null,l=!0):l=!1}l||or(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return Cg(o)?t.lanes=32:t.lanes=536870912,null;mi(t)}return o=i.children,i=i.fallback,s?(Yi(),s=t.mode,o=bh({mode:"hidden",children:o},s),i=tr(i,s,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,s=t.child,s.memoizedState=Yd(n),s.childLanes=Kd(e,a,n),t.memoizedState=$d,i):($i(t),pg(t,o))}if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(r)t.flags&256?($i(t),t.flags&=-257,t=Qd(e,t,n)):t.memoizedState!==null?(Yi(),t.child=e.child,t.flags|=128,t=null):(Yi(),s=i.fallback,o=t.mode,i=bh({mode:"visible",children:i.children},o),s=tr(s,o,n,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,Ia(t,e.child,null,n),i=t.child,i.memoizedState=Yd(n),i.childLanes=Kd(e,a,n),t.memoizedState=$d,t=s);else if($i(t),Cg(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(z(419)),i.stack="",i.digest=a,wl({value:i,source:null,stack:null}),t=Qd(e,t,n)}else if(ae||ic(e,t,n,!1),a=(n&e.childLanes)!==0,ae||a){if(a=It,a!==null&&(i=n&-n,i=i&42?1:Rp(i),i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==l.retryLane))throw l.retryLane=i,Ga(e,i),Ze(a,e,i),lS;o.data==="$?"||Tg(),t=Qd(e,t,n)}else o.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,zt=wn(o.nextSibling),Ce=t,ft=!0,nr=null,Un=!1,e!==null&&(rn[an++]=hi,rn[an++]=fi,rn[an++]=er,hi=e.id,fi=e.overflow,er=t),t=pg(t,i.children),t.flags|=4096);return t}return s?(Yi(),s=i.fallback,o=t.mode,l=e.child,c=l.sibling,i=yi(l,{mode:"hidden",children:i.children}),i.subtreeFlags=l.subtreeFlags&65011712,c!==null?s=yi(c,s):(s=tr(s,o,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,o=e.child.memoizedState,o===null?o=Yd(n):(l=o.cachePool,l!==null?(c=Zt._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=yw(),o={baseLanes:o.baseLanes|n,cachePool:l}),s.memoizedState=o,s.childLanes=Kd(e,a,n),t.memoizedState=$d,i):($i(t),n=e.child,e=n.sibling,n=yi(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function pg(e,t){return t=bh({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function bh(e,t){return e=Ke(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Qd(e,t,n){return Ia(t,e.child,null,n),e=pg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lv(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),ig(e.return,t,n)}function Wd(e,t,n,i,s){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function fS(e,t,n){var i=t.pendingProps,s=i.revealOrder,r=i.tail;if(he(e,t,i.children,n),i=Jt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lv(e,n,t);else if(e.tag===19)Lv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(Pt(Jt,i),s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&yh(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Wd(t,!1,s,n,r);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&yh(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Wd(t,!0,n,null,r);break;case"together":Wd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ss|=t.lanes,!(n&t.childLanes))if(e!==null){if(ic(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=yi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function iy(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&fh(e)))}function qD(e,t,n){switch(t.tag){case 3:sh(t,t.stateNode.containerInfo),Gi(t,Zt,e.memoizedState.cache),nc();break;case 27:case 5:Gm(t);break;case 4:sh(t,t.stateNode.containerInfo);break;case 10:Gi(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?($i(t),t.flags|=128,null):n&t.child.childLanes?hS(e,t,n):($i(t),e=wi(e,t,n),e!==null?e.sibling:null);$i(t);break;case 19:var s=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(ic(e,t,n,!1),i=(n&t.childLanes)!==0),s){if(i)return fS(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Pt(Jt,Jt.current),i)break;return null;case 22:case 23:return t.lanes=0,uS(e,t,n);case 24:Gi(t,Zt,e.memoizedState.cache)}return wi(e,t,n)}function dS(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ae=!0;else{if(!iy(e,n)&&!(t.flags&128))return ae=!1,qD(e,t,n);ae=!!(e.flags&131072)}else ae=!1,ft&&t.flags&1048576&&gw(t,hh,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,s=i._init;if(i=s(i._payload),t.type=i,typeof i=="function")Up(i)?(e=ur(i,e),t.tag=1,t=kv(null,t,i,e,n)):(t.tag=0,t=gg(null,t,i,e,n));else{if(i!=null){if(s=i.$$typeof,s===wp){t.tag=11,t=Dv(null,t,i,e,n);break t}else if(s===Sp){t.tag=14,t=Ov(null,t,i,e,n);break t}}throw t=Hm(i)||i,Error(z(306,t,""))}}return t;case 0:return gg(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,s=ur(i,t.pendingProps),kv(e,t,i,s,n);case 3:t:{if(sh(t,t.stateNode.containerInfo),e===null)throw Error(z(387));i=t.pendingProps;var r=t.memoizedState;s=r.element,og(e,t),nl(t,i,null,n);var a=t.memoizedState;if(i=a.cache,Gi(t,Zt,i),i!==r.cache&&sg(t,[Zt],n,!0),el(),i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=Pv(e,t,i,n);break t}else if(i!==s){s=ln(Error(z(424)),t),wl(s),t=Pv(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(zt=wn(e.firstChild),Ce=t,ft=!0,nr=null,Un=!0,n=eS(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(nc(),i===s){t=wi(e,t,n);break t}he(e,t,i,n)}t=t.child}return t;case 26:return ku(e,t),e===null?(n=Jv(t.type,null,t.pendingProps,null))?t.memoizedState=n:ft||(n=t.type,e=t.pendingProps,i=Rh(os.current).createElement(n),i[we]=t,i[Be]=e,ge(i,n,e),se(i),t.stateNode=i):t.memoizedState=Jv(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Gm(t),e===null&&ft&&(i=t.stateNode=JS(t.type,t.pendingProps,os.current),Ce=t,Un=!0,s=zt,Ps(t.type)?(Dg=s,zt=wn(i.firstChild)):zt=s),he(e,t,t.pendingProps.children,n),ku(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ft&&((s=i=zt)&&(i=_O(i,t.type,t.pendingProps,Un),i!==null?(t.stateNode=i,Ce=t,zt=wn(i.firstChild),Un=!1,s=!0):s=!1),s||or(t)),Gm(t),s=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,i=r.children,Rg(s,r)?i=null:a!==null&&Rg(s,a)&&(t.flags|=32),t.memoizedState!==null&&(s=$p(e,t,LD,null,null,n),Dl._currentValue=s),ku(e,t),he(e,t,i,n),t.child;case 6:return e===null&&ft&&((e=n=zt)&&(n=vO(n,t.pendingProps,Un),n!==null?(t.stateNode=n,Ce=t,zt=null,e=!0):e=!1),e||or(t)),null;case 13:return hS(e,t,n);case 4:return sh(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ia(t,null,i,n):he(e,t,i,n),t.child;case 11:return Dv(e,t,t.type,t.pendingProps,n);case 7:return he(e,t,t.pendingProps,n),t.child;case 8:return he(e,t,t.pendingProps.children,n),t.child;case 12:return he(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Gi(t,t.type,i.value),he(e,t,i.children,n),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,lr(t),s=Se(s),i=i(s),t.flags|=1,he(e,t,i,n),t.child;case 14:return Ov(e,t,t.type,t.pendingProps,n);case 15:return cS(e,t,t.type,t.pendingProps,n);case 19:return fS(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=bh(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=yi(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return uS(e,t,n);case 24:return lr(t),i=Se(Zt),e===null?(s=Fp(),s===null&&(s=It,r=Bp(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=n),s=r),t.memoizedState={parent:i,cache:s},Hp(t),Gi(t,Zt,s)):(e.lanes&n&&(og(e,t),nl(t,null,null,n),el()),s=e.memoizedState,r=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Gi(t,Zt,i)):(i=r.cache,Gi(t,Zt,i),i!==s.cache&&sg(t,[Zt],n,!0))),he(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(z(156,t.tag))}function ni(e){e.flags|=4}function Vv(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!n1(t)){if(t=mn.current,t!==null&&((lt&4194048)===lt?Fn!==null:(lt&62914560)!==lt&&!(lt&536870912)||t!==Fn))throw Jo=ag,_w;e.flags|=8192}}function Jc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?jx():536870912,e.lanes|=t,Ca|=t)}function Ro(e,t){if(!ft)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function GD(e,t,n){var i=t.pendingProps;switch(zp(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(t),null;case 1:return Vt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),_i(Zt),Ta(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(So(t)?ni(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dv())),Vt(t),null;case 26:return n=t.memoizedState,e===null?(ni(t),n!==null?(Vt(t),Vv(t,n)):(Vt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(ni(t),Vt(t),Vv(t,n)):(Vt(t),t.flags&=-16777217):(e.memoizedProps!==i&&ni(t),Vt(t),t.flags&=-16777217),null;case 27:rh(t),n=os.current;var s=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ni(t);else{if(!i){if(t.stateNode===null)throw Error(z(166));return Vt(t),null}e=zn.current,So(t)?hv(t):(e=JS(s,i,n),t.stateNode=e,ni(t))}return Vt(t),null;case 5:if(rh(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ni(t);else{if(!i){if(t.stateNode===null)throw Error(z(166));return Vt(t),null}if(e=zn.current,So(t))hv(t);else{switch(s=Rh(os.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?s.createElement(n,{is:i.is}):s.createElement(n)}}e[we]=t,e[Be]=i;t:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break t;for(;s.sibling===null;){if(s.return===null||s.return===t)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;t:switch(ge(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ni(t)}}return Vt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&ni(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(z(166));if(e=os.current,So(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,s=Ce,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}e[we]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||WS(e.nodeValue,n)),e||or(t)}else e=Rh(e).createTextNode(i),e[we]=t,t.stateNode=e}return Vt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=So(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(z(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[we]=t}else nc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vt(t),s=!1}else s=dv(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(mi(t),t):(mi(t),null)}if(mi(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool);var r=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Jc(t,t.updateQueue),Vt(t),null;case 4:return Ta(),e===null&&hy(t.stateNode.containerInfo),Vt(t),null;case 10:return _i(t.type),Vt(t),null;case 19:if(oe(Jt),s=t.memoizedState,s===null)return Vt(t),null;if(i=(t.flags&128)!==0,r=s.rendering,r===null)if(i)Ro(s,!1);else{if(Bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=yh(e),r!==null){for(t.flags|=128,Ro(s,!1),e=r.updateQueue,t.updateQueue=e,Jc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)mw(n,e),n=n.sibling;return Pt(Jt,Jt.current&1|2),t.child}e=e.sibling}s.tail!==null&&Bn()>Th&&(t.flags|=128,i=!0,Ro(s,!1),t.lanes=4194304)}else{if(!i)if(e=yh(r),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Jc(t,e),Ro(s,!0),s.tail===null&&s.tailMode==="hidden"&&!r.alternate&&!ft)return Vt(t),null}else 2*Bn()-s.renderingStartTime>Th&&n!==536870912&&(t.flags|=128,i=!0,Ro(s,!1),t.lanes=4194304);s.isBackwards?(r.sibling=t.child,t.child=r):(e=s.last,e!==null?e.sibling=r:t.child=r,s.last=r)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Bn(),t.sibling=null,e=Jt.current,Pt(Jt,i?e&1|2:e&1),t):(Vt(t),null);case 22:case 23:return mi(t),qp(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Vt(t),t.subtreeFlags&6&&(t.flags|=8192)):Vt(t),n=t.updateQueue,n!==null&&Jc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&oe(ir),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_i(Zt),Vt(t),null;case 25:return null;case 30:return null}throw Error(z(156,t.tag))}function $D(e,t){switch(zp(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _i(Zt),Ta(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return rh(t),null;case 13:if(mi(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));nc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(Jt),null;case 4:return Ta(),null;case 10:return _i(t.type),null;case 22:case 23:return mi(t),qp(),e!==null&&oe(ir),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return _i(Zt),null;case 25:return null;default:return null}}function mS(e,t){switch(zp(t),t.tag){case 3:_i(Zt),Ta();break;case 26:case 27:case 5:rh(t);break;case 4:Ta();break;case 13:mi(t);break;case 19:oe(Jt);break;case 10:_i(t.type);break;case 22:case 23:mi(t),qp(),e!==null&&oe(ir);break;case 24:_i(Zt)}}function lc(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&e)===e){i=void 0;var r=n.create,a=n.inst;i=r(),a.destroy=i}n=n.next}while(n!==s)}}catch(o){St(t,t.return,o)}}function ws(e,t,n){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&e)===e){var a=i.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,s=t;var l=n,c=o;try{c()}catch(h){St(s,l,h)}}}i=i.next}while(i!==r)}}catch(h){St(t,t.return,h)}}function gS(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ew(t,n)}catch(i){St(e,e.return,i)}}}function pS(e,t,n){n.props=ur(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){St(e,t,i)}}function sl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(s){St(e,t,s)}}function jn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){St(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){St(e,t,s)}else n.current=null}function yS(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){St(e,e.return,s)}}function Xd(e,t,n){try{var i=e.stateNode;dO(i,e.type,n,t),i[Be]=t}catch(s){St(e,e.return,s)}}function _S(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ps(e.type)||e.tag===4}function Zd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||_S(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ps(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yg(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Of));else if(i!==4&&(i===27&&Ps(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(yg(e,t,n),e=e.sibling;e!==null;)yg(e,t,n),e=e.sibling}function Eh(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Ps(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Eh(e,t,n),e=e.sibling;e!==null;)Eh(e,t,n),e=e.sibling}function vS(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ge(t,i,n),t[we]=e,t[Be]=n}catch(r){St(e,e.return,r)}}var ci=!1,Ht=!1,Jd=!1,Uv=typeof WeakSet=="function"?WeakSet:Set,ie=null;function YD(e,t){if(e=e.containerInfo,Sg=Oh,e=aw(e),Pp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break t}var a=0,o=-1,l=-1,c=0,h=0,f=e,d=null;e:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(o=a+s),f!==r||i!==0&&f.nodeType!==3||(l=a+i),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)d=f,f=g;for(;;){if(f===e)break e;if(d===n&&++c===s&&(o=a),d===r&&++h===i&&(l=a),(g=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=g}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ag={focusedElem:e,selectionRange:n},Oh=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){switch(t=ie,r=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,n=t,s=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var E=ur(n.type,s,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(E,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(T){St(n,n.return,T)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Ig(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ig(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(z(163))}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}}function bS(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ji(e,n),i&4&&lc(5,n);break;case 1:if(ji(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){St(n,n.return,a)}else{var s=ur(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){St(n,n.return,a)}}i&64&&gS(n),i&512&&sl(n,n.return);break;case 3:if(ji(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ew(e,t)}catch(a){St(n,n.return,a)}}break;case 27:t===null&&i&4&&vS(n);case 26:case 5:ji(e,n),t===null&&i&4&&yS(n),i&512&&sl(n,n.return);break;case 12:ji(e,n);break;case 13:ji(e,n),i&4&&xS(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=nO.bind(null,n),bO(e,n))));break;case 22:if(i=n.memoizedState!==null||ci,!i){t=t!==null&&t.memoizedState!==null||Ht,s=ci;var r=Ht;ci=i,(Ht=t)&&!r?Fi(e,n,(n.subtreeFlags&8772)!==0):ji(e,n),ci=s,Ht=r}break;case 30:break;default:ji(e,n)}}function ES(e){var t=e.alternate;t!==null&&(e.alternate=null,ES(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Cp(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Nt=null,ke=!1;function ii(e,t,n){for(n=n.child;n!==null;)TS(e,t,n),n=n.sibling}function TS(e,t,n){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Xl,n)}catch{}switch(n.tag){case 26:Ht||jn(n,t),ii(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ht||jn(n,t);var i=Nt,s=ke;Ps(n.type)&&(Nt=n.stateNode,ke=!1),ii(e,t,n),ll(n.stateNode),Nt=i,ke=s;break;case 5:Ht||jn(n,t);case 6:if(i=Nt,s=ke,Nt=null,ii(e,t,n),Nt=i,ke=s,Nt!==null)if(ke)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(n.stateNode)}catch(r){St(n,t,r)}else try{Nt.removeChild(n.stateNode)}catch(r){St(n,t,r)}break;case 18:Nt!==null&&(ke?(e=Nt,Wv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Nl(e)):Wv(Nt,n.stateNode));break;case 4:i=Nt,s=ke,Nt=n.stateNode.containerInfo,ke=!0,ii(e,t,n),Nt=i,ke=s;break;case 0:case 11:case 14:case 15:Ht||ws(2,n,t),Ht||ws(4,n,t),ii(e,t,n);break;case 1:Ht||(jn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&pS(n,t,i)),ii(e,t,n);break;case 21:ii(e,t,n);break;case 22:Ht=(i=Ht)||n.memoizedState!==null,ii(e,t,n),Ht=i;break;default:ii(e,t,n)}}function xS(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Nl(e)}catch(n){St(t,t.return,n)}}function KD(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Uv),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Uv),t;default:throw Error(z(435,e.tag))}}function tm(e,t){var n=KD(e);t.forEach(function(i){var s=iO.bind(null,e,i);n.has(i)||(n.add(i),i.then(s,s))})}function qe(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],r=e,a=t,o=a;t:for(;o!==null;){switch(o.tag){case 27:if(Ps(o.type)){Nt=o.stateNode,ke=!1;break t}break;case 5:Nt=o.stateNode,ke=!1;break t;case 3:case 4:Nt=o.stateNode.containerInfo,ke=!0;break t}o=o.return}if(Nt===null)throw Error(z(160));TS(r,a,s),Nt=null,ke=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)wS(t,e),t=t.sibling}var vn=null;function wS(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qe(t,e),Ge(e),i&4&&(ws(3,e,e.return),lc(3,e),ws(5,e,e.return));break;case 1:qe(t,e),Ge(e),i&512&&(Ht||n===null||jn(n,n.return)),i&64&&ci&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=vn;if(qe(t,e),Ge(e),i&512&&(Ht||n===null||jn(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,s=s.ownerDocument||s;e:switch(i){case"title":r=s.getElementsByTagName("title")[0],(!r||r[tc]||r[we]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),ge(r,i,n),r[we]=e,se(r),i=r;break t;case"link":var a=eb("link","href",s).get(i+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(r=a[o],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break e}}r=s.createElement(i),ge(r,i,n),s.head.appendChild(r);break;case"meta":if(a=eb("meta","content",s).get(i+(n.content||""))){for(o=0;o<a.length;o++)if(r=a[o],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break e}}r=s.createElement(i),ge(r,i,n),s.head.appendChild(r);break;default:throw Error(z(468,i))}r[we]=e,se(r),i=r}e.stateNode=i}else nb(s,e.type,e.stateNode);else e.stateNode=tb(s,i,e.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?nb(s,e.type,e.stateNode):tb(s,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Xd(e,e.memoizedProps,n.memoizedProps)}break;case 27:qe(t,e),Ge(e),i&512&&(Ht||n===null||jn(n,n.return)),n!==null&&i&4&&Xd(e,e.memoizedProps,n.memoizedProps);break;case 5:if(qe(t,e),Ge(e),i&512&&(Ht||n===null||jn(n,n.return)),e.flags&32){s=e.stateNode;try{wa(s,"")}catch(g){St(e,e.return,g)}}i&4&&e.stateNode!=null&&(s=e.memoizedProps,Xd(e,s,n!==null?n.memoizedProps:s)),i&1024&&(Jd=!0);break;case 6:if(qe(t,e),Ge(e),i&4){if(e.stateNode===null)throw Error(z(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(g){St(e,e.return,g)}}break;case 3:if(Vu=null,s=vn,vn=Ih(t.containerInfo),qe(t,e),vn=s,Ge(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Nl(t.containerInfo)}catch(g){St(e,e.return,g)}Jd&&(Jd=!1,SS(e));break;case 4:i=vn,vn=Ih(e.stateNode.containerInfo),qe(t,e),Ge(e),vn=i;break;case 12:qe(t,e),Ge(e);break;case 13:qe(t,e),Ge(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ly=Bn()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,tm(e,i)));break;case 22:s=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=ci,h=Ht;if(ci=c||s,Ht=h||l,qe(t,e),Ht=h,ci=c,Ge(e),i&8192)t:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||l||ci||Ht||Ys(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(r=l.stateNode,s)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=l.stateNode;var f=l.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(g){St(l,l.return,g)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=s?"":l.memoizedProps}catch(g){St(l,l.return,g)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,tm(e,n))));break;case 19:qe(t,e),Ge(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,tm(e,i)));break;case 30:break;case 21:break;default:qe(t,e),Ge(e)}}function Ge(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(_S(i)){n=i;break}i=i.return}if(n==null)throw Error(z(160));switch(n.tag){case 27:var s=n.stateNode,r=Zd(e);Eh(e,r,s);break;case 5:var a=n.stateNode;n.flags&32&&(wa(a,""),n.flags&=-33);var o=Zd(e);Eh(e,o,a);break;case 3:case 4:var l=n.stateNode.containerInfo,c=Zd(e);yg(e,c,l);break;default:throw Error(z(161))}}catch(h){St(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function SS(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;SS(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ji(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)bS(e,t.alternate,t),t=t.sibling}function Ys(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ws(4,t,t.return),Ys(t);break;case 1:jn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&pS(t,t.return,n),Ys(t);break;case 27:ll(t.stateNode);case 26:case 5:jn(t,t.return),Ys(t);break;case 22:t.memoizedState===null&&Ys(t);break;case 30:Ys(t);break;default:Ys(t)}e=e.sibling}}function Fi(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,s=e,r=t,a=r.flags;switch(r.tag){case 0:case 11:case 15:Fi(s,r,n),lc(4,r);break;case 1:if(Fi(s,r,n),i=r,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(c){St(i,i.return,c)}if(i=r,s=i.updateQueue,s!==null){var o=i.stateNode;try{var l=s.shared.hiddenCallbacks;if(l!==null)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)bw(l[s],o)}catch(c){St(i,i.return,c)}}n&&a&64&&gS(r),sl(r,r.return);break;case 27:vS(r);case 26:case 5:Fi(s,r,n),n&&i===null&&a&4&&yS(r),sl(r,r.return);break;case 12:Fi(s,r,n);break;case 13:Fi(s,r,n),n&&a&4&&xS(s,r);break;case 22:r.memoizedState===null&&Fi(s,r,n),sl(r,r.return);break;case 30:break;default:Fi(s,r,n)}t=t.sibling}}function sy(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&sc(n))}function ry(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&sc(e))}function Nn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)AS(e,t,n,i),t=t.sibling}function AS(e,t,n,i){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Nn(e,t,n,i),s&2048&&lc(9,t);break;case 1:Nn(e,t,n,i);break;case 3:Nn(e,t,n,i),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&sc(e)));break;case 12:if(s&2048){Nn(e,t,n,i),e=t.stateNode;try{var r=t.memoizedProps,a=r.id,o=r.onPostCommit;typeof o=="function"&&o(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){St(t,t.return,l)}}else Nn(e,t,n,i);break;case 13:Nn(e,t,n,i);break;case 23:break;case 22:r=t.stateNode,a=t.alternate,t.memoizedState!==null?r._visibility&2?Nn(e,t,n,i):rl(e,t):r._visibility&2?Nn(e,t,n,i):(r._visibility|=2,Br(e,t,n,i,(t.subtreeFlags&10256)!==0)),s&2048&&sy(a,t);break;case 24:Nn(e,t,n,i),s&2048&&ry(t.alternate,t);break;default:Nn(e,t,n,i)}}function Br(e,t,n,i,s){for(s=s&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var r=e,a=t,o=n,l=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:Br(r,a,o,l,s),lc(8,a);break;case 23:break;case 22:var h=a.stateNode;a.memoizedState!==null?h._visibility&2?Br(r,a,o,l,s):rl(r,a):(h._visibility|=2,Br(r,a,o,l,s)),s&&c&2048&&sy(a.alternate,a);break;case 24:Br(r,a,o,l,s),s&&c&2048&&ry(a.alternate,a);break;default:Br(r,a,o,l,s)}t=t.sibling}}function rl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,s=i.flags;switch(i.tag){case 22:rl(n,i),s&2048&&sy(i.alternate,i);break;case 24:rl(n,i),s&2048&&ry(i.alternate,i);break;default:rl(n,i)}t=t.sibling}}var jo=8192;function Lr(e){if(e.subtreeFlags&jo)for(e=e.child;e!==null;)RS(e),e=e.sibling}function RS(e){switch(e.tag){case 26:Lr(e),e.flags&jo&&e.memoizedState!==null&&NO(vn,e.memoizedState,e.memoizedProps);break;case 5:Lr(e);break;case 3:case 4:var t=vn;vn=Ih(e.stateNode.containerInfo),Lr(e),vn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=jo,jo=16777216,Lr(e),jo=t):Lr(e));break;default:Lr(e)}}function IS(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Io(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ie=i,DS(i,e)}IS(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)CS(e),e=e.sibling}function CS(e){switch(e.tag){case 0:case 11:case 15:Io(e),e.flags&2048&&ws(9,e,e.return);break;case 3:Io(e);break;case 12:Io(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Pu(e)):Io(e);break;default:Io(e)}}function Pu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ie=i,DS(i,e)}IS(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ws(8,t,t.return),Pu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Pu(t));break;default:Pu(t)}e=e.sibling}}function DS(e,t){for(;ie!==null;){var n=ie;switch(n.tag){case 0:case 11:case 15:ws(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:sc(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ie=i;else t:for(n=e;ie!==null;){i=ie;var s=i.sibling,r=i.return;if(ES(i),i===n){ie=null;break t}if(s!==null){s.return=r,ie=s;break t}ie=r}}}var QD={getCacheForType:function(e){var t=Se(Zt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},WD=typeof WeakMap=="function"?WeakMap:Map,vt=0,It=null,it=null,lt=0,pt=0,Ye=null,es=!1,$a=!1,ay=!1,Si=0,Bt=0,Ss=0,sr=0,oy=0,hn=0,Ca=0,al=null,Pe=null,_g=!1,ly=0,Th=1/0,xh=null,us=null,de=0,hs=null,Da=null,ma=0,vg=0,bg=null,OS=null,ol=0,Eg=null;function Xe(){if(vt&2&&lt!==0)return lt&-lt;if(W.T!==null){var e=Sa;return e!==0?e:uy()}return Fx()}function MS(){hn===0&&(hn=!(lt&536870912)||ft?Ux():536870912);var e=mn.current;return e!==null&&(e.flags|=32),hn}function Ze(e,t,n){(e===It&&(pt===2||pt===9)||e.cancelPendingCommit!==null)&&(Oa(e,0),ns(e,lt,hn,!1)),Jl(e,n),(!(vt&2)||e!==It)&&(e===It&&(!(vt&2)&&(sr|=n),Bt===4&&ns(e,lt,hn,!1)),Wn(e))}function NS(e,t,n){if(vt&6)throw Error(z(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Zl(e,t),s=i?JD(e,t):em(e,t,!0),r=i;do{if(s===0){$a&&!i&&ns(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!XD(n)){s=em(e,t,!1),r=!1;continue}if(s===2){if(r=t,e.errorRecoveryDisabledLanes&r)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var o=e;s=al;var l=o.current.memoizedState.isDehydrated;if(l&&(Oa(o,a).flags|=256),a=em(o,a,!1),a!==2){if(ay&&!l){o.errorRecoveryDisabledLanes|=r,sr|=r,s=4;break t}r=Pe,Pe=s,r!==null&&(Pe===null?Pe=r:Pe.push.apply(Pe,r))}s=a}if(r=!1,s!==2)continue}}if(s===1){Oa(e,0),ns(e,t,0,!0);break}t:{switch(i=e,r=s,r){case 0:case 1:throw Error(z(345));case 4:if((t&4194048)!==t)break;case 6:ns(i,t,hn,!es);break t;case 2:Pe=null;break;case 3:case 5:break;default:throw Error(z(329))}if((t&62914560)===t&&(s=ly+300-Bn(),10<s)){if(ns(i,t,hn,!es),_f(i,0,!0)!==0)break t;i.timeoutHandle=ZS(jv.bind(null,i,n,Pe,xh,_g,t,hn,sr,Ca,es,r,2,-0,0),s);break t}jv(i,n,Pe,xh,_g,t,hn,sr,Ca,es,r,0,-0,0)}}break}while(!0);Wn(e)}function jv(e,t,n,i,s,r,a,o,l,c,h,f,d,g){if(e.timeoutHandle=-1,f=t.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Cl={stylesheets:null,count:0,unsuspend:MO},RS(t),f=kO(),f!==null)){e.cancelPendingCommit=f(Bv.bind(null,e,t,r,n,i,s,a,o,l,h,1,d,g)),ns(e,r,a,!c);return}Bv(e,t,r,n,i,s,a,o,l)}function XD(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!tn(r(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ns(e,t,n,i){t&=~oy,t&=~sr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var s=t;0<s;){var r=31-We(s),a=1<<r;i[r]=-1,s&=~a}n!==0&&zx(e,n,t)}function If(){return vt&6?!0:(cc(0),!1)}function cy(){if(it!==null){if(pt===0)var e=it.return;else e=it,di=Tr=null,Qp(e),da=null,Al=0,e=it;for(;e!==null;)mS(e.alternate,e),e=e.return;it=null}}function Oa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,gO(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),cy(),It=e,it=n=yi(e.current,null),lt=t,pt=0,Ye=null,es=!1,$a=Zl(e,t),ay=!1,Ca=hn=oy=sr=Ss=Bt=0,Pe=al=null,_g=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var s=31-We(i),r=1<<s;t|=e[s],i&=~r}return Si=t,Tf(),n}function kS(e,t){et=null,W.H=ph,t===rc||t===wf?(t=yv(),pt=3):t===_w?(t=yv(),pt=4):pt=t===lS?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ye=t,it===null&&(Bt=1,vh(e,ln(t,e.current)))}function PS(){var e=W.H;return W.H=ph,e===null?ph:e}function LS(){var e=W.A;return W.A=QD,e}function Tg(){Bt=4,es||(lt&4194048)!==lt&&mn.current!==null||($a=!0),!(Ss&134217727)&&!(sr&134217727)||It===null||ns(It,lt,hn,!1)}function em(e,t,n){var i=vt;vt|=2;var s=PS(),r=LS();(It!==e||lt!==t)&&(xh=null,Oa(e,t)),t=!1;var a=Bt;t:do try{if(pt!==0&&it!==null){var o=it,l=Ye;switch(pt){case 8:cy(),a=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(t=!0);var c=pt;if(pt=0,Ye=null,sa(e,o,l,c),n&&$a){a=0;break t}break;default:c=pt,pt=0,Ye=null,sa(e,o,l,c)}}ZD(),a=Bt;break}catch(h){kS(e,h)}while(!0);return t&&e.shellSuspendCounter++,di=Tr=null,vt=i,W.H=s,W.A=r,it===null&&(It=null,lt=0,Tf()),a}function ZD(){for(;it!==null;)VS(it)}function JD(e,t){var n=vt;vt|=2;var i=PS(),s=LS();It!==e||lt!==t?(xh=null,Th=Bn()+500,Oa(e,t)):$a=Zl(e,t);t:do try{if(pt!==0&&it!==null){t=it;var r=Ye;e:switch(pt){case 1:pt=0,Ye=null,sa(e,t,r,1);break;case 2:case 9:if(pv(r)){pt=0,Ye=null,zv(t);break}t=function(){pt!==2&&pt!==9||It!==e||(pt=7),Wn(e)},r.then(t,t);break t;case 3:pt=7;break t;case 4:pt=5;break t;case 7:pv(r)?(pt=0,Ye=null,zv(t)):(pt=0,Ye=null,sa(e,t,r,7));break;case 5:var a=null;switch(it.tag){case 26:a=it.memoizedState;case 5:case 27:var o=it;if(!a||n1(a)){pt=0,Ye=null;var l=o.sibling;if(l!==null)it=l;else{var c=o.return;c!==null?(it=c,Cf(c)):it=null}break e}}pt=0,Ye=null,sa(e,t,r,5);break;case 6:pt=0,Ye=null,sa(e,t,r,6);break;case 8:cy(),Bt=6;break t;default:throw Error(z(462))}}tO();break}catch(h){kS(e,h)}while(!0);return di=Tr=null,W.H=i,W.A=s,vt=n,it!==null?0:(It=null,lt=0,Tf(),Bt)}function tO(){for(;it!==null&&!TC();)VS(it)}function VS(e){var t=dS(e.alternate,e,Si);e.memoizedProps=e.pendingProps,t===null?Cf(e):it=t}function zv(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Nv(n,t,t.pendingProps,t.type,void 0,lt);break;case 11:t=Nv(n,t,t.pendingProps,t.type.render,t.ref,lt);break;case 5:Qp(t);default:mS(n,t),t=it=mw(t,Si),t=dS(n,t,Si)}e.memoizedProps=e.pendingProps,t===null?Cf(e):it=t}function sa(e,t,n,i){di=Tr=null,Qp(t),da=null,Al=0;var s=t.return;try{if(HD(e,s,t,n,lt)){Bt=1,vh(e,ln(n,e.current)),it=null;return}}catch(r){if(s!==null)throw it=s,r;Bt=1,vh(e,ln(n,e.current)),it=null;return}t.flags&32768?(ft||i===1?e=!0:$a||lt&536870912?e=!1:(es=e=!0,(i===2||i===9||i===3||i===6)&&(i=mn.current,i!==null&&i.tag===13&&(i.flags|=16384))),US(t,e)):Cf(t)}function Cf(e){var t=e;do{if(t.flags&32768){US(t,es);return}e=t.return;var n=GD(t.alternate,t,Si);if(n!==null){it=n;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);Bt===0&&(Bt=5)}function US(e,t){do{var n=$D(e.alternate,e);if(n!==null){n.flags&=32767,it=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){it=e;return}it=e=n}while(e!==null);Bt=6,it=null}function Bv(e,t,n,i,s,r,a,o,l){e.cancelPendingCommit=null;do Df();while(de!==0);if(vt&6)throw Error(z(327));if(t!==null){if(t===e.current)throw Error(z(177));if(r=t.lanes|t.childLanes,r|=Lp,MC(e,n,r,a,o,l),e===It&&(it=It=null,lt=0),Da=t,hs=e,ma=n,vg=r,bg=s,OS=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,sO(ah,function(){return HS(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=W.T,W.T=null,s=dt.p,dt.p=2,a=vt,vt|=4;try{YD(e,t,n)}finally{vt=a,dt.p=s,W.T=i}}de=1,jS(),zS(),BS()}}function jS(){if(de===1){de=0;var e=hs,t=Da,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=W.T,W.T=null;var i=dt.p;dt.p=2;var s=vt;vt|=4;try{wS(t,e);var r=Ag,a=aw(e.containerInfo),o=r.focusedElem,l=r.selectionRange;if(a!==o&&o&&o.ownerDocument&&rw(o.ownerDocument.documentElement,o)){if(l!==null&&Pp(o)){var c=l.start,h=l.end;if(h===void 0&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var f=o.ownerDocument||document,d=f&&f.defaultView||window;if(d.getSelection){var g=d.getSelection(),E=o.textContent.length,T=Math.min(l.start,E),R=l.end===void 0?T:Math.min(l.end,E);!g.extend&&T>R&&(a=R,R=T,T=a);var y=lv(o,T),v=lv(o,R);if(y&&v&&(g.rangeCount!==1||g.anchorNode!==y.node||g.anchorOffset!==y.offset||g.focusNode!==v.node||g.focusOffset!==v.offset)){var x=f.createRange();x.setStart(y.node,y.offset),g.removeAllRanges(),T>R?(g.addRange(x),g.extend(v.node,v.offset)):(x.setEnd(v.node,v.offset),g.addRange(x))}}}}for(f=[],g=o;g=g.parentNode;)g.nodeType===1&&f.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var C=f[o];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}Oh=!!Sg,Ag=Sg=null}finally{vt=s,dt.p=i,W.T=n}}e.current=t,de=2}}function zS(){if(de===2){de=0;var e=hs,t=Da,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=W.T,W.T=null;var i=dt.p;dt.p=2;var s=vt;vt|=4;try{bS(e,t.alternate,t)}finally{vt=s,dt.p=i,W.T=n}}de=3}}function BS(){if(de===4||de===3){de=0,xC();var e=hs,t=Da,n=ma,i=OS;t.subtreeFlags&10256||t.flags&10256?de=5:(de=0,Da=hs=null,FS(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(us=null),Ip(n),t=t.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Xl,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=W.T,s=dt.p,dt.p=2,W.T=null;try{for(var r=e.onRecoverableError,a=0;a<i.length;a++){var o=i[a];r(o.value,{componentStack:o.stack})}}finally{W.T=t,dt.p=s}}ma&3&&Df(),Wn(e),s=e.pendingLanes,n&4194090&&s&42?e===Eg?ol++:(ol=0,Eg=e):ol=0,cc(0)}}function FS(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,sc(t)))}function Df(e){return jS(),zS(),BS(),HS()}function HS(){if(de!==5)return!1;var e=hs,t=vg;vg=0;var n=Ip(ma),i=W.T,s=dt.p;try{dt.p=32>n?32:n,W.T=null,n=bg,bg=null;var r=hs,a=ma;if(de=0,Da=hs=null,ma=0,vt&6)throw Error(z(331));var o=vt;if(vt|=4,CS(r.current),AS(r,r.current,a,n),vt=o,cc(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Xl,r)}catch{}return!0}finally{dt.p=s,W.T=i,FS(e,t)}}function Fv(e,t,n){t=ln(n,t),t=mg(e.stateNode,t,2),e=cs(e,t,2),e!==null&&(Jl(e,2),Wn(e))}function St(e,t,n){if(e.tag===3)Fv(e,e,n);else for(;t!==null;){if(t.tag===3){Fv(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(us===null||!us.has(i))){e=ln(n,e),n=aS(2),i=cs(t,n,2),i!==null&&(oS(n,i,t,e),Jl(i,2),Wn(i));break}}t=t.return}}function nm(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new WD;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(ay=!0,s.add(n),e=eO.bind(null,e,t,n),t.then(e,e))}function eO(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,It===e&&(lt&n)===n&&(Bt===4||Bt===3&&(lt&62914560)===lt&&300>Bn()-ly?!(vt&2)&&Oa(e,0):oy|=n,Ca===lt&&(Ca=0)),Wn(e)}function qS(e,t){t===0&&(t=jx()),e=Ga(e,t),e!==null&&(Jl(e,t),Wn(e))}function nO(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qS(e,n)}function iO(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(z(314))}i!==null&&i.delete(t),qS(e,n)}function sO(e,t){return Ap(e,t)}var wh=null,Fr=null,xg=!1,Sh=!1,im=!1,rr=0;function Wn(e){e!==Fr&&e.next===null&&(Fr===null?wh=Fr=e:Fr=Fr.next=e),Sh=!0,xg||(xg=!0,aO())}function cc(e,t){if(!im&&Sh){im=!0;do for(var n=!1,i=wh;i!==null;){if(e!==0){var s=i.pendingLanes;if(s===0)var r=0;else{var a=i.suspendedLanes,o=i.pingedLanes;r=(1<<31-We(42|e)+1)-1,r&=s&~(a&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,Hv(i,r))}else r=lt,r=_f(i,i===It?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||Zl(i,r)||(n=!0,Hv(i,r));i=i.next}while(n);im=!1}}function rO(){GS()}function GS(){Sh=xg=!1;var e=0;rr!==0&&(mO()&&(e=rr),rr=0);for(var t=Bn(),n=null,i=wh;i!==null;){var s=i.next,r=$S(i,t);r===0?(i.next=null,n===null?wh=s:n.next=s,s===null&&(Fr=n)):(n=i,(e!==0||r&3)&&(Sh=!0)),i=s}cc(e)}function $S(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var a=31-We(r),o=1<<a,l=s[a];l===-1?(!(o&n)||o&i)&&(s[a]=OC(o,t)):l<=t&&(e.expiredLanes|=o),r&=~o}if(t=It,n=lt,n=_f(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(pt===2||pt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Cd(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Zl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Cd(i),Ip(n)){case 2:case 8:n=Lx;break;case 32:n=ah;break;case 268435456:n=Vx;break;default:n=ah}return i=YS.bind(null,e),n=Ap(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Cd(i),e.callbackPriority=2,e.callbackNode=null,2}function YS(e,t){if(de!==0&&de!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Df()&&e.callbackNode!==n)return null;var i=lt;return i=_f(e,e===It?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(NS(e,i,t),$S(e,Bn()),e.callbackNode!=null&&e.callbackNode===n?YS.bind(null,e):null)}function Hv(e,t){if(Df())return null;NS(e,t,!0)}function aO(){pO(function(){vt&6?Ap(Px,rO):GS()})}function uy(){return rr===0&&(rr=Ux()),rr}function qv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ru(""+e)}function Gv(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function oO(e,t,n,i,s){if(t==="submit"&&n&&n.stateNode===s){var r=qv((s[Be]||null).action),a=i.submitter;a&&(t=(t=a[Be]||null)?qv(t.formAction):a.getAttribute("formAction"),t!==null&&(r=t,a=null));var o=new vf("action","action",null,i,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(rr!==0){var l=a?Gv(s,a):new FormData(s);fg(n,{pending:!0,data:l,method:s.method,action:r},null,l)}}else typeof r=="function"&&(o.preventDefault(),l=a?Gv(s,a):new FormData(s),fg(n,{pending:!0,data:l,method:s.method,action:r},r,l))},currentTarget:s}]})}}for(var sm=0;sm<tg.length;sm++){var rm=tg[sm],lO=rm.toLowerCase(),cO=rm[0].toUpperCase()+rm.slice(1);Dn(lO,"on"+cO)}Dn(lw,"onAnimationEnd");Dn(cw,"onAnimationIteration");Dn(uw,"onAnimationStart");Dn("dblclick","onDoubleClick");Dn("focusin","onFocus");Dn("focusout","onBlur");Dn(AD,"onTransitionRun");Dn(RD,"onTransitionStart");Dn(ID,"onTransitionCancel");Dn(hw,"onTransitionEnd");xa("onMouseEnter",["mouseout","mouseover"]);xa("onMouseLeave",["mouseout","mouseover"]);xa("onPointerEnter",["pointerout","pointerover"]);xa("onPointerLeave",["pointerout","pointerover"]);vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function KS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;t:{var r=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&s.isPropagationStopped())break t;r=o,s.currentTarget=c;try{r(s)}catch(h){_h(h)}s.currentTarget=null,r=l}else for(a=0;a<i.length;a++){if(o=i[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==r&&s.isPropagationStopped())break t;r=o,s.currentTarget=c;try{r(s)}catch(h){_h(h)}s.currentTarget=null,r=l}}}}function nt(e,t){var n=t[Ym];n===void 0&&(n=t[Ym]=new Set);var i=e+"__bubble";n.has(i)||(QS(t,e,2,!1),n.add(i))}function am(e,t,n){var i=0;t&&(i|=4),QS(n,e,i,t)}var tu="_reactListening"+Math.random().toString(36).slice(2);function hy(e){if(!e[tu]){e[tu]=!0,Hx.forEach(function(n){n!=="selectionchange"&&(uO.has(n)||am(n,!1,e),am(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tu]||(t[tu]=!0,am("selectionchange",!1,t))}}function QS(e,t,n,i){switch(o1(t)){case 2:var s=VO;break;case 8:s=UO;break;default:s=gy}n=s.bind(null,t,n,e),s=void 0,!Xm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function om(e,t,n,i,s){var r=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===s)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===s)return;a=a.return}for(;o!==null;){if(a=Qr(o),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){i=r=a;continue t}o=o.parentNode}}i=i.return}Xx(function(){var c=r,h=Op(n),f=[];t:{var d=fw.get(e);if(d!==void 0){var g=vf,E=e;switch(e){case"keypress":if(Cu(n)===0)break t;case"keydown":case"keyup":g=sD;break;case"focusin":E="focus",g=Vd;break;case"focusout":E="blur",g=Vd;break;case"beforeblur":case"afterblur":g=Vd;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Z0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=$C;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=oD;break;case lw:case cw:case uw:g=QC;break;case hw:g=cD;break;case"scroll":case"scrollend":g=qC;break;case"wheel":g=hD;break;case"copy":case"cut":case"paste":g=XC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=tv;break;case"toggle":case"beforetoggle":g=dD}var T=(t&4)!==0,R=!T&&(e==="scroll"||e==="scrollend"),y=T?d!==null?d+"Capture":null:d;T=[];for(var v=c,x;v!==null;){var C=v;if(x=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||x===null||y===null||(C=El(v,y),C!=null&&T.push(Il(v,C,x))),R)break;v=v.return}0<T.length&&(d=new g(d,E,null,n,h),f.push({event:d,listeners:T}))}}if(!(t&7)){t:{if(d=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",d&&n!==Wm&&(E=n.relatedTarget||n.fromElement)&&(Qr(E)||E[Ha]))break t;if((g||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,g?(E=n.relatedTarget||n.toElement,g=c,E=E?Qr(E):null,E!==null&&(R=Wl(E),T=E.tag,E!==R||T!==5&&T!==27&&T!==6)&&(E=null)):(g=null,E=c),g!==E)){if(T=Z0,C="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(T=tv,C="onPointerLeave",y="onPointerEnter",v="pointer"),R=g==null?d:Uo(g),x=E==null?d:Uo(E),d=new T(C,v+"leave",g,n,h),d.target=R,d.relatedTarget=x,C=null,Qr(h)===c&&(T=new T(y,v+"enter",E,n,h),T.target=x,T.relatedTarget=R,C=T),R=C,g&&E)e:{for(T=g,y=E,v=0,x=T;x;x=Vr(x))v++;for(x=0,C=y;C;C=Vr(C))x++;for(;0<v-x;)T=Vr(T),v--;for(;0<x-v;)y=Vr(y),x--;for(;v--;){if(T===y||y!==null&&T===y.alternate)break e;T=Vr(T),y=Vr(y)}T=null}else T=null;g!==null&&$v(f,d,g,T,!1),E!==null&&R!==null&&$v(f,R,E,T,!0)}}t:{if(d=c?Uo(c):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var M=sv;else if(iv(d))if(iw)M=xD;else{M=ED;var L=bD}else g=d.nodeName,!g||g.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?c&&Dp(c.elementType)&&(M=sv):M=TD;if(M&&(M=M(e,c))){nw(f,M,n,h);break t}L&&L(e,d,c),e==="focusout"&&c&&d.type==="number"&&c.memoizedProps.value!=null&&Qm(d,"number",d.value)}switch(L=c?Uo(c):window,e){case"focusin":(iv(L)||L.contentEditable==="true")&&(Zr=L,Zm=c,Xo=null);break;case"focusout":Xo=Zm=Zr=null;break;case"mousedown":Jm=!0;break;case"contextmenu":case"mouseup":case"dragend":Jm=!1,cv(f,n,h);break;case"selectionchange":if(SD)break;case"keydown":case"keyup":cv(f,n,h)}var b;if(kp)t:{switch(e){case"compositionstart":var _="onCompositionStart";break t;case"compositionend":_="onCompositionEnd";break t;case"compositionupdate":_="onCompositionUpdate";break t}_=void 0}else Xr?tw(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Jx&&n.locale!=="ko"&&(Xr||_!=="onCompositionStart"?_==="onCompositionEnd"&&Xr&&(b=Zx()):(ts=h,Mp="value"in ts?ts.value:ts.textContent,Xr=!0)),L=Ah(c,_),0<L.length&&(_=new J0(_,e,null,n,h),f.push({event:_,listeners:L}),b?_.data=b:(b=ew(n),b!==null&&(_.data=b)))),(b=gD?pD(e,n):yD(e,n))&&(_=Ah(c,"onBeforeInput"),0<_.length&&(L=new J0("onBeforeInput","beforeinput",null,n,h),f.push({event:L,listeners:_}),L.data=b)),oO(f,e,c,n,h)}KS(f,t)})}function Il(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ah(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=El(e,n),s!=null&&i.unshift(Il(e,s,r)),s=El(e,t),s!=null&&i.push(Il(e,s,r))),e.tag===3)return i;e=e.return}return[]}function Vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $v(e,t,n,i,s){for(var r=t._reactName,a=[];n!==null&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===i)break;o!==5&&o!==26&&o!==27||c===null||(l=c,s?(c=El(n,r),c!=null&&a.unshift(Il(n,c,l))):s||(c=El(n,r),c!=null&&a.push(Il(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var hO=/\r\n?/g,fO=/\u0000|\uFFFD/g;function Yv(e){return(typeof e=="string"?e:""+e).replace(hO,`
`).replace(fO,"")}function WS(e,t){return t=Yv(t),Yv(e)===t}function Of(){}function Tt(e,t,n,i,s,r){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||wa(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&wa(e,""+i);break;case"className":Yc(e,"class",i);break;case"tabIndex":Yc(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Yc(e,n,i);break;case"style":Wx(e,i,r);break;case"data":if(t!=="object"){Yc(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Ru(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&Tt(e,t,"name",s.name,s,null),Tt(e,t,"formEncType",s.formEncType,s,null),Tt(e,t,"formMethod",s.formMethod,s,null),Tt(e,t,"formTarget",s.formTarget,s,null)):(Tt(e,t,"encType",s.encType,s,null),Tt(e,t,"method",s.method,s,null),Tt(e,t,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Ru(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Of);break;case"onScroll":i!=null&&nt("scroll",e);break;case"onScrollEnd":i!=null&&nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(z(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(z(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Ru(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":nt("beforetoggle",e),nt("toggle",e),Au(e,"popover",i);break;case"xlinkActuate":ei(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ei(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ei(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ei(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ei(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ei(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ei(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ei(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ei(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Au(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=FC.get(n)||n,Au(e,n,i))}}function wg(e,t,n,i,s,r){switch(n){case"style":Wx(e,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(z(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(z(60));e.innerHTML=n}}break;case"children":typeof i=="string"?wa(e,i):(typeof i=="number"||typeof i=="bigint")&&wa(e,""+i);break;case"onScroll":i!=null&&nt("scroll",e);break;case"onScrollEnd":i!=null&&nt("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Of);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qx.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),r=e[Be]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,s),typeof i=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,s);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Au(e,n,i)}}}function ge(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",e),nt("load",e);var i=!1,s=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(z(137,t));default:Tt(e,t,r,a,n,null)}}s&&Tt(e,t,"srcSet",n.srcSet,n,null),i&&Tt(e,t,"src",n.src,n,null);return;case"input":nt("invalid",e);var o=r=a=s=null,l=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":s=h;break;case"type":a=h;break;case"checked":l=h;break;case"defaultChecked":c=h;break;case"value":r=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(z(137,t));break;default:Tt(e,t,i,h,n,null)}}Yx(e,r,o,l,c,a,s,!1),oh(e);return;case"select":nt("invalid",e),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":a=o;break;case"multiple":i=o;default:Tt(e,t,s,o,n,null)}t=r,n=a,e.multiple=!!i,t!=null?la(e,!!i,t,!1):n!=null&&la(e,!!i,n,!0);return;case"textarea":nt("invalid",e),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":i=o;break;case"defaultValue":s=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(z(91));break;default:Tt(e,t,a,o,n,null)}Qx(e,i,s,r),oh(e);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(i=n[l],i!=null))switch(l){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Tt(e,t,l,i,n,null)}return;case"dialog":nt("beforetoggle",e),nt("toggle",e),nt("cancel",e),nt("close",e);break;case"iframe":case"object":nt("load",e);break;case"video":case"audio":for(i=0;i<Rl.length;i++)nt(Rl[i],e);break;case"image":nt("error",e),nt("load",e);break;case"details":nt("toggle",e);break;case"embed":case"source":case"link":nt("error",e),nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(z(137,t));default:Tt(e,t,c,i,n,null)}return;default:if(Dp(t)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&wg(e,t,h,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&Tt(e,t,o,i,n,null))}function dO(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,a=null,o=null,l=null,c=null,h=null;for(g in n){var f=n[g];if(n.hasOwnProperty(g)&&f!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":l=f;default:i.hasOwnProperty(g)||Tt(e,t,g,null,i,f)}}for(var d in i){var g=i[d];if(f=n[d],i.hasOwnProperty(d)&&(g!=null||f!=null))switch(d){case"type":r=g;break;case"name":s=g;break;case"checked":c=g;break;case"defaultChecked":h=g;break;case"value":a=g;break;case"defaultValue":o=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(z(137,t));break;default:g!==f&&Tt(e,t,d,g,i,f)}}Km(e,a,o,l,c,h,r,s);return;case"select":g=a=o=d=null;for(r in n)if(l=n[r],n.hasOwnProperty(r)&&l!=null)switch(r){case"value":break;case"multiple":g=l;default:i.hasOwnProperty(r)||Tt(e,t,r,null,i,l)}for(s in i)if(r=i[s],l=n[s],i.hasOwnProperty(s)&&(r!=null||l!=null))switch(s){case"value":d=r;break;case"defaultValue":o=r;break;case"multiple":a=r;default:r!==l&&Tt(e,t,s,r,i,l)}t=o,n=a,i=g,d!=null?la(e,!!n,d,!1):!!i!=!!n&&(t!=null?la(e,!!n,t,!0):la(e,!!n,n?[]:"",!1));return;case"textarea":g=d=null;for(o in n)if(s=n[o],n.hasOwnProperty(o)&&s!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Tt(e,t,o,null,i,s)}for(a in i)if(s=i[a],r=n[a],i.hasOwnProperty(a)&&(s!=null||r!=null))switch(a){case"value":d=s;break;case"defaultValue":g=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(z(91));break;default:s!==r&&Tt(e,t,a,s,i,r)}Kx(e,d,g);return;case"option":for(var E in n)if(d=n[E],n.hasOwnProperty(E)&&d!=null&&!i.hasOwnProperty(E))switch(E){case"selected":e.selected=!1;break;default:Tt(e,t,E,null,i,d)}for(l in i)if(d=i[l],g=n[l],i.hasOwnProperty(l)&&d!==g&&(d!=null||g!=null))switch(l){case"selected":e.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Tt(e,t,l,d,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var T in n)d=n[T],n.hasOwnProperty(T)&&d!=null&&!i.hasOwnProperty(T)&&Tt(e,t,T,null,i,d);for(c in i)if(d=i[c],g=n[c],i.hasOwnProperty(c)&&d!==g&&(d!=null||g!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(z(137,t));break;default:Tt(e,t,c,d,i,g)}return;default:if(Dp(t)){for(var R in n)d=n[R],n.hasOwnProperty(R)&&d!==void 0&&!i.hasOwnProperty(R)&&wg(e,t,R,void 0,i,d);for(h in i)d=i[h],g=n[h],!i.hasOwnProperty(h)||d===g||d===void 0&&g===void 0||wg(e,t,h,d,i,g);return}}for(var y in n)d=n[y],n.hasOwnProperty(y)&&d!=null&&!i.hasOwnProperty(y)&&Tt(e,t,y,null,i,d);for(f in i)d=i[f],g=n[f],!i.hasOwnProperty(f)||d===g||d==null&&g==null||Tt(e,t,f,d,i,g)}var Sg=null,Ag=null;function Rh(e){return e.nodeType===9?e:e.ownerDocument}function Kv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XS(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Rg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lm=null;function mO(){var e=window.event;return e&&e.type==="popstate"?e===lm?!1:(lm=e,!0):(lm=null,!1)}var ZS=typeof setTimeout=="function"?setTimeout:void 0,gO=typeof clearTimeout=="function"?clearTimeout:void 0,Qv=typeof Promise=="function"?Promise:void 0,pO=typeof queueMicrotask=="function"?queueMicrotask:typeof Qv<"u"?function(e){return Qv.resolve(null).then(e).catch(yO)}:ZS;function yO(e){setTimeout(function(){throw e})}function Ps(e){return e==="head"}function Wv(e,t){var n=t,i=0,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(0<i&&8>i){n=i;var a=e.ownerDocument;if(n&1&&ll(a.documentElement),n&2&&ll(a.body),n&4)for(n=a.head,ll(n),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[tc]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}if(s===0){e.removeChild(r),Nl(t);return}s--}else n==="$"||n==="$?"||n==="$!"?s++:i=n.charCodeAt(0)-48;else i=0;n=r}while(n);Nl(t)}function Ig(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ig(n),Cp(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function _O(e,t,n,i){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[tc])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=wn(e.nextSibling),e===null)break}return null}function vO(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=wn(e.nextSibling),e===null))return null;return e}function Cg(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function bO(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Dg=null;function Xv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function JS(e,t,n){switch(t=Rh(n),e){case"html":if(e=t.documentElement,!e)throw Error(z(452));return e;case"head":if(e=t.head,!e)throw Error(z(453));return e;case"body":if(e=t.body,!e)throw Error(z(454));return e;default:throw Error(z(451))}}function ll(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Cp(e)}var gn=new Map,Zv=new Set;function Ih(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Oi=dt.d;dt.d={f:EO,r:TO,D:xO,C:wO,L:SO,m:AO,X:IO,S:RO,M:CO};function EO(){var e=Oi.f(),t=If();return e||t}function TO(e){var t=qa(e);t!==null&&t.tag===5&&t.type==="form"?$w(t):Oi.r(e)}var Ya=typeof document>"u"?null:document;function t1(e,t,n){var i=Ya;if(i&&typeof t=="string"&&t){var s=on(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Zv.has(s)||(Zv.add(s),e={rel:e,crossOrigin:n,href:t},i.querySelector(s)===null&&(t=i.createElement("link"),ge(t,"link",e),se(t),i.head.appendChild(t)))}}function xO(e){Oi.D(e),t1("dns-prefetch",e,null)}function wO(e,t){Oi.C(e,t),t1("preconnect",e,t)}function SO(e,t,n){Oi.L(e,t,n);var i=Ya;if(i&&e&&t){var s='link[rel="preload"][as="'+on(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+on(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+on(n.imageSizes)+'"]')):s+='[href="'+on(e)+'"]';var r=s;switch(t){case"style":r=Ma(e);break;case"script":r=Ka(e)}gn.has(r)||(e=Mt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),gn.set(r,e),i.querySelector(s)!==null||t==="style"&&i.querySelector(uc(r))||t==="script"&&i.querySelector(hc(r))||(t=i.createElement("link"),ge(t,"link",e),se(t),i.head.appendChild(t)))}}function AO(e,t){Oi.m(e,t);var n=Ya;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+on(i)+'"][href="'+on(e)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Ka(e)}if(!gn.has(r)&&(e=Mt({rel:"modulepreload",href:e},t),gn.set(r,e),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(hc(r)))return}i=n.createElement("link"),ge(i,"link",e),se(i),n.head.appendChild(i)}}}function RO(e,t,n){Oi.S(e,t,n);var i=Ya;if(i&&e){var s=oa(i).hoistableStyles,r=Ma(e);t=t||"default";var a=s.get(r);if(!a){var o={loading:0,preload:null};if(a=i.querySelector(uc(r)))o.loading=5;else{e=Mt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=gn.get(r))&&fy(e,n);var l=a=i.createElement("link");se(l),ge(l,"link",e),l._p=new Promise(function(c,h){l.onload=c,l.onerror=h}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Lu(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:o},s.set(r,a)}}}function IO(e,t){Oi.X(e,t);var n=Ya;if(n&&e){var i=oa(n).hoistableScripts,s=Ka(e),r=i.get(s);r||(r=n.querySelector(hc(s)),r||(e=Mt({src:e,async:!0},t),(t=gn.get(s))&&dy(e,t),r=n.createElement("script"),se(r),ge(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function CO(e,t){Oi.M(e,t);var n=Ya;if(n&&e){var i=oa(n).hoistableScripts,s=Ka(e),r=i.get(s);r||(r=n.querySelector(hc(s)),r||(e=Mt({src:e,async:!0,type:"module"},t),(t=gn.get(s))&&dy(e,t),r=n.createElement("script"),se(r),ge(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function Jv(e,t,n,i){var s=(s=os.current)?Ih(s):null;if(!s)throw Error(z(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ma(n.href),n=oa(s).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ma(n.href);var r=oa(s).hoistableStyles,a=r.get(e);if(a||(s=s.ownerDocument||s,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,a),(r=s.querySelector(uc(e)))&&!r._p&&(a.instance=r,a.state.loading=5),gn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},gn.set(e,n),r||DO(s,e,n,a.state))),t&&i===null)throw Error(z(528,""));return a}if(t&&i!==null)throw Error(z(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ka(n),n=oa(s).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(z(444,e))}}function Ma(e){return'href="'+on(e)+'"'}function uc(e){return'link[rel="stylesheet"]['+e+"]"}function e1(e){return Mt({},e,{"data-precedence":e.precedence,precedence:null})}function DO(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ge(t,"link",n),se(t),e.head.appendChild(t))}function Ka(e){return'[src="'+on(e)+'"]'}function hc(e){return"script[async]"+e}function tb(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+on(n.href)+'"]');if(i)return t.instance=i,se(i),i;var s=Mt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),se(i),ge(i,"style",s),Lu(i,n.precedence,e),t.instance=i;case"stylesheet":s=Ma(n.href);var r=e.querySelector(uc(s));if(r)return t.state.loading|=4,t.instance=r,se(r),r;i=e1(n),(s=gn.get(s))&&fy(i,s),r=(e.ownerDocument||e).createElement("link"),se(r);var a=r;return a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),ge(r,"link",i),t.state.loading|=4,Lu(r,n.precedence,e),t.instance=r;case"script":return r=Ka(n.src),(s=e.querySelector(hc(r)))?(t.instance=s,se(s),s):(i=n,(s=gn.get(r))&&(i=Mt({},n),dy(i,s)),e=e.ownerDocument||e,s=e.createElement("script"),se(s),ge(s,"link",i),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(z(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Lu(i,n.precedence,e));return t.instance}function Lu(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,a=0;a<i.length;a++){var o=i[a];if(o.dataset.precedence===t)r=o;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function fy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function dy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Vu=null;function eb(e,t,n){if(Vu===null){var i=new Map,s=Vu=new Map;s.set(n,i)}else s=Vu,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var r=n[s];if(!(r[tc]||r[we]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(t)||"";a=e+a;var o=i.get(a);o?o.push(r):i.set(a,[r])}}return i}function nb(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function OO(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function n1(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Cl=null;function MO(){}function NO(e,t,n){if(Cl===null)throw Error(z(475));var i=Cl;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var s=Ma(n.href),r=e.querySelector(uc(s));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=Ch.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=r,se(r);return}r=e.ownerDocument||e,n=e1(n),(s=gn.get(s))&&fy(n,s),r=r.createElement("link"),se(r);var a=r;a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),ge(r,"link",n),t.instance=r}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=Ch.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function kO(){if(Cl===null)throw Error(z(475));var e=Cl;return e.stylesheets&&e.count===0&&Og(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Og(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Ch(){if(this.count--,this.count===0){if(this.stylesheets)Og(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Dh=null;function Og(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Dh=new Map,t.forEach(PO,e),Dh=null,Ch.call(e))}function PO(e,t){if(!(t.state.loading&4)){var n=Dh.get(e);if(n)var i=n.get(null);else{n=new Map,Dh.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var a=s[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}s=t.instance,a=s.getAttribute("data-precedence"),r=n.get(a)||i,r===i&&n.set(null,s),n.set(a,s),this.count++,i=Ch.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Dl={$$typeof:ui,Provider:null,Consumer:null,_currentValue:Js,_currentValue2:Js,_threadCount:0};function LO(e,t,n,i,s,r,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dd(0),this.hiddenUpdates=Dd(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function i1(e,t,n,i,s,r,a,o,l,c,h,f){return e=new LO(e,t,n,a,o,l,c,f),t=1,r===!0&&(t|=24),r=Ke(3,null,null,t),e.current=r,r.stateNode=e,t=Bp(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:t},Hp(r),e}function s1(e){return e?(e=ea,e):ea}function r1(e,t,n,i,s,r){s=s1(s),i.context===null?i.context=s:i.pendingContext=s,i=ls(t),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=cs(e,i,t),n!==null&&(Ze(n,e,t),tl(n,e,t))}function ib(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function my(e,t){ib(e,t),(e=e.alternate)&&ib(e,t)}function a1(e){if(e.tag===13){var t=Ga(e,67108864);t!==null&&Ze(t,e,67108864),my(e,67108864)}}var Oh=!0;function VO(e,t,n,i){var s=W.T;W.T=null;var r=dt.p;try{dt.p=2,gy(e,t,n,i)}finally{dt.p=r,W.T=s}}function UO(e,t,n,i){var s=W.T;W.T=null;var r=dt.p;try{dt.p=8,gy(e,t,n,i)}finally{dt.p=r,W.T=s}}function gy(e,t,n,i){if(Oh){var s=Mg(i);if(s===null)om(e,t,i,Mh,n),sb(e,i);else if(zO(s,e,t,n,i))i.stopPropagation();else if(sb(e,i),t&4&&-1<jO.indexOf(e)){for(;s!==null;){var r=qa(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=Gs(r.pendingLanes);if(a!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-We(a);o.entanglements[1]|=l,a&=~l}Wn(r),!(vt&6)&&(Th=Bn()+500,cc(0))}}break;case 13:o=Ga(r,2),o!==null&&Ze(o,r,2),If(),my(r,2)}if(r=Mg(i),r===null&&om(e,t,i,Mh,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else om(e,t,i,null,n)}}function Mg(e){return e=Op(e),py(e)}var Mh=null;function py(e){if(Mh=null,e=Qr(e),e!==null){var t=Wl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Ox(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Mh=e,null}function o1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wC()){case Px:return 2;case Lx:return 8;case ah:case SC:return 32;case Vx:return 268435456;default:return 32}default:return 32}}var Ng=!1,fs=null,ds=null,ms=null,Ol=new Map,Ml=new Map,Ki=[],jO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sb(e,t){switch(e){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":Ol.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(t.pointerId)}}function Co(e,t,n,i,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},t!==null&&(t=qa(t),t!==null&&a1(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function zO(e,t,n,i,s){switch(t){case"focusin":return fs=Co(fs,e,t,n,i,s),!0;case"dragenter":return ds=Co(ds,e,t,n,i,s),!0;case"mouseover":return ms=Co(ms,e,t,n,i,s),!0;case"pointerover":var r=s.pointerId;return Ol.set(r,Co(Ol.get(r)||null,e,t,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Ml.set(r,Co(Ml.get(r)||null,e,t,n,i,s)),!0}return!1}function l1(e){var t=Qr(e.target);if(t!==null){var n=Wl(t);if(n!==null){if(t=n.tag,t===13){if(t=Ox(n),t!==null){e.blockedOn=t,NC(e.priority,function(){if(n.tag===13){var i=Xe();i=Rp(i);var s=Ga(n,i);s!==null&&Ze(s,n,i),my(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Mg(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Wm=i,n.target.dispatchEvent(i),Wm=null}else return t=qa(n),t!==null&&a1(t),e.blockedOn=n,!1;t.shift()}return!0}function rb(e,t,n){Uu(e)&&n.delete(t)}function BO(){Ng=!1,fs!==null&&Uu(fs)&&(fs=null),ds!==null&&Uu(ds)&&(ds=null),ms!==null&&Uu(ms)&&(ms=null),Ol.forEach(rb),Ml.forEach(rb)}function eu(e,t){e.blockedOn===t&&(e.blockedOn=null,Ng||(Ng=!0,ee.unstable_scheduleCallback(ee.unstable_NormalPriority,BO)))}var nu=null;function ab(e){nu!==e&&(nu=e,ee.unstable_scheduleCallback(ee.unstable_NormalPriority,function(){nu===e&&(nu=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],s=e[t+2];if(typeof i!="function"){if(py(i||n)===null)continue;break}var r=qa(n);r!==null&&(e.splice(t,3),t-=3,fg(r,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function Nl(e){function t(l){return eu(l,e)}fs!==null&&eu(fs,e),ds!==null&&eu(ds,e),ms!==null&&eu(ms,e),Ol.forEach(t),Ml.forEach(t);for(var n=0;n<Ki.length;n++){var i=Ki[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Ki.length&&(n=Ki[0],n.blockedOn===null);)l1(n),n.blockedOn===null&&Ki.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],a=s[Be]||null;if(typeof r=="function")a||ab(n);else if(a){var o=null;if(r&&r.hasAttribute("formAction")){if(s=r,a=r[Be]||null)o=a.formAction;else if(py(s)!==null)continue}else o=a.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),ab(n)}}}function yy(e){this._internalRoot=e}Mf.prototype.render=yy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));var n=t.current,i=Xe();r1(n,i,e,t,null,null)};Mf.prototype.unmount=yy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;r1(e.current,2,null,e,null,null),If(),t[Ha]=null}};function Mf(e){this._internalRoot=e}Mf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ki.length&&t!==0&&t<Ki[n].priority;n++);Ki.splice(n,0,e),n===0&&l1(e)}};var ob=Cx.version;if(ob!=="19.1.0")throw Error(z(527,ob,"19.1.0"));dt.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=yC(t),e=e!==null?Mx(e):null,e=e===null?null:e.stateNode,e};var FO={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{Xl=iu.inject(FO),Qe=iu}catch{}}pf.createRoot=function(e,t){if(!Dx(e))throw Error(z(299));var n=!1,i="",s=iS,r=sS,a=rS,o=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=i1(e,1,!1,null,null,n,i,s,r,a,o,null),e[Ha]=t.current,hy(e),new yy(t)};pf.hydrateRoot=function(e,t,n){if(!Dx(e))throw Error(z(299));var i=!1,s="",r=iS,a=sS,o=rS,l=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),t=i1(e,1,!0,t,n??null,i,s,r,a,o,l,c),t.context=s1(null),n=t.current,i=Xe(),i=Rp(i),s=ls(i),s.callback=null,cs(n,s,i),n=i,t.current.lanes=n,Jl(t,n),Wn(t),e[Ha]=t.current,hy(e),new Mf(t)};pf.version="19.1.0";function c1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c1)}catch(e){console.error(e)}}c1(),xx.exports=pf;var HO=xx.exports,_y={};Object.defineProperty(_y,"__esModule",{value:!0});_y.parse=WO;_y.serialize=XO;const qO=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,GO=/^[\u0021-\u003A\u003C-\u007E]*$/,$O=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,YO=/^[\u0020-\u003A\u003D-\u007E]*$/,KO=Object.prototype.toString,QO=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function WO(e,t){const n=new QO,i=e.length;if(i<2)return n;const s=(t==null?void 0:t.decode)||ZO;let r=0;do{const a=e.indexOf("=",r);if(a===-1)break;const o=e.indexOf(";",r),l=o===-1?i:o;if(a>l){r=e.lastIndexOf(";",a-1)+1;continue}const c=lb(e,r,a),h=cb(e,a,c),f=e.slice(c,h);if(n[f]===void 0){let d=lb(e,a+1,l),g=cb(e,l,d);const E=s(e.slice(d,g));n[f]=E}r=l+1}while(r<i);return n}function lb(e,t,n){do{const i=e.charCodeAt(t);if(i!==32&&i!==9)return t}while(++t<n);return n}function cb(e,t,n){for(;t>n;){const i=e.charCodeAt(--t);if(i!==32&&i!==9)return t+1}return n}function XO(e,t,n){const i=(n==null?void 0:n.encode)||encodeURIComponent;if(!qO.test(e))throw new TypeError(`argument name is invalid: ${e}`);const s=i(t);if(!GO.test(s))throw new TypeError(`argument val is invalid: ${t}`);let r=e+"="+s;if(!n)return r;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);r+="; Max-Age="+n.maxAge}if(n.domain){if(!$O.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);r+="; Domain="+n.domain}if(n.path){if(!YO.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);r+="; Path="+n.path}if(n.expires){if(!JO(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);r+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(r+="; HttpOnly"),n.secure&&(r+="; Secure"),n.partitioned&&(r+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":r+="; Priority=Low";break;case"medium":r+="; Priority=Medium";break;case"high":r+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"none":r+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return r}function ZO(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function JO(e){return KO.call(e)==="[object Date]"}var ub="popstate";function tM(e={}){function t(i,s){let{pathname:r,search:a,hash:o}=i.location;return kg("",{pathname:r,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:kl(s)}return nM(t,n,null,e)}function Lt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function eM(){return Math.random().toString(36).substring(2,10)}function hb(e,t){return{usr:e.state,key:e.key,idx:t}}function kg(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Qa(t):t,state:n,key:t&&t.key||i||eM()}}function kl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Qa(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function nM(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,a=s.history,o="POP",l=null,c=h();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function h(){return(a.state||{idx:null}).idx}function f(){o="POP";let R=h(),y=R==null?null:R-c;c=R,l&&l({action:o,location:T.location,delta:y})}function d(R,y){o="PUSH";let v=kg(T.location,R,y);c=h()+1;let x=hb(v,c),C=T.createHref(v);try{a.pushState(x,"",C)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(C)}r&&l&&l({action:o,location:T.location,delta:1})}function g(R,y){o="REPLACE";let v=kg(T.location,R,y);c=h();let x=hb(v,c),C=T.createHref(v);a.replaceState(x,"",C),r&&l&&l({action:o,location:T.location,delta:0})}function E(R){return iM(R)}let T={get action(){return o},get location(){return e(s,a)},listen(R){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(ub,f),l=R,()=>{s.removeEventListener(ub,f),l=null}},createHref(R){return t(s,R)},createURL:E,encodeLocation(R){let y=E(R);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:g,go(R){return a.go(R)}};return T}function iM(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Lt(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:kl(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function u1(e,t,n="/"){return sM(e,t,n,!1)}function sM(e,t,n,i){let s=typeof t=="string"?Qa(t):t,r=Ai(s.pathname||"/",n);if(r==null)return null;let a=h1(e);rM(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=pM(r);o=mM(a[l],c,i)}return o}function h1(e,t=[],n=[],i=""){let s=(r,a,o)=>{let l={relativePath:o===void 0?r.path||"":o,caseSensitive:r.caseSensitive===!0,childrenIndex:a,route:r};l.relativePath.startsWith("/")&&(Lt(l.relativePath.startsWith(i),`Absolute route path "${l.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(i.length));let c=vi([i,l.relativePath]),h=n.concat(l);r.children&&r.children.length>0&&(Lt(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),h1(r.children,t,h,c)),!(r.path==null&&!r.index)&&t.push({path:c,score:fM(c,r.index),routesMeta:h})};return e.forEach((r,a)=>{var o;if(r.path===""||!((o=r.path)!=null&&o.includes("?")))s(r,a);else for(let l of f1(r.path))s(r,a,l)}),t}function f1(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let a=f1(i.join("/")),o=[];return o.push(...a.map(l=>l===""?r:[r,l].join("/"))),s&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function rM(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:dM(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var aM=/^:[\w-]+$/,oM=3,lM=2,cM=1,uM=10,hM=-2,fb=e=>e==="*";function fM(e,t){let n=e.split("/"),i=n.length;return n.some(fb)&&(i+=hM),t&&(i+=lM),n.filter(s=>!fb(s)).reduce((s,r)=>s+(aM.test(r)?oM:r===""?cM:uM),i)}function dM(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function mM(e,t,n=!1){let{routesMeta:i}=e,s={},r="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],c=o===i.length-1,h=r==="/"?t:t.slice(r.length)||"/",f=Nh({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),d=l.route;if(!f&&c&&n&&!i[i.length-1].route.index&&(f=Nh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:vi([r,f.pathname]),pathnameBase:bM(vi([r,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(r=vi([r,f.pathnameBase]))}return a}function Nh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=gM(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let r=s[0],a=r.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:i.reduce((c,{paramName:h,isOptional:f},d)=>{if(h==="*"){let E=o[d]||"";a=r.slice(0,r.length-E.length).replace(/(.)\/+$/,"$1")}const g=o[d];return f&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:a,pattern:e}}function gM(e,t=!1,n=!0){Sn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function pM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ai(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function yM(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?Qa(e):e;return{pathname:n?n.startsWith("/")?n:_M(n,t):t,search:EM(i),hash:TM(s)}}function _M(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function cm(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vM(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function vy(e){let t=vM(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function by(e,t,n,i=!1){let s;typeof e=="string"?s=Qa(e):(s={...e},Lt(!s.pathname||!s.pathname.includes("?"),cm("?","pathname","search",s)),Lt(!s.pathname||!s.pathname.includes("#"),cm("#","pathname","hash",s)),Lt(!s.search||!s.search.includes("#"),cm("#","search","hash",s)));let r=e===""||s.pathname==="",a=r?"/":s.pathname,o;if(a==null)o=n;else{let f=t.length-1;if(!i&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;s.pathname=d.join("/")}o=f>=0?t[f]:"/"}let l=yM(s,o),c=a&&a!=="/"&&a.endsWith("/"),h=(r||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}var vi=e=>e.join("/").replace(/\/\/+/g,"/"),bM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),EM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,TM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var d1=["POST","PUT","PATCH","DELETE"];new Set(d1);var wM=["GET",...d1];new Set(wM);var Wa=P.createContext(null);Wa.displayName="DataRouter";var Nf=P.createContext(null);Nf.displayName="DataRouterState";var m1=P.createContext({isTransitioning:!1});m1.displayName="ViewTransition";var SM=P.createContext(new Map);SM.displayName="Fetchers";var AM=P.createContext(null);AM.displayName="Await";var On=P.createContext(null);On.displayName="Navigation";var fc=P.createContext(null);fc.displayName="Location";var Xn=P.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var Ey=P.createContext(null);Ey.displayName="RouteError";function RM(e,{relative:t}={}){Lt(Xa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=P.useContext(On),{hash:s,pathname:r,search:a}=dc(e,{relative:t}),o=r;return n!=="/"&&(o=r==="/"?n:vi([n,r])),i.createHref({pathname:o,search:a,hash:s})}function Xa(){return P.useContext(fc)!=null}function Mi(){return Lt(Xa(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(fc).location}var g1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p1(e){P.useContext(On).static||P.useLayoutEffect(e)}function xr(){let{isDataRoute:e}=P.useContext(Xn);return e?zM():IM()}function IM(){Lt(Xa(),"useNavigate() may be used only in the context of a <Router> component.");let e=P.useContext(Wa),{basename:t,navigator:n}=P.useContext(On),{matches:i}=P.useContext(Xn),{pathname:s}=Mi(),r=JSON.stringify(vy(i)),a=P.useRef(!1);return p1(()=>{a.current=!0}),P.useCallback((l,c={})=>{if(Sn(a.current,g1),!a.current)return;if(typeof l=="number"){n.go(l);return}let h=by(l,JSON.parse(r),s,c.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:vi([t,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[t,n,r,s,e])}P.createContext(null);function dc(e,{relative:t}={}){let{matches:n}=P.useContext(Xn),{pathname:i}=Mi(),s=JSON.stringify(vy(n));return P.useMemo(()=>by(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function CM(e,t){return y1(e,t)}function y1(e,t,n,i){var y;Lt(Xa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=P.useContext(On),{matches:r}=P.useContext(Xn),a=r[r.length-1],o=a?a.params:{},l=a?a.pathname:"/",c=a?a.pathnameBase:"/",h=a&&a.route;{let v=h&&h.path||"";_1(l,!h||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let f=Mi(),d;if(t){let v=typeof t=="string"?Qa(t):t;Lt(c==="/"||((y=v.pathname)==null?void 0:y.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${v.pathname}" was given in the \`location\` prop.`),d=v}else d=f;let g=d.pathname||"/",E=g;if(c!=="/"){let v=c.replace(/^\//,"").split("/");E="/"+g.replace(/^\//,"").split("/").slice(v.length).join("/")}let T=u1(e,{pathname:E});Sn(h||T!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),Sn(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=kM(T&&T.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:vi([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:vi([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),r,n,i);return t&&R?P.createElement(fc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},R):R}function DM(){let e=jM(),t=xM(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:r},"ErrorBoundary")," or"," ",P.createElement("code",{style:r},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:s},n):null,a)}var OM=P.createElement(DM,null),MM=class extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?P.createElement(Xn.Provider,{value:this.props.routeContext},P.createElement(Ey.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NM({routeContext:e,match:t,children:n}){let i=P.useContext(Wa);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(Xn.Provider,{value:e},n)}function kM(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,r=n==null?void 0:n.errors;if(r!=null){let l=s.findIndex(c=>c.route.id&&(r==null?void 0:r[c.route.id])!==void 0);Lt(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let a=!1,o=-1;if(n)for(let l=0;l<s.length;l++){let c=s[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(o=l),c.route.id){let{loaderData:h,errors:f}=n,d=c.route.loader&&!h.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||d){a=!0,o>=0?s=s.slice(0,o+1):s=[s[0]];break}}}return s.reduceRight((l,c,h)=>{let f,d=!1,g=null,E=null;n&&(f=r&&c.route.id?r[c.route.id]:void 0,g=c.route.errorElement||OM,a&&(o<0&&h===0?(_1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,E=null):o===h&&(d=!0,E=c.route.hydrateFallbackElement||null)));let T=t.concat(s.slice(0,h+1)),R=()=>{let y;return f?y=g:d?y=E:c.route.Component?y=P.createElement(c.route.Component,null):c.route.element?y=c.route.element:y=l,P.createElement(NM,{match:c,routeContext:{outlet:l,matches:T,isDataRoute:n!=null},children:y})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?P.createElement(MM,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:R(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):R()},null)}function Ty(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PM(e){let t=P.useContext(Wa);return Lt(t,Ty(e)),t}function LM(e){let t=P.useContext(Nf);return Lt(t,Ty(e)),t}function VM(e){let t=P.useContext(Xn);return Lt(t,Ty(e)),t}function xy(e){let t=VM(e),n=t.matches[t.matches.length-1];return Lt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function UM(){return xy("useRouteId")}function jM(){var i;let e=P.useContext(Ey),t=LM("useRouteError"),n=xy("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function zM(){let{router:e}=PM("useNavigate"),t=xy("useNavigate"),n=P.useRef(!1);return p1(()=>{n.current=!0}),P.useCallback(async(s,r={})=>{Sn(n.current,g1),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...r}))},[e,t])}var db={};function _1(e,t,n){!t&&!db[e]&&(db[e]=!0,Sn(!1,n))}P.memo(BM);function BM({routes:e,future:t,state:n}){return y1(e,void 0,n,t)}function Pg({to:e,replace:t,state:n,relative:i}){Lt(Xa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=P.useContext(On);Sn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=P.useContext(Xn),{pathname:a}=Mi(),o=xr(),l=by(e,vy(r),a,i==="path"),c=JSON.stringify(l);return P.useEffect(()=>{o(JSON.parse(c),{replace:t,state:n,relative:i})},[o,c,i,t,n]),null}function ri(e){Lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FM({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:r=!1}){Lt(!Xa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),o=P.useMemo(()=>({basename:a,navigator:s,static:r,future:{}}),[a,s,r]);typeof n=="string"&&(n=Qa(n));let{pathname:l="/",search:c="",hash:h="",state:f=null,key:d="default"}=n,g=P.useMemo(()=>{let E=Ai(l,a);return E==null?null:{location:{pathname:E,search:c,hash:h,state:f,key:d},navigationType:i}},[a,l,c,h,f,d,i]);return Sn(g!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:P.createElement(On.Provider,{value:o},P.createElement(fc.Provider,{children:t,value:g}))}function HM({children:e,location:t}){return CM(Lg(e),t)}function Lg(e,t=[]){let n=[];return P.Children.forEach(e,(i,s)=>{if(!P.isValidElement(i))return;let r=[...t,s];if(i.type===P.Fragment){n.push.apply(n,Lg(i.props.children,r));return}Lt(i.type===ri,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Lt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Lg(i.props.children,r)),n.push(a)}),n}var ju="get",zu="application/x-www-form-urlencoded";function kf(e){return e!=null&&typeof e.tagName=="string"}function qM(e){return kf(e)&&e.tagName.toLowerCase()==="button"}function GM(e){return kf(e)&&e.tagName.toLowerCase()==="form"}function $M(e){return kf(e)&&e.tagName.toLowerCase()==="input"}function YM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KM(e,t){return e.button===0&&(!t||t==="_self")&&!YM(e)}var su=null;function QM(){if(su===null)try{new FormData(document.createElement("form"),0),su=!1}catch{su=!0}return su}var WM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function um(e){return e!=null&&!WM.has(e)?(Sn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zu}"`),null):e}function XM(e,t){let n,i,s,r,a;if(GM(e)){let o=e.getAttribute("action");i=o?Ai(o,t):null,n=e.getAttribute("method")||ju,s=um(e.getAttribute("enctype"))||zu,r=new FormData(e)}else if(qM(e)||$M(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(i=l?Ai(l,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||ju,s=um(e.getAttribute("formenctype"))||um(o.getAttribute("enctype"))||zu,r=new FormData(o,e),!QM()){let{name:c,type:h,value:f}=e;if(h==="image"){let d=c?`${c}.`:"";r.append(`${d}x`,"0"),r.append(`${d}y`,"0")}else c&&r.append(c,f)}}else{if(kf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ju,i=null,s=zu,a=e}return r&&s==="text/plain"&&(a=r,r=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:r,body:a}}function wy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function ZM(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JM(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function tN(e,t,n){let i=await Promise.all(e.map(async s=>{let r=t.routes[s.route.id];if(r){let a=await ZM(r,n);return a.links?a.links():[]}return[]}));return sN(i.flat(1).filter(JM).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function mb(e,t,n,i,s,r){let a=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,o=(l,c)=>{var h;return n[c].pathname!==l.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return r==="assets"?t.filter((l,c)=>a(l,c)||o(l,c)):r==="data"?t.filter((l,c)=>{var f;let h=i.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function eN(e,t,{includeHydrateFallback:n}={}){return nN(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function nN(e){return[...new Set(e)]}function iN(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function sN(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let r=JSON.stringify(iN(s));return n.has(r)||(n.add(r),i.push({key:r,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rN=new Set([100,101,204,205]);function aN(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Ai(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function v1(){let e=P.useContext(Wa);return wy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function oN(){let e=P.useContext(Nf);return wy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Sy=P.createContext(void 0);Sy.displayName="FrameworkContext";function b1(){let e=P.useContext(Sy);return wy(e,"You must render this element inside a <HydratedRouter> element"),e}function lN(e,t){let n=P.useContext(Sy),[i,s]=P.useState(!1),[r,a]=P.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:h,onTouchStart:f}=t,d=P.useRef(null);P.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let T=y=>{y.forEach(v=>{a(v.isIntersecting)})},R=new IntersectionObserver(T,{threshold:.5});return d.current&&R.observe(d.current),()=>{R.disconnect()}}},[e]),P.useEffect(()=>{if(i){let T=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(T)}}},[i]);let g=()=>{s(!0)},E=()=>{s(!1),a(!1)};return n?e!=="intent"?[r,d,{}]:[r,d,{onFocus:Do(o,g),onBlur:Do(l,E),onMouseEnter:Do(c,g),onMouseLeave:Do(h,E),onTouchStart:Do(f,g)}]:[!1,d,{}]}function Do(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function cN({page:e,...t}){let{router:n}=v1(),i=P.useMemo(()=>u1(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?P.createElement(hN,{page:e,matches:i,...t}):null}function uN(e){let{manifest:t,routeModules:n}=b1(),[i,s]=P.useState([]);return P.useEffect(()=>{let r=!1;return tN(e,t,n).then(a=>{r||s(a)}),()=>{r=!0}},[e,t,n]),i}function hN({page:e,matches:t,...n}){let i=Mi(),{manifest:s,routeModules:r}=b1(),{basename:a}=v1(),{loaderData:o,matches:l}=oN(),c=P.useMemo(()=>mb(e,t,l,s,i,"data"),[e,t,l,s,i]),h=P.useMemo(()=>mb(e,t,l,s,i,"assets"),[e,t,l,s,i]),f=P.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let E=new Set,T=!1;if(t.forEach(y=>{var x;let v=s.routes[y.route.id];!v||!v.hasLoader||(!c.some(C=>C.route.id===y.route.id)&&y.route.id in o&&((x=r[y.route.id])!=null&&x.shouldRevalidate)||v.hasClientLoader?T=!0:E.add(y.route.id))}),E.size===0)return[];let R=aN(e,a);return T&&E.size>0&&R.searchParams.set("_routes",t.filter(y=>E.has(y.route.id)).map(y=>y.route.id).join(",")),[R.pathname+R.search]},[a,o,i,s,c,t,e,r]),d=P.useMemo(()=>eN(h,s),[h,s]),g=uN(h);return P.createElement(P.Fragment,null,f.map(E=>P.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),d.map(E=>P.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),g.map(({key:E,link:T})=>P.createElement("link",{key:E,...T})))}function fN(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var E1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{E1&&(window.__reactRouterVersion="7.6.1")}catch{}function dN({basename:e,children:t,window:n}){let i=P.useRef();i.current==null&&(i.current=tM({window:n,v5Compat:!0}));let s=i.current,[r,a]=P.useState({action:s.action,location:s.location}),o=P.useCallback(l=>{P.startTransition(()=>a(l))},[a]);return P.useLayoutEffect(()=>s.listen(o),[s,o]),P.createElement(FM,{basename:e,children:t,location:r.location,navigationType:r.action,navigator:s})}var T1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kh=P.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:r,replace:a,state:o,target:l,to:c,preventScrollReset:h,viewTransition:f,...d},g){let{basename:E}=P.useContext(On),T=typeof c=="string"&&T1.test(c),R,y=!1;if(typeof c=="string"&&T&&(R=c,E1))try{let A=new URL(window.location.href),I=c.startsWith("//")?new URL(A.protocol+c):new URL(c),O=Ai(I.pathname,E);I.origin===A.origin&&O!=null?c=O+I.search+I.hash:y=!0}catch{Sn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=RM(c,{relative:s}),[x,C,M]=lN(i,d),L=yN(c,{replace:a,state:o,target:l,preventScrollReset:h,relative:s,viewTransition:f});function b(A){t&&t(A),A.defaultPrevented||L(A)}let _=P.createElement("a",{...d,...M,href:R||v,onClick:y||r?t:b,ref:fN(g,C),target:l,"data-discover":!T&&n==="render"?"true":void 0});return x&&!T?P.createElement(P.Fragment,null,_,P.createElement(cN,{page:v})):_});kh.displayName="Link";var mN=P.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:r,to:a,viewTransition:o,children:l,...c},h){let f=dc(a,{relative:c.relative}),d=Mi(),g=P.useContext(Nf),{navigator:E,basename:T}=P.useContext(On),R=g!=null&&TN(f)&&o===!0,y=E.encodeLocation?E.encodeLocation(f).pathname:f.pathname,v=d.pathname,x=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(v=v.toLowerCase(),x=x?x.toLowerCase():null,y=y.toLowerCase()),x&&T&&(x=Ai(x,T)||x);const C=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let M=v===y||!s&&v.startsWith(y)&&v.charAt(C)==="/",L=x!=null&&(x===y||!s&&x.startsWith(y)&&x.charAt(y.length)==="/"),b={isActive:M,isPending:L,isTransitioning:R},_=M?t:void 0,A;typeof i=="function"?A=i(b):A=[i,M?"active":null,L?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let I=typeof r=="function"?r(b):r;return P.createElement(kh,{...c,"aria-current":_,className:A,ref:h,style:I,to:a,viewTransition:o},typeof l=="function"?l(b):l)});mN.displayName="NavLink";var gN=P.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:r,method:a=ju,action:o,onSubmit:l,relative:c,preventScrollReset:h,viewTransition:f,...d},g)=>{let E=bN(),T=EN(o,{relative:c}),R=a.toLowerCase()==="get"?"get":"post",y=typeof o=="string"&&T1.test(o),v=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let C=x.nativeEvent.submitter,M=(C==null?void 0:C.getAttribute("formmethod"))||a;E(C||x.currentTarget,{fetcherKey:t,method:M,navigate:n,replace:s,state:r,relative:c,preventScrollReset:h,viewTransition:f})};return P.createElement("form",{ref:g,method:R,action:T,onSubmit:i?l:v,...d,"data-discover":!y&&e==="render"?"true":void 0})});gN.displayName="Form";function pN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x1(e){let t=P.useContext(Wa);return Lt(t,pN(e)),t}function yN(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:r,viewTransition:a}={}){let o=xr(),l=Mi(),c=dc(e,{relative:r});return P.useCallback(h=>{if(KM(h,t)){h.preventDefault();let f=n!==void 0?n:kl(l)===kl(c);o(e,{replace:f,state:i,preventScrollReset:s,relative:r,viewTransition:a})}},[l,o,c,n,i,t,e,s,r,a])}var _N=0,vN=()=>`__${String(++_N)}__`;function bN(){let{router:e}=x1("useSubmit"),{basename:t}=P.useContext(On),n=UM();return P.useCallback(async(i,s={})=>{let{action:r,method:a,encType:o,formData:l,body:c}=XM(i,t);if(s.navigate===!1){let h=s.fetcherKey||vN();await e.fetch(h,n,s.action||r,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,flushSync:s.flushSync})}else await e.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function EN(e,{relative:t}={}){let{basename:n}=P.useContext(On),i=P.useContext(Xn);Lt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...dc(e||".",{relative:t})},a=Mi();if(e==null){r.search=a.search;let o=new URLSearchParams(r.search),l=o.getAll("index");if(l.some(h=>h==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let h=o.toString();r.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:vi([n,r.pathname])),kl(r)}function TN(e,t={}){let n=P.useContext(m1);Lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=x1("useViewTransitionState"),s=dc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let r=Ai(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=Ai(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Nh(s.pathname,a)!=null||Nh(s.pathname,r)!=null}[...rN];const Ph="/Jetel-Mendes-24h/assets/logo-QzOPLK3u.png";/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=()=>{};var gb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},wN=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],a=e[n++],o=e[n++],l=((s&7)<<18|(r&63)<<12|(a&63)<<6|o&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const r=e[n++],a=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return t.join("")},S1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],a=s+1<e.length,o=a?e[s+1]:0,l=s+2<e.length,c=l?e[s+2]:0,h=r>>2,f=(r&3)<<4|o>>4;let d=(o&15)<<2|c>>6,g=c&63;l||(g=64,a||(d=64)),i.push(n[h],n[f],n[d],n[g])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(w1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):wN(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],o=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const f=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||o==null||c==null||f==null)throw new SN;const d=r<<2|o>>4;if(i.push(d),c!==64){const g=o<<4&240|c>>2;if(i.push(g),f!==64){const E=c<<6&192|f;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class SN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AN=function(e){const t=w1(e);return S1.encodeByteArray(t,!0)},Lh=function(e){return AN(e).replace(/\./g,"")},A1=function(e){try{return S1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=()=>RN().__FIREBASE_DEFAULTS__,CN=()=>{if(typeof process>"u"||typeof gb>"u")return;const e=gb.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},DN=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&A1(e[1]);return t&&JSON.parse(t)},Pf=()=>{try{return xN()||IN()||CN()||DN()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},R1=e=>{var t,n;return(n=(t=Pf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},ON=e=>{const t=R1(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},I1=()=>{var e;return(e=Pf())===null||e===void 0?void 0:e.config},C1=e=>{var t;return(t=Pf())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(e){return e.endsWith(".cloudworkstations.dev")}async function D1(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Lh(JSON.stringify(n)),Lh(JSON.stringify(a)),""].join(".")}const cl={};function kN(){const e={prod:[],emulator:[]};for(const t of Object.keys(cl))cl[t]?e.emulator.push(t):e.prod.push(t);return e}function PN(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let pb=!1;function O1(e,t){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||cl[e]===t||cl[e]||pb)return;cl[e]=t;function n(d){return`__firebase__banner__${d}`}const i="__firebase__banner",r=kN().prod.length>0;function a(){const d=document.getElementById(i);d&&d.remove()}function o(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,g){d.setAttribute("width","24"),d.setAttribute("id",g),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{pb=!0,a()},d}function h(d,g){d.setAttribute("id",g),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=PN(i),g=n("text"),E=document.getElementById(g)||document.createElement("span"),T=n("learnmore"),R=document.getElementById(T)||document.createElement("a"),y=n("preprendIcon"),v=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const x=d.element;o(x),h(R,T);const C=c();l(v,y),x.append(v,E,R,C),document.body.appendChild(x)}r?(E.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function VN(){var e;const t=(e=Pf())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function M1(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function jN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zN(){const e=Ae();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function BN(){return!VN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N1(){try{return typeof indexedDB=="object"}catch{return!1}}function k1(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){t(n)}})}function FN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="FirebaseError";class Mn extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=HN,Object.setPrototypeOf(this,Mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wr.prototype.create)}}class wr{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],a=r?qN(r,i):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new Mn(s,o,i)}}function qN(e,t){return e.replace(GN,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const GN=/\{\$([^}]+)}/g;function $N(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function As(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],a=t[s];if(yb(r)&&yb(a)){if(!As(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function yb(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function zo(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(r)}}),t}function Bo(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function YN(e,t){const n=new KN(e,t);return n.subscribe.bind(n)}class KN{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");QN(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=hm),s.error===void 0&&(s.error=hm),s.complete===void 0&&(s.complete=hm);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QN(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function hm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=1e3,XN=2,ZN=4*60*60*1e3,JN=.5;function _b(e,t=WN,n=XN){const i=t*Math.pow(n,e),s=Math.round(JN*i*(Math.random()-.5)*2);return Math.min(ZN,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(e){return e&&e._delegate?e._delegate:e}class An{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new MN;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nk(t))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=Ks){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ks){return this.instances.has(t)}getOptions(t=Ks){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);i===o&&a.resolve(s)}return s}onInit(t,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(t),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&t(a,s),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ek(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ks){return this.component?this.component.multipleInstances?t:Ks:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ek(e){return e===Ks?void 0:e}function nk(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new tk(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(st||(st={}));const sk={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},rk=st.INFO,ak={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},ok=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=ak[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Lf{constructor(t){this.name=t,this._logLevel=rk,this._logHandler=ok,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in st))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?sk[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...t),this._logHandler(this,st.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...t),this._logHandler(this,st.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,st.INFO,...t),this._logHandler(this,st.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,st.WARN,...t),this._logHandler(this,st.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...t),this._logHandler(this,st.ERROR,...t)}}const lk=(e,t)=>t.some(n=>e instanceof n);let vb,bb;function ck(){return vb||(vb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uk(){return bb||(bb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P1=new WeakMap,Vg=new WeakMap,L1=new WeakMap,fm=new WeakMap,Ay=new WeakMap;function hk(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",a)},r=()=>{n(gs(e.result)),s()},a=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&P1.set(n,e)}).catch(()=>{}),Ay.set(t,e),t}function fk(e){if(Vg.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",a),e.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",a),e.addEventListener("abort",a)});Vg.set(e,t)}let Ug={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Vg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||L1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gs(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function dk(e){Ug=e(Ug)}function mk(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(dm(this),t,...n);return L1.set(i,t.sort?t.sort():[t]),gs(i)}:uk().includes(e)?function(...t){return e.apply(dm(this),t),gs(P1.get(this))}:function(...t){return gs(e.apply(dm(this),t))}}function gk(e){return typeof e=="function"?mk(e):(e instanceof IDBTransaction&&fk(e),lk(e,ck())?new Proxy(e,Ug):e)}function gs(e){if(e instanceof IDBRequest)return hk(e);if(fm.has(e))return fm.get(e);const t=gk(e);return t!==e&&(fm.set(e,t),Ay.set(t,e)),t}const dm=e=>Ay.get(e);function V1(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(e,t),o=gs(a);return i&&a.addEventListener("upgradeneeded",l=>{i(gs(a.result),l.oldVersion,l.newVersion,gs(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const pk=["get","getKey","getAll","getAllKeys","count"],yk=["put","add","delete","clear"],mm=new Map;function Eb(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(mm.get(t))return mm.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=yk.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||pk.includes(n)))return;const r=async function(a,...o){const l=this.transaction(a,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),s&&l.done]))[0]};return mm.set(t,r),r}dk(e=>({...e,get:(t,n,i)=>Eb(t,n)||e.get(t,n,i),has:(t,n)=>!!Eb(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vk(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function vk(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const jg="@firebase/app",Tb="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new Lf("@firebase/app"),bk="@firebase/app-compat",Ek="@firebase/analytics-compat",Tk="@firebase/analytics",xk="@firebase/app-check-compat",wk="@firebase/app-check",Sk="@firebase/auth",Ak="@firebase/auth-compat",Rk="@firebase/database",Ik="@firebase/data-connect",Ck="@firebase/database-compat",Dk="@firebase/functions",Ok="@firebase/functions-compat",Mk="@firebase/installations",Nk="@firebase/installations-compat",kk="@firebase/messaging",Pk="@firebase/messaging-compat",Lk="@firebase/performance",Vk="@firebase/performance-compat",Uk="@firebase/remote-config",jk="@firebase/remote-config-compat",zk="@firebase/storage",Bk="@firebase/storage-compat",Fk="@firebase/firestore",Hk="@firebase/ai",qk="@firebase/firestore-compat",Gk="firebase",$k="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="[DEFAULT]",Yk={[jg]:"fire-core",[bk]:"fire-core-compat",[Tk]:"fire-analytics",[Ek]:"fire-analytics-compat",[wk]:"fire-app-check",[xk]:"fire-app-check-compat",[Sk]:"fire-auth",[Ak]:"fire-auth-compat",[Rk]:"fire-rtdb",[Ik]:"fire-data-connect",[Ck]:"fire-rtdb-compat",[Dk]:"fire-fn",[Ok]:"fire-fn-compat",[Mk]:"fire-iid",[Nk]:"fire-iid-compat",[kk]:"fire-fcm",[Pk]:"fire-fcm-compat",[Lk]:"fire-perf",[Vk]:"fire-perf-compat",[Uk]:"fire-rc",[jk]:"fire-rc-compat",[zk]:"fire-gcs",[Bk]:"fire-gcs-compat",[Fk]:"fire-fst",[qk]:"fire-fst-compat",[Hk]:"fire-vertex","fire-js":"fire-js",[Gk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Map,Kk=new Map,Bg=new Map;function xb(e,t){try{e.container.addComponent(t)}catch(n){Ri.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Yn(e){const t=e.name;if(Bg.has(t))return Ri.debug(`There were multiple attempts to register component ${t}.`),!1;Bg.set(t,e);for(const n of Vh.values())xb(n,e);for(const n of Kk.values())xb(n,e);return!0}function Sr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function cn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ps=new wr("app","Firebase",Qk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new An("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=$k;function U1(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:zg,automaticDataCollectionEnabled:!0},t),s=i.name;if(typeof s!="string"||!s)throw ps.create("bad-app-name",{appName:String(s)});if(n||(n=I1()),!n)throw ps.create("no-options");const r=Vh.get(s);if(r){if(As(n,r.options)&&As(i,r.config))return r;throw ps.create("duplicate-app",{appName:s})}const a=new ik(s);for(const l of Bg.values())a.addComponent(l);const o=new Wk(n,i,a);return Vh.set(s,o),o}function Ry(e=zg){const t=Vh.get(e);if(!t&&e===zg&&I1())return U1();if(!t)throw ps.create("no-app",{appName:e});return t}function fn(e,t,n){var i;let s=(i=Yk[e])!==null&&i!==void 0?i:e;n&&(s+=`-${n}`);const r=s.match(/\s|\//),a=t.match(/\s|\//);if(r||a){const o=[`Unable to register library "${s}" with version "${t}":`];r&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ri.warn(o.join(" "));return}Yn(new An(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="firebase-heartbeat-database",Zk=1,Pl="firebase-heartbeat-store";let gm=null;function j1(){return gm||(gm=V1(Xk,Zk,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(e=>{throw ps.create("idb-open",{originalErrorMessage:e.message})})),gm}async function Jk(e){try{const n=(await j1()).transaction(Pl),i=await n.objectStore(Pl).get(z1(e));return await n.done,i}catch(t){if(t instanceof Mn)Ri.warn(t.message);else{const n=ps.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ri.warn(n.message)}}}async function wb(e,t){try{const i=(await j1()).transaction(Pl,"readwrite");await i.objectStore(Pl).put(t,z1(e)),await i.done}catch(n){if(n instanceof Mn)Ri.warn(n.message);else{const i=ps.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ri.warn(i.message)}}}function z1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=1024,eP=30;class nP{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sP(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Sb();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>eP){const a=rP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ri.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sb(),{heartbeatsToSend:i,unsentEntries:s}=iP(this._heartbeatsCache.heartbeats),r=Lh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Ri.warn(n),""}}}function Sb(){return new Date().toISOString().substring(0,10)}function iP(e,t=tP){const n=[];let i=e.slice();for(const s of e){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),Ab(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ab(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class sP{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N1()?k1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Jk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return wb(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return wb(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Ab(e){return Lh(JSON.stringify({version:2,heartbeats:e})).length}function rP(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(e){Yn(new An("platform-logger",t=>new _k(t),"PRIVATE")),Yn(new An("heartbeat",t=>new nP(t),"PRIVATE")),fn(jg,Tb,e),fn(jg,Tb,"esm2017"),fn("fire-js","")}aP("");var Rb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ys,B1;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(b,_){function A(){}A.prototype=_.prototype,b.D=_.prototype,b.prototype=new A,b.prototype.constructor=b,b.C=function(I,O,N){for(var D=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)D[bt-2]=arguments[bt];return _.prototype[O].apply(I,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,_,A){A||(A=0);var I=Array(16);if(typeof _=="string")for(var O=0;16>O;++O)I[O]=_.charCodeAt(A++)|_.charCodeAt(A++)<<8|_.charCodeAt(A++)<<16|_.charCodeAt(A++)<<24;else for(O=0;16>O;++O)I[O]=_[A++]|_[A++]<<8|_[A++]<<16|_[A++]<<24;_=b.g[0],A=b.g[1],O=b.g[2];var N=b.g[3],D=_+(N^A&(O^N))+I[0]+3614090360&4294967295;_=A+(D<<7&4294967295|D>>>25),D=N+(O^_&(A^O))+I[1]+3905402710&4294967295,N=_+(D<<12&4294967295|D>>>20),D=O+(A^N&(_^A))+I[2]+606105819&4294967295,O=N+(D<<17&4294967295|D>>>15),D=A+(_^O&(N^_))+I[3]+3250441966&4294967295,A=O+(D<<22&4294967295|D>>>10),D=_+(N^A&(O^N))+I[4]+4118548399&4294967295,_=A+(D<<7&4294967295|D>>>25),D=N+(O^_&(A^O))+I[5]+1200080426&4294967295,N=_+(D<<12&4294967295|D>>>20),D=O+(A^N&(_^A))+I[6]+2821735955&4294967295,O=N+(D<<17&4294967295|D>>>15),D=A+(_^O&(N^_))+I[7]+4249261313&4294967295,A=O+(D<<22&4294967295|D>>>10),D=_+(N^A&(O^N))+I[8]+1770035416&4294967295,_=A+(D<<7&4294967295|D>>>25),D=N+(O^_&(A^O))+I[9]+2336552879&4294967295,N=_+(D<<12&4294967295|D>>>20),D=O+(A^N&(_^A))+I[10]+4294925233&4294967295,O=N+(D<<17&4294967295|D>>>15),D=A+(_^O&(N^_))+I[11]+2304563134&4294967295,A=O+(D<<22&4294967295|D>>>10),D=_+(N^A&(O^N))+I[12]+1804603682&4294967295,_=A+(D<<7&4294967295|D>>>25),D=N+(O^_&(A^O))+I[13]+4254626195&4294967295,N=_+(D<<12&4294967295|D>>>20),D=O+(A^N&(_^A))+I[14]+2792965006&4294967295,O=N+(D<<17&4294967295|D>>>15),D=A+(_^O&(N^_))+I[15]+1236535329&4294967295,A=O+(D<<22&4294967295|D>>>10),D=_+(O^N&(A^O))+I[1]+4129170786&4294967295,_=A+(D<<5&4294967295|D>>>27),D=N+(A^O&(_^A))+I[6]+3225465664&4294967295,N=_+(D<<9&4294967295|D>>>23),D=O+(_^A&(N^_))+I[11]+643717713&4294967295,O=N+(D<<14&4294967295|D>>>18),D=A+(N^_&(O^N))+I[0]+3921069994&4294967295,A=O+(D<<20&4294967295|D>>>12),D=_+(O^N&(A^O))+I[5]+3593408605&4294967295,_=A+(D<<5&4294967295|D>>>27),D=N+(A^O&(_^A))+I[10]+38016083&4294967295,N=_+(D<<9&4294967295|D>>>23),D=O+(_^A&(N^_))+I[15]+3634488961&4294967295,O=N+(D<<14&4294967295|D>>>18),D=A+(N^_&(O^N))+I[4]+3889429448&4294967295,A=O+(D<<20&4294967295|D>>>12),D=_+(O^N&(A^O))+I[9]+568446438&4294967295,_=A+(D<<5&4294967295|D>>>27),D=N+(A^O&(_^A))+I[14]+3275163606&4294967295,N=_+(D<<9&4294967295|D>>>23),D=O+(_^A&(N^_))+I[3]+4107603335&4294967295,O=N+(D<<14&4294967295|D>>>18),D=A+(N^_&(O^N))+I[8]+1163531501&4294967295,A=O+(D<<20&4294967295|D>>>12),D=_+(O^N&(A^O))+I[13]+2850285829&4294967295,_=A+(D<<5&4294967295|D>>>27),D=N+(A^O&(_^A))+I[2]+4243563512&4294967295,N=_+(D<<9&4294967295|D>>>23),D=O+(_^A&(N^_))+I[7]+1735328473&4294967295,O=N+(D<<14&4294967295|D>>>18),D=A+(N^_&(O^N))+I[12]+2368359562&4294967295,A=O+(D<<20&4294967295|D>>>12),D=_+(A^O^N)+I[5]+4294588738&4294967295,_=A+(D<<4&4294967295|D>>>28),D=N+(_^A^O)+I[8]+2272392833&4294967295,N=_+(D<<11&4294967295|D>>>21),D=O+(N^_^A)+I[11]+1839030562&4294967295,O=N+(D<<16&4294967295|D>>>16),D=A+(O^N^_)+I[14]+4259657740&4294967295,A=O+(D<<23&4294967295|D>>>9),D=_+(A^O^N)+I[1]+2763975236&4294967295,_=A+(D<<4&4294967295|D>>>28),D=N+(_^A^O)+I[4]+1272893353&4294967295,N=_+(D<<11&4294967295|D>>>21),D=O+(N^_^A)+I[7]+4139469664&4294967295,O=N+(D<<16&4294967295|D>>>16),D=A+(O^N^_)+I[10]+3200236656&4294967295,A=O+(D<<23&4294967295|D>>>9),D=_+(A^O^N)+I[13]+681279174&4294967295,_=A+(D<<4&4294967295|D>>>28),D=N+(_^A^O)+I[0]+3936430074&4294967295,N=_+(D<<11&4294967295|D>>>21),D=O+(N^_^A)+I[3]+3572445317&4294967295,O=N+(D<<16&4294967295|D>>>16),D=A+(O^N^_)+I[6]+76029189&4294967295,A=O+(D<<23&4294967295|D>>>9),D=_+(A^O^N)+I[9]+3654602809&4294967295,_=A+(D<<4&4294967295|D>>>28),D=N+(_^A^O)+I[12]+3873151461&4294967295,N=_+(D<<11&4294967295|D>>>21),D=O+(N^_^A)+I[15]+530742520&4294967295,O=N+(D<<16&4294967295|D>>>16),D=A+(O^N^_)+I[2]+3299628645&4294967295,A=O+(D<<23&4294967295|D>>>9),D=_+(O^(A|~N))+I[0]+4096336452&4294967295,_=A+(D<<6&4294967295|D>>>26),D=N+(A^(_|~O))+I[7]+1126891415&4294967295,N=_+(D<<10&4294967295|D>>>22),D=O+(_^(N|~A))+I[14]+2878612391&4294967295,O=N+(D<<15&4294967295|D>>>17),D=A+(N^(O|~_))+I[5]+4237533241&4294967295,A=O+(D<<21&4294967295|D>>>11),D=_+(O^(A|~N))+I[12]+1700485571&4294967295,_=A+(D<<6&4294967295|D>>>26),D=N+(A^(_|~O))+I[3]+2399980690&4294967295,N=_+(D<<10&4294967295|D>>>22),D=O+(_^(N|~A))+I[10]+4293915773&4294967295,O=N+(D<<15&4294967295|D>>>17),D=A+(N^(O|~_))+I[1]+2240044497&4294967295,A=O+(D<<21&4294967295|D>>>11),D=_+(O^(A|~N))+I[8]+1873313359&4294967295,_=A+(D<<6&4294967295|D>>>26),D=N+(A^(_|~O))+I[15]+4264355552&4294967295,N=_+(D<<10&4294967295|D>>>22),D=O+(_^(N|~A))+I[6]+2734768916&4294967295,O=N+(D<<15&4294967295|D>>>17),D=A+(N^(O|~_))+I[13]+1309151649&4294967295,A=O+(D<<21&4294967295|D>>>11),D=_+(O^(A|~N))+I[4]+4149444226&4294967295,_=A+(D<<6&4294967295|D>>>26),D=N+(A^(_|~O))+I[11]+3174756917&4294967295,N=_+(D<<10&4294967295|D>>>22),D=O+(_^(N|~A))+I[2]+718787259&4294967295,O=N+(D<<15&4294967295|D>>>17),D=A+(N^(O|~_))+I[9]+3951481745&4294967295,b.g[0]=b.g[0]+_&4294967295,b.g[1]=b.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,b.g[2]=b.g[2]+O&4294967295,b.g[3]=b.g[3]+N&4294967295}i.prototype.u=function(b,_){_===void 0&&(_=b.length);for(var A=_-this.blockSize,I=this.B,O=this.h,N=0;N<_;){if(O==0)for(;N<=A;)s(this,b,N),N+=this.blockSize;if(typeof b=="string"){for(;N<_;)if(I[O++]=b.charCodeAt(N++),O==this.blockSize){s(this,I),O=0;break}}else for(;N<_;)if(I[O++]=b[N++],O==this.blockSize){s(this,I),O=0;break}}this.h=O,this.o+=_},i.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var _=1;_<b.length-8;++_)b[_]=0;var A=8*this.o;for(_=b.length-8;_<b.length;++_)b[_]=A&255,A/=256;for(this.u(b),b=Array(16),_=A=0;4>_;++_)for(var I=0;32>I;I+=8)b[A++]=this.g[_]>>>I&255;return b};function r(b,_){var A=o;return Object.prototype.hasOwnProperty.call(A,b)?A[b]:A[b]=_(b)}function a(b,_){this.h=_;for(var A=[],I=!0,O=b.length-1;0<=O;O--){var N=b[O]|0;I&&N==_||(A[O]=N,I=!1)}this.g=A}var o={};function l(b){return-128<=b&&128>b?r(b,function(_){return new a([_|0],0>_?-1:0)}):new a([b|0],0>b?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return f;if(0>b)return R(c(-b));for(var _=[],A=1,I=0;b>=A;I++)_[I]=b/A|0,A*=4294967296;return new a(_,0)}function h(b,_){if(b.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(b.charAt(0)=="-")return R(h(b.substring(1),_));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(_,8)),I=f,O=0;O<b.length;O+=8){var N=Math.min(8,b.length-O),D=parseInt(b.substring(O,O+N),_);8>N?(N=c(Math.pow(_,N)),I=I.j(N).add(c(D))):(I=I.j(A),I=I.add(c(D)))}return I}var f=l(0),d=l(1),g=l(16777216);e=a.prototype,e.m=function(){if(T(this))return-R(this).m();for(var b=0,_=1,A=0;A<this.g.length;A++){var I=this.i(A);b+=(0<=I?I:4294967296+I)*_,_*=4294967296}return b},e.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(E(this))return"0";if(T(this))return"-"+R(this).toString(b);for(var _=c(Math.pow(b,6)),A=this,I="";;){var O=C(A,_).g;A=y(A,O.j(_));var N=((0<A.g.length?A.g[0]:A.h)>>>0).toString(b);if(A=O,E(A))return N+I;for(;6>N.length;)N="0"+N;I=N+I}},e.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function E(b){if(b.h!=0)return!1;for(var _=0;_<b.g.length;_++)if(b.g[_]!=0)return!1;return!0}function T(b){return b.h==-1}e.l=function(b){return b=y(this,b),T(b)?-1:E(b)?0:1};function R(b){for(var _=b.g.length,A=[],I=0;I<_;I++)A[I]=~b.g[I];return new a(A,~b.h).add(d)}e.abs=function(){return T(this)?R(this):this},e.add=function(b){for(var _=Math.max(this.g.length,b.g.length),A=[],I=0,O=0;O<=_;O++){var N=I+(this.i(O)&65535)+(b.i(O)&65535),D=(N>>>16)+(this.i(O)>>>16)+(b.i(O)>>>16);I=D>>>16,N&=65535,D&=65535,A[O]=D<<16|N}return new a(A,A[A.length-1]&-2147483648?-1:0)};function y(b,_){return b.add(R(_))}e.j=function(b){if(E(this)||E(b))return f;if(T(this))return T(b)?R(this).j(R(b)):R(R(this).j(b));if(T(b))return R(this.j(R(b)));if(0>this.l(g)&&0>b.l(g))return c(this.m()*b.m());for(var _=this.g.length+b.g.length,A=[],I=0;I<2*_;I++)A[I]=0;for(I=0;I<this.g.length;I++)for(var O=0;O<b.g.length;O++){var N=this.i(I)>>>16,D=this.i(I)&65535,bt=b.i(O)>>>16,at=b.i(O)&65535;A[2*I+2*O]+=D*at,v(A,2*I+2*O),A[2*I+2*O+1]+=N*at,v(A,2*I+2*O+1),A[2*I+2*O+1]+=D*bt,v(A,2*I+2*O+1),A[2*I+2*O+2]+=N*bt,v(A,2*I+2*O+2)}for(I=0;I<_;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=_;I<2*_;I++)A[I]=0;return new a(A,0)};function v(b,_){for(;(b[_]&65535)!=b[_];)b[_+1]+=b[_]>>>16,b[_]&=65535,_++}function x(b,_){this.g=b,this.h=_}function C(b,_){if(E(_))throw Error("division by zero");if(E(b))return new x(f,f);if(T(b))return _=C(R(b),_),new x(R(_.g),R(_.h));if(T(_))return _=C(b,R(_)),new x(R(_.g),_.h);if(30<b.g.length){if(T(b)||T(_))throw Error("slowDivide_ only works with positive integers.");for(var A=d,I=_;0>=I.l(b);)A=M(A),I=M(I);var O=L(A,1),N=L(I,1);for(I=L(I,2),A=L(A,2);!E(I);){var D=N.add(I);0>=D.l(b)&&(O=O.add(A),N=D),I=L(I,1),A=L(A,1)}return _=y(b,O.j(_)),new x(O,_)}for(O=f;0<=b.l(_);){for(A=Math.max(1,Math.floor(b.m()/_.m())),I=Math.ceil(Math.log(A)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),N=c(A),D=N.j(_);T(D)||0<D.l(b);)A-=I,N=c(A),D=N.j(_);E(N)&&(N=d),O=O.add(N),b=y(b,D)}return new x(O,b)}e.A=function(b){return C(this,b).h},e.and=function(b){for(var _=Math.max(this.g.length,b.g.length),A=[],I=0;I<_;I++)A[I]=this.i(I)&b.i(I);return new a(A,this.h&b.h)},e.or=function(b){for(var _=Math.max(this.g.length,b.g.length),A=[],I=0;I<_;I++)A[I]=this.i(I)|b.i(I);return new a(A,this.h|b.h)},e.xor=function(b){for(var _=Math.max(this.g.length,b.g.length),A=[],I=0;I<_;I++)A[I]=this.i(I)^b.i(I);return new a(A,this.h^b.h)};function M(b){for(var _=b.g.length+1,A=[],I=0;I<_;I++)A[I]=b.i(I)<<1|b.i(I-1)>>>31;return new a(A,b.h)}function L(b,_){var A=_>>5;_%=32;for(var I=b.g.length-A,O=[],N=0;N<I;N++)O[N]=0<_?b.i(N+A)>>>_|b.i(N+A+1)<<32-_:b.i(N+A);return new a(O,b.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,B1=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=h,ys=a}).apply(typeof Rb<"u"?Rb:typeof self<"u"?self:typeof window<"u"?window:{});var ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F1,Fo,H1,Bu,Fg,q1,G1,$1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ru=="object"&&ru];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var i=n(this);function s(u,m){if(m)t:{var p=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var k=u[S];if(!(k in p))break t;p=p[k]}u=u[u.length-1],S=p[u],m=m(S),m!=S&&m!=null&&t(p,u,{configurable:!0,writable:!0,value:m})}}function r(u,m){u instanceof String&&(u+="");var p=0,S=!1,k={next:function(){if(!S&&p<u.length){var V=p++;return{value:m(V,u[V]),done:!1}}return S=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}s("Array.prototype.values",function(u){return u||function(){return r(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function c(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function h(u,m,p){return u.call.apply(u.bind,arguments)}function f(u,m,p){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,S),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function d(u,m,p){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,d.apply(null,arguments)}function g(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var S=p.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function E(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(S,k,V){for(var F=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)F[wt-2]=arguments[wt];return m.prototype[k].apply(S,F)}}function T(u){const m=u.length;if(0<m){const p=Array(m);for(let S=0;S<m;S++)p[S]=u[S];return p}return[]}function R(u,m){for(let p=1;p<arguments.length;p++){const S=arguments[p];if(l(S)){const k=u.length||0,V=S.length||0;u.length=k+V;for(let F=0;F<V;F++)u[k+F]=S[F]}else u.push(S)}}class y{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function v(u){return/^[\s\xa0]*$/.test(u)}function x(){var u=o.navigator;return u&&(u=u.userAgent)?u:""}function C(u){return C[" "](u),u}C[" "]=function(){};var M=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function L(u,m,p){for(const S in u)m.call(p,u[S],S,u)}function b(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function _(u){const m={};for(const p in u)m[p]=u[p];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,m){let p,S;for(let k=1;k<arguments.length;k++){S=arguments[k];for(p in S)u[p]=S[p];for(let V=0;V<A.length;V++)p=A[V],Object.prototype.hasOwnProperty.call(S,p)&&(u[p]=S[p])}}function O(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function N(u){o.setTimeout(()=>{throw u},0)}function D(){var u=mt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class bt{constructor(){this.h=this.g=null}add(m,p){const S=at.get();S.set(m,p),this.h?this.h.next=S:this.g=S,this.h=S}}var at=new y(()=>new B,u=>u.reset());class B{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let G,Y=!1,mt=new bt,Et=()=>{const u=o.Promise.resolve(void 0);G=()=>{u.then(yn)}};var yn=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(p){N(p)}var m=at;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}Y=!1};function $t(){this.s=this.s,this.C=this.C}$t.prototype.s=!1,$t.prototype.ma=function(){this.s||(this.s=!0,this.N())},$t.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Rt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Rt.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};o.addEventListener("test",p,m),o.removeEventListener("test",p,m)}catch{}return u}();function ye(u,m){if(Rt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(M){t:{try{C(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Zn[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ye.aa.h.call(this)}}E(ye,Rt);var Zn={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var wc="closure_listenable_"+(1e6*Math.random()|0),mI=0;function gI(u,m,p,S,k){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!S,this.ha=k,this.key=++mI,this.da=this.fa=!1}function Sc(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ac(u){this.src=u,this.g={},this.h=0}Ac.prototype.add=function(u,m,p,S,k){var V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);var F=ad(u,m,S,k);return-1<F?(m=u[F],p||(m.fa=!1)):(m=new gI(m,this.src,V,!!S,k),m.fa=p,u.push(m)),m};function rd(u,m){var p=m.type;if(p in u.g){var S=u.g[p],k=Array.prototype.indexOf.call(S,m,void 0),V;(V=0<=k)&&Array.prototype.splice.call(S,k,1),V&&(Sc(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function ad(u,m,p,S){for(var k=0;k<u.length;++k){var V=u[k];if(!V.da&&V.listener==m&&V.capture==!!p&&V.ha==S)return k}return-1}var od="closure_lm_"+(1e6*Math.random()|0),ld={};function U_(u,m,p,S,k){if(Array.isArray(m)){for(var V=0;V<m.length;V++)U_(u,m[V],p,S,k);return null}return p=B_(p),u&&u[wc]?u.K(m,p,c(S)?!!S.capture:!1,k):pI(u,m,p,!1,S,k)}function pI(u,m,p,S,k,V){if(!m)throw Error("Invalid event type");var F=c(k)?!!k.capture:!!k,wt=ud(u);if(wt||(u[od]=wt=new Ac(u)),p=wt.add(m,p,S,F,V),p.proxy)return p;if(S=yI(),p.proxy=S,S.src=u,S.listener=p,u.addEventListener)ce||(k=F),k===void 0&&(k=!1),u.addEventListener(m.toString(),S,k);else if(u.attachEvent)u.attachEvent(z_(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return p}function yI(){function u(p){return m.call(u.src,u.listener,p)}const m=_I;return u}function j_(u,m,p,S,k){if(Array.isArray(m))for(var V=0;V<m.length;V++)j_(u,m[V],p,S,k);else S=c(S)?!!S.capture:!!S,p=B_(p),u&&u[wc]?(u=u.i,m=String(m).toString(),m in u.g&&(V=u.g[m],p=ad(V,p,S,k),-1<p&&(Sc(V[p]),Array.prototype.splice.call(V,p,1),V.length==0&&(delete u.g[m],u.h--)))):u&&(u=ud(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ad(m,p,S,k)),(p=-1<u?m[u]:null)&&cd(p))}function cd(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[wc])rd(m.i,u);else{var p=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(p,S,u.capture):m.detachEvent?m.detachEvent(z_(p),S):m.addListener&&m.removeListener&&m.removeListener(S),(p=ud(m))?(rd(p,u),p.h==0&&(p.src=null,m[od]=null)):Sc(u)}}}function z_(u){return u in ld?ld[u]:ld[u]="on"+u}function _I(u,m){if(u.da)u=!0;else{m=new ye(m,this);var p=u.listener,S=u.ha||u.src;u.fa&&cd(u),u=p.call(S,m)}return u}function ud(u){return u=u[od],u instanceof Ac?u:null}var hd="__closure_events_fn_"+(1e9*Math.random()>>>0);function B_(u){return typeof u=="function"?u:(u[hd]||(u[hd]=function(m){return u.handleEvent(m)}),u[hd])}function _e(){$t.call(this),this.i=new Ac(this),this.M=this,this.F=null}E(_e,$t),_e.prototype[wc]=!0,_e.prototype.removeEventListener=function(u,m,p,S){j_(this,u,m,p,S)};function Re(u,m){var p,S=u.F;if(S)for(p=[];S;S=S.F)p.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new Rt(m,u);else if(m instanceof Rt)m.target=m.target||u;else{var k=m;m=new Rt(S,u),I(m,k)}if(k=!0,p)for(var V=p.length-1;0<=V;V--){var F=m.g=p[V];k=Rc(F,S,!0,m)&&k}if(F=m.g=u,k=Rc(F,S,!0,m)&&k,k=Rc(F,S,!1,m)&&k,p)for(V=0;V<p.length;V++)F=m.g=p[V],k=Rc(F,S,!1,m)&&k}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],S=0;S<p.length;S++)Sc(p[S]);delete u.g[m],u.h--}}this.F=null},_e.prototype.K=function(u,m,p,S){return this.i.add(String(u),m,!1,p,S)},_e.prototype.L=function(u,m,p,S){return this.i.add(String(u),m,!0,p,S)};function Rc(u,m,p,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,V=0;V<m.length;++V){var F=m[V];if(F&&!F.da&&F.capture==p){var wt=F.listener,ue=F.ha||F.src;F.fa&&rd(u.i,F),k=wt.call(ue,S)!==!1&&k}}return k&&!S.defaultPrevented}function F_(u,m,p){if(typeof u=="function")p&&(u=d(u,p));else if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:o.setTimeout(u,m||0)}function H_(u){u.g=F_(()=>{u.g=null,u.i&&(u.i=!1,H_(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class vI extends $t{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:H_(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lo(u){$t.call(this),this.h=u,this.g={}}E(lo,$t);var q_=[];function G_(u){L(u.g,function(m,p){this.g.hasOwnProperty(p)&&cd(m)},u),u.g={}}lo.prototype.N=function(){lo.aa.N.call(this),G_(this)},lo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fd=o.JSON.stringify,bI=o.JSON.parse,EI=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function dd(){}dd.prototype.h=null;function $_(u){return u.h||(u.h=u.i())}function Y_(){}var co={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function md(){Rt.call(this,"d")}E(md,Rt);function gd(){Rt.call(this,"c")}E(gd,Rt);var Ls={},K_=null;function Ic(){return K_=K_||new _e}Ls.La="serverreachability";function Q_(u){Rt.call(this,Ls.La,u)}E(Q_,Rt);function uo(u){const m=Ic();Re(m,new Q_(m))}Ls.STAT_EVENT="statevent";function W_(u,m){Rt.call(this,Ls.STAT_EVENT,u),this.stat=m}E(W_,Rt);function Ie(u){const m=Ic();Re(m,new W_(m,u))}Ls.Ma="timingevent";function X_(u,m){Rt.call(this,Ls.Ma,u),this.size=m}E(X_,Rt);function ho(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},m)}function fo(){this.g=!0}fo.prototype.xa=function(){this.g=!1};function TI(u,m,p,S,k,V){u.info(function(){if(u.g)if(V)for(var F="",wt=V.split("&"),ue=0;ue<wt.length;ue++){var ut=wt[ue].split("=");if(1<ut.length){var ve=ut[0];ut=ut[1];var be=ve.split("_");F=2<=be.length&&be[1]=="type"?F+(ve+"="+ut+"&"):F+(ve+"=redacted&")}}else F=null;else F=V;return"XMLHTTP REQ ("+S+") [attempt "+k+"]: "+m+`
`+p+`
`+F})}function xI(u,m,p,S,k,V,F){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+k+"]: "+m+`
`+p+`
`+V+" "+F})}function Mr(u,m,p,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+SI(u,p)+(S?" "+S:"")})}function wI(u,m){u.info(function(){return"TIMEOUT: "+m})}fo.prototype.info=function(){};function SI(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var S=p[u];if(!(2>S.length)){var k=S[1];if(Array.isArray(k)&&!(1>k.length)){var V=k[0];if(V!="noop"&&V!="stop"&&V!="close")for(var F=1;F<k.length;F++)k[F]=""}}}}return fd(p)}catch{return m}}var Cc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Z_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pd;function Dc(){}E(Dc,dd),Dc.prototype.g=function(){return new XMLHttpRequest},Dc.prototype.i=function(){return{}},pd=new Dc;function Pi(u,m,p,S){this.j=u,this.i=m,this.l=p,this.R=S||1,this.U=new lo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new J_}function J_(){this.i=null,this.g="",this.h=!1}var t0={},yd={};function _d(u,m,p){u.L=1,u.v=kc(Jn(m)),u.m=p,u.P=!0,e0(u,null)}function e0(u,m){u.F=Date.now(),Oc(u),u.A=Jn(u.v);var p=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),g0(p.i,"t",S),u.C=0,p=u.j.J,u.h=new J_,u.g=N0(u.j,p?m:null,!u.m),0<u.O&&(u.M=new vI(d(u.Y,u,u.g),u.O)),m=u.U,p=u.g,S=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(q_[0]=k.toString()),k=q_);for(var V=0;V<k.length;V++){var F=U_(p,k[V],S||m.handleEvent,!1,m.h||m);if(!F)break;m.g[F.key]=F}m=u.H?_(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),uo(),TI(u.i,u.u,u.A,u.l,u.R,u.m)}Pi.prototype.ca=function(u){u=u.target;const m=this.M;m&&ti(u)==3?m.j():this.Y(u)},Pi.prototype.Y=function(u){try{if(u==this.g)t:{const be=ti(this.g);var m=this.g.Ba();const Pr=this.g.Z();if(!(3>be)&&(be!=3||this.g&&(this.h.h||this.g.oa()||T0(this.g)))){this.J||be!=4||m==7||(m==8||0>=Pr?uo(3):uo(2)),vd(this);var p=this.g.Z();this.X=p;e:if(n0(this)){var S=T0(this.g);u="";var k=S.length,V=ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vs(this),mo(this);var F="";break e}this.h.i=new o.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(S[m],{stream:!(V&&m==k-1)});S.length=0,this.h.g+=u,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=p==200,xI(this.i,this.u,this.A,this.l,this.R,be,p),this.o){if(this.T&&!this.K){e:{if(this.g){var wt,ue=this.g;if((wt=ue.g?ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(wt)){var ut=wt;break e}}ut=null}if(p=ut)Mr(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bd(this,p);else{this.o=!1,this.s=3,Ie(12),Vs(this),mo(this);break t}}if(this.P){p=!0;let _n;for(;!this.J&&this.C<F.length;)if(_n=AI(this,F),_n==yd){be==4&&(this.s=4,Ie(14),p=!1),Mr(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==t0){this.s=4,Ie(15),Mr(this.i,this.l,F,"[Invalid Chunk]"),p=!1;break}else Mr(this.i,this.l,_n,null),bd(this,_n);if(n0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||F.length!=0||this.h.h||(this.s=1,Ie(16),p=!1),this.o=this.o&&p,!p)Mr(this.i,this.l,F,"[Invalid Chunked Response]"),Vs(this),mo(this);else if(0<F.length&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.ba&&!ve.M&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Ad(ve),ve.M=!0,Ie(11))}}else Mr(this.i,this.l,F,null),bd(this,F);be==4&&Vs(this),this.o&&!this.J&&(be==4?C0(this.j,this):(this.o=!1,Oc(this)))}else HI(this.g),p==400&&0<F.indexOf("Unknown SID")?(this.s=3,Ie(12)):(this.s=0,Ie(13)),Vs(this),mo(this)}}}catch{}finally{}};function n0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function AI(u,m){var p=u.C,S=m.indexOf(`
`,p);return S==-1?yd:(p=Number(m.substring(p,S)),isNaN(p)?t0:(S+=1,S+p>m.length?yd:(m=m.slice(S,S+p),u.C=S+p,m)))}Pi.prototype.cancel=function(){this.J=!0,Vs(this)};function Oc(u){u.S=Date.now()+u.I,i0(u,u.I)}function i0(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ho(d(u.ba,u),m)}function vd(u){u.B&&(o.clearTimeout(u.B),u.B=null)}Pi.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(wI(this.i,this.A),this.L!=2&&(uo(),Ie(17)),Vs(this),this.s=2,mo(this)):i0(this,this.S-u)};function mo(u){u.j.G==0||u.J||C0(u.j,u)}function Vs(u){vd(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,G_(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function bd(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Ed(p.h,u))){if(!u.K&&Ed(p.h,u)&&p.G==3){try{var S=p.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var k=S;if(k[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)zc(p),Uc(p);else break t;Sd(p),Ie(18)}}else p.za=k[1],0<p.za-p.T&&37500>k[2]&&p.F&&p.v==0&&!p.C&&(p.C=ho(d(p.Za,p),6e3));if(1>=a0(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else js(p,11)}else if((u.K||p.g==u)&&zc(p),!v(m))for(k=p.Da.g.parse(m),m=0;m<k.length;m++){let ut=k[m];if(p.T=ut[0],ut=ut[1],p.G==2)if(ut[0]=="c"){p.K=ut[1],p.ia=ut[2];const ve=ut[3];ve!=null&&(p.la=ve,p.j.info("VER="+p.la));const be=ut[4];be!=null&&(p.Aa=be,p.j.info("SVER="+p.Aa));const Pr=ut[5];Pr!=null&&typeof Pr=="number"&&0<Pr&&(S=1.5*Pr,p.L=S,p.j.info("backChannelRequestTimeoutMs_="+S)),S=p;const _n=u.g;if(_n){const Fc=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fc){var V=S.h;V.g||Fc.indexOf("spdy")==-1&&Fc.indexOf("quic")==-1&&Fc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Td(V,V.h),V.h=null))}if(S.D){const Rd=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;Rd&&(S.ya=Rd,Ct(S.I,S.D,Rd))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),S=p;var F=u;if(S.qa=M0(S,S.J?S.ia:null,S.W),F.K){o0(S.h,F);var wt=F,ue=S.L;ue&&(wt.I=ue),wt.B&&(vd(wt),Oc(wt)),S.g=F}else R0(S);0<p.i.length&&jc(p)}else ut[0]!="stop"&&ut[0]!="close"||js(p,7);else p.G==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?js(p,7):wd(p):ut[0]!="noop"&&p.l&&p.l.ta(ut),p.v=0)}}uo(4)}catch{}}var RI=class{constructor(u,m){this.g=u,this.map=m}};function s0(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function r0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function a0(u){return u.h?1:u.g?u.g.size:0}function Ed(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Td(u,m){u.g?u.g.add(m):u.h=m}function o0(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}s0.prototype.cancel=function(){if(this.i=l0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function l0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return T(u.i)}function II(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],p=u.length,S=0;S<p;S++)m.push(u[S]);return m}m=[],p=0;for(S in u)m[p++]=u[S];return m}function CI(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const S in u)m[p++]=S;return m}}}function c0(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=CI(u),S=II(u),k=S.length,V=0;V<k;V++)m.call(void 0,S[V],p&&p[V],u)}var u0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DI(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var S=u[p].indexOf("="),k=null;if(0<=S){var V=u[p].substring(0,S);k=u[p].substring(S+1)}else V=u[p];m(V,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Us(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Us){this.h=u.h,Mc(this,u.j),this.o=u.o,this.g=u.g,Nc(this,u.s),this.l=u.l;var m=u.i,p=new yo;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),h0(this,p),this.m=u.m}else u&&(m=String(u).match(u0))?(this.h=!1,Mc(this,m[1]||"",!0),this.o=go(m[2]||""),this.g=go(m[3]||"",!0),Nc(this,m[4]),this.l=go(m[5]||"",!0),h0(this,m[6]||"",!0),this.m=go(m[7]||"")):(this.h=!1,this.i=new yo(null,this.h))}Us.prototype.toString=function(){var u=[],m=this.j;m&&u.push(po(m,f0,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(po(m,f0,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(po(p,p.charAt(0)=="/"?NI:MI,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",po(p,PI)),u.join("")};function Jn(u){return new Us(u)}function Mc(u,m,p){u.j=p?go(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Nc(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function h0(u,m,p){m instanceof yo?(u.i=m,LI(u.i,u.h)):(p||(m=po(m,kI)),u.i=new yo(m,u.h))}function Ct(u,m,p){u.i.set(m,p)}function kc(u){return Ct(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function go(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function po(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,OI),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function OI(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var f0=/[#\/\?@]/g,MI=/[#\?:]/g,NI=/[#\?]/g,kI=/[#\?@]/g,PI=/#/g;function yo(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Li(u){u.g||(u.g=new Map,u.h=0,u.i&&DI(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}e=yo.prototype,e.add=function(u,m){Li(this),this.i=null,u=Nr(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function d0(u,m){Li(u),m=Nr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function m0(u,m){return Li(u),m=Nr(u,m),u.g.has(m)}e.forEach=function(u,m){Li(this),this.g.forEach(function(p,S){p.forEach(function(k){u.call(m,k,S,this)},this)},this)},e.na=function(){Li(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let S=0;S<m.length;S++){const k=u[S];for(let V=0;V<k.length;V++)p.push(m[S])}return p},e.V=function(u){Li(this);let m=[];if(typeof u=="string")m0(this,u)&&(m=m.concat(this.g.get(Nr(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},e.set=function(u,m){return Li(this),this.i=null,u=Nr(this,u),m0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},e.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function g0(u,m,p){d0(u,m),0<p.length&&(u.i=null,u.g.set(Nr(u,m),T(p)),u.h+=p.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var S=m[p];const V=encodeURIComponent(String(S)),F=this.V(S);for(S=0;S<F.length;S++){var k=V;F[S]!==""&&(k+="="+encodeURIComponent(String(F[S]))),u.push(k)}}return this.i=u.join("&")};function Nr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function LI(u,m){m&&!u.j&&(Li(u),u.i=null,u.g.forEach(function(p,S){var k=S.toLowerCase();S!=k&&(d0(this,S),g0(this,k,p))},u)),u.j=m}function VI(u,m){const p=new fo;if(o.Image){const S=new Image;S.onload=g(Vi,p,"TestLoadImage: loaded",!0,m,S),S.onerror=g(Vi,p,"TestLoadImage: error",!1,m,S),S.onabort=g(Vi,p,"TestLoadImage: abort",!1,m,S),S.ontimeout=g(Vi,p,"TestLoadImage: timeout",!1,m,S),o.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function UI(u,m){const p=new fo,S=new AbortController,k=setTimeout(()=>{S.abort(),Vi(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(V=>{clearTimeout(k),V.ok?Vi(p,"TestPingServer: ok",!0,m):Vi(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),Vi(p,"TestPingServer: error",!1,m)})}function Vi(u,m,p,S,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),S(p)}catch{}}function jI(){this.g=new EI}function zI(u,m,p){const S=p||"";try{c0(u,function(k,V){let F=k;c(k)&&(F=fd(k)),m.push(S+V+"="+encodeURIComponent(F))})}catch(k){throw m.push(S+"type="+encodeURIComponent("_badmap")),k}}function Pc(u){this.l=u.Ub||null,this.j=u.eb||!1}E(Pc,dd),Pc.prototype.g=function(){return new Lc(this.l,this.j)},Pc.prototype.i=function(u){return function(){return u}}({});function Lc(u,m){_e.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Lc,_e),e=Lc.prototype,e.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,vo(this)},e.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||o).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_o(this)),this.readyState=0},e.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,vo(this)),this.g&&(this.readyState=3,vo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;p0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function p0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}e.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?_o(this):vo(this),this.readyState==3&&p0(this)}},e.Ra=function(u){this.g&&(this.response=this.responseText=u,_o(this))},e.Qa=function(u){this.g&&(this.response=u,_o(this))},e.ga=function(){this.g&&_o(this)};function _o(u){u.readyState=4,u.l=null,u.j=null,u.v=null,vo(u)}e.setRequestHeader=function(u,m){this.u.append(u,m)},e.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function vo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Lc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function y0(u){let m="";return L(u,function(p,S){m+=S,m+=":",m+=p,m+=`\r
`}),m}function xd(u,m,p){t:{for(S in p){var S=!1;break t}S=!0}S||(p=y0(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Ct(u,m,p))}function jt(u){_e.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(jt,_e);var BI=/^https?$/i,FI=["POST","PUT"];e=jt.prototype,e.Ha=function(u){this.J=u},e.ea=function(u,m,p,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pd.g(),this.v=this.o?$_(this.o):$_(pd),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(V){_0(this,V);return}if(u=p||"",p=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var k in S)p.set(k,S[k]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const V of S.keys())p.set(V,S.get(V));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(p.keys()).find(V=>V.toLowerCase()=="content-type"),k=o.FormData&&u instanceof o.FormData,!(0<=Array.prototype.indexOf.call(FI,m,void 0))||S||k||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,F]of p)this.g.setRequestHeader(V,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{E0(this),this.u=!0,this.g.send(u),this.u=!1}catch(V){_0(this,V)}};function _0(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,v0(u),Vc(u)}function v0(u){u.A||(u.A=!0,Re(u,"complete"),Re(u,"error"))}e.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Re(this,"complete"),Re(this,"abort"),Vc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vc(this,!0)),jt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?b0(this):this.bb())},e.bb=function(){b0(this)};function b0(u){if(u.h&&typeof a<"u"&&(!u.v[1]||ti(u)!=4||u.Z()!=2)){if(u.u&&ti(u)==4)F_(u.Ea,0,u);else if(Re(u,"readystatechange"),ti(u)==4){u.h=!1;try{const F=u.Z();t:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var S;if(S=F===0){var k=String(u.D).match(u0)[1]||null;!k&&o.self&&o.self.location&&(k=o.self.location.protocol.slice(0,-1)),S=!BI.test(k?k.toLowerCase():"")}p=S}if(p)Re(u,"complete"),Re(u,"success");else{u.m=6;try{var V=2<ti(u)?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.Z()+"]",v0(u)}}finally{Vc(u)}}}}function Vc(u,m){if(u.g){E0(u);const p=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Re(u,"ready");try{p.onreadystatechange=S}catch{}}}function E0(u){u.I&&(o.clearTimeout(u.I),u.I=null)}e.isActive=function(){return!!this.g};function ti(u){return u.g?u.g.readyState:0}e.Z=function(){try{return 2<ti(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),bI(m)}};function T0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function HI(u){const m={};u=(u.g&&2<=ti(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(v(u[S]))continue;var p=O(u[S]);const k=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const V=m[k]||[];m[k]=V,V.push(p)}b(m,function(S){return S.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bo(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function x0(u){this.Aa=0,this.i=[],this.j=new fo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bo("baseRetryDelayMs",5e3,u),this.cb=bo("retryDelaySeedMs",1e4,u),this.Wa=bo("forwardChannelMaxRetries",2,u),this.wa=bo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new s0(u&&u.concurrentRequestLimit),this.Da=new jI,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=x0.prototype,e.la=8,e.G=1,e.connect=function(u,m,p,S){Ie(0),this.W=u,this.H=m||{},p&&S!==void 0&&(this.H.OSID=p,this.H.OAID=S),this.F=this.X,this.I=M0(this,null,this.W),jc(this)};function wd(u){if(w0(u),u.G==3){var m=u.U++,p=Jn(u.I);if(Ct(p,"SID",u.K),Ct(p,"RID",m),Ct(p,"TYPE","terminate"),Eo(u,p),m=new Pi(u,u.j,m),m.L=2,m.v=kc(Jn(p)),p=!1,o.navigator&&o.navigator.sendBeacon)try{p=o.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&o.Image&&(new Image().src=m.v,p=!0),p||(m.g=N0(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Oc(m)}O0(u)}function Uc(u){u.g&&(Ad(u),u.g.cancel(),u.g=null)}function w0(u){Uc(u),u.u&&(o.clearTimeout(u.u),u.u=null),zc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&o.clearTimeout(u.s),u.s=null)}function jc(u){if(!r0(u.h)&&!u.s){u.s=!0;var m=u.Ga;G||Et(),Y||(G(),Y=!0),mt.add(m,u),u.B=0}}function qI(u,m){return a0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ho(d(u.Ga,u,m),D0(u,u.B)),u.B++,!0)}e.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new Pi(this,this.j,u);let V=this.o;if(this.S&&(V?(V=_(V),I(V,this.S)):V=this.S),this.m!==null||this.O||(k.H=V,V=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var S=this.i[p];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=A0(this,k,m),p=Jn(this.I),Ct(p,"RID",u),Ct(p,"CVER",22),this.D&&Ct(p,"X-HTTP-Session-Id",this.D),Eo(this,p),V&&(this.O?m="headers="+encodeURIComponent(String(y0(V)))+"&"+m:this.m&&xd(p,this.m,V)),Td(this.h,k),this.Ua&&Ct(p,"TYPE","init"),this.P?(Ct(p,"$req",m),Ct(p,"SID","null"),k.T=!0,_d(k,p,null)):_d(k,p,m),this.G=2}}else this.G==3&&(u?S0(this,u):this.i.length==0||r0(this.h)||S0(this))};function S0(u,m){var p;m?p=m.l:p=u.U++;const S=Jn(u.I);Ct(S,"SID",u.K),Ct(S,"RID",p),Ct(S,"AID",u.T),Eo(u,S),u.m&&u.o&&xd(S,u.m,u.o),p=new Pi(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=A0(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Td(u.h,p),_d(p,S,m)}function Eo(u,m){u.H&&L(u.H,function(p,S){Ct(m,S,p)}),u.l&&c0({},function(p,S){Ct(m,S,p)})}function A0(u,m,p){p=Math.min(u.i.length,p);var S=u.l?d(u.l.Na,u.l,u):null;t:{var k=u.i;let V=-1;for(;;){const F=["count="+p];V==-1?0<p?(V=k[0].g,F.push("ofs="+V)):V=0:F.push("ofs="+V);let wt=!0;for(let ue=0;ue<p;ue++){let ut=k[ue].g;const ve=k[ue].map;if(ut-=V,0>ut)V=Math.max(0,k[ue].g-100),wt=!1;else try{zI(ve,F,"req"+ut+"_")}catch{S&&S(ve)}}if(wt){S=F.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,S}function R0(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;G||Et(),Y||(G(),Y=!0),mt.add(m,u),u.v=0}}function Sd(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ho(d(u.Fa,u),D0(u,u.v)),u.v++,!0)}e.Fa=function(){if(this.u=null,I0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ho(d(this.ab,this),u)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ie(10),Uc(this),I0(this))};function Ad(u){u.A!=null&&(o.clearTimeout(u.A),u.A=null)}function I0(u){u.g=new Pi(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Jn(u.qa);Ct(m,"RID","rpc"),Ct(m,"SID",u.K),Ct(m,"AID",u.T),Ct(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ct(m,"TO",u.ja),Ct(m,"TYPE","xmlhttp"),Eo(u,m),u.m&&u.o&&xd(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=kc(Jn(m)),p.m=null,p.P=!0,e0(p,u)}e.Za=function(){this.C!=null&&(this.C=null,Uc(this),Sd(this),Ie(19))};function zc(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function C0(u,m){var p=null;if(u.g==m){zc(u),Ad(u),u.g=null;var S=2}else if(Ed(u.h,m))p=m.D,o0(u.h,m),S=1;else return;if(u.G!=0){if(m.o)if(S==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;S=Ic(),Re(S,new X_(S,p)),jc(u)}else R0(u);else if(k=m.s,k==3||k==0&&0<m.X||!(S==1&&qI(u,m)||S==2&&Sd(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),k){case 1:js(u,5);break;case 4:js(u,10);break;case 3:js(u,6);break;default:js(u,2)}}}function D0(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function js(u,m){if(u.j.info("Error code "+m),m==2){var p=d(u.fb,u),S=u.Xa;const k=!S;S=new Us(S||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Mc(S,"https"),kc(S),k?VI(S.toString(),p):UI(S.toString(),p)}else Ie(2);u.G=0,u.l&&u.l.sa(m),O0(u),w0(u)}e.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))};function O0(u){if(u.G=0,u.ka=[],u.l){const m=l0(u.h);(m.length!=0||u.i.length!=0)&&(R(u.ka,m),R(u.ka,u.i),u.h.i.length=0,T(u.i),u.i.length=0),u.l.ra()}}function M0(u,m,p){var S=p instanceof Us?Jn(p):new Us(p);if(S.g!="")m&&(S.g=m+"."+S.g),Nc(S,S.s);else{var k=o.location;S=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var V=new Us(null);S&&Mc(V,S),m&&(V.g=m),k&&Nc(V,k),p&&(V.l=p),S=V}return p=u.D,m=u.ya,p&&m&&Ct(S,p,m),Ct(S,"VER",u.la),Eo(u,S),S}function N0(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new jt(new Pc({eb:p})):new jt(u.pa),m.Ha(u.J),m}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function k0(){}e=k0.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Bc(){}Bc.prototype.g=function(u,m){return new He(u,m)};function He(u,m){_e.call(this),this.g=new x0(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!v(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!v(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new kr(this)}E(He,_e),He.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},He.prototype.close=function(){wd(this.g)},He.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=fd(u),u=p);m.i.push(new RI(m.Ya++,u)),m.G==3&&jc(m)},He.prototype.N=function(){this.g.l=null,delete this.j,wd(this.g),delete this.g,He.aa.N.call(this)};function P0(u){md.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}E(P0,md);function L0(){gd.call(this),this.status=1}E(L0,gd);function kr(u){this.g=u}E(kr,k0),kr.prototype.ua=function(){Re(this.g,"a")},kr.prototype.ta=function(u){Re(this.g,new P0(u))},kr.prototype.sa=function(u){Re(this.g,new L0)},kr.prototype.ra=function(){Re(this.g,"b")},Bc.prototype.createWebChannel=Bc.prototype.g,He.prototype.send=He.prototype.o,He.prototype.open=He.prototype.m,He.prototype.close=He.prototype.close,$1=function(){return new Bc},G1=function(){return Ic()},q1=Ls,Fg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cc.NO_ERROR=0,Cc.TIMEOUT=8,Cc.HTTP_ERROR=6,Bu=Cc,Z_.COMPLETE="complete",H1=Z_,Y_.EventType=co,co.OPEN="a",co.CLOSE="b",co.ERROR="c",co.MESSAGE="d",_e.prototype.listen=_e.prototype.K,Fo=Y_,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,F1=jt}).apply(typeof ru<"u"?ru:typeof self<"u"?self:typeof window<"u"?window:{});const Ib="@firebase/firestore",Cb="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Te.UNAUTHENTICATED=new Te(null),Te.GOOGLE_CREDENTIALS=new Te("google-credentials-uid"),Te.FIRST_PARTY=new Te("first-party-uid"),Te.MOCK_USER=new Te("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new Lf("@firebase/firestore");function Hr(){return hr.logLevel}function H(e,...t){if(hr.logLevel<=st.DEBUG){const n=t.map(Iy);hr.debug(`Firestore (${to}): ${e}`,...n)}}function Ii(e,...t){if(hr.logLevel<=st.ERROR){const n=t.map(Iy);hr.error(`Firestore (${to}): ${e}`,...n)}}function Na(e,...t){if(hr.logLevel<=st.WARN){const n=t.map(Iy);hr.warn(`Firestore (${to}): ${e}`,...n)}}function Iy(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,Y1(e,i,n)}function Y1(e,t,n){let i=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Ii(i),new Error(i)}function gt(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||Y1(t,s,i)}function Z(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Mn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class oP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Te.UNAUTHENTICATED))}shutdown(){}}class lP{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cP{constructor(t){this.t=t,this.currentUser=Te.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){gt(this.o===void 0,42304);let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let r=new _s;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new _s,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=r;t.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},o=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new _s)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(gt(typeof i.accessToken=="string",31837,{l:i}),new K1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return gt(t===null||typeof t=="string",2055,{h:t}),new Te(t)}}class uP{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=Te.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hP{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new uP(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Te.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Db{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fP{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){gt(this.o===void 0,3512);const i=r=>{r.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Db(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(gt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Db(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=dP(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=t.charAt(s[r]%62))}return i}}function tt(e,t){return e<t?-1:e>t?1:0}function Hg(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),s=t.codePointAt(n);if(i!==s){if(i<128&&s<128)return tt(i,s);{const r=Q1(),a=mP(r.encode(Ob(e,n)),r.encode(Ob(t,n)));return a!==0?a:tt(i,s)}}n+=i>65535?2:1}return tt(e.length,t.length)}function Ob(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function mP(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return tt(e[n],t[n]);return tt(e.length,t.length)}function ka(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=-62135596800,Nb=1e6;class Xt{static now(){return Xt.fromMillis(Date.now())}static fromDate(t){return Xt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*Nb);return new Xt(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new q(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Mb)throw new q(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new q(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nb}_compareTo(t){return this.seconds===t.seconds?tt(this.nanoseconds,t.nanoseconds):tt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Mb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{static fromTimestamp(t){return new X(t)}static min(){return new X(new Xt(0,0))}static max(){return new X(new Xt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="__name__";class Vn{constructor(t,n,i){n===void 0?n=0:n>t.length&&Q(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Q(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Vn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Vn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const r=Vn.compareSegments(t.get(s),n.get(s));if(r!==0)return r}return tt(t.length,n.length)}static compareSegments(t,n){const i=Vn.isNumericId(t),s=Vn.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Vn.extractNumericId(t).compare(Vn.extractNumericId(n)):Hg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ys.fromString(t.substring(4,t.length-2))}}class Ot extends Vn{construct(t,n,i){return new Ot(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new q(j.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Ot(n)}static emptyPath(){return new Ot([])}}const gP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class me extends Vn{construct(t,n,i){return new me(t,n,i)}static isValidIdentifier(t){return gP.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),me.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kb}static keyField(){return new me([kb])}static fromServerFormat(t){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new q(j.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<t.length;){const o=t[s];if(o==="\\"){if(s+1===t.length)throw new q(j.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(i+=o,s++):(r(),s++)}if(r(),a)throw new q(j.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new me(n)}static emptyPath(){return new me([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.path=t}static fromPath(t){return new $(Ot.fromString(t))}static fromName(t){return new $(Ot.fromString(t).popFirst(5))}static empty(){return new $(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ot.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ot.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new $(new Ot(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=-1;function pP(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=X.fromTimestamp(i===1e9?new Xt(n+1,0):new Xt(n,i));return new Rs(s,$.empty(),t)}function yP(e){return new Rs(e.readTime,e.key,Ll)}class Rs{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Rs(X.min(),$.empty(),Ll)}static max(){return new Rs(X.max(),$.empty(),Ll)}}function _P(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=$.comparator(e.documentKey,t.documentKey),n!==0?n:tt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(e){if(e.code!==j.FAILED_PRECONDITION||e.message!==vP)throw e;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new U((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):U.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):U.reject(n)}static resolve(t){return new U((n,i)=>{n(t)})}static reject(t){return new U((n,i)=>{i(t)})}static waitFor(t){return new U((n,i)=>{let s=0,r=0,a=!1;t.forEach(o=>{++s,o.next(()=>{++r,a&&r===s&&n()},l=>i(l))}),a=!0,r===s&&n()})}static or(t){let n=U.resolve(!1);for(const i of t)n=n.next(s=>s?U.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(t,n){return new U((i,s)=>{const r=t.length,a=new Array(r);let o=0;for(let l=0;l<r;l++){const c=l;n(t[c]).next(h=>{a[c]=h,++o,o===r&&i(a)},h=>s(h))}})}static doWhile(t,n){return new U((i,s)=>{const r=()=>{t()===!0?n().next(()=>{r()},s):i()};r()})}}function EP(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function no(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Vf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy=-1;function Uf(e){return e==null}function Uh(e){return e===0&&1/e==-1/0}function TP(e){return typeof e=="number"&&Number.isInteger(e)&&!Uh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="";function xP(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Pb(t)),t=wP(e.get(n),t);return Pb(t)}function wP(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const r=e.charAt(s);switch(r){case"\0":n+="";break;case X1:n+="";break;default:n+=r}}return n}function Pb(e){return e+X1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ar(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Z1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(t,n){this.comparator=t,this.root=n||fe.EMPTY}insert(t,n){return new Ut(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,fe.BLACK,null,null))}remove(t){return new Ut(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new au(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new au(this.root,t,this.comparator,!1)}getReverseIterator(){return new au(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new au(this.root,t,this.comparator,!0)}}class au{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?i(t.key,n):1,n&&s&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class fe{constructor(t,n,i,s,r){this.key=t,this.value=n,this.color=i??fe.RED,this.left=s??fe.EMPTY,this.right=r??fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,r){return new fe(t??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const r=i(t,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(t,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return fe.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Q(27949);return t+(this.isRed()?0:1)}}fe.EMPTY=null,fe.RED=!0,fe.BLACK=!1;fe.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(t,n,i,s,r){return this}insert(t,n,i){return new fe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(t){this.comparator=t,this.data=new Ut(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vb(this.data.getIterator())}getIteratorFrom(t){return new Vb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof te)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new te(this.comparator);return n.data=t,n}}class Vb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t){this.fields=t,t.sort(me.comparator)}static empty(){return new bn([])}unionWith(t){let n=new te(me.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new bn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ka(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new J1("Invalid base64 string: "+r):r}}(t);return new pe(n)}static fromUint8Array(t){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(t);return new pe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return tt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}pe.EMPTY_BYTE_STRING=new pe("");const SP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(e){if(gt(!!e,39018),typeof e=="string"){let t=0;const n=SP.exec(e);if(gt(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:qt(e.seconds),nanos:qt(e.nanos)}}function qt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Cs(e){return typeof e=="string"?pe.fromBase64String(e):pe.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="server_timestamp",eA="__type__",nA="__previous_value__",iA="__local_write_time__";function Dy(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[eA])===null||n===void 0?void 0:n.stringValue)===tA}function jf(e){const t=e.mapValue.fields[nA];return Dy(t)?jf(t):t}function Vl(e){const t=Is(e.mapValue.fields[iA].timestampValue);return new Xt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(t,n,i,s,r,a,o,l,c,h){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const jh="(default)";class Ul{constructor(t,n){this.projectId=t,this.database=n||jh}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===jh}isEqual(t){return t instanceof Ul&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="__type__",RP="__max__",ou={mapValue:{}},rA="__vector__",zh="value";function Ds(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Dy(e)?4:CP(e)?9007199254740991:IP(e)?10:11:Q(28295,{value:e})}function Kn(e,t){if(e===t)return!0;const n=Ds(e);if(n!==Ds(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Vl(e).isEqual(Vl(t));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=Is(s.timestampValue),o=Is(r.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,r){return Cs(s.bytesValue).isEqual(Cs(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,r){return qt(s.geoPointValue.latitude)===qt(r.geoPointValue.latitude)&&qt(s.geoPointValue.longitude)===qt(r.geoPointValue.longitude)}(e,t);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return qt(s.integerValue)===qt(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=qt(s.doubleValue),o=qt(r.doubleValue);return a===o?Uh(a)===Uh(o):isNaN(a)&&isNaN(o)}return!1}(e,t);case 9:return ka(e.arrayValue.values||[],t.arrayValue.values||[],Kn);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},o=r.mapValue.fields||{};if(Lb(a)!==Lb(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Kn(a[l],o[l])))return!1;return!0}(e,t);default:return Q(52216,{left:e})}}function jl(e,t){return(e.values||[]).find(n=>Kn(n,t))!==void 0}function Pa(e,t){if(e===t)return 0;const n=Ds(e),i=Ds(t);if(n!==i)return tt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(e.booleanValue,t.booleanValue);case 2:return function(r,a){const o=qt(r.integerValue||r.doubleValue),l=qt(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return Ub(e.timestampValue,t.timestampValue);case 4:return Ub(Vl(e),Vl(t));case 5:return Hg(e.stringValue,t.stringValue);case 6:return function(r,a){const o=Cs(r),l=Cs(a);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(r,a){const o=r.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const h=tt(o[c],l[c]);if(h!==0)return h}return tt(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,a){const o=tt(qt(r.latitude),qt(a.latitude));return o!==0?o:tt(qt(r.longitude),qt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return jb(e.arrayValue,t.arrayValue);case 10:return function(r,a){var o,l,c,h;const f=r.fields||{},d=a.fields||{},g=(o=f[zh])===null||o===void 0?void 0:o.arrayValue,E=(l=d[zh])===null||l===void 0?void 0:l.arrayValue,T=tt(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0);return T!==0?T:jb(g,E)}(e.mapValue,t.mapValue);case 11:return function(r,a){if(r===ou.mapValue&&a===ou.mapValue)return 0;if(r===ou.mapValue)return 1;if(a===ou.mapValue)return-1;const o=r.fields||{},l=Object.keys(o),c=a.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const d=Hg(l[f],h[f]);if(d!==0)return d;const g=Pa(o[l[f]],c[h[f]]);if(g!==0)return g}return tt(l.length,h.length)}(e.mapValue,t.mapValue);default:throw Q(23264,{Pe:n})}}function Ub(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return tt(e,t);const n=Is(e),i=Is(t),s=tt(n.seconds,i.seconds);return s!==0?s:tt(n.nanos,i.nanos)}function jb(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=Pa(n[s],i[s]);if(r)return r}return tt(n.length,i.length)}function La(e){return qg(e)}function qg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Is(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Cs(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return $.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=qg(r);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${qg(n.fields[a])}`;return s+"}"}(e.mapValue):Q(61005,{value:e})}function Fu(e){switch(Ds(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=jf(e);return t?16+Fu(t):16;case 5:return 2*e.stringValue.length;case 6:return Cs(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+Fu(r),0)}(e.arrayValue);case 10:case 11:return function(i){let s=0;return Ar(i.fields,(r,a)=>{s+=r.length+Fu(a)}),s}(e.mapValue);default:throw Q(13486,{value:e})}}function zb(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Gg(e){return!!e&&"integerValue"in e}function Oy(e){return!!e&&"arrayValue"in e}function Bb(e){return!!e&&"nullValue"in e}function Fb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Hu(e){return!!e&&"mapValue"in e}function IP(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[sA])===null||n===void 0?void 0:n.stringValue)===rA}function ul(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ar(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=ul(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ul(e.arrayValue.values[n]);return t}return Object.assign({},e)}function CP(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===RP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.value=t}static empty(){return new un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Hu(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ul(n)}setAll(t){let n=me.emptyPath(),i={},s=[];t.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,i,s),i={},s=[],n=o.popLast()}a?i[o.lastSegment()]=ul(a):s.push(o.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(t){const n=this.field(t.popLast());Hu(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Kn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];Hu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){Ar(n,(s,r)=>t[s]=r);for(const s of i)delete t[s]}clone(){return new un(ul(this.value))}}function aA(e){const t=[];return Ar(e.fields,(n,i)=>{const s=new me([n]);if(Hu(i)){const r=aA(i.mapValue).fields;if(r.length===0)t.push(s);else for(const a of r)t.push(s.child(a))}else t.push(s)}),new bn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t,n,i,s,r,a,o){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=o}static newInvalidDocument(t){return new xe(t,0,X.min(),X.min(),X.min(),un.empty(),0)}static newFoundDocument(t,n,i,s){return new xe(t,1,n,X.min(),i,s,0)}static newNoDocument(t,n){return new xe(t,2,n,X.min(),X.min(),un.empty(),0)}static newUnknownDocument(t,n){return new xe(t,3,n,X.min(),X.min(),un.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,n){this.position=t,this.inclusive=n}}function Hb(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const r=t[s],a=e.position[s];if(r.field.isKeyField()?i=$.comparator($.fromName(a.referenceValue),n.key):i=Pa(a,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function qb(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Kn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(t,n="asc"){this.field=t,this.dir=n}}function DP(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{}class Qt extends oA{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new MP(t,n,i):n==="array-contains"?new PP(t,i):n==="in"?new LP(t,i):n==="not-in"?new VP(t,i):n==="array-contains-any"?new UP(t,i):new Qt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new NP(t,i):new kP(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Pa(n,this.value)):n!==null&&Ds(this.value)===Ds(n)&&this.matchesComparison(Pa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rn extends oA{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new Rn(t,n)}matches(t){return lA(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function lA(e){return e.op==="and"}function cA(e){return OP(e)&&lA(e)}function OP(e){for(const t of e.filters)if(t instanceof Rn)return!1;return!0}function $g(e){if(e instanceof Qt)return e.field.canonicalString()+e.op.toString()+La(e.value);if(cA(e))return e.filters.map(t=>$g(t)).join(",");{const t=e.filters.map(n=>$g(n)).join(",");return`${e.op}(${t})`}}function uA(e,t){return e instanceof Qt?function(i,s){return s instanceof Qt&&i.op===s.op&&i.field.isEqual(s.field)&&Kn(i.value,s.value)}(e,t):e instanceof Rn?function(i,s){return s instanceof Rn&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,o)=>r&&uA(a,s.filters[o]),!0):!1}(e,t):void Q(19439)}function hA(e){return e instanceof Qt?function(n){return`${n.field.canonicalString()} ${n.op} ${La(n.value)}`}(e):e instanceof Rn?function(n){return n.op.toString()+" {"+n.getFilters().map(hA).join(" ,")+"}"}(e):"Filter"}class MP extends Qt{constructor(t,n,i){super(t,n,i),this.key=$.fromName(i.referenceValue)}matches(t){const n=$.comparator(t.key,this.key);return this.matchesComparison(n)}}class NP extends Qt{constructor(t,n){super(t,"in",n),this.keys=fA("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class kP extends Qt{constructor(t,n){super(t,"not-in",n),this.keys=fA("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function fA(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>$.fromName(i.referenceValue))}class PP extends Qt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Oy(n)&&jl(n.arrayValue,this.value)}}class LP extends Qt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&jl(this.value.arrayValue,n)}}class VP extends Qt{constructor(t,n){super(t,"not-in",n)}matches(t){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!jl(this.value.arrayValue,n)}}class UP extends Qt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Oy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>jl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(t,n=null,i=[],s=[],r=null,a=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=o,this.Ie=null}}function Gb(e,t=null,n=[],i=[],s=null,r=null,a=null){return new jP(e,t,n,i,s,r,a)}function My(e){const t=Z(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>$g(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),Uf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>La(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>La(i)).join(",")),t.Ie=n}return t.Ie}function Ny(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!DP(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!uA(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qb(e.startAt,t.startAt)&&qb(e.endAt,t.endAt)}function Yg(e){return $.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(t,n=null,i=[],s=[],r=null,a="F",o=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=o,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function zP(e,t,n,i,s,r,a,o){return new io(e,t,n,i,s,r,a,o)}function dA(e){return new io(e)}function $b(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function mA(e){return e.collectionGroup!==null}function hl(e){const t=Z(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const r of t.explicitOrderBy)t.Ee.push(r),n.add(r.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new te(me.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new zl(r,i))}),n.has(me.keyField().canonicalString())||t.Ee.push(new zl(me.keyField(),i))}return t.Ee}function Hn(e){const t=Z(e);return t.de||(t.de=BP(t,hl(e))),t.de}function BP(e,t){if(e.limitType==="F")return Gb(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new zl(s.field,r)});const n=e.endAt?new Bh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Bh(e.startAt.position,e.startAt.inclusive):null;return Gb(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Kg(e,t){const n=e.filters.concat([t]);return new io(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Qg(e,t,n){return new io(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function zf(e,t){return Ny(Hn(e),Hn(t))&&e.limitType===t.limitType}function gA(e){return`${My(Hn(e))}|lt:${e.limitType}`}function qr(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>hA(s)).join(", ")}]`),Uf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>La(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>La(s)).join(",")),`Target(${i})`}(Hn(e))}; limitType=${e.limitType})`}function Bf(e,t){return t.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):$.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(e,t)&&function(i,s){for(const r of hl(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(a,o,l){const c=Hb(a,o,l);return a.inclusive?c<=0:c<0}(i.startAt,hl(i),s)||i.endAt&&!function(a,o,l){const c=Hb(a,o,l);return a.inclusive?c>=0:c>0}(i.endAt,hl(i),s))}(e,t)}function FP(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function pA(e){return(t,n)=>{let i=!1;for(const s of hl(e)){const r=HP(s,t,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function HP(e,t,n){const i=e.field.isKeyField()?$.comparator(t.key,n.key):function(r,a,o){const l=a.data.field(r),c=o.data.field(r);return l!==null&&c!==null?Pa(l,c):Q(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Q(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return void(s[r]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Ar(this.inner,(n,i)=>{for(const[s,r]of i)t(s,r)})}isEmpty(){return Z1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=new Ut($.comparator);function Ci(){return qP}const yA=new Ut($.comparator);function Ho(...e){let t=yA;for(const n of e)t=t.insert(n.key,n);return t}function _A(e){let t=yA;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Ws(){return fl()}function vA(){return fl()}function fl(){return new Rr(e=>e.toString(),(e,t)=>e.isEqual(t))}const GP=new Ut($.comparator),$P=new te($.comparator);function rt(...e){let t=$P;for(const n of e)t=t.add(n);return t}const YP=new te(tt);function KP(){return YP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uh(t)?"-0":t}}function bA(e){return{integerValue:""+e}}function QP(e,t){return TP(t)?bA(t):ky(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(){this._=void 0}}function WP(e,t,n){return e instanceof Fh?function(s,r){const a={fields:{[eA]:{stringValue:tA},[iA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Dy(r)&&(r=jf(r)),r&&(a.fields[nA]=r),{mapValue:a}}(n,t):e instanceof Bl?TA(e,t):e instanceof Fl?xA(e,t):function(s,r){const a=EA(s,r),o=Yb(a)+Yb(s.Re);return Gg(a)&&Gg(s.Re)?bA(o):ky(s.serializer,o)}(e,t)}function XP(e,t,n){return e instanceof Bl?TA(e,t):e instanceof Fl?xA(e,t):n}function EA(e,t){return e instanceof Hh?function(i){return Gg(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class Fh extends Ff{}class Bl extends Ff{constructor(t){super(),this.elements=t}}function TA(e,t){const n=wA(t);for(const i of e.elements)n.some(s=>Kn(s,i))||n.push(i);return{arrayValue:{values:n}}}class Fl extends Ff{constructor(t){super(),this.elements=t}}function xA(e,t){let n=wA(t);for(const i of e.elements)n=n.filter(s=>!Kn(s,i));return{arrayValue:{values:n}}}class Hh extends Ff{constructor(t,n){super(),this.serializer=t,this.Re=n}}function Yb(e){return qt(e.integerValue||e.doubleValue)}function wA(e){return Oy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function ZP(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof Bl&&s instanceof Bl||i instanceof Fl&&s instanceof Fl?ka(i.elements,s.elements,Kn):i instanceof Hh&&s instanceof Hh?Kn(i.Re,s.Re):i instanceof Fh&&s instanceof Fh}(e.transform,t.transform)}class JP{constructor(t,n){this.version=t,this.transformResults=n}}class bi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new bi}static exists(t){return new bi(void 0,t)}static updateTime(t){return new bi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function qu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Hf{}function SA(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new RA(e.key,bi.none()):new gc(e.key,e.data,bi.none());{const n=e.data,i=un.empty();let s=new te(me.comparator);for(let r of t.fields)if(!s.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new Ir(e.key,i,new bn(s.toArray()),bi.none())}}function t4(e,t,n){e instanceof gc?function(s,r,a){const o=s.value.clone(),l=Qb(s.fieldTransforms,r,a.transformResults);o.setAll(l),r.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Ir?function(s,r,a){if(!qu(s.precondition,r))return void r.convertToUnknownDocument(a.version);const o=Qb(s.fieldTransforms,r,a.transformResults),l=r.data;l.setAll(AA(s)),l.setAll(o),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function dl(e,t,n,i){return e instanceof gc?function(r,a,o,l){if(!qu(r.precondition,a))return o;const c=r.value.clone(),h=Wb(r.fieldTransforms,l,a);return c.setAll(h),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(e,t,n,i):e instanceof Ir?function(r,a,o,l){if(!qu(r.precondition,a))return o;const c=Wb(r.fieldTransforms,l,a),h=a.data;return h.setAll(AA(r)),h.setAll(c),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(f=>f.field))}(e,t,n,i):function(r,a,o){return qu(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(e,t,n)}function e4(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),r=EA(i.transform,s||null);r!=null&&(n===null&&(n=un.empty()),n.set(i.field,r))}return n||null}function Kb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&ka(i,s,(r,a)=>ZP(r,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class gc extends Hf{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ir extends Hf{constructor(t,n,i,s,r=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function AA(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function Qb(e,t,n){const i=new Map;gt(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let s=0;s<n.length;s++){const r=e[s],a=r.transform,o=t.data.field(r.field);i.set(r.field,XP(a,o,n[s]))}return i}function Wb(e,t,n){const i=new Map;for(const s of e){const r=s.transform,a=n.data.field(s.field);i.set(s.field,WP(r,a,t))}return i}class RA extends Hf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n4 extends Hf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(t.key)&&t4(r,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=dl(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=dl(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=vA();return this.mutations.forEach(s=>{const r=t.get(s.key),a=r.overlayedDocument;let o=this.applyToLocalView(a,r.mutatedFields);o=n.has(s.key)?null:o;const l=SA(a,o);l!==null&&i.set(s.key,l),a.isValidDocument()||a.convertToNoDocument(X.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),rt())}isEqual(t){return this.batchId===t.batchId&&ka(this.mutations,t.mutations,(n,i)=>Kb(n,i))&&ka(this.baseMutations,t.baseMutations,(n,i)=>Kb(n,i))}}class Py{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){gt(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let s=function(){return GP}();const r=t.mutations;for(let a=0;a<r.length;a++)s=s.insert(r[a].key,i[a].version);return new Py(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,ot;function a4(e){switch(e){case j.OK:return Q(64938);case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return Q(15467,{code:e})}}function IA(e){if(e===void 0)return Ii("GRPC error has no .code"),j.UNKNOWN;switch(e){case Yt.OK:return j.OK;case Yt.CANCELLED:return j.CANCELLED;case Yt.UNKNOWN:return j.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return j.INTERNAL;case Yt.UNAVAILABLE:return j.UNAVAILABLE;case Yt.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Yt.NOT_FOUND:return j.NOT_FOUND;case Yt.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Yt.ABORTED:return j.ABORTED;case Yt.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Yt.DATA_LOSS:return j.DATA_LOSS;default:return Q(39323,{code:e})}}(ot=Yt||(Yt={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=new ys([4294967295,4294967295],0);function Xb(e){const t=Q1().encode(e),n=new B1;return n.update(t),new Uint8Array(n.digest())}function Zb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new ys([n,i],0),new ys([s,r],0)]}class Ly{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new qo(`Invalid padding: ${n}`);if(i<0)throw new qo(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new qo(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new qo(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=ys.fromNumber(this.pe)}we(t,n,i){let s=t.add(n.multiply(ys.fromNumber(i)));return s.compare(o4)===1&&(s=new ys([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=Xb(t),[i,s]=Zb(n);for(let r=0;r<this.hashCount;r++){const a=this.we(i,s,r);if(!this.be(a))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),a=new Ly(r,s,n);return i.forEach(o=>a.insert(o)),a}insert(t){if(this.pe===0)return;const n=Xb(t),[i,s]=Zb(n);for(let r=0;r<this.hashCount;r++){const a=this.we(i,s,r);this.Se(a)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class qo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(t,n,i,s,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,pc.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new qf(X.min(),s,new Ut(tt),Ci(),rt())}}class pc{constructor(t,n,i,s,r){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new pc(i,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(t,n,i,s){this.De=t,this.removedTargetIds=n,this.key=i,this.ve=s}}class CA{constructor(t,n){this.targetId=t,this.Ce=n}}class DA{constructor(t,n,i=pe.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class Jb{constructor(){this.Fe=0,this.Me=tE(),this.xe=pe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=rt(),n=rt(),i=rt();return this.Me.forEach((s,r)=>{switch(r){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Q(38017,{changeType:r})}}),new pc(this.xe,this.Oe,t,n,i)}Qe(){this.Ne=!1,this.Me=tE()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,gt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class l4{constructor(t){this.ze=t,this.je=new Map,this.He=Ci(),this.Je=lu(),this.Ye=lu(),this.Ze=new Ut(tt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const i=this.rt(n);switch(t.state){case 0:this.it(n)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(t.resumeToken));break;default:Q(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((i,s)=>{this.it(s)&&n(s)})}ot(t){const n=t.targetId,i=t.Ce.count,s=this._t(n);if(s){const r=s.target;if(Yg(r))if(i===0){const a=new $(r.path);this.tt(n,a,xe.newNoDocument(a,X.min()))}else gt(i===1,20013,{expectedCount:i});else{const a=this.ut(n);if(a!==i){const o=this.ct(t),l=o?this.lt(o,t,a):1;if(l!==0){this.st(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let a,o;try{a=Cs(i).toUint8Array()}catch(l){if(l instanceof J1)return Na("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new Ly(a,s,r)}catch(l){return Na(l instanceof qo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.pe===0?null:o}lt(t,n,i){return n.Ce.count===i-this.Tt(t,n.targetId)?0:2}Tt(t,n){const i=this.ze.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const a=this.ze.Pt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;t.mightContain(o)||(this.tt(n,r,null),s++)}),s}It(t){const n=new Map;this.je.forEach((r,a)=>{const o=this._t(a);if(o){if(r.current&&Yg(o.target)){const l=new $(o.target.path);this.Et(l).has(a)||this.dt(a,l)||this.tt(a,l,xe.newNoDocument(l,t))}r.Le&&(n.set(a,r.qe()),r.Qe())}});let i=rt();this.Ye.forEach((r,a)=>{let o=!0;a.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(r))}),this.He.forEach((r,a)=>a.setReadTime(t));const s=new qf(t,n,this.Ze,this.He,i);return this.He=Ci(),this.Je=lu(),this.Ye=lu(),this.Ze=new Ut(tt),s}et(t,n){if(!this.it(t))return;const i=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,i){if(!this.it(t))return;const s=this.rt(t);this.dt(t,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),i&&(this.He=this.He.insert(n,i))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new Jb,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new te(tt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new te(tt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||H("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Jb),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function lu(){return new Ut($.comparator)}function tE(){return new Ut($.comparator)}const c4={asc:"ASCENDING",desc:"DESCENDING"},u4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h4={and:"AND",or:"OR"};class f4{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Wg(e,t){return e.useProto3Json||Uf(t)?t:{value:t}}function qh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function OA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function d4(e,t){return qh(e,t.toTimestamp())}function qn(e){return gt(!!e,49232),X.fromTimestamp(function(n){const i=Is(n);return new Xt(i.seconds,i.nanos)}(e))}function Vy(e,t){return Xg(e,t).canonicalString()}function Xg(e,t){const n=function(s){return new Ot(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function MA(e){const t=Ot.fromString(e);return gt(VA(t),10190,{key:t.toString()}),t}function Zg(e,t){return Vy(e.databaseId,t.path)}function pm(e,t){const n=MA(t);if(n.get(1)!==e.databaseId.projectId)throw new q(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new q(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new $(kA(n))}function NA(e,t){return Vy(e.databaseId,t)}function m4(e){const t=MA(e);return t.length===4?Ot.emptyPath():kA(t)}function Jg(e){return new Ot(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function kA(e){return gt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function eE(e,t,n){return{name:Zg(e,t),fields:n.value.mapValue.fields}}function g4(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Q(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],r=function(c,h){return c.useProto3Json?(gt(h===void 0||typeof h=="string",58123),pe.fromBase64String(h||"")):(gt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),pe.fromUint8Array(h||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(c){const h=c.code===void 0?j.UNKNOWN:IA(c.code);return new q(h,c.message||"")}(a);n=new DA(i,s,r,o||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=pm(e,i.document.name),r=qn(i.document.updateTime),a=i.document.createTime?qn(i.document.createTime):X.min(),o=new un({mapValue:{fields:i.document.fields}}),l=xe.newFoundDocument(s,r,a,o),c=i.targetIds||[],h=i.removedTargetIds||[];n=new Gu(c,h,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=pm(e,i.document),r=i.readTime?qn(i.readTime):X.min(),a=xe.newNoDocument(s,r),o=i.removedTargetIds||[];n=new Gu([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=pm(e,i.document),r=i.removedTargetIds||[];n=new Gu([],r,s,null)}else{if(!("filter"in t))return Q(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new r4(s,r),o=i.targetId;n=new CA(o,a)}}return n}function p4(e,t){let n;if(t instanceof gc)n={update:eE(e,t.key,t.value)};else if(t instanceof RA)n={delete:Zg(e,t.key)};else if(t instanceof Ir)n={update:eE(e,t.key,t.data),updateMask:S4(t.fieldMask)};else{if(!(t instanceof n4))return Q(16599,{ft:t.type});n={verify:Zg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,a){const o=a.transform;if(o instanceof Fh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Bl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Fl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Hh)return{fieldPath:a.field.canonicalString(),increment:o.Re};throw Q(20930,{transform:a.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:d4(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Q(27497)}(e,t.precondition)),n}function y4(e,t){return e&&e.length>0?(gt(t!==void 0,14353),e.map(n=>function(s,r){let a=s.updateTime?qn(s.updateTime):qn(r);return a.isEqual(X.min())&&(a=qn(r)),new JP(a,s.transformResults||[])}(n,t))):[]}function _4(e,t){return{documents:[NA(e,t.path)]}}function v4(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=NA(e,s);const r=function(c){if(c.length!==0)return LA(Rn.create(c,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const a=function(c){if(c.length!==0)return c.map(h=>function(d){return{field:Gr(d.field),direction:T4(d.dir)}}(h))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Wg(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{gt:n,parent:s}}function b4(e){let t=m4(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){gt(i===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:t=t.child(h.collectionId)}let r=[];n.where&&(r=function(f){const d=PA(f);return d instanceof Rn&&cA(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(d=>function(E){return new zl($r(E.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(d))}(n.orderBy));let o=null;n.limit&&(o=function(f){let d;return d=typeof f=="object"?f.value:f,Uf(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,g=f.values||[];return new Bh(g,d)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const d=!f.before,g=f.values||[];return new Bh(g,d)}(n.endAt)),zP(t,s,a,r,o,"F",l,c)}function E4(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:s})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function PA(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=$r(n.unaryFilter.field);return Qt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=$r(n.unaryFilter.field);return Qt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=$r(n.unaryFilter.field);return Qt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=$r(n.unaryFilter.field);return Qt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(e):e.fieldFilter!==void 0?function(n){return Qt.create($r(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Rn.create(n.compositeFilter.filters.map(i=>PA(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(n.compositeFilter.op))}(e):Q(30097,{filter:e})}function T4(e){return c4[e]}function x4(e){return u4[e]}function w4(e){return h4[e]}function Gr(e){return{fieldPath:e.canonicalString()}}function $r(e){return me.fromServerFormat(e.fieldPath)}function LA(e){return e instanceof Qt?function(n){if(n.op==="=="){if(Fb(n.value))return{unaryFilter:{field:Gr(n.field),op:"IS_NAN"}};if(Bb(n.value))return{unaryFilter:{field:Gr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Fb(n.value))return{unaryFilter:{field:Gr(n.field),op:"IS_NOT_NAN"}};if(Bb(n.value))return{unaryFilter:{field:Gr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gr(n.field),op:x4(n.op),value:n.value}}}(e):e instanceof Rn?function(n){const i=n.getFilters().map(s=>LA(s));return i.length===1?i[0]:{compositeFilter:{op:w4(n.op),filters:i}}}(e):Q(54877,{filter:e})}function S4(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function VA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t,n,i,s,r=X.min(),a=X.min(),o=pe.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new is(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(t){this.wt=t}}function R4(e){const t=b4({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Qg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.Cn=new C4}addToCollectionParentIndex(t,n){return this.Cn.add(n),U.resolve()}getCollectionParents(t,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return U.resolve()}deleteFieldIndex(t,n){return U.resolve()}deleteAllFieldIndexes(t){return U.resolve()}createTargetIndexes(t,n){return U.resolve()}getDocumentsMatchingTarget(t,n){return U.resolve(null)}getIndexType(t,n){return U.resolve(0)}getFieldIndexes(t,n){return U.resolve([])}getNextCollectionGroupToUpdate(t){return U.resolve(null)}getMinOffset(t,n){return U.resolve(Rs.min())}getMinOffsetFromCollectionGroup(t,n){return U.resolve(Rs.min())}updateCollectionGroup(t,n,i){return U.resolve()}updateIndexEntries(t,n){return U.resolve()}}class C4{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new te(Ot.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new te(Ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UA=41943040;class Le{static withCacheSize(t){return new Le(t,Le.DEFAULT_COLLECTION_PERCENTILE,Le.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Le.DEFAULT_COLLECTION_PERCENTILE=10,Le.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Le.DEFAULT=new Le(UA,Le.DEFAULT_COLLECTION_PERCENTILE,Le.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Le.DISABLED=new Le(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Va(0)}static lr(){return new Va(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="LruGarbageCollector",D4=1048576;function sE([e,t],[n,i]){const s=tt(e,n);return s===0?tt(t,i):s}class O4{constructor(t){this.Er=t,this.buffer=new te(sE),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();sE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class M4{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){H(iE,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){no(n)?H(iE,"Ignoring IndexedDB error during garbage collection: ",n):await eo(n)}await this.mr(3e5)})}}class N4{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return U.resolve(Vf.le);const i=new O4(n);return this.gr.forEachTarget(t,s=>i.Rr(s.sequenceNumber)).next(()=>this.gr.yr(t,s=>i.Rr(s))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.gr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(nE)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nE):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let i,s,r,a,o,l,c;const h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,a=Date.now(),this.nthSequenceNumber(t,s))).next(f=>(i=f,o=Date.now(),this.removeTargets(t,i,n))).next(f=>(r=f,l=Date.now(),this.removeOrphanedDocuments(t,i))).next(f=>(c=Date.now(),Hr()<=st.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${s} in `+(o-a)+`ms
	Removed ${r} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:f})))}}function k4(e,t){return new N4(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this.changes=new Rr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,xe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?U.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&dl(i.mutation,s,bn.empty(),Xt.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,rt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=rt()){const s=Ws();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(r=>{let a=Ho();return r.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=Ws();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,rt()))}populateOverlays(t,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(t,s).next(r=>{r.forEach((a,o)=>{n.set(a,o)})})}computeViews(t,n,i,s){let r=Ci();const a=fl(),o=function(){return fl()}();return n.forEach((l,c)=>{const h=i.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Ir)?r=r.insert(c.key,c):h!==void 0?(a.set(c.key,h.mutation.getFieldMask()),dl(h.mutation,c,h.mutation.getFieldMask(),Xt.now())):a.set(c.key,bn.empty())}),this.recalculateAndSaveOverlays(t,r).next(l=>(l.forEach((c,h)=>a.set(c,h)),n.forEach((c,h)=>{var f;return o.set(c,new L4(h,(f=a.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(t,n){const i=fl();let s=new Ut((a,o)=>a-o),r=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=i.get(l)||bn.empty();h=o.applyToLocalView(c,h),i.set(l,h);const f=(s.get(o.batchId)||rt()).add(l);s=s.insert(o.batchId,f)})}).next(()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,h=l.value,f=vA();h.forEach(d=>{if(!r.has(d)){const g=SA(n.get(d),i.get(d));g!==null&&f.set(d,g),r=r.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(t,c,f))}return U.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,s){return function(a){return $.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):mA(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-r.size):U.resolve(Ws());let o=Ll,l=r;return a.next(c=>U.forEach(c,(h,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),r.get(h)?U.resolve():this.remoteDocumentCache.getEntry(t,h).next(d=>{l=l.insert(h,d)}))).next(()=>this.populateOverlays(t,c,r)).next(()=>this.computeViews(t,l,c,rt())).next(h=>({batchId:o,changes:_A(h)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new $(n)).next(i=>{let s=Ho();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const r=n.collectionGroup;let a=Ho();return this.indexManager.getCollectionParents(t,r).next(o=>U.forEach(o,l=>{const c=function(f,d){return new io(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(r));return this.getDocumentsMatchingCollectionQuery(t,c,i,s).next(h=>{h.forEach((f,d)=>{a=a.insert(f,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,r,s))).next(a=>{r.forEach((l,c)=>{const h=c.getKey();a.get(h)===null&&(a=a.insert(h,xe.newInvalidDocument(h)))});let o=Ho();return a.forEach((l,c)=>{const h=r.get(l);h!==void 0&&dl(h.mutation,c,bn.empty(),Xt.now()),Bf(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return U.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:qn(s.createTime)}}(n)),U.resolve()}getNamedQuery(t,n){return U.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(s){return{name:s.name,query:R4(s.bundledQuery),readTime:qn(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this.overlays=new Ut($.comparator),this.Qr=new Map}getOverlay(t,n){return U.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Ws();return U.forEach(n,s=>this.getOverlay(t,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,r)=>{this.St(t,n,r)}),U.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.Qr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Qr.delete(i)),U.resolve()}getOverlaysForCollection(t,n,i){const s=Ws(),r=n.length+1,a=new $(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&l.largestBatchId>i&&s.set(l.getKey(),l)}return U.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let r=new Ut((c,h)=>c-h);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let h=r.get(c.largestBatchId);h===null&&(h=Ws(),r=r.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const o=Ws(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>o.set(c,h)),!(o.size()>=s)););return U.resolve(o)}St(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.Qr.get(s.largestBatchId).delete(i.key);this.Qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new s4(n,i));let r=this.Qr.get(n);r===void 0&&(r=rt(),this.Qr.set(n,r)),this.Qr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.sessionToken=pe.EMPTY_BYTE_STRING}getSessionToken(t){return U.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(){this.$r=new te(ne.Ur),this.Kr=new te(ne.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const i=new ne(t,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.zr(new ne(t,n))}jr(t,n){t.forEach(i=>this.removeReference(i,n))}Hr(t){const n=new $(new Ot([])),i=new ne(n,t),s=new ne(n,t+1),r=[];return this.Kr.forEachInRange([i,s],a=>{this.zr(a),r.push(a.key)}),r}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new $(new Ot([])),i=new ne(n,t),s=new ne(n,t+1);let r=rt();return this.Kr.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(t){const n=new ne(t,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class ne{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return $.comparator(t.key,n.key)||tt(t.Zr,n.Zr)}static Wr(t,n){return tt(t.Zr,n.Zr)||$.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new te(ne.Ur)}checkEmpty(t){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const r=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new i4(r,n,i,s);this.mutationQueue.push(a);for(const o of s)this.Xr=this.Xr.add(new ne(o.key,r)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return U.resolve(a)}lookupMutationBatch(t,n){return U.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.ti(i),r=s<0?0:s;return U.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Cy:this.nr-1)}getAllMutationBatches(t){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new ne(n,0),s=new ne(n,Number.POSITIVE_INFINITY),r=[];return this.Xr.forEachInRange([i,s],a=>{const o=this.ei(a.Zr);r.push(o)}),U.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new te(tt);return n.forEach(s=>{const r=new ne(s,0),a=new ne(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([r,a],o=>{i=i.add(o.Zr)})}),U.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let r=i;$.isDocumentKey(r)||(r=r.child(""));const a=new ne(new $(r),0);let o=new te(tt);return this.Xr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===s&&(o=o.add(l.Zr)),!0)},a),U.resolve(this.ni(o))}ni(t){const n=[];return t.forEach(i=>{const s=this.ei(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){gt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return U.forEach(n.mutations,s=>{const r=new ne(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,n){const i=new ne(n,0),s=this.Xr.firstAfterOrEqual(i);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,U.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(t){this.ii=t,this.docs=function(){return new Ut($.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,a=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return U.resolve(i?i.document.mutableCopy():xe.newInvalidDocument(n))}getEntries(t,n){let i=Ci();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():xe.newInvalidDocument(s))}),U.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let r=Ci();const a=n.path,o=new $(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||_P(yP(h),i)<=0||(s.has(h.key)||Bf(n,h))&&(r=r.insert(h.key,h.mutableCopy()))}return U.resolve(r)}getAllFromCollectionGroup(t,n,i,s){Q(9500)}si(t,n){return U.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new H4(this)}getSize(t){return U.resolve(this.size)}}class H4 extends P4{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(t,s)):this.Br.removeEntry(i)}),U.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(t){this.persistence=t,this.oi=new Rr(n=>My(n),Ny),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this._i=0,this.ai=new Uy,this.targetCount=0,this.ui=Va.cr()}forEachTarget(t,n){return this.oi.forEach((i,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(t){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return U.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),U.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new Va(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,U.resolve()}updateTargetData(t,n){return this.Tr(n),U.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(t,n,i){let s=0;const r=[];return this.oi.forEach((a,o)=>{o.sequenceNumber<=n&&i.get(o.targetId)===null&&(this.oi.delete(a),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),s++)}),U.waitFor(r).next(()=>s)}getTargetCount(t){return U.resolve(this.targetCount)}getTargetData(t,n){const i=this.oi.get(n)||null;return U.resolve(i)}addMatchingKeys(t,n,i){return this.ai.Gr(n,i),U.resolve()}removeMatchingKeys(t,n,i){this.ai.jr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(a=>{r.push(s.markPotentiallyOrphaned(t,a))}),U.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),U.resolve()}getMatchingKeysForTargetId(t,n){const i=this.ai.Yr(n);return U.resolve(i)}containsKey(t,n){return U.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(t,n){this.ci={},this.overlays={},this.li=new Vf(0),this.hi=!1,this.hi=!0,this.Pi=new z4,this.referenceDelegate=t(this),this.Ti=new q4(this),this.indexManager=new I4,this.remoteDocumentCache=function(s){return new F4(s)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new A4(n),this.Ei=new U4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new j4,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ci[t.toKey()];return i||(i=new B4(n,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,i){H("MemoryPersistence","Starting transaction:",t);const s=new G4(this.li.next());return this.referenceDelegate.di(),i(s).next(r=>this.referenceDelegate.Ai(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ri(t,n){return U.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,n)))}}class G4 extends bP{constructor(t){super(),this.currentSequenceNumber=t}}class jy{constructor(t){this.persistence=t,this.Vi=new Uy,this.mi=null}static fi(t){return new jy(t)}get gi(){if(this.mi)return this.mi;throw Q(60996)}addReference(t,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),U.resolve()}removeReference(t,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),U.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),U.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(r=>this.gi.add(r.toString()))}).next(()=>i.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.gi,i=>{const s=$.fromPath(i);return this.pi(t,s).next(r=>{r||n.removeEntry(s,X.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return U.or([()=>U.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Gh{constructor(t,n){this.persistence=t,this.yi=new Rr(i=>xP(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=k4(this,n)}static fi(t,n){return new Gh(t,n)}di(){}Ai(t){return U.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(s=>i+s))}br(t){let n=0;return this.yr(t,i=>{n++}).next(()=>n)}yr(t,n){return U.forEach(this.yi,(i,s)=>this.Dr(t,i,s).next(r=>r?U.resolve():n(s)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.si(t,a=>this.Dr(t,a,n).next(o=>{o||(i++,r.removeEntry(a,X.min()))})).next(()=>r.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),U.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),U.resolve()}removeReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),U.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),U.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Fu(t.data.value)),n}Dr(t,n,i){return U.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.yi.get(n);return U.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.ds=i,this.As=s}static Rs(t,n){let i=rt(),s=rt();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new zy(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return BN()?8:EP(Ae())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,i,s){const r={result:null};return this.ws(t,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.bs(t,n,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new $4;return this.Ss(t,n,a).next(o=>{if(r.result=o,this.fs)return this.Ds(t,n,a,o.size)})}).next(()=>r.result)}Ds(t,n,i,s){return i.documentReadCount<this.gs?(Hr()<=st.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",qr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),U.resolve()):(Hr()<=st.DEBUG&&H("QueryEngine","Query:",qr(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ps*s?(Hr()<=st.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",qr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Hn(n))):U.resolve())}ws(t,n){if($b(n))return U.resolve(null);let i=Hn(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Qg(n,null,"F"),i=Hn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const a=rt(...r);return this.ys.getDocuments(t,a).next(o=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.vs(n,o);return this.Cs(n,c,a,l.readTime)?this.ws(t,Qg(n,null,"F")):this.Fs(t,c,n,l)}))})))}bs(t,n,i,s){return $b(n)||s.isEqual(X.min())?U.resolve(null):this.ys.getDocuments(t,i).next(r=>{const a=this.vs(n,r);return this.Cs(n,a,i,s)?U.resolve(null):(Hr()<=st.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),qr(n)),this.Fs(t,a,n,pP(s,Ll)).next(o=>o))})}vs(t,n){let i=new te(pA(t));return n.forEach((s,r)=>{Bf(t,r)&&(i=i.add(r))}),i}Cs(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Ss(t,n,i){return Hr()<=st.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",qr(n)),this.ys.getDocumentsMatchingQuery(t,n,Rs.min(),i)}Fs(t,n,i,s){return this.ys.getDocumentsMatchingQuery(t,i,s).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="LocalStore",K4=3e8;class Q4{constructor(t,n,i,s){this.persistence=t,this.Ms=n,this.serializer=s,this.xs=new Ut(tt),this.Os=new Rr(r=>My(r),Ny),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new V4(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function W4(e,t,n,i){return new Q4(e,t,n,i)}async function zA(e,t){const n=Z(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Ls(t),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],o=[];let l=rt();for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of r){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(i,l).next(c=>({ks:c,removedBatchIds:a,addedBatchIds:o}))})})}function X4(e,t){const n=Z(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),r=n.Bs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,h){const f=c.batch,d=f.keys();let g=U.resolve();return d.forEach(E=>{g=g.next(()=>h.getEntry(l,E)).next(T=>{const R=c.docVersions.get(E);gt(R!==null,48541),T.version.compareTo(R)<0&&(f.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),h.addEntry(T)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(n,i,t,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let l=rt();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function BA(e){const t=Z(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function Z4(e,t){const n=Z(e),i=t.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const o=[];t.targetChanges.forEach((h,f)=>{const d=s.get(f);if(!d)return;o.push(n.Ti.removeMatchingKeys(r,h.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(r,h.addedDocuments,f)));let g=d.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(f)!==null?g=g.withResumeToken(pe.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,i)),s=s.insert(f,g),function(T,R,y){return T.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=K4?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(d,g,h)&&o.push(n.Ti.updateTargetData(r,g))});let l=Ci(),c=rt();if(t.documentUpdates.forEach(h=>{t.resolvedLimboDocuments.has(h)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(r,h))}),o.push(J4(r,a,t.documentUpdates).next(h=>{l=h.qs,c=h.Qs})),!i.isEqual(X.min())){const h=n.Ti.getLastRemoteSnapshotVersion(r).next(f=>n.Ti.setTargetsMetadata(r,r.currentSequenceNumber,i));o.push(h)}return U.waitFor(o).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,c)).next(()=>l)}).then(r=>(n.xs=s,r))}function J4(e,t,n){let i=rt(),s=rt();return n.forEach(r=>i=i.add(r)),t.getEntries(e,i).next(r=>{let a=Ci();return n.forEach((o,l)=>{const c=r.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(o)),l.isNoDocument()&&l.version.isEqual(X.min())?(t.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),a=a.insert(o,l)):H(By,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{qs:a,Qs:s}})}function tL(e,t){const n=Z(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Cy),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function eL(e,t){const n=Z(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Ti.getTargetData(i,t).next(r=>r?(s=r,U.resolve(s)):n.Ti.allocateTargetId(i).next(a=>(s=new is(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.xs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(t,i.targetId)),i})}async function tp(e,t,n){const i=Z(e),s=i.xs.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!no(a))throw a;H(By,`Failed to update sequence numbers for target ${t}: ${a}`)}i.xs=i.xs.remove(t),i.Os.delete(s.target)}function rE(e,t,n){const i=Z(e);let s=X.min(),r=rt();return i.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,h){const f=Z(l),d=f.Os.get(h);return d!==void 0?U.resolve(f.xs.get(d)):f.Ti.getTargetData(c,h)}(i,a,Hn(t)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(a,o.targetId).next(l=>{r=l})}).next(()=>i.Ms.getDocumentsMatchingQuery(a,t,n?s:X.min(),n?r:rt())).next(o=>(nL(i,FP(t),o),{documents:o,$s:r})))}function nL(e,t,n){let i=e.Ns.get(t)||X.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),e.Ns.set(t,i)}class aE{constructor(){this.activeTargetIds=KP()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class iL{constructor(){this.xo=new aE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,i){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new aE,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="ConnectivityMonitor";class lE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){H(oE,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){H(oE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu=null;function ep(){return cu===null?cu=function(){return 268435456+Math.round(2147483648*Math.random())}():cu++,"0x"+cu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="RestConnection",rL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aL{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${i}/databases/${s}`,this.Go=this.databaseId.database===jh?`project_id=${i}`:`project_id=${i}&database_id=${s}`}zo(t,n,i,s,r){const a=ep(),o=this.jo(t,n.toUriEncodedString());H(ym,`Sending RPC '${t}' ${a}:`,o,i);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,s,r);const{host:c}=new URL(o),h=Za(c);return this.Jo(t,o,l,i,h).then(f=>(H(ym,`Received RPC '${t}' ${a}: `,f),f),f=>{throw Na(ym,`RPC '${t}' ${a} failed with error: `,f,"url: ",o,"request:",i),f})}Yo(t,n,i,s,r,a){return this.zo(t,n,i,s,r)}Ho(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+to}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>t[r]=s),i&&i.headers.forEach((s,r)=>t[r]=s)}jo(t,n){const i=rL[t];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee="WebChannelConnection";class lL extends aL{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,s,r){const a=ep();return new Promise((o,l)=>{const c=new F1;c.setWithCredentials(!0),c.listenOnce(H1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Bu.NO_ERROR:const f=c.getResponseJson();H(Ee,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(f)),o(f);break;case Bu.TIMEOUT:H(Ee,`RPC '${t}' ${a} timed out`),l(new q(j.DEADLINE_EXCEEDED,"Request time out"));break;case Bu.HTTP_ERROR:const d=c.getStatus();if(H(Ee,`RPC '${t}' ${a} failed with status:`,d,"response text:",c.getResponseText()),d>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const E=g==null?void 0:g.error;if(E&&E.status&&E.message){const T=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(v)>=0?v:j.UNKNOWN}(E.status);l(new q(T,E.message))}else l(new q(j.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new q(j.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{h_:t,streamId:a,P_:c.getLastErrorCode(),T_:c.getLastError()})}}finally{H(Ee,`RPC '${t}' ${a} completed.`)}});const h=JSON.stringify(s);H(Ee,`RPC '${t}' ${a} sending request:`,s),c.send(n,"POST",h,i,15)})}I_(t,n,i){const s=ep(),r=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=$1(),o=G1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const h=r.join("");H(Ee,`Creating RPC '${t}' stream ${s}: ${h}`,l);const f=a.createWebChannel(h,l);this.E_(f);let d=!1,g=!1;const E=new oL({Zo:R=>{g?H(Ee,`Not sending because RPC '${t}' stream ${s} is closed:`,R):(d||(H(Ee,`Opening RPC '${t}' stream ${s} transport.`),f.open(),d=!0),H(Ee,`RPC '${t}' stream ${s} sending:`,R),f.send(R))},Xo:()=>f.close()}),T=(R,y,v)=>{R.listen(y,x=>{try{v(x)}catch(C){setTimeout(()=>{throw C},0)}})};return T(f,Fo.EventType.OPEN,()=>{g||(H(Ee,`RPC '${t}' stream ${s} transport opened.`),E.__())}),T(f,Fo.EventType.CLOSE,()=>{g||(g=!0,H(Ee,`RPC '${t}' stream ${s} transport closed`),E.u_(),this.d_(f))}),T(f,Fo.EventType.ERROR,R=>{g||(g=!0,Na(Ee,`RPC '${t}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),E.u_(new q(j.UNAVAILABLE,"The operation could not be completed")))}),T(f,Fo.EventType.MESSAGE,R=>{var y;if(!g){const v=R.data[0];gt(!!v,16349);const x=v,C=(x==null?void 0:x.error)||((y=x[0])===null||y===void 0?void 0:y.error);if(C){H(Ee,`RPC '${t}' stream ${s} received error:`,C);const M=C.status;let L=function(A){const I=Yt[A];if(I!==void 0)return IA(I)}(M),b=C.message;L===void 0&&(L=j.INTERNAL,b="Unknown error status: "+M+" with message "+C.message),g=!0,E.u_(new q(L,b)),f.close()}else H(Ee,`RPC '${t}' stream ${s} received:`,v),E.c_(v)}}),T(o,q1.STAT_EVENT,R=>{R.stat===Fg.PROXY?H(Ee,`RPC '${t}' stream ${s} detected buffering proxy`):R.stat===Fg.NOPROXY&&H(Ee,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.a_()},0),E}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function _m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(e){return new f4(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(t,n,i=1e3,s=1.5,r=6e4){this.xi=t,this.timerId=n,this.A_=i,this.R_=s,this.V_=r,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-i);s>0&&H("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="PersistentStream";class HA{constructor(t,n,i,s,r,a,o,l){this.xi=t,this.S_=i,this.D_=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new FA(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Ii(n.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.v_===n&&this.z_(i,s)},i=>{t(()=>{const s=new q(j.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(s)})})}z_(t,n){const i=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{i(()=>this.j_(s))}),this.stream.onMessage(s=>{i(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return H(cE,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(H(cE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cL extends HA{constructor(t,n,i,s,r,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=g4(this.serializer,t),i=function(r){if(!("targetChange"in r))return X.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?X.min():a.readTime?qn(a.readTime):X.min()}(t);return this.listener.Y_(n,i)}Z_(t){const n={};n.database=Jg(this.serializer),n.addTarget=function(r,a){let o;const l=a.target;if(o=Yg(l)?{documents:_4(r,l)}:{query:v4(r,l).gt},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=OA(r,a.resumeToken);const c=Wg(r,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(X.min())>0){o.readTime=qh(r,a.snapshotVersion.toTimestamp());const c=Wg(r,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const i=E4(this.serializer,t);i&&(n.labels=i),this.Q_(n)}X_(t){const n={};n.database=Jg(this.serializer),n.removeTarget=t,this.Q_(n)}}class uL extends HA{constructor(t,n,i,s,r,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=y4(t.writeResults,t.commitTime),i=qn(t.commitTime);return this.listener.ra(i,n)}ia(){const t={};t.database=Jg(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>p4(this.serializer,i))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{}class fL extends hL{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new q(j.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.zo(t,Xg(n,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new q(j.UNKNOWN,r.toString())})}Yo(t,n,i,s,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Yo(t,Xg(n,i),s,a,o,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new q(j.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class dL{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ii(n),this.ua=!1):H("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="RemoteStore";class mL{constructor(t,n,i,s,r){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=r,this.Ra.No(a=>{i.enqueueAndForget(async()=>{Cr(this)&&(H(fr,"Restarting streams for network reachability change."),await async function(l){const c=Z(l);c.da.add(4),await yc(c),c.Va.set("Unknown"),c.da.delete(4),await $f(c)}(this))})}),this.Va=new dL(i,s)}}async function $f(e){if(Cr(e))for(const t of e.Aa)await t(!0)}async function yc(e){for(const t of e.Aa)await t(!1)}function qA(e,t){const n=Z(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Gy(n)?qy(n):so(n).N_()&&Hy(n,t))}function Fy(e,t){const n=Z(e),i=so(n);n.Ea.delete(t),i.N_()&&GA(n,t),n.Ea.size===0&&(i.N_()?i.k_():Cr(n)&&n.Va.set("Unknown"))}function Hy(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(X.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}so(e).Z_(t)}function GA(e,t){e.ma.Ke(t),so(e).X_(t)}function qy(e){e.ma=new l4({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),so(e).start(),e.Va.ca()}function Gy(e){return Cr(e)&&!so(e).O_()&&e.Ea.size>0}function Cr(e){return Z(e).da.size===0}function $A(e){e.ma=void 0}async function gL(e){e.Va.set("Online")}async function pL(e){e.Ea.forEach((t,n)=>{Hy(e,t)})}async function yL(e,t){$A(e),Gy(e)?(e.Va.Pa(t),qy(e)):e.Va.set("Unknown")}async function _L(e,t,n){if(e.Va.set("Online"),t instanceof DA&&t.state===2&&t.cause)try{await async function(s,r){const a=r.cause;for(const o of r.targetIds)s.Ea.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.Ea.delete(o),s.ma.removeTarget(o))}(e,t)}catch(i){H(fr,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await $h(e,i)}else if(t instanceof Gu?e.ma.Xe(t):t instanceof CA?e.ma.ot(t):e.ma.nt(t),!n.isEqual(X.min()))try{const i=await BA(e.localStore);n.compareTo(i)>=0&&await function(r,a){const o=r.ma.It(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=r.Ea.get(c);h&&r.Ea.set(c,h.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const h=r.Ea.get(l);if(!h)return;r.Ea.set(l,h.withResumeToken(pe.EMPTY_BYTE_STRING,h.snapshotVersion)),GA(r,l);const f=new is(h.target,l,c,h.sequenceNumber);Hy(r,f)}),r.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(i){H(fr,"Failed to raise snapshot:",i),await $h(e,i)}}async function $h(e,t,n){if(!no(t))throw t;e.da.add(1),await yc(e),e.Va.set("Offline"),n||(n=()=>BA(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{H(fr,"Retrying IndexedDB access"),await n(),e.da.delete(1),await $f(e)})}function YA(e,t){return t().catch(n=>$h(e,n,t))}async function Yf(e){const t=Z(e),n=Os(t);let i=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Cy;for(;vL(t);)try{const s=await tL(t.localStore,i);if(s===null){t.Ia.length===0&&n.k_();break}i=s.batchId,bL(t,s)}catch(s){await $h(t,s)}KA(t)&&QA(t)}function vL(e){return Cr(e)&&e.Ia.length<10}function bL(e,t){e.Ia.push(t);const n=Os(e);n.N_()&&n.ea&&n.ta(t.mutations)}function KA(e){return Cr(e)&&!Os(e).O_()&&e.Ia.length>0}function QA(e){Os(e).start()}async function EL(e){Os(e).ia()}async function TL(e){const t=Os(e);for(const n of e.Ia)t.ta(n.mutations)}async function xL(e,t,n){const i=e.Ia.shift(),s=Py.from(i,t,n);await YA(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Yf(e)}async function wL(e,t){t&&Os(e).ea&&await async function(i,s){if(function(a){return a4(a)&&a!==j.ABORTED}(s.code)){const r=i.Ia.shift();Os(i).L_(),await YA(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Yf(i)}}(e,t),KA(e)&&QA(e)}async function uE(e,t){const n=Z(e);n.asyncQueue.verifyOperationInProgress(),H(fr,"RemoteStore received new credentials");const i=Cr(n);n.da.add(3),await yc(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await $f(n)}async function SL(e,t){const n=Z(e);t?(n.da.delete(2),await $f(n)):t||(n.da.add(2),await yc(n),n.Va.set("Unknown"))}function so(e){return e.fa||(e.fa=function(n,i,s){const r=Z(n);return r.oa(),new cL(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{e_:gL.bind(null,e),n_:pL.bind(null,e),i_:yL.bind(null,e),Y_:_L.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),Gy(e)?qy(e):e.Va.set("Unknown")):(await e.fa.stop(),$A(e))})),e.fa}function Os(e){return e.ga||(e.ga=function(n,i,s){const r=Z(n);return r.oa(),new uL(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:EL.bind(null,e),i_:wL.bind(null,e),na:TL.bind(null,e),ra:xL.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await Yf(e)):(await e.ga.stop(),e.Ia.length>0&&(H(fr,`Stopping write stream with ${e.Ia.length} pending writes`),e.Ia=[]))})),e.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(t,n,i,s,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,r){const a=Date.now()+i,o=new $y(t,n,a,s,r);return o.start(i),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(j.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yy(e,t){if(Ii("AsyncQueue",`${t}: ${e}`),no(e))return new q(j.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{static emptySet(t){return new ga(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||$.comparator(n.key,i.key):(n,i)=>$.comparator(n.key,i.key),this.keyedMap=Ho(),this.sortedSet=new Ut(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ga)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new ga;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.pa=new Ut($.comparator)}track(t){const n=t.doc.key,i=this.pa.get(n);i?t.type!==0&&i.type===3?this.pa=this.pa.insert(n,t):t.type===3&&i.type!==1?this.pa=this.pa.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.pa=this.pa.remove(n):t.type===1&&i.type===2?this.pa=this.pa.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):Q(63341,{Vt:t,ya:i}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,i)=>{t.push(i)}),t}}class Ua{constructor(t,n,i,s,r,a,o,l,c){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,i,s,r){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Ua(t,n,ga.emptySet(n),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class RL{constructor(){this.queries=fE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=Z(n),r=s.queries;s.queries=fE(),r.forEach((a,o)=>{for(const l of o.Sa)l.onError(i)})})(this,new q(j.ABORTED,"Firestore shutting down"))}}function fE(){return new Rr(e=>gA(e),zf)}async function IL(e,t){const n=Z(e);let i=3;const s=t.query;let r=n.queries.get(s);r?!r.Da()&&t.va()&&(i=2):(r=new AL,i=t.va()?0:1);try{switch(i){case 0:r.ba=await n.onListen(s,!0);break;case 1:r.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const o=Yy(a,`Initialization of query '${qr(t.query)}' failed`);return void t.onError(o)}n.queries.set(s,r),r.Sa.push(t),t.Fa(n.onlineState),r.ba&&t.Ma(r.ba)&&Ky(n)}async function CL(e,t){const n=Z(e),i=t.query;let s=3;const r=n.queries.get(i);if(r){const a=r.Sa.indexOf(t);a>=0&&(r.Sa.splice(a,1),r.Sa.length===0?s=t.va()?0:1:!r.Da()&&t.va()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function DL(e,t){const n=Z(e);let i=!1;for(const s of t){const r=s.query,a=n.queries.get(r);if(a){for(const o of a.Sa)o.Ma(s)&&(i=!0);a.ba=s}}i&&Ky(n)}function OL(e,t,n){const i=Z(e),s=i.queries.get(t);if(s)for(const r of s.Sa)r.onError(n);i.queries.delete(t)}function Ky(e){e.Ca.forEach(t=>{t.next()})}var np,dE;(dE=np||(np={})).xa="default",dE.Cache="cache";class ML{constructor(t,n,i){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Ua(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const i=n!=="Offline";return(!this.options.Qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=Ua.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==np.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(t){this.key=t}}class XA{constructor(t){this.key=t}}class NL{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=rt(),this.mutatedKeys=rt(),this.Za=pA(t),this.Xa=new ga(this.Za)}get eu(){return this.Ha}tu(t,n){const i=n?n.nu:new hE,s=n?n.Xa:this.Xa;let r=n?n.mutatedKeys:this.mutatedKeys,a=s,o=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((h,f)=>{const d=s.get(h),g=Bf(this.query,f)?f:null,E=!!d&&this.mutatedKeys.has(d.key),T=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let R=!1;d&&g?d.data.isEqual(g.data)?E!==T&&(i.track({type:3,doc:g}),R=!0):this.ru(d,g)||(i.track({type:2,doc:g}),R=!0,(l&&this.Za(g,l)>0||c&&this.Za(g,c)<0)&&(o=!0)):!d&&g?(i.track({type:0,doc:g}),R=!0):d&&!g&&(i.track({type:1,doc:d}),R=!0,(l||c)&&(o=!0)),R&&(g?(a=a.add(g),r=T?r.add(h):r.delete(h)):(a=a.delete(h),r=r.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),r=r.delete(h.key),i.track({type:1,doc:h})}return{Xa:a,nu:i,Cs:o,mutatedKeys:r}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const r=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const a=t.nu.wa();a.sort((h,f)=>function(g,E){const T=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Vt:R})}};return T(g)-T(E)}(h.type,f.type)||this.Za(h.doc,f.doc)),this.iu(i),s=s!=null&&s;const o=n&&!s?this.su():[],l=this.Ya.size===0&&this.current&&!s?1:0,c=l!==this.Ja;return this.Ja=l,a.length!==0||c?{snapshot:new Ua(this.query,t.Xa,r,a,t.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:o}:{ou:o}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new hE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=rt(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return t.forEach(i=>{this.Ya.has(i)||n.push(new XA(i))}),this.Ya.forEach(i=>{t.has(i)||n.push(new WA(i))}),n}au(t){this.Ha=t.$s,this.Ya=rt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return Ua.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Qy="SyncEngine";class kL{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class PL{constructor(t){this.key=t,this.cu=!1}}class LL{constructor(t,n,i,s,r,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Rr(o=>gA(o),zf),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ut($.comparator),this.Eu=new Map,this.du=new Uy,this.Au={},this.Ru=new Map,this.Vu=Va.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function VL(e,t,n=!0){const i=iR(e);let s;const r=i.hu.get(t);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.uu()):s=await ZA(i,t,n,!0),s}async function UL(e,t){const n=iR(e);await ZA(n,t,!0,!1)}async function ZA(e,t,n,i){const s=await eL(e.localStore,Hn(t)),r=s.targetId,a=e.sharedClientState.addLocalQueryTarget(r,n);let o;return i&&(o=await jL(e,t,r,a==="current",s.resumeToken)),e.isPrimaryClient&&n&&qA(e.remoteStore,s),o}async function jL(e,t,n,i,s){e.fu=(f,d,g)=>async function(T,R,y,v){let x=R.view.tu(y);x.Cs&&(x=await rE(T.localStore,R.query,!1).then(({documents:b})=>R.view.tu(b,x)));const C=v&&v.targetChanges.get(R.targetId),M=v&&v.targetMismatches.get(R.targetId)!=null,L=R.view.applyChanges(x,T.isPrimaryClient,C,M);return gE(T,R.targetId,L.ou),L.snapshot}(e,f,d,g);const r=await rE(e.localStore,t,!0),a=new NL(t,r.$s),o=a.tu(r.documents),l=pc.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),c=a.applyChanges(o,e.isPrimaryClient,l);gE(e,n,c.ou);const h=new kL(t,n,a);return e.hu.set(t,h),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),c.snapshot}async function zL(e,t,n){const i=Z(e),s=i.hu.get(t),r=i.Pu.get(s.targetId);if(r.length>1)return i.Pu.set(s.targetId,r.filter(a=>!zf(a,t))),void i.hu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await tp(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Fy(i.remoteStore,s.targetId),ip(i,s.targetId)}).catch(eo)):(ip(i,s.targetId),await tp(i.localStore,s.targetId,!0))}async function BL(e,t){const n=Z(e),i=n.hu.get(t),s=n.Pu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Fy(n.remoteStore,i.targetId))}async function FL(e,t,n){const i=QL(e);try{const s=await function(a,o){const l=Z(a),c=Xt.now(),h=o.reduce((g,E)=>g.add(E.key),rt());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=Ci(),T=rt();return l.Bs.getEntries(g,h).next(R=>{E=R,E.forEach((y,v)=>{v.isValidDocument()||(T=T.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,E)).next(R=>{f=R;const y=[];for(const v of o){const x=e4(v,f.get(v.key).overlayedDocument);x!=null&&y.push(new Ir(v.key,x,aA(x.value.mapValue),bi.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,y,o)}).next(R=>{d=R;const y=R.applyToLocalDocumentSet(f,T);return l.documentOverlayCache.saveOverlays(g,R.batchId,y)})}).then(()=>({batchId:d.batchId,changes:_A(f)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(a,o,l){let c=a.Au[a.currentUser.toKey()];c||(c=new Ut(tt)),c=c.insert(o,l),a.Au[a.currentUser.toKey()]=c}(i,s.batchId,n),await _c(i,s.changes),await Yf(i.remoteStore)}catch(s){const r=Yy(s,"Failed to persist write");n.reject(r)}}async function JA(e,t){const n=Z(e);try{const i=await Z4(n.localStore,t);t.targetChanges.forEach((s,r)=>{const a=n.Eu.get(r);a&&(gt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.cu=!0:s.modifiedDocuments.size>0?gt(a.cu,14607):s.removedDocuments.size>0&&(gt(a.cu,42227),a.cu=!1))}),await _c(n,i,t)}catch(i){await eo(i)}}function mE(e,t,n){const i=Z(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.hu.forEach((r,a)=>{const o=a.view.Fa(t);o.snapshot&&s.push(o.snapshot)}),function(a,o){const l=Z(a);l.onlineState=o;let c=!1;l.queries.forEach((h,f)=>{for(const d of f.Sa)d.Fa(o)&&(c=!0)}),c&&Ky(l)}(i.eventManager,t),s.length&&i.lu.Y_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function HL(e,t,n){const i=Z(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Eu.get(t),r=s&&s.key;if(r){let a=new Ut($.comparator);a=a.insert(r,xe.newNoDocument(r,X.min()));const o=rt().add(r),l=new qf(X.min(),new Map,new Ut(tt),a,o);await JA(i,l),i.Iu=i.Iu.remove(r),i.Eu.delete(t),Wy(i)}else await tp(i.localStore,t,!1).then(()=>ip(i,t,n)).catch(eo)}async function qL(e,t){const n=Z(e),i=t.batch.batchId;try{const s=await X4(n.localStore,t);eR(n,i,null),tR(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await _c(n,s)}catch(s){await eo(s)}}async function GL(e,t,n){const i=Z(e);try{const s=await function(a,o){const l=Z(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(gt(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(i.localStore,t);eR(i,t,n),tR(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await _c(i,s)}catch(s){await eo(s)}}function tR(e,t){(e.Ru.get(t)||[]).forEach(n=>{n.resolve()}),e.Ru.delete(t)}function eR(e,t,n){const i=Z(e);let s=i.Au[i.currentUser.toKey()];if(s){const r=s.get(t);r&&(n?r.reject(n):r.resolve(),s=s.remove(t)),i.Au[i.currentUser.toKey()]=s}}function ip(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Pu.get(t))e.hu.delete(i),n&&e.lu.gu(i,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(i=>{e.du.containsKey(i)||nR(e,i)})}function nR(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);n!==null&&(Fy(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),Wy(e))}function gE(e,t,n){for(const i of n)i instanceof WA?(e.du.addReference(i.key,t),$L(e,i)):i instanceof XA?(H(Qy,"Document no longer in limbo: "+i.key),e.du.removeReference(i.key,t),e.du.containsKey(i.key)||nR(e,i.key)):Q(19791,{pu:i})}function $L(e,t){const n=t.key,i=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(i)||(H(Qy,"New document in limbo: "+n),e.Tu.add(i),Wy(e))}function Wy(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new $(Ot.fromString(t)),i=e.Vu.next();e.Eu.set(i,new PL(n)),e.Iu=e.Iu.insert(n,i),qA(e.remoteStore,new is(Hn(dA(n.path)),i,"TargetPurposeLimboResolution",Vf.le))}}async function _c(e,t,n){const i=Z(e),s=[],r=[],a=[];i.hu.isEmpty()||(i.hu.forEach((o,l)=>{a.push(i.fu(l,t,n).then(c=>{var h;if((c||n)&&i.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=zy.Rs(l.targetId,c);r.push(f)}}))}),await Promise.all(a),i.lu.Y_(s),await async function(l,c){const h=Z(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(c,d=>U.forEach(d.ds,g=>h.persistence.referenceDelegate.addReference(f,d.targetId,g)).next(()=>U.forEach(d.As,g=>h.persistence.referenceDelegate.removeReference(f,d.targetId,g)))))}catch(f){if(!no(f))throw f;H(By,"Failed to update sequence numbers: "+f)}for(const f of c){const d=f.targetId;if(!f.fromCache){const g=h.xs.get(d),E=g.snapshotVersion,T=g.withLastLimboFreeSnapshotVersion(E);h.xs=h.xs.insert(d,T)}}}(i.localStore,r))}async function YL(e,t){const n=Z(e);if(!n.currentUser.isEqual(t)){H(Qy,"User change. New user:",t.toKey());const i=await zA(n.localStore,t);n.currentUser=t,function(r,a){r.Ru.forEach(o=>{o.forEach(l=>{l.reject(new q(j.CANCELLED,a))})}),r.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await _c(n,i.ks)}}function KL(e,t){const n=Z(e),i=n.Eu.get(t);if(i&&i.cu)return rt().add(i.key);{let s=rt();const r=n.Pu.get(t);if(!r)return s;for(const a of r){const o=n.hu.get(a);s=s.unionWith(o.view.eu)}return s}}function iR(e){const t=Z(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=JA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=KL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=HL.bind(null,t),t.lu.Y_=DL.bind(null,t.eventManager),t.lu.gu=OL.bind(null,t.eventManager),t}function QL(e){const t=Z(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=GL.bind(null,t),t}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Gf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return W4(this.persistence,new Y4,t.initialUser,this.serializer)}Su(t){return new jA(jy.fi,this.serializer)}bu(t){return new iL}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class WL extends Yh{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){gt(this.persistence.referenceDelegate instanceof Gh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new M4(i,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?Le.withCacheSize(this.cacheSizeBytes):Le.DEFAULT;return new jA(i=>Gh.fi(i,n),this.serializer)}}class sp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>mE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=YL.bind(null,this.syncEngine),await SL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new RL}()}createDatastore(t){const n=Gf(t.databaseInfo.databaseId),i=function(r){return new lL(r)}(t.databaseInfo);return function(r,a,o,l){return new fL(r,a,o,l)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,r,a,o){return new mL(i,s,r,a,o)}(this.localStore,this.datastore,t.asyncQueue,n=>mE(this.syncEngine,n,0),function(){return lE.C()?new lE:new sL}())}createSyncEngine(t,n){return function(s,r,a,o,l,c,h){const f=new LL(s,r,a,o,l,c);return h&&(f.mu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const r=Z(s);H(fr,"RemoteStore shutting down."),r.da.add(5),await yc(r),r.Ra.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}sp.provider={build:()=>new sp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Ii("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="FirestoreClient";class ZL{constructor(t,n,i,s,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Te.UNAUTHENTICATED,this.clientId=W1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{H(Ms,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(H(Ms,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new _s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Yy(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function vm(e,t){e.asyncQueue.verifyOperationInProgress(),H(Ms,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await zA(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function pE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await JL(e);H(Ms,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>uE(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>uE(t.remoteStore,s)),e._onlineComponents=t}async function JL(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){H(Ms,"Using user provided OfflineComponentProvider");try{await vm(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(s){return s.name==="FirebaseError"?s.code===j.FAILED_PRECONDITION||s.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Na("Error using user provided cache. Falling back to memory cache: "+n),await vm(e,new Yh)}}else H(Ms,"Using default OfflineComponentProvider"),await vm(e,new WL(void 0));return e._offlineComponents}async function sR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(H(Ms,"Using user provided OnlineComponentProvider"),await pE(e,e._uninitializedComponentsProvider._online)):(H(Ms,"Using default OnlineComponentProvider"),await pE(e,new sp))),e._onlineComponents}function tV(e){return sR(e).then(t=>t.syncEngine)}async function eV(e){const t=await sR(e),n=t.eventManager;return n.onListen=VL.bind(null,t.syncEngine),n.onUnlisten=zL.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=UL.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=BL.bind(null,t.syncEngine),n}function nV(e,t,n={}){const i=new _s;return e.asyncQueue.enqueueAndForget(async()=>function(r,a,o,l,c){const h=new XL({next:d=>{h.xu(),a.enqueueAndForget(()=>CL(r,f)),d.fromCache&&l.source==="server"?c.reject(new q(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new ML(o,h,{includeMetadataChanges:!0,Qa:!0});return IL(r,f)}(await eV(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(e,t,n){if(!n)throw new q(j.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function iV(e,t,n,i){if(t===!0&&i===!0)throw new q(j.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function _E(e){if(!$.isDocumentKey(e))throw new q(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function vE(e){if($.isDocumentKey(e))throw new q(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Kf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Q(12329,{type:typeof e})}function Kh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new q(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kf(e);throw new q(j.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="firestore.googleapis.com",bE=!0;class EE{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new q(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oR,this.ssl=bE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:bE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=UA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<D4)throw new q(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}iV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rR((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Qf{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new q(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new oP;switch(i.type){case"firstParty":return new hP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new q(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=yE.get(n);i&&(H("ComponentProvider","Removing Datastore"),yE.delete(n),i.terminate())}(this),Promise.resolve()}}function sV(e,t,n,i={}){var s;e=Kh(e,Qf);const r=Za(t),a=e._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${n}`;r&&(D1(`https://${l}`),O1("Firestore",!0)),a.host!==oR&&a.host!==l&&Na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:r,emulatorOptions:i});if(!As(c,o)&&(e._setSettings(c),i.mockUserToken)){let h,f;if(typeof i.mockUserToken=="string")h=i.mockUserToken,f=Te.MOCK_USER;else{h=NN(i.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new q(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Te(d)}e._authCredentials=new lP(new K1(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Dr(this.firestore,t,this._query)}}class dn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new dn(this.firestore,t,this._key)}}class vs extends Dr{constructor(t,n,i){super(t,n,dA(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new dn(this.firestore,null,new $(t))}withConverter(t){return new vs(this.firestore,t,this._path)}}function Xy(e,t,...n){if(e=le(e),aR("collection","path",t),e instanceof Qf){const i=Ot.fromString(t,...n);return vE(i),new vs(e,null,i)}{if(!(e instanceof dn||e instanceof vs))throw new q(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Ot.fromString(t,...n));return vE(i),new vs(e.firestore,null,i)}}function rV(e,t,...n){if(e=le(e),arguments.length===1&&(t=W1.newId()),aR("doc","path",t),e instanceof Qf){const i=Ot.fromString(t,...n);return _E(i),new dn(e,null,new $(i))}{if(!(e instanceof dn||e instanceof vs))throw new q(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Ot.fromString(t,...n));return _E(i),new dn(e.firestore,e instanceof vs?e.converter:null,new $(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="AsyncQueue";class xE{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new FA(this,"async_queue_retry"),this.rc=()=>{const i=_m();i&&H(TE,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=t;const n=_m();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=_m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new _s;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!no(t))throw t;H(TE,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(i=>{throw this.Xu=i,this.ec=!1,Ii("INTERNAL UNHANDLED ERROR: ",wE(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=n,n}enqueueAfterDelay(t,n,i){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const s=$y.createAndSchedule(this,t,n,i,r=>this.uc(r));return this.Zu.push(s),s}oc(){this.Xu&&Q(47125,{cc:wE(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function wE(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Zy extends Qf{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new xE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new xE(t),this._firestoreClient=void 0,await t}}}function aV(e,t){const n=typeof e=="object"?e:Ry(),i=typeof e=="string"?e:jh,s=Sr(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=ON("firestore");r&&sV(s,...r)}return s}function lR(e){if(e._terminated)throw new q(j.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||oV(e),e._firestoreClient}function oV(e){var t,n,i;const s=e._freezeSettings(),r=function(o,l,c,h){return new AP(o,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,rR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new ZL(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ja(pe.fromBase64String(t))}catch(n){throw new q(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ja(pe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new q(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new me(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new q(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new q(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return tt(this._lat,t._lat)||tt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=/^__.*__$/;class cV{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Ir(t,this.data,this.fieldMask,n,this.fieldTransforms):new gc(t,this.data,n,this.fieldTransforms)}}function uR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{Ic:e})}}class n_{constructor(t,n,i,s,r,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Ec(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new n_(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.dc({path:i,Rc:!1});return s.Vc(t),s}mc(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.dc({path:i,Rc:!1});return s.Ec(),s}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Qh(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(uR(this.Ic)&&lV.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class uV{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Gf(t)}bc(t,n,i,s=!1){return new n_({Ic:t,methodName:n,wc:i,path:me.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hR(e){const t=e._freezeSettings(),n=Gf(e._databaseId);return new uV(e._databaseId,!!t.ignoreUndefinedProperties,n)}function hV(e,t,n,i,s,r={}){const a=e.bc(r.merge||r.mergeFields?2:0,t,n,s);mR("Data must be an object, but it was:",a,i);const o=fR(i,a);let l,c;if(r.merge)l=new bn(a.fieldMask),c=a.fieldTransforms;else if(r.mergeFields){const h=[];for(const f of r.mergeFields){const d=dV(t,f,n);if(!a.contains(d))throw new q(j.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);gV(h,d)||h.push(d)}l=new bn(h),c=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=a.fieldTransforms;return new cV(new un(o),l,c)}function fV(e,t,n,i=!1){return i_(n,e.bc(i?4:3,t))}function i_(e,t){if(dR(e=le(e)))return mR("Unsupported field value:",t,e),fR(e,t);if(e instanceof cR)return function(i,s){if(!uR(s.Ic))throw s.gc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(i,s){const r=[];let a=0;for(const o of i){let l=i_(o,s.fc(a));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),a++}return{arrayValue:{values:r}}}(e,t)}return function(i,s){if((i=le(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return QP(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Xt.fromDate(i);return{timestampValue:qh(s.serializer,r)}}if(i instanceof Xt){const r=new Xt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:qh(s.serializer,r)}}if(i instanceof t_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ja)return{bytesValue:OA(s.serializer,i._byteString)};if(i instanceof dn){const r=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(r))throw s.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Vy(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof e_)return function(a,o){return{mapValue:{fields:{[sA]:{stringValue:rA},[zh]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.gc("VectorValues must only contain numeric values.");return ky(o.serializer,c)})}}}}}}(i,s);throw s.gc(`Unsupported field value: ${Kf(i)}`)}(e,t)}function fR(e,t){const n={};return Z1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ar(e,(i,s)=>{const r=i_(s,t.Ac(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function dR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Xt||e instanceof t_||e instanceof ja||e instanceof dn||e instanceof cR||e instanceof e_)}function mR(e,t,n){if(!dR(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=Kf(n);throw i==="an object"?t.gc(e+" a custom object"):t.gc(e+" "+i)}}function dV(e,t,n){if((t=le(t))instanceof Jy)return t._internalPath;if(typeof t=="string")return gR(e,t);throw Qh("Field path arguments must be of type string or ",e,!1,void 0,n)}const mV=new RegExp("[~\\*/\\[\\]]");function gR(e,t,n){if(t.search(mV)>=0)throw Qh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Jy(...t.split("."))._internalPath}catch{throw Qh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Qh(e,t,n,i,s){const r=i&&!i.isEmpty(),a=s!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(r||a)&&(l+=" (found",r&&(l+=` in field ${i}`),a&&(l+=` in document ${s}`),l+=")"),new q(j.INVALID_ARGUMENT,o+e+l)}function gV(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t,n,i,s,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new pV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(s_("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pV extends pR{data(){return super.data()}}function s_(e,t){return typeof t=="string"?gR(e,t):t instanceof Jy?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new q(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r_{}class yR extends r_{}function _R(e,t,...n){let i=[];t instanceof r_&&i.push(t),i=i.concat(n),function(r){const a=r.filter(l=>l instanceof o_).length,o=r.filter(l=>l instanceof a_).length;if(a>1||a>0&&o>0)throw new q(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)e=s._apply(e);return e}class a_ extends yR{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new a_(t,n,i)}_apply(t){const n=this._parse(t);return bR(t._query,n),new Dr(t.firestore,t.converter,Kg(t._query,n))}_parse(t){const n=hR(t.firestore);return function(r,a,o,l,c,h,f){let d;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new q(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){AE(f,h);const E=[];for(const T of f)E.push(SE(l,r,T));d={arrayValue:{values:E}}}else d=SE(l,r,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||AE(f,h),d=fV(o,a,f,h==="in"||h==="not-in");return Qt.create(c,h,d)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class o_ extends r_{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new o_(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Rn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,r){let a=s;const o=r.getFlattenedFilters();for(const l of o)bR(a,l),a=Kg(a,l)}(t._query,n),new Dr(t.firestore,t.converter,Kg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class l_ extends yR{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new l_(t,n)}_apply(t){const n=function(s,r,a){if(s.startAt!==null)throw new q(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new q(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zl(r,a)}(t._query,this._field,this._direction);return new Dr(t.firestore,t.converter,function(s,r){const a=s.explicitOrderBy.concat([r]);return new io(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,n))}}function vR(e,t="asc"){const n=t,i=s_("orderBy",e);return l_._create(i,n)}function SE(e,t,n){if(typeof(n=le(n))=="string"){if(n==="")throw new q(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mA(t)&&n.indexOf("/")!==-1)throw new q(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Ot.fromString(n));if(!$.isDocumentKey(i))throw new q(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return zb(e,new $(i))}if(n instanceof dn)return zb(e,n._key);throw new q(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kf(n)}.`)}function AE(e,t){if(!Array.isArray(e)||e.length===0)throw new q(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function bR(e,t){const n=function(s,r){for(const a of s)for(const o of a.getFlattenedFilters())if(r.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new q(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new q(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class _V{convertValue(t,n="none"){switch(Ds(t)){case 0:return null;case 1:return t.booleanValue;case 2:return qt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Cs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Q(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Ar(t,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(t){var n,i,s;const r=(s=(i=(n=t.fields)===null||n===void 0?void 0:n[zh].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(a=>qt(a.doubleValue));return new e_(r)}convertGeoPoint(t){return new t_(qt(t.latitude),qt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=jf(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Vl(t));default:return null}}convertTimestamp(t){const n=Is(t);return new Xt(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Ot.fromString(t);gt(VA(i),9688,{name:t});const s=new Ul(i.get(1),i.get(3)),r=new $(i.popFirst(5));return s.isEqual(n)||Ii(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(e,t,n){let i;return i=e?e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class bV extends pR{constructor(t,n,i,s,r,a){super(t,n,i,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new $u(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(s_("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class $u extends bV{data(t={}){return super.data(t)}}class EV{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new uu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new $u(this._firestore,this._userDataWriter,i.key,i,new uu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const l=new $u(s._firestore,s._userDataWriter,o.doc.key,o.doc,new uu(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const l=new $u(s._firestore,s._userDataWriter,o.doc.key,o.doc,new uu(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:TV(o.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function TV(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:e})}}class xV extends _V{constructor(t){super(),this.firestore=t}convertBytes(t){return new ja(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function ER(e){e=Kh(e,Dr);const t=Kh(e.firestore,Zy),n=lR(t),i=new xV(t);return yV(e._query),nV(n,e._query).then(s=>new EV(t,i,e,s))}function wV(e,t){const n=Kh(e.firestore,Zy),i=rV(e),s=vV(e.converter,t);return SV(n,[hV(hR(e.firestore),"addDoc",i._key,s,e.converter!==null,{}).toMutation(i._key,bi.exists(!1))]).then(()=>i)}function SV(e,t){return function(i,s){const r=new _s;return i.asyncQueue.enqueueAndForget(async()=>FL(await tV(i),s,r)),r.promise}(lR(e),t)}(function(t,n=!0){(function(s){to=s})(Ja),Yn(new An("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),o=new Zy(new cP(i.getProvider("auth-internal")),new fP(a,i.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new q(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(c.options.projectId,h)}(a,s),a);return r=Object.assign({useFetchStreams:n},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),fn(Ib,Cb,t),fn(Ib,Cb,"esm2017")})();var AV="firebase",RV="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn(AV,RV,"app");function c_(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function TR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IV=TR,xR=new wr("auth","Firebase",TR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new Lf("@firebase/auth");function CV(e,...t){Wh.logLevel<=st.WARN&&Wh.warn(`Auth (${Ja}): ${e}`,...t)}function Yu(e,...t){Wh.logLevel<=st.ERROR&&Wh.error(`Auth (${Ja}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(e,...t){throw u_(e,...t)}function Gn(e,...t){return u_(e,...t)}function wR(e,t,n){const i=Object.assign(Object.assign({},IV()),{[t]:n});return new wr("auth","Firebase",i).create(t,{appName:e.name})}function Ei(e){return wR(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function u_(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return xR.create(e,...t)}function K(e,t,...n){if(!e)throw u_(t,...n)}function gi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Yu(t),new Error(t)}function Di(e,t){e||gi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function DV(){return RE()==="http:"||RE()==="https:"}function RE(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DV()||M1()||"connection"in navigator)?navigator.onLine:!0}function MV(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Di(n>t,"Short delay should be less than long delay!"),this.isMobile=LN()||jN()}get(){return OV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(e,t){Di(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PV=new vc(3e4,6e4);function Ni(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ki(e,t,n,i,s={}){return AR(e,s,async()=>{let r={},a={};i&&(t==="GET"?a=i:r={body:JSON.stringify(i)});const o=mc(Object.assign({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:l},r);return UN()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&Za(e.emulatorConfig.host)&&(c.credentials="include"),SR.fetch()(await RR(e,e.config.apiHost,n,o),c)})}async function AR(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},NV),t);try{const s=new VV(e),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw hu(e,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const o=r.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw hu(e,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw hu(e,"email-already-in-use",a);if(l==="USER_DISABLED")throw hu(e,"user-disabled",a);const h=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw wR(e,h,c);In(e,h)}}catch(s){if(s instanceof Mn)throw s;In(e,"network-request-failed",{message:String(s)})}}async function bc(e,t,n,i,s={}){const r=await ki(e,t,n,i,s);return"mfaPendingCredential"in r&&In(e,"multi-factor-auth-required",{_serverResponse:r}),r}async function RR(e,t,n,i){const s=`${t}${n}?${i}`,r=e,a=r.config.emulator?h_(e.config,s):`${e.config.apiScheme}://${s}`;return kV.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}function LV(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Gn(this.auth,"network-request-failed")),PV.get())})}}function hu(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Gn(e,t,i);return s.customData._tokenResponse=n,s}function IE(e){return e!==void 0&&e.enterprise!==void 0}class UV{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return LV(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jV(e,t){return ki(e,"GET","/v2/recaptchaConfig",Ni(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV(e,t){return ki(e,"POST","/v1/accounts:delete",t)}async function Xh(e,t){return ki(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function BV(e,t=!1){const n=le(e),i=await n.getIdToken(t),s=f_(i);K(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:ml(bm(s.auth_time)),issuedAtTime:ml(bm(s.iat)),expirationTime:ml(bm(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function bm(e){return Number(e)*1e3}function f_(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Yu("JWT malformed, contained fewer than 3 sections"),null;try{const s=A1(n);return s?JSON.parse(s):(Yu("Failed to decode base64 JWT payload"),null)}catch(s){return Yu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function CE(e){const t=f_(e);return K(t,"internal-error"),K(typeof t.exp<"u","internal-error"),K(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Mn&&FV(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function FV({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ml(this.lastLoginAt),this.creationTime=ml(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zh(e){var t;const n=e.auth,i=await e.getIdToken(),s=await Hl(e,Xh(n,{idToken:i}));K(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];e._notifyReloadListener(r);const a=!((t=r.providerUserInfo)===null||t===void 0)&&t.length?IR(r.providerUserInfo):[],o=GV(e.providerData,a),l=e.isAnonymous,c=!(e.email&&r.passwordHash)&&!(o!=null&&o.length),h=l?c:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new ap(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(e,f)}async function qV(e){const t=le(e);await Zh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function GV(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function IR(e){return e.map(t=>{var{providerId:n}=t,i=c_(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $V(e,t){const n=await AR(e,{},async()=>{const i=mc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,a=await RR(e,s,"/v1/token",`key=${r}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:i};return e.emulatorConfig&&Za(e.emulatorConfig.host)&&(l.credentials="include"),SR.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YV(e,t){return ki(e,"POST","/v2/accounts:revokeToken",Ni(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){K(t.idToken,"internal-error"),K(typeof t.idToken<"u","internal-error"),K(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):CE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){K(t.length!==0,"internal-error");const n=CE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await $V(t,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new pa;return i&&(K(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),s&&(K(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),r&&(K(typeof r=="number","internal-error",{appName:t}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new pa,this.toJSON())}_performRefresh(){return gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(e,t){K(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class En{constructor(t){var{uid:n,auth:i,stsTokenManager:s}=t,r=c_(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new ap(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await Hl(this,this.stsTokenManager.getToken(this.auth,t));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return BV(this,t)}reload(){return qV(this)}_assign(t){this!==t&&(K(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new En(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Zh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cn(this.auth.app))return Promise.reject(Ei(this.auth));const t=await this.getIdToken();return await Hl(this,zV(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,s,r,a,o,l,c,h;const f=(i=n.displayName)!==null&&i!==void 0?i:void 0,d=(s=n.email)!==null&&s!==void 0?s:void 0,g=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,E=(a=n.photoURL)!==null&&a!==void 0?a:void 0,T=(o=n.tenantId)!==null&&o!==void 0?o:void 0,R=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:x,emailVerified:C,isAnonymous:M,providerData:L,stsTokenManager:b}=n;K(x&&b,t,"internal-error");const _=pa.fromJSON(this.name,b);K(typeof x=="string",t,"internal-error"),zi(f,t.name),zi(d,t.name),K(typeof C=="boolean",t,"internal-error"),K(typeof M=="boolean",t,"internal-error"),zi(g,t.name),zi(E,t.name),zi(T,t.name),zi(R,t.name),zi(y,t.name),zi(v,t.name);const A=new En({uid:x,auth:t,email:d,emailVerified:C,displayName:f,isAnonymous:M,photoURL:E,phoneNumber:g,tenantId:T,stsTokenManager:_,createdAt:y,lastLoginAt:v});return L&&Array.isArray(L)&&(A.providerData=L.map(I=>Object.assign({},I))),R&&(A._redirectEventId=R),A}static async _fromIdTokenResponse(t,n,i=!1){const s=new pa;s.updateFromServerResponse(n);const r=new En({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Zh(r),r}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];K(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?IR(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),o=new pa;o.updateFromIdToken(i);const l=new En({uid:s.localId,auth:t,stsTokenManager:o,isAnonymous:a}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new ap(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;function pi(e){Di(e instanceof Function,"Expected a class definition");let t=DE.get(e);return t?(Di(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,DE.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}CR.type="NONE";const OE=CR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(e,t,n){return`firebase:${e}:${t}:${n}`}class ya{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=Ku(this.userKey,s.apiKey,r),this.fullPersistenceKey=Ku("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Xh(this.auth,{idToken:t}).catch(()=>{});return n?En._fromGetAccountInfoResponse(this.auth,n,t):null}return En._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new ya(pi(OE),t,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||pi(OE);const a=Ku(i,t.config.apiKey,t.name);let o=null;for(const c of n)try{const h=await c._get(a);if(h){let f;if(typeof h=="string"){const d=await Xh(t,{idToken:h}).catch(()=>{});if(!d)break;f=await En._fromGetAccountInfoResponse(t,d,h)}else f=En._fromJSON(t,h);c!==r&&(o=f),r=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new ya(r,t,i):(r=l[0],o&&await r._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(a)}catch{}})),new ya(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(NR(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(DR(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(PR(t))return"Blackberry";if(LR(t))return"Webos";if(OR(t))return"Safari";if((t.includes("chrome/")||MR(t))&&!t.includes("edge/"))return"Chrome";if(kR(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function DR(e=Ae()){return/firefox\//i.test(e)}function OR(e=Ae()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function MR(e=Ae()){return/crios\//i.test(e)}function NR(e=Ae()){return/iemobile/i.test(e)}function kR(e=Ae()){return/android/i.test(e)}function PR(e=Ae()){return/blackberry/i.test(e)}function LR(e=Ae()){return/webos/i.test(e)}function d_(e=Ae()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function KV(e=Ae()){var t;return d_(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function QV(){return zN()&&document.documentMode===10}function VR(e=Ae()){return d_(e)||kR(e)||LR(e)||PR(e)||/windows phone/i.test(e)||NR(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(e,t=[]){let n;switch(e){case"Browser":n=ME(Ae());break;case"Worker":n=`${ME(Ae())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ja}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=r=>new Promise((a,o)=>{try{const l=t(r);a(l)}catch(l){o(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XV(e,t={}){return ki(e,"GET","/v2/passwordPolicy",Ni(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=6;class JV{constructor(t){var n,i,s,r;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:ZV,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=t.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,s,r,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NE(this),this.idTokenSubscription=new NE(this),this.beforeStateQueue=new WV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await ya.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Xh(this,{idToken:t}),i=await En._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(cn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(t);(!a||a===o)&&(l!=null&&l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Zh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=MV()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(cn(this.app))return Promise.reject(Ei(this));const n=t?le(t):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&K(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return cn(this.app)?Promise.reject(Ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return cn(this.app)?Promise.reject(Ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await XV(this),n=new JV(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new wr("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await YV(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&pi(t)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await ya.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(o,this,"internal-error"),o.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,i,s);return()=>{a=!0,l()}}else{const l=t.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=UR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var t;if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&CV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Or(e){return le(e)}class NE{constructor(t){this.auth=t,this.observer=null,this.addObserver=YN(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e6(e){Wf=e}function jR(e){return Wf.loadJS(e)}function n6(){return Wf.recaptchaEnterpriseScript}function i6(){return Wf.gapiScript}function s6(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class r6{constructor(){this.enterprise=new a6}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class a6{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const o6="recaptcha-enterprise",zR="NO_RECAPTCHA";class l6{constructor(t){this.type=o6,this.auth=Or(t)}async verify(t="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(a,o)=>{jV(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new UV(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function s(r,a,o){const l=window.grecaptcha;IE(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:t}).then(c=>{a(c)}).catch(()=>{a(zR)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new r6().execute("siteKey",{action:"verify"}):new Promise((r,a)=>{i(this.auth).then(o=>{if(!n&&IE(window.grecaptcha))s(o,r,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=n6();l.length!==0&&(l+=o),jR(l).then(()=>{s(o,r,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function kE(e,t,n,i=!1,s=!1){const r=new l6(e);let a;if(s)a=zR;else try{a=await r.verify(n)}catch{a=await r.verify(n,!0)}const o=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return i?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function op(e,t,n,i,s){var r;if(!((r=e._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await kE(e,t,n,n==="getOobCode");return i(e,a)}else return i(e,t).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await kE(e,t,n,n==="getOobCode");return i(e,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(e,t){const n=Sr(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(As(r,t??{}))return s;In(s,"already-initialized")}return n.initialize({options:t})}function u6(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(pi);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function h6(e,t,n){const i=Or(e);K(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,r=BR(t),{host:a,port:o}=f6(t),l=o===null?"":`:${o}`,c={url:`${r}//${a}${l}/`},h=Object.freeze({host:a,port:o,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){K(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),K(As(c,i.config.emulator)&&As(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,Za(a)?(D1(`${r}//${a}${l}`),O1("Auth",!0)):d6()}function BR(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function f6(e){const t=BR(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:PE(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:PE(a)}}}function PE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function d6(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return gi("not implemented")}_getIdTokenResponse(t){return gi("not implemented")}_linkToIdToken(t,n){return gi("not implemented")}_getReauthenticationResolver(t){return gi("not implemented")}}async function m6(e,t){return ki(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g6(e,t){return bc(e,"POST","/v1/accounts:signInWithPassword",Ni(e,t))}async function p6(e,t){return ki(e,"POST","/v1/accounts:sendOobCode",Ni(e,t))}async function y6(e,t){return p6(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _6(e,t){return bc(e,"POST","/v1/accounts:signInWithEmailLink",Ni(e,t))}async function v6(e,t){return bc(e,"POST","/v1/accounts:signInWithEmailLink",Ni(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends m_{constructor(t,n,i,s=null){super("password",i),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new ql(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new ql(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return op(t,n,"signInWithPassword",g6);case"emailLink":return _6(t,{email:this._email,oobCode:this._password});default:In(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return op(t,i,"signUpPassword",m6);case"emailLink":return v6(t,{idToken:n,email:this._email,oobCode:this._password});default:In(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _a(e,t){return bc(e,"POST","/v1/accounts:signInWithIdp",Ni(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6="http://localhost";class dr extends m_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new dr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):In("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=n,r=c_(n,["providerId","signInMethod"]);if(!i||!s)return null;const a=new dr(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return _a(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,_a(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,_a(t,n)}buildRequest(){const t={requestUri:b6,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=mc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function T6(e){const t=zo(Bo(e)).link,n=t?zo(Bo(t)).deep_link_id:null,i=zo(Bo(e)).deep_link_id;return(i?zo(Bo(i)).link:null)||i||n||t||e}class g_{constructor(t){var n,i,s,r,a,o;const l=zo(Bo(t)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(i=l.oobCode)!==null&&i!==void 0?i:null,f=E6((s=l.mode)!==null&&s!==void 0?s:null);K(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(a=l.lang)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(t){const n=T6(t);try{return new g_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.providerId=ro.PROVIDER_ID}static credential(t,n){return ql._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=g_.parseLink(n);return K(i,"argument-error"),ql._fromEmailAndCode(t,i.code,i.tenantId)}}ro.PROVIDER_ID="password";ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends FR{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Ec{constructor(){super("facebook.com")}static credential(t){return dr._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qi.credentialFromTaggedObject(t)}static credentialFromError(t){return Qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qi.credential(t.oauthAccessToken)}catch{return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return dr._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Wi.credentialFromTaggedObject(t)}static credentialFromError(t){return Wi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Wi.credential(n,i)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Ec{constructor(){super("github.com")}static credential(t){return dr._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xi.credentialFromTaggedObject(t)}static credentialFromError(t){return Xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xi.credential(t.oauthAccessToken)}catch{return null}}}Xi.GITHUB_SIGN_IN_METHOD="github.com";Xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Ec{constructor(){super("twitter.com")}static credential(t,n){return dr._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Zi.credentialFromTaggedObject(t)}static credentialFromError(t){return Zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Zi.credential(n,i)}catch{return null}}}Zi.TWITTER_SIGN_IN_METHOD="twitter.com";Zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x6(e,t){return bc(e,"POST","/v1/accounts:signUp",Ni(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const r=await En._fromIdTokenResponse(t,i,s),a=LE(i);return new mr({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=LE(i);return new mr({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function LE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends Mn{constructor(t,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Jh.prototype),this.customData={appName:t.name,tenantId:(r=t.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new Jh(t,n,i,s)}}function HR(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Jh._fromErrorAndOperation(e,r,t,i):r})}async function w6(e,t,n=!1){const i=await Hl(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return mr._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(e,t,n=!1){const{auth:i}=e;if(cn(i.app))return Promise.reject(Ei(i));const s="reauthenticate";try{const r=await Hl(e,HR(i,s,t,e),n);K(r.idToken,i,"internal-error");const a=f_(r.idToken);K(a,i,"internal-error");const{sub:o}=a;return K(e.uid===o,i,"user-mismatch"),mr._forOperation(e,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&In(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(e,t,n=!1){if(cn(e.app))return Promise.reject(Ei(e));const i="signIn",s=await HR(e,i,t),r=await mr._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(r.user),r}async function A6(e,t){return qR(Or(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(e){const t=Or(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function R6(e,t,n){if(cn(e.app))return Promise.reject(Ei(e));const i=Or(e),a=await op(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",x6).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&GR(e),l}),o=await mr._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function I6(e,t,n){return cn(e.app)?Promise.reject(Ei(e)):A6(le(e),ro.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&GR(e),i})}async function C6(e,t){const n=le(e),s={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()},{email:r}=await y6(n.auth,s);r!==e.email&&await e.reload()}function D6(e,t,n,i){return le(e).onIdTokenChanged(t,n,i)}function O6(e,t,n){return le(e).beforeAuthStateChanged(t,n)}function M6(e,t,n,i){return le(e).onAuthStateChanged(t,n,i)}function N6(e){return le(e).signOut()}const tf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tf,"1"),this.storage.removeItem(tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=1e3,P6=10;class YR extends $R{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);QV()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,P6):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},k6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}YR.type="LOCAL";const L6=YR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR extends $R{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}KR.type="SESSION";const QR=KR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new Xf(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const o=Array.from(a).map(async c=>c(n.origin,r)),l=await V6(o);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((o,l)=>{const c=p_("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(f){const d=f;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(h),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),o(d.data.response);break;default:clearTimeout(h),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return window}function j6(e){$n().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(){return typeof $n().WorkerGlobalScope<"u"&&typeof $n().importScripts=="function"}async function z6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B6(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function F6(){return WR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="firebaseLocalStorageDb",H6=1,ef="firebaseLocalStorage",ZR="fbase_key";class Tc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zf(e,t){return e.transaction([ef],t?"readwrite":"readonly").objectStore(ef)}function q6(){const e=indexedDB.deleteDatabase(XR);return new Tc(e).toPromise()}function lp(){const e=indexedDB.open(XR,H6);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(ef,{keyPath:ZR})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(ef)?t(i):(i.close(),await q6(),t(await lp()))})})}async function VE(e,t,n){const i=Zf(e,!0).put({[ZR]:t,value:n});return new Tc(i).toPromise()}async function G6(e,t){const n=Zf(e,!1).get(t),i=await new Tc(n).toPromise();return i===void 0?null:i.value}function UE(e,t){const n=Zf(e,!0).delete(t);return new Tc(n).toPromise()}const $6=800,Y6=3;class JR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>Y6)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xf._getInstance(F6()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await z6(),!this.activeServiceWorker)return;this.sender=new U6(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||B6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await lp();return await VE(t,tf,"1"),await UE(t,tf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>VE(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>G6(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>UE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=Zf(s,!1).getAll();return new Tc(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JR.type="LOCAL";const K6=JR;new vc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(e,t){return t?pi(t):(K(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_ extends m_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return _a(t,this._buildIdpRequest())}_linkToIdToken(t,n){return _a(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return _a(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function W6(e){return qR(e.auth,new y_(e),e.bypassAuthState)}function X6(e){const{auth:t,user:n}=e;return K(n,t,"internal-error"),S6(n,new y_(e),e.bypassAuthState)}async function Z6(e){const{auth:t,user:n}=e;return K(n,t,"internal-error"),w6(n,new y_(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t,n,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:o}=t;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return W6;case"linkViaPopup":case"linkViaRedirect":return Z6;case"reauthViaPopup":case"reauthViaRedirect":return X6;default:In(this.auth,"internal-error")}}resolve(t){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=new vc(2e3,1e4);class ra extends t2{constructor(t,n,i,s,r){super(t,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,ra.currentPopupAction&&ra.currentPopupAction.cancel(),ra.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return K(t,this.auth,"internal-error"),t}async onExecution(){Di(this.filter.length===1,"Popup operations only handle one event");const t=p_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ra.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,J6.get())};t()}}ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3="pendingRedirect",Qu=new Map;class e3 extends t2{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Qu.get(this.auth._key());if(!t){try{const i=await n3(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Qu.set(this.auth._key(),t)}return this.bypassAuthState||Qu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n3(e,t){const n=r3(t),i=s3(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function i3(e,t){Qu.set(e._key(),t)}function s3(e){return pi(e._redirectPersistence)}function r3(e){return Ku(t3,e.config.apiKey,e.name)}async function a3(e,t,n=!1){if(cn(e.app))return Promise.reject(Ei(e));const i=Or(e),s=Q6(i,t),a=await new e3(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=10*60*1e3;class l3{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!c3(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!e2(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Gn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=o3&&this.cachedEventUids.clear(),this.cachedEventUids.has(jE(t))}saveEventToCache(t){this.cachedEventUids.add(jE(t)),this.lastProcessedEventTime=Date.now()}}function jE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function e2({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function c3(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e2(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3(e,t={}){return ki(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f3=/^https?/;async function d3(e){if(e.config.emulator)return;const{authorizedDomains:t}=await u3(e);for(const n of t)try{if(m3(n))return}catch{}In(e,"unauthorized-domain")}function m3(e){const t=rp(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!f3.test(n))return!1;if(h3.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=new vc(3e4,6e4);function zE(){const e=$n().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function p3(e){return new Promise((t,n)=>{var i,s,r;function a(){zE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{zE(),n(Gn(e,"network-request-failed"))},timeout:g3.get()})}if(!((s=(i=$n().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((r=$n().gapi)===null||r===void 0)&&r.load)a();else{const o=s6("iframefcb");return $n()[o]=()=>{gapi.load?a():n(Gn(e,"network-request-failed"))},jR(`${i6()}?onload=${o}`).catch(l=>n(l))}}).catch(t=>{throw Wu=null,t})}let Wu=null;function y3(e){return Wu=Wu||p3(e),Wu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=new vc(5e3,15e3),v3="__/auth/iframe",b3="emulator/auth/iframe",E3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x3(e){const t=e.config;K(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?h_(t,b3):`https://${e.config.authDomain}/${v3}`,i={apiKey:t.apiKey,appName:e.name,v:Ja},s=T3.get(e.config.apiHost);s&&(i.eid=s);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${mc(i).slice(1)}`}async function w3(e){const t=await y3(e),n=$n().gapi;return K(n,e,"internal-error"),t.open({where:document.body,url:x3(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E3,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=Gn(e,"network-request-failed"),o=$n().setTimeout(()=>{r(a)},_3.get());function l(){$n().clearTimeout(o),s(i)}i.ping(l).then(l,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A3=500,R3=600,I3="_blank",C3="http://localhost";class BE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function D3(e,t,n,i=A3,s=R3){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const l=Object.assign(Object.assign({},S3),{width:i.toString(),height:s.toString(),top:r,left:a}),c=Ae().toLowerCase();n&&(o=MR(c)?I3:n),DR(c)&&(t=t||C3,l.scrollbars="yes");const h=Object.entries(l).reduce((d,[g,E])=>`${d}${g}=${E},`,"");if(KV(c)&&o!=="_self")return O3(t||"",o),new BE(null);const f=window.open(t||"",o,h);K(f,e,"popup-blocked");try{f.focus()}catch{}return new BE(f)}function O3(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3="__/auth/handler",N3="emulator/auth/handler",k3=encodeURIComponent("fac");async function FE(e,t,n,i,s,r){K(e.config.authDomain,e,"auth-domain-config-required"),K(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Ja,eventId:s};if(t instanceof FR){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",$N(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(t instanceof Ec){const h=t.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const l=await e._getAppCheckToken(),c=l?`#${k3}=${encodeURIComponent(l)}`:"";return`${P3(e)}?${mc(o).slice(1)}${c}`}function P3({config:e}){return e.emulator?h_(e,N3):`https://${e.authDomain}/${M3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="webStorageSupport";class L3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QR,this._completeRedirectFn=a3,this._overrideRedirectResult=i3}async _openPopup(t,n,i,s){var r;Di((r=this.eventManagers[t._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await FE(t,n,i,rp(),s);return D3(t,a,p_())}async _openRedirect(t,n,i,s){await this._originValidation(t);const r=await FE(t,n,i,rp(),s);return j6(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Di(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await w3(t),i=new l3(t);return n.register("authEvent",s=>(K(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Em,{type:Em},s=>{var r;const a=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[Em];a!==void 0&&n(!!a),In(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=d3(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return VR()||OR()||d_()}}const V3=L3;var HE="@firebase/auth",qE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z3(e){Yn(new An("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;K(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:a,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UR(e)},c=new t6(i,s,r,l);return u6(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Yn(new An("auth-internal",t=>{const n=Or(t.getProvider("auth").getImmediate());return(i=>new U3(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fn(HE,qE,j3(e)),fn(HE,qE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=5*60,F3=C1("authIdTokenMaxAge")||B3;let GE=null;const H3=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>F3)return;const s=n==null?void 0:n.token;GE!==s&&(GE=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function cp(e=Ry()){const t=Sr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=c6(e,{popupRedirectResolver:V3,persistence:[K6,L6,QR]}),i=C1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=H3(r.toString());O6(n,a,()=>a(n.currentUser)),D6(n,o=>a(o))}}const s=R1("auth");return s&&h6(n,`http://${s}`),n}function q3(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}e6({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const r=Gn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",q3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z3("Browser");const n2="@firebase/installations",__="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=1e4,s2=`w:${__}`,r2="FIS_v2",G3="https://firebaseinstallations.googleapis.com/v1",$3=60*60*1e3,Y3="installations",K3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},gr=new wr(Y3,K3,Q3);function a2(e){return e instanceof Mn&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2({projectId:e}){return`${G3}/projects/${e}/installations`}function l2(e){return{token:e.token,requestStatus:2,expiresIn:X3(e.expiresIn),creationTime:Date.now()}}async function c2(e,t){const i=(await t.json()).error;return gr.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function u2({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function W3(e,{refreshToken:t}){const n=u2(e);return n.append("Authorization",Z3(t)),n}async function h2(e){const t=await e();return t.status>=500&&t.status<600?e():t}function X3(e){return Number(e.replace("s","000"))}function Z3(e){return`${r2} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J3({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=o2(e),s=u2(e),r=t.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const a={fid:n,authVersion:r2,appId:e.appId,sdkVersion:s2},o={method:"POST",headers:s,body:JSON.stringify(a)},l=await h2(()=>fetch(i,o));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:l2(c.authToken)}}else throw await c2("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=/^[cdef][\w-]{21}$/,up="";function n5(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=i5(e);return e5.test(n)?n:up}catch{return up}}function i5(e){return t5(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=new Map;function m2(e,t){const n=Jf(e);g2(n,t),s5(n,t)}function g2(e,t){const n=d2.get(e);if(n)for(const i of n)i(t)}function s5(e,t){const n=r5();n&&n.postMessage({key:e,fid:t}),a5()}let Xs=null;function r5(){return!Xs&&"BroadcastChannel"in self&&(Xs=new BroadcastChannel("[Firebase] FID Change"),Xs.onmessage=e=>{g2(e.data.key,e.data.fid)}),Xs}function a5(){d2.size===0&&Xs&&(Xs.close(),Xs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5="firebase-installations-database",l5=1,pr="firebase-installations-store";let Tm=null;function v_(){return Tm||(Tm=V1(o5,l5,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(pr)}}})),Tm}async function nf(e,t){const n=Jf(e),s=(await v_()).transaction(pr,"readwrite"),r=s.objectStore(pr),a=await r.get(n);return await r.put(t,n),await s.done,(!a||a.fid!==t.fid)&&m2(e,t.fid),t}async function p2(e){const t=Jf(e),i=(await v_()).transaction(pr,"readwrite");await i.objectStore(pr).delete(t),await i.done}async function td(e,t){const n=Jf(e),s=(await v_()).transaction(pr,"readwrite"),r=s.objectStore(pr),a=await r.get(n),o=t(a);return o===void 0?await r.delete(n):await r.put(o,n),await s.done,o&&(!a||a.fid!==o.fid)&&m2(e,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b_(e){let t;const n=await td(e.appConfig,i=>{const s=c5(i),r=u5(e,s);return t=r.registrationPromise,r.installationEntry});return n.fid===up?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function c5(e){const t=e||{fid:n5(),registrationStatus:0};return y2(t)}function u5(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(gr.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=h5(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:f5(e)}:{installationEntry:t}}async function h5(e,t){try{const n=await J3(e,t);return nf(e.appConfig,n)}catch(n){throw a2(n)&&n.customData.serverCode===409?await p2(e.appConfig):await nf(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function f5(e){let t=await $E(e.appConfig);for(;t.registrationStatus===1;)await f2(100),t=await $E(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await b_(e);return i||n}return t}function $E(e){return td(e,t=>{if(!t)throw gr.create("installation-not-found");return y2(t)})}function y2(e){return d5(e)?{fid:e.fid,registrationStatus:0}:e}function d5(e){return e.registrationStatus===1&&e.registrationTime+i2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5({appConfig:e,heartbeatServiceProvider:t},n){const i=g5(e,n),s=W3(e,n),r=t.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const a={installation:{sdkVersion:s2,appId:e.appId}},o={method:"POST",headers:s,body:JSON.stringify(a)},l=await h2(()=>fetch(i,o));if(l.ok){const c=await l.json();return l2(c)}else throw await c2("Generate Auth Token",l)}function g5(e,{fid:t}){return`${o2(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E_(e,t=!1){let n;const i=await td(e.appConfig,r=>{if(!_2(r))throw gr.create("not-registered");const a=r.authToken;if(!t&&_5(a))return r;if(a.requestStatus===1)return n=p5(e,t),r;{if(!navigator.onLine)throw gr.create("app-offline");const o=b5(r);return n=y5(e,o),o}});return n?await n:i.authToken}async function p5(e,t){let n=await YE(e.appConfig);for(;n.authToken.requestStatus===1;)await f2(100),n=await YE(e.appConfig);const i=n.authToken;return i.requestStatus===0?E_(e,t):i}function YE(e){return td(e,t=>{if(!_2(t))throw gr.create("not-registered");const n=t.authToken;return E5(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function y5(e,t){try{const n=await m5(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return await nf(e.appConfig,i),n}catch(n){if(a2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await p2(e.appConfig);else{const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await nf(e.appConfig,i)}throw n}}function _2(e){return e!==void 0&&e.registrationStatus===2}function _5(e){return e.requestStatus===2&&!v5(e)}function v5(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+$3}function b5(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function E5(e){return e.requestStatus===1&&e.requestTime+i2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T5(e){const t=e,{installationEntry:n,registrationPromise:i}=await b_(t);return i?i.catch(console.error):E_(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x5(e,t=!1){const n=e;return await w5(n),(await E_(n,t)).token}async function w5(e){const{registrationPromise:t}=await b_(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(e){if(!e||!e.options)throw xm("App Configuration");if(!e.name)throw xm("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw xm(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function xm(e){return gr.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="installations",A5="installations-internal",R5=e=>{const t=e.getProvider("app").getImmediate(),n=S5(t),i=Sr(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},I5=e=>{const t=e.getProvider("app").getImmediate(),n=Sr(t,v2).getImmediate();return{getId:()=>T5(n),getToken:s=>x5(n,s)}};function C5(){Yn(new An(v2,R5,"PUBLIC")),Yn(new An(A5,I5,"PRIVATE"))}C5();fn(n2,__);fn(n2,__,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf="analytics",D5="firebase_id",O5="origin",M5=60*1e3,N5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",T_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je=new Lf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Je=new wr("analytics","Analytics",k5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(e){if(!e.startsWith(T_)){const t=Je.create("invalid-gtag-resource",{gtagURL:e});return je.warn(t.message),""}return e}function b2(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function L5(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function V5(e,t){const n=L5("firebase-js-sdk-policy",{createScriptURL:P5}),i=document.createElement("script"),s=`${T_}?l=${e}&id=${t}`;i.src=n?n==null?void 0:n.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function U5(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function j5(e,t,n,i,s,r){const a=i[s];try{if(a)await t[a];else{const l=(await b2(n)).find(c=>c.measurementId===s);l&&await t[l.appId]}}catch(o){je.error(o)}e("config",s,r)}async function z5(e,t,n,i,s){try{let r=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const o=await b2(n);for(const l of a){const c=o.find(f=>f.measurementId===l),h=c&&t[c.appId];if(h)r.push(h);else{r=[];break}}}r.length===0&&(r=Object.values(t)),await Promise.all(r),e("event",i,s||{})}catch(r){je.error(r)}}function B5(e,t,n,i){async function s(r,...a){try{if(r==="event"){const[o,l]=a;await z5(e,t,n,o,l)}else if(r==="config"){const[o,l]=a;await j5(e,t,n,i,o,l)}else if(r==="consent"){const[o,l]=a;e("consent",o,l)}else if(r==="get"){const[o,l,c]=a;e("get",o,l,c)}else if(r==="set"){const[o]=a;e("set",o)}else e(r,...a)}catch(o){je.error(o)}}return s}function F5(e,t,n,i,s){let r=function(...a){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(r=window[s]),window[s]=B5(r,e,t,n),{gtagCore:r,wrappedGtag:window[s]}}function H5(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(T_)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=30,G5=1e3;class $5{constructor(t={},n=G5){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const E2=new $5;function Y5(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function K5(e){var t;const{appId:n,apiKey:i}=e,s={method:"GET",headers:Y5(i)},r=N5.replace("{app-id}",n),a=await fetch(r,s);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();!((t=l.error)===null||t===void 0)&&t.message&&(o=l.error.message)}catch{}throw Je.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function Q5(e,t=E2,n){const{appId:i,apiKey:s,measurementId:r}=e.options;if(!i)throw Je.create("no-app-id");if(!s){if(r)return{measurementId:r,appId:i};throw Je.create("no-api-key")}const a=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Z5;return setTimeout(async()=>{o.abort()},M5),T2({appId:i,apiKey:s,measurementId:r},a,o,t)}async function T2(e,{throttleEndTimeMillis:t,backoffCount:n},i,s=E2){var r;const{appId:a,measurementId:o}=e;try{await W5(i,t)}catch(l){if(o)return je.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:o};throw l}try{const l=await K5(e);return s.deleteThrottleMetadata(a),l}catch(l){const c=l;if(!X5(c)){if(s.deleteThrottleMetadata(a),o)return je.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:o};throw l}const h=Number((r=c==null?void 0:c.customData)===null||r===void 0?void 0:r.httpStatus)===503?_b(n,s.intervalMillis,q5):_b(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(a,f),je.debug(`Calling attemptFetch again in ${h} millis`),T2(e,f,i,s)}}function W5(e,t){return new Promise((n,i)=>{const s=Math.max(t-Date.now(),0),r=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(r),i(Je.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function X5(e){if(!(e instanceof Mn)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class Z5{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function J5(e,t,n,i,s){if(s&&s.global){e("event",n,i);return}else{const r=await t,a=Object.assign(Object.assign({},i),{send_to:r});e("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t9(){if(N1())try{await k1()}catch(e){return je.warn(Je.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return je.warn(Je.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function e9(e,t,n,i,s,r,a){var o;const l=Q5(e);l.then(g=>{n[g.measurementId]=g.appId,e.options.measurementId&&g.measurementId!==e.options.measurementId&&je.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>je.error(g)),t.push(l);const c=t9().then(g=>{if(g)return i.getId()}),[h,f]=await Promise.all([l,c]);H5(r)||V5(r,h.measurementId),s("js",new Date);const d=(o=a==null?void 0:a.config)!==null&&o!==void 0?o:{};return d[O5]="firebase",d.update=!0,f!=null&&(d[D5]=f),s("config",h.measurementId,d),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(t){this.app=t}_delete(){return delete gl[this.app.options.appId],Promise.resolve()}}let gl={},KE=[];const QE={};let wm="dataLayer",i9="gtag",WE,x2,XE=!1;function s9(){const e=[];if(M1()&&e.push("This is a browser extension environment."),FN()||e.push("Cookies are not available."),e.length>0){const t=e.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=Je.create("invalid-analytics-context",{errorInfo:t});je.warn(n.message)}}function r9(e,t,n){s9();const i=e.options.appId;if(!i)throw Je.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)je.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Je.create("no-api-key");if(gl[i]!=null)throw Je.create("already-exists",{id:i});if(!XE){U5(wm);const{wrappedGtag:r,gtagCore:a}=F5(gl,KE,QE,wm,i9);x2=r,WE=a,XE=!0}return gl[i]=e9(e,KE,QE,t,WE,wm,n),new n9(e)}function a9(e=Ry()){e=le(e);const t=Sr(e,sf);return t.isInitialized()?t.getImmediate():o9(e)}function o9(e,t={}){const n=Sr(e,sf);if(n.isInitialized()){const s=n.getImmediate();if(As(t,n.getOptions()))return s;throw Je.create("already-initialized")}return n.initialize({options:t})}function l9(e,t,n,i){e=le(e),J5(x2,gl[e.app.options.appId],t,n,i).catch(s=>je.error(s))}const ZE="@firebase/analytics",JE="0.10.16";function c9(){Yn(new An(sf,(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return r9(i,s,n)},"PUBLIC")),Yn(new An("analytics-internal",e,"PRIVATE")),fn(ZE,JE),fn(ZE,JE,"esm2017");function e(t){try{const n=t.getProvider(sf).getImmediate();return{logEvent:(i,s,r)=>l9(n,i,s,r)}}catch(n){throw Je.create("interop-component-reg-failed",{reason:n})}}}c9();const u9={apiKey:"AIzaSyCWsB6mRj87OxhBzjmPYO3VziOkzEKeOac",authDomain:"admin-jetel.firebaseapp.com",projectId:"admin-jetel",storageBucket:"admin-jetel.appspot.com",messagingSenderId:"192204818240",appId:"1:192204818240:web:112f7b656bc27048b71ca5",measurementId:"G-X3BWNPE09E"},Gl=U1(u9),w2=cp(Gl),x_=aV(Gl);typeof window<"u"&&a9(Gl);const h9={"Muito Satisfeito":"",Satisfeito:"",Regular:"",Ruim:""},f9={"Muito Satisfeito":"bg-green-500 border-green-700 hover:bg-green-600 text-white",Satisfeito:"bg-yellow-400 border-yellow-600 hover:bg-yellow-500 text-white",Regular:"bg-orange-500 border-orange-700 hover:bg-orange-600 text-white",Ruim:"bg-red-600 border-red-800 hover:bg-red-700 text-white"},d9={"Muito Satisfeito":"ring-green-700",Satisfeito:"ring-yellow-600",Regular:"ring-orange-700",Ruim:"ring-red-800"},fu=[{name:"recepcao",label:"Atendimento da Recepo",type:"radio",options:["Muito Satisfeito","Satisfeito","Regular","Ruim"]},{name:"triagem",label:"Atendimento da Triagem",type:"radio",options:["Muito Satisfeito","Satisfeito","Regular","Ruim"]},{name:"medico",label:"Atendimento Mdico",type:"radio",options:["Muito Satisfeito","Satisfeito","Regular","Ruim"]},{name:"orientacao",label:"Orientaes e esclarecimentos do mdico",type:"radio",options:["Muito Satisfeito","Satisfeito","Regular","Ruim"]},{name:"limpeza",label:"Higienizao/Limpeza do ambiente",type:"radio",options:["Muito Satisfeito","Satisfeito","Regular","Ruim"]},{name:"equipe",label:"Atendimento da equipe de Tcnicos e Enfermeiros",type:"radio",options:["Muito Satisfeito","Satisfeito","Regular","Ruim"]},{name:"sugestao",label:"Deseja deixar alguma SUGESTO, ELOGIO ou CRTICA?",type:"textarea",placeholder:"Sua resposta"},{name:"destaque",label:"Deseja destacar algum colaborador? Por qu?",type:"textarea",placeholder:"Sua resposta"},{name:"contato",label:"Gostaria de deixar seu contato?",type:"text",placeholder:"Seu telefone, e-mail ou WhatsApp (opcional)"},{name:"data",label:"Data em que voc foi atendido.",type:"date",placeholder:"dd/mm/aaaa"}];function m9(){const e=xr(),[t,n]=P.useState({recepcao:"",triagem:"",medico:"",orientacao:"",limpeza:"",equipe:"",sugestao:"",destaque:"",contato:"",data:""}),[i,s]=P.useState(0),[r,a]=P.useState(""),[o,l]=P.useState(""),[c,h]=P.useState(""),[f,d]=P.useState(!1),g=M=>{n({...t,[M.target.name]:M.target.value}),a(M.target.value),setTimeout(()=>a(""),400)},E=()=>s(M=>M+1),T=()=>s(M=>M-1),R=()=>{for(const M of fu)if((M.type==="radio"||M.type==="date")&&!t[M.name])return!1;return!0},y=async M=>{if(M.preventDefault(),h(""),l(""),!R()){h("Por favor, preencha todas as perguntas obrigatrias antes de enviar.");return}if(!f){d(!0);return}try{await wV(Xy(x_,"surveys"),{...t,timestamp:Xt.now()}),l("Pesquisa enviada! Obrigado pela sua participao."),setTimeout(()=>e("/"),2e3),n({recepcao:"",triagem:"",medico:"",orientacao:"",limpeza:"",equipe:"",sugestao:"",destaque:"",contato:"",data:""}),s(0),d(!1)}catch(L){h("Erro ao enviar pesquisa: "+(L.message||"Tente novamente.")),d(!1)}},v=()=>d(!1),x=fu[i],C=t[x.name];return w.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-200 via-green-100 to-green-200 flex items-center justify-center py-4 px-2",children:[w.jsxs("div",{className:"w-full max-w-md bg-white rounded-3xl shadow-2xl p-6 sm:p-8 border-2 border-blue-200 flex flex-col items-center",children:[w.jsx("button",{className:"mb-6 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded-lg text-blue-700 font-semibold transition self-start",onClick:()=>e("/"),children:" Voltar"}),w.jsxs("div",{className:"flex flex-col items-center mb-8 w-full",children:[w.jsx("img",{src:Ph,alt:"Logo Jetel Mendes",className:"h-20 sm:h-24 mb-3 drop-shadow-xl animate-bounce-slow"}),w.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-blue-800 mb-1 text-center drop-shadow",children:"Pesquisa de Satisfao"}),w.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-green-700 mb-2 text-center",children:"PA Jetel Mendes"}),w.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-blue-400 to-green-400 rounded-full mb-2"})]}),o?w.jsx("div",{className:"flex flex-col items-center justify-center h-64 w-full",children:w.jsx("div",{className:"text-green-700 bg-green-50 border border-green-200 rounded p-4 text-center font-semibold text-lg shadow-lg",children:o})}):w.jsxs("form",{className:"flex flex-col gap-6 w-full",onSubmit:y,children:[w.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 shadow-md border border-blue-100 flex flex-col items-center",children:[w.jsxs("label",{className:"font-bold text-blue-900 block mb-4 text-xl text-center",children:[x.label,(x.type==="radio"||x.type==="date")&&w.jsx("span",{className:"text-red-600",children:"*"})]}),x.type==="radio"&&w.jsx("div",{className:"flex flex-row justify-center gap-2 sm:gap-4 w-full",children:x.options.map(M=>w.jsxs("label",{className:`flex flex-col items-center gap-2 font-bold cursor-pointer transition
                        rounded-xl px-2 py-2 w-1/4 border-2
                        ${f9[M]}
                        ${C===M||r===M?"scale-105 shadow-lg ring-2 "+d9[M]+" animate-bounce-slow":""}
                      `,style:{transition:"all 0.2s"},children:[w.jsx("input",{type:"radio",name:x.name,value:M,checked:t[x.name]===M,onChange:g,required:!0,className:"accent-blue-600 w-5 h-5",style:{display:"none"}}),w.jsx("span",{className:`text-4xl select-none transition-colors duration-200 ${C===M?"text-white":""}`,children:h9[M]}),w.jsx("span",{className:"text-xs sm:text-sm text-center",children:M})]},M))}),x.type==="textarea"&&w.jsx("textarea",{name:x.name,value:t[x.name],onChange:g,className:"border border-blue-200 rounded-lg px-4 py-3 w-full mt-2 focus:ring-2 focus:ring-blue-200 resize-none text-base",rows:3,placeholder:x.placeholder,maxLength:300}),x.type==="date"&&w.jsx("input",{type:"date",name:x.name,value:t[x.name],onChange:g,className:"border border-blue-200 rounded-lg px-4 py-3 mt-2 w-full focus:ring-2 focus:ring-blue-200 text-base",placeholder:x.placeholder,required:!0}),x.type==="text"&&w.jsx("input",{type:"text",name:x.name,value:t[x.name],onChange:g,className:"border border-blue-200 rounded-lg px-4 py-3 mt-2 w-full focus:ring-2 focus:ring-blue-200 text-base",placeholder:x.placeholder,maxLength:100})]}),w.jsxs("div",{className:"flex justify-between mt-4 w-full",children:[i>0&&w.jsx("button",{type:"button",className:"bg-blue-100 hover:bg-blue-200 text-blue-700 font-semibold py-2 px-6 rounded-lg shadow transition",onClick:T,children:"Voltar"}),i<fu.length-1?w.jsx("button",{type:"button",className:"bg-gradient-to-r from-green-400 to-blue-500 hover:from-green-500 hover:to-blue-600 text-white font-bold py-2 px-8 rounded-xl shadow-lg transition ml-auto",onClick:E,disabled:x.type==="radio"||x.type==="date"?!t[x.name]:!1,children:"Prxima"}):w.jsx("button",{type:"submit",className:"bg-gradient-to-r from-green-400 to-blue-500 hover:from-green-500 hover:to-blue-600 text-white font-bold py-2 px-8 rounded-xl shadow-lg transition ml-auto",disabled:!R(),children:"Enviar"})]}),w.jsx("div",{className:"flex justify-center mt-4",children:w.jsxs("div",{className:"relative inline-block px-6 py-2 rounded-full bg-gradient-to-r from-blue-400 to-green-400 shadow-lg text-white font-extrabold text-lg tracking-widest animate-pagePulse border-4 border-white",children:["Pergunta ",i+1," de ",fu.length,w.jsx("span",{className:"absolute top-0 left-0 w-full h-full rounded-full pointer-events-none border-2 border-blue-300 animate-pulsePage"})]})}),c&&w.jsx("div",{className:"text-red-700 bg-red-50 border border-red-200 rounded p-2 text-center font-semibold",children:c})]}),f&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 max-w-xs w-full flex flex-col items-center",children:[w.jsx("h3",{className:"text-lg font-bold mb-4 text-blue-800",children:"Deseja enviar suas respostas?"}),w.jsxs("div",{className:"flex gap-4 mt-2",children:[w.jsx("button",{className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded font-semibold",onClick:async()=>{d(!1),await y({preventDefault:()=>{}})},children:"Enviar"}),w.jsx("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded font-semibold",onClick:v,children:"Cancelar"})]})]})})]}),w.jsx("style",{children:`
          .animate-bounce-slow {
            animation: bounce 2.5s infinite;
          }
          @keyframes bounce {
            0%, 100% { transform: translateY(0);}
            50% { transform: translateY(-10px);}
          }
          .animate-pagePulse {
            animation: pagePulse 1.5s infinite alternate;
          }
          @keyframes pagePulse {
            0% { box-shadow: 0 0 0 0 rgba(34,197,94,0.3), 0 0 0 0 rgba(59,130,246,0.3);}
            100% { box-shadow: 0 0 0 8px rgba(34,197,94,0), 0 0 0 16px rgba(59,130,246,0);}
          }
          .animate-pulsePage {
            animation: pulsePage 1.5s infinite alternate;
          }
          @keyframes pulsePage {
            0% { opacity: 0.5; }
            100% { opacity: 0; }
          }
          @media (max-width: 640px) {
            .w-1\\/4 { width: 23% !important; min-width: 70px; }
            .flex-row { flex-direction: row !important; }
            .p-6 { padding: 1rem !important; }
            .sm\\:p-8 { padding: 1.5rem !important; }
          }
        `})]})}function g9(){const e=xr(),[t,n]=P.useState(""),[i,s]=P.useState(""),[r,a]=P.useState(""),[o,l]=P.useState(""),[c,h]=P.useState(""),[f,d]=P.useState(""),[g,E]=P.useState(""),[T,R]=P.useState(!1),[y,v]=P.useState(""),x=async M=>{M.preventDefault(),E(""),d(""),h("");const L=cp(Gl);try{if(!(await I6(L,t,i)).user.emailVerified){E("Confirme seu e-mail pelo link enviado antes de acessar o painel.");return}e("/admin/dashboard")}catch(b){b.code==="auth/user-not-found"?(v(t),E("E-mail no cadastrado. Deseja cadastrar este e-mail como administrador?")):b.code==="auth/wrong-password"?E("Senha incorreta."):b.code==="auth/too-many-requests"?E("Muitas tentativas. Tente novamente mais tarde."):E("E-mail ou senha invlidos.")}},C=async M=>{M.preventDefault(),h(""),d("");const L=cp(Gl);try{const b=await R6(L,r,o);await C6(b.user),d("Administrador cadastrado! Verifique seu e-mail e confirme pelo link enviado antes de fazer login."),R(!1),v("")}catch(b){h("Erro ao cadastrar: "+(b.message||""))}};return T?w.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center px-4",children:w.jsxs("form",{onSubmit:C,className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-8 border border-blue-100 flex flex-col gap-4",children:[w.jsx("button",{className:"self-start mb-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded-lg text-blue-700 font-semibold transition",type:"button",onClick:()=>R(!1),children:" Voltar"}),w.jsx("img",{src:Ph,alt:"Logo Jetel Mendes",className:"h-16 mb-2 drop-shadow-lg mx-auto"}),w.jsx("h2",{className:"text-xl font-bold text-blue-800 text-center mb-2",children:"Cadastrar Administrador"}),w.jsx("input",{type:"email",placeholder:"E-mail",value:r,onChange:M=>a(M.target.value),required:!0,className:"border border-blue-200 rounded px-3 py-2 focus:ring-2 focus:ring-blue-200"}),w.jsx("input",{type:"password",placeholder:"Senha",value:o,onChange:M=>l(M.target.value),required:!0,className:"border border-blue-200 rounded px-3 py-2 focus:ring-2 focus:ring-blue-200"}),w.jsx("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg shadow transition text-lg",children:"Cadastrar"}),c&&w.jsx("p",{className:"text-red-600 text-center",children:c}),f&&w.jsx("p",{className:"text-green-600 text-center",children:f})]})}):w.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center px-4",children:w.jsxs("form",{onSubmit:x,className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-8 border border-blue-100 flex flex-col gap-4",children:[w.jsx("button",{className:"self-start mb-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded-lg text-blue-700 font-semibold transition",type:"button",onClick:()=>e("/"),children:" Voltar"}),w.jsx("img",{src:Ph,alt:"Logo Jetel Mendes",className:"h-16 mb-2 drop-shadow-lg mx-auto"}),w.jsx("h2",{className:"text-xl font-bold text-blue-800 text-center mb-2",children:"Login do Administrador"}),w.jsx("input",{type:"email",placeholder:"E-mail",value:t,onChange:M=>n(M.target.value),required:!0,className:"border border-blue-200 rounded px-3 py-2 focus:ring-2 focus:ring-blue-200"}),w.jsx("input",{type:"password",placeholder:"Senha",value:i,onChange:M=>s(M.target.value),required:!0,className:"border border-blue-200 rounded px-3 py-2 focus:ring-2 focus:ring-blue-200"}),w.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg shadow transition text-lg",children:"Entrar"}),g&&w.jsx("p",{className:"text-red-600 text-center",children:g}),y&&w.jsx("button",{type:"button",className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg shadow transition text-lg mt-2",onClick:()=>{R(!0),a(y)},children:"Cadastrar este e-mail como Administrador"})]})})}const p9=async()=>{try{return await N6(w2),{success:!0}}catch(e){return console.error("Error signing out:",e),{success:!1,error:e.message}}},y9=e=>M6(w2,e),rf=({children:e,title:t})=>{const n=xr(),i=Mi(),s=async()=>{try{await p9(),n("/admin/login")}catch(a){console.error("Error logging out:",a)}},r=[{path:"/admin/dashboard",label:"Dashboard",icon:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"},{path:"/admin/reports",label:"Relatrios",icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"}];return w.jsxs("div",{className:"min-h-screen bg-gray-50",children:[w.jsx("header",{className:"bg-white shadow",children:w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"flex justify-between items-center py-6",children:[w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:w.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z"})})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"JETEL MENDES"}),w.jsx("p",{className:"text-sm text-gray-600",children:"Painel Administrativo"})]})]}),w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx("span",{className:"text-sm text-gray-700",children:"Administrador"}),w.jsx("button",{onClick:s,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Sair"})]})]})})}),w.jsx("nav",{className:"bg-white border-b border-gray-200",children:w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:w.jsx("div",{className:"flex space-x-8",children:r.map(a=>w.jsxs("button",{onClick:()=>n(a.path),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${i.pathname===a.path?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[w.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:a.icon})}),w.jsx("span",{children:a.label})]},a.path))})})}),w.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[t&&w.jsx("div",{className:"mb-6",children:w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t})}),e]})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function xc(e){return e+.5|0}const ss=(e,t,n)=>Math.max(Math.min(e,n),t);function Go(e){return ss(xc(e*2.55),0,255)}function bs(e){return ss(xc(e*255),0,255)}function li(e){return ss(xc(e/2.55)/100,0,1)}function tT(e){return ss(xc(e*100),0,100)}const en={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hp=[..."0123456789ABCDEF"],_9=e=>hp[e&15],v9=e=>hp[(e&240)>>4]+hp[e&15],du=e=>(e&240)>>4===(e&15),b9=e=>du(e.r)&&du(e.g)&&du(e.b)&&du(e.a);function E9(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&en[e[1]]*17,g:255&en[e[2]]*17,b:255&en[e[3]]*17,a:t===5?en[e[4]]*17:255}:(t===7||t===9)&&(n={r:en[e[1]]<<4|en[e[2]],g:en[e[3]]<<4|en[e[4]],b:en[e[5]]<<4|en[e[6]],a:t===9?en[e[7]]<<4|en[e[8]]:255})),n}const T9=(e,t)=>e<255?t(e):"";function x9(e){var t=b9(e)?_9:v9;return e?"#"+t(e.r)+t(e.g)+t(e.b)+T9(e.a,t):void 0}const w9=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function S2(e,t,n){const i=t*Math.min(n,1-n),s=(r,a=(r+e/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function S9(e,t,n){const i=(s,r=(s+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function A9(e,t,n){const i=S2(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function R9(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function w_(e){const n=e.r/255,i=e.g/255,s=e.b/255,r=Math.max(n,i,s),a=Math.min(n,i,s),o=(r+a)/2;let l,c,h;return r!==a&&(h=r-a,c=o>.5?h/(2-r-a):h/(r+a),l=R9(n,i,s,h,r),l=l*60+.5),[l|0,c||0,o]}function S_(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(bs)}function A_(e,t,n){return S_(S2,e,t,n)}function I9(e,t,n){return S_(A9,e,t,n)}function C9(e,t,n){return S_(S9,e,t,n)}function A2(e){return(e%360+360)%360}function D9(e){const t=w9.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Go(+t[5]):bs(+t[5]));const s=A2(+t[2]),r=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?i=I9(s,r,a):t[1]==="hsv"?i=C9(s,r,a):i=A_(s,r,a),{r:i[0],g:i[1],b:i[2],a:n}}function O9(e,t){var n=w_(e);n[0]=A2(n[0]+t),n=A_(n),e.r=n[0],e.g=n[1],e.b=n[2]}function M9(e){if(!e)return;const t=w_(e),n=t[0],i=tT(t[1]),s=tT(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${li(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const eT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},nT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function N9(){const e={},t=Object.keys(nT),n=Object.keys(eT);let i,s,r,a,o;for(i=0;i<t.length;i++){for(a=o=t[i],s=0;s<n.length;s++)r=n[s],o=o.replace(r,eT[r]);r=parseInt(nT[a],16),e[o]=[r>>16&255,r>>8&255,r&255]}return e}let mu;function k9(e){mu||(mu=N9(),mu.transparent=[0,0,0,0]);const t=mu[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const P9=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function L9(e){const t=P9.exec(e);let n=255,i,s,r;if(t){if(t[7]!==i){const a=+t[7];n=t[8]?Go(a):ss(a*255,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?Go(i):ss(i,0,255)),s=255&(t[4]?Go(s):ss(s,0,255)),r=255&(t[6]?Go(r):ss(r,0,255)),{r:i,g:s,b:r,a:n}}}function V9(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${li(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Sm=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Ur=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function U9(e,t,n){const i=Ur(li(e.r)),s=Ur(li(e.g)),r=Ur(li(e.b));return{r:bs(Sm(i+n*(Ur(li(t.r))-i))),g:bs(Sm(s+n*(Ur(li(t.g))-s))),b:bs(Sm(r+n*(Ur(li(t.b))-r))),a:e.a+n*(t.a-e.a)}}function gu(e,t,n){if(e){let i=w_(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=A_(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function R2(e,t){return e&&Object.assign(t||{},e)}function iT(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=bs(e[3]))):(t=R2(e,{r:0,g:0,b:0,a:1}),t.a=bs(t.a)),t}function j9(e){return e.charAt(0)==="r"?L9(e):D9(e)}class $l{constructor(t){if(t instanceof $l)return t;const n=typeof t;let i;n==="object"?i=iT(t):n==="string"&&(i=E9(t)||k9(t)||j9(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=R2(this._rgb);return t&&(t.a=li(t.a)),t}set rgb(t){this._rgb=iT(t)}rgbString(){return this._valid?V9(this._rgb):void 0}hexString(){return this._valid?x9(this._rgb):void 0}hslString(){return this._valid?M9(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let r;const a=n===r?.5:n,o=2*a-1,l=i.a-s.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=a*i.a+(1-a)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=U9(this._rgb,t._rgb,n)),this}clone(){return new $l(this.rgb)}alpha(t){return this._rgb.a=bs(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=xc(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return gu(this._rgb,2,t),this}darken(t){return gu(this._rgb,2,-t),this}saturate(t){return gu(this._rgb,1,t),this}desaturate(t){return gu(this._rgb,1,-t),this}rotate(t){return O9(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function si(){}const z9=(()=>{let e=0;return()=>e++})();function At(e){return e==null}function re(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ht(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function pn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function kn(e,t){return pn(e)?e:t}function _t(e,t){return typeof e>"u"?t:e}const B9=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Dt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function yt(e,t,n,i){let s,r,a;if(re(e))for(r=e.length,s=0;s<r;s++)t.call(n,e[s],s);else if(ht(e))for(a=Object.keys(e),r=a.length,s=0;s<r;s++)t.call(n,e[a[s]],a[s])}function af(e,t){let n,i,s,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],r=t[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function of(e){if(re(e))return e.map(of);if(ht(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=of(e[n[s]]);return t}return e}function I2(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function F9(e,t,n,i){if(!I2(e))return;const s=t[e],r=n[e];ht(s)&&ht(r)?Yl(s,r,i):t[e]=of(r)}function Yl(e,t,n){const i=re(t)?t:[t],s=i.length;if(!ht(e))return e;n=n||{};const r=n.merger||F9;let a;for(let o=0;o<s;++o){if(a=i[o],!ht(a))continue;const l=Object.keys(a);for(let c=0,h=l.length;c<h;++c)r(l[c],e,a,n)}return e}function pl(e,t){return Yl(e,t,{merger:H9})}function H9(e,t,n){if(!I2(e))return;const i=t[e],s=n[e];ht(i)&&ht(s)?pl(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=of(s))}const sT={"":e=>e,x:e=>e.x,y:e=>e.y};function q9(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function G9(e){const t=q9(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function za(e,t){return(sT[t]||(sT[t]=G9(t)))(e)}function R_(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Kl=e=>typeof e<"u",Ns=e=>typeof e=="function",rT=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function $9(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const ze=Math.PI,Es=2*ze,lf=Number.POSITIVE_INFINITY,Y9=ze/180,Tn=ze/2,Bs=ze/4,aT=ze*2/3,C2=Math.log10,Ts=Math.sign;function Xu(e,t,n){return Math.abs(e-t)<n}function oT(e){const t=Math.round(e);e=Xu(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(C2(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function K9(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,r)=>s-r).pop(),t}function Q9(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function cf(e){return!Q9(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function W9(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function X9(e,t,n){let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Zs(e){return e*(ze/180)}function Z9(e){return e*(180/ze)}function lT(e){if(!pn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function J9(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*ze&&(r+=Es),{angle:r,distance:s}}function tU(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Fs(e){return(e%Es+Es)%Es}function eU(e,t,n,i){const s=Fs(e),r=Fs(t),a=Fs(n),o=Fs(r-s),l=Fs(a-s),c=Fs(s-r),h=Fs(s-a);return s===r||s===a||i||o>l&&c<h}function xn(e,t,n){return Math.max(t,Math.min(n,e))}function nU(e){return xn(e,-32768,32767)}function aa(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function I_(e,t,n){n=n||(a=>e[a]<t);let i=e.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const fp=(e,t,n,i)=>I_(e,n,i?s=>{const r=e[s][t];return r<n||r===n&&e[s+1][t]===n}:s=>e[s][t]<n),iU=(e,t,n)=>I_(e,n,i=>e[i][t]>=n);function sU(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const D2=["push","pop","shift","splice","unshift"];function rU(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),D2.forEach(n=>{const i="_onData"+R_(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const a=s.apply(this,r);return e._chartjs.listeners.forEach(o=>{typeof o[i]=="function"&&o[i](...r)}),a}})})}function cT(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(D2.forEach(r=>{delete e[r]}),delete e._chartjs)}function O2(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const M2=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function N2(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,M2.call(window,()=>{i=!1,e.apply(t,n)}))}}function aU(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const k2=e=>e==="start"?"left":e==="end"?"right":"center",$e=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,oU=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t,pu=e=>e===0||e===1,uT=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Es/n)),hT=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Es/n)+1,yl={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Tn)+1,easeOutSine:e=>Math.sin(e*Tn),easeInOutSine:e=>-.5*(Math.cos(ze*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>pu(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>pu(e)?e:uT(e,.075,.3),easeOutElastic:e=>pu(e)?e:hT(e,.075,.3),easeInOutElastic(e){return pu(e)?e:e<.5?.5*uT(e*2,.1125,.45):.5+.5*hT(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-yl.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?yl.easeInBounce(e*2)*.5:yl.easeOutBounce(e*2-1)*.5+.5};function P2(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function fT(e){return P2(e)?e:new $l(e)}function Am(e){return P2(e)?e:new $l(e).saturate(.5).darken(.1).hexString()}const lU=["x","y","borderWidth","radius","tension"],cU=["color","borderColor","backgroundColor"];function uU(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:cU},numbers:{type:"number",properties:lU}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function hU(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const dT=new Map;function fU(e,t){t=t||{};const n=e+JSON.stringify(t);let i=dT.get(n);return i||(i=new Intl.NumberFormat(e,t),dT.set(n,i)),i}function L2(e,t,n){return fU(t,n).format(e)}const dU={values(e){return re(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,r=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=mU(e,n)}const a=C2(Math.abs(r)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),L2(e,i,l)}};function mU(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var V2={formatters:dU};function gU(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:V2.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const yr=Object.create(null),dp=Object.create(null);function _l(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];e=e[r]||(e[r]=Object.create(null))}return e}function Rm(e,t,n){return typeof t=="string"?Yl(_l(e,t),n):Yl(_l(e,""),t)}class pU{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Am(s.backgroundColor),this.hoverBorderColor=(i,s)=>Am(s.borderColor),this.hoverColor=(i,s)=>Am(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Rm(this,t,n)}get(t){return _l(this,t)}describe(t,n){return Rm(dp,t,n)}override(t,n){return Rm(yr,t,n)}route(t,n,i,s){const r=_l(this,t),a=_l(this,i),o="_"+n;Object.defineProperties(r,{[o]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],c=a[s];return ht(l)?Object.assign({},c,l):_t(l,c)},set(l){this[o]=l}}})}apply(t){t.forEach(n=>n(this))}}var Gt=new pU({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[uU,hU,gU]);function yU(e){return!e||At(e.size)||At(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function mT(e,t,n,i,s){let r=t[s];return r||(r=t[s]=e.measureText(s).width,n.push(s)),r>i&&(i=r),i}function Hs(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function gT(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function pT(e,t,n,i){U2(e,t,n,i,null)}function U2(e,t,n,i,s){let r,a,o,l,c,h,f,d;const g=t.pointStyle,E=t.rotation,T=t.radius;let R=(E||0)*Y9;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(R),e.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),e.restore();return}if(!(isNaN(T)||T<=0)){switch(e.beginPath(),g){default:s?e.ellipse(n,i,s/2,T,0,0,Es):e.arc(n,i,T,0,Es),e.closePath();break;case"triangle":h=s?s/2:T,e.moveTo(n+Math.sin(R)*h,i-Math.cos(R)*T),R+=aT,e.lineTo(n+Math.sin(R)*h,i-Math.cos(R)*T),R+=aT,e.lineTo(n+Math.sin(R)*h,i-Math.cos(R)*T),e.closePath();break;case"rectRounded":c=T*.516,l=T-c,a=Math.cos(R+Bs)*l,f=Math.cos(R+Bs)*(s?s/2-c:l),o=Math.sin(R+Bs)*l,d=Math.sin(R+Bs)*(s?s/2-c:l),e.arc(n-f,i-o,c,R-ze,R-Tn),e.arc(n+d,i-a,c,R-Tn,R),e.arc(n+f,i+o,c,R,R+Tn),e.arc(n-d,i+a,c,R+Tn,R+ze),e.closePath();break;case"rect":if(!E){l=Math.SQRT1_2*T,h=s?s/2:l,e.rect(n-h,i-l,2*h,2*l);break}R+=Bs;case"rectRot":f=Math.cos(R)*(s?s/2:T),a=Math.cos(R)*T,o=Math.sin(R)*T,d=Math.sin(R)*(s?s/2:T),e.moveTo(n-f,i-o),e.lineTo(n+d,i-a),e.lineTo(n+f,i+o),e.lineTo(n-d,i+a),e.closePath();break;case"crossRot":R+=Bs;case"cross":f=Math.cos(R)*(s?s/2:T),a=Math.cos(R)*T,o=Math.sin(R)*T,d=Math.sin(R)*(s?s/2:T),e.moveTo(n-f,i-o),e.lineTo(n+f,i+o),e.moveTo(n+d,i-a),e.lineTo(n-d,i+a);break;case"star":f=Math.cos(R)*(s?s/2:T),a=Math.cos(R)*T,o=Math.sin(R)*T,d=Math.sin(R)*(s?s/2:T),e.moveTo(n-f,i-o),e.lineTo(n+f,i+o),e.moveTo(n+d,i-a),e.lineTo(n-d,i+a),R+=Bs,f=Math.cos(R)*(s?s/2:T),a=Math.cos(R)*T,o=Math.sin(R)*T,d=Math.sin(R)*(s?s/2:T),e.moveTo(n-f,i-o),e.lineTo(n+f,i+o),e.moveTo(n+d,i-a),e.lineTo(n-d,i+a);break;case"line":a=s?s/2:Math.cos(R)*T,o=Math.sin(R)*T,e.moveTo(n-a,i-o),e.lineTo(n+a,i+o);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(R)*(s?s/2:T),i+Math.sin(R)*T);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function j2(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function C_(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function D_(e){e.restore()}function _U(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),At(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function vU(e,t,n,i,s){if(s.strikethrough||s.underline){const r=e.measureText(i),a=t-r.actualBoundingBoxLeft,o=t+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,h=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(a,h),e.lineTo(o,h),e.stroke()}}function bU(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function uf(e,t,n,i,s,r={}){const a=re(t)?t:[t],o=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(e.save(),e.font=s.string,_U(e,r),l=0;l<a.length;++l)c=a[l],r.backdrop&&bU(e,r.backdrop),o&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),At(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,n,i,r.maxWidth)),e.fillText(c,n,i,r.maxWidth),vU(e,n,i,c,r),i+=Number(s.lineHeight);e.restore()}function hf(e,t){const{x:n,y:i,w:s,h:r,radius:a}=t;e.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*ze,ze,!0),e.lineTo(n,i+r-a.bottomLeft),e.arc(n+a.bottomLeft,i+r-a.bottomLeft,a.bottomLeft,ze,Tn,!0),e.lineTo(n+s-a.bottomRight,i+r),e.arc(n+s-a.bottomRight,i+r-a.bottomRight,a.bottomRight,Tn,0,!0),e.lineTo(n+s,i+a.topRight),e.arc(n+s-a.topRight,i+a.topRight,a.topRight,0,-Tn,!0),e.lineTo(n+a.topLeft,i)}const EU=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,TU=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function xU(e,t){const n=(""+e).match(EU);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const wU=e=>+e||0;function z2(e,t){const n={},i=ht(t),s=i?Object.keys(t):t,r=ht(e)?i?a=>_t(e[a],e[t[a]]):a=>e[a]:()=>e;for(const a of s)n[a]=wU(r(a));return n}function B2(e){return z2(e,{top:"y",right:"x",bottom:"y",left:"x"})}function va(e){return z2(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Cn(e){const t=B2(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ue(e,t){e=e||{},t=t||Gt.font;let n=_t(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=_t(e.style,t.style);i&&!(""+i).match(TU)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:_t(e.family,t.family),lineHeight:xU(_t(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:_t(e.weight,t.weight),string:""};return s.string=yU(s),s}function yu(e,t,n,i){let s,r,a;for(s=0,r=e.length;s<r;++s)if(a=e[s],a!==void 0&&a!==void 0)return a}function SU(e,t,n){const{min:i,max:s}=e,r=B9(t,(s-i)/2),a=(o,l)=>n&&o===0?0:o+l;return{min:a(i,-Math.abs(r)),max:a(s,r)}}function ao(e,t){return Object.assign(Object.create(e),t)}function O_(e,t=[""],n,i,s=()=>e[0]){const r=n||e;typeof i>"u"&&(i=G2("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:i,_getTarget:s,override:o=>O_([o,...e],t,r,i)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete e[0][l],!0},get(o,l){return H2(o,l,()=>NU(l,t,e,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(o,l){return _T(o).includes(l)},ownKeys(o){return _T(o)},set(o,l,c){const h=o._storage||(o._storage=s());return o[l]=h[l]=c,delete o._keys,!0}})}function Ba(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:F2(e,i),setContext:r=>Ba(e,r,n,i),override:r=>Ba(e.override(r),t,n,i)};return new Proxy(s,{deleteProperty(r,a){return delete r[a],delete e[a],!0},get(r,a,o){return H2(r,a,()=>RU(r,a,o))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,a){return Reflect.has(e,a)},ownKeys(){return Reflect.ownKeys(e)},set(r,a,o){return e[a]=o,delete r[a],!0}})}function F2(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Ns(n)?n:()=>n,isIndexable:Ns(i)?i:()=>i}}const AU=(e,t)=>e?e+R_(t):t,M_=(e,t)=>ht(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function H2(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function RU(e,t,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:a}=e;let o=i[t];return Ns(o)&&a.isScriptable(t)&&(o=IU(t,o,e,n)),re(o)&&o.length&&(o=CU(t,o,e,a.isIndexable)),M_(t,o)&&(o=Ba(o,s,r&&r[t],a)),o}function IU(e,t,n,i){const{_proxy:s,_context:r,_subProxy:a,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(r,a||i);return o.delete(e),M_(e,l)&&(l=N_(s._scopes,s,e,l)),l}function CU(e,t,n,i){const{_proxy:s,_context:r,_subProxy:a,_descriptors:o}=n;if(typeof r.index<"u"&&i(e))return t[r.index%t.length];if(ht(t[0])){const l=t,c=s._scopes.filter(h=>h!==l);t=[];for(const h of l){const f=N_(c,s,e,h);t.push(Ba(f,r,a&&a[e],o))}}return t}function q2(e,t,n){return Ns(e)?e(t,n):e}const DU=(e,t)=>e===!0?t:typeof e=="string"?za(t,e):void 0;function OU(e,t,n,i,s){for(const r of t){const a=DU(n,r);if(a){e.add(a);const o=q2(a._fallback,n,s);if(typeof o<"u"&&o!==n&&o!==i)return o}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function N_(e,t,n,i){const s=t._rootScopes,r=q2(t._fallback,n,i),a=[...e,...s],o=new Set;o.add(i);let l=yT(o,a,n,r||n,i);return l===null||typeof r<"u"&&r!==n&&(l=yT(o,a,r,l,i),l===null)?!1:O_(Array.from(o),[""],s,r,()=>MU(t,n,i))}function yT(e,t,n,i,s){for(;n;)n=OU(e,t,n,i,s);return n}function MU(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return re(s)&&ht(n)?n:s||{}}function NU(e,t,n,i){let s;for(const r of t)if(s=G2(AU(r,e),n),typeof s<"u")return M_(e,s)?N_(n,i,e,s):s}function G2(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function _T(e){let t=e._keys;return t||(t=e._keys=kU(e._scopes)),t}function kU(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function k_(){return typeof window<"u"&&typeof document<"u"}function P_(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function ff(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const ed=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function PU(e,t){return ed(e).getPropertyValue(t)}const LU=["top","right","bottom","left"];function ar(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=LU[s];i[r]=parseFloat(e[t+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const VU=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function UU(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:r}=i;let a=!1,o,l;if(VU(s,r,e.target))o=s,l=r;else{const c=t.getBoundingClientRect();o=i.clientX-c.left,l=i.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function Qs(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=ed(n),r=s.boxSizing==="border-box",a=ar(s,"padding"),o=ar(s,"border","width"),{x:l,y:c,box:h}=UU(e,n),f=a.left+(h&&o.left),d=a.top+(h&&o.top);let{width:g,height:E}=t;return r&&(g-=a.width+o.width,E-=a.height+o.height),{x:Math.round((l-f)/g*n.width/i),y:Math.round((c-d)/E*n.height/i)}}function jU(e,t,n){let i,s;if(t===void 0||n===void 0){const r=e&&P_(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const a=r.getBoundingClientRect(),o=ed(r),l=ar(o,"border","width"),c=ar(o,"padding");t=a.width-c.width-l.width,n=a.height-c.height-l.height,i=ff(o.maxWidth,r,"clientWidth"),s=ff(o.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:i||lf,maxHeight:s||lf}}const _u=e=>Math.round(e*10)/10;function zU(e,t,n,i){const s=ed(e),r=ar(s,"margin"),a=ff(s.maxWidth,e,"clientWidth")||lf,o=ff(s.maxHeight,e,"clientHeight")||lf,l=jU(e,t,n);let{width:c,height:h}=l;if(s.boxSizing==="content-box"){const d=ar(s,"border","width"),g=ar(s,"padding");c-=g.width+d.width,h-=g.height+d.height}return c=Math.max(0,c-r.width),h=Math.max(0,i?c/i:h-r.height),c=_u(Math.min(c,a,l.maxWidth)),h=_u(Math.min(h,o,l.maxHeight)),c&&!h&&(h=_u(c/2)),(t!==void 0||n!==void 0)&&i&&l.height&&h>l.height&&(h=l.height,c=_u(Math.floor(h*i))),{width:c,height:h}}function vT(e,t,n){const i=t||1,s=Math.floor(e.height*i),r=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||a.height!==s||a.width!==r?(e.currentDevicePixelRatio=i,a.height=s,a.width=r,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const BU=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};k_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function bT(e,t){const n=PU(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const FU=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},HU=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function ba(e,t,n){return e?FU(t,n):HU()}function $2(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function Y2(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function vu(e,t,n){return e.options.clip?e[n]:t[n]}function qU(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:vu(n,t,"left"),right:vu(n,t,"right"),top:vu(i,t,"top"),bottom:vu(i,t,"bottom")}:t}function GU(e,t){const n=t._clip;if(n.disabled)return!1;const i=qU(t,e.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class $U{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const r=n.listeners[s],a=n.duration;r.forEach(o=>o({chart:t,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=M2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let a=r.length-1,o=!1,l;for(;a>=0;--a)l=r[a],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),o=!0):(r[a]=r[r.length-1],r.pop());o&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ai=new $U;const ET="transparent",YU={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=fT(e||ET),s=i.valid&&fT(t||ET);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class KU{constructor(t,n,i,s){const r=n[i];s=yu([t.to,s,r,t.from]);const a=yu([t.from,r,s]);this._active=!0,this._fn=t.fn||YU[t.type||typeof a],this._easing=yl[t.easing]||yl.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,a=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=yu([t.to,n,s,t.from]),this._from=yu([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,r=this._from,a=this._loop,o=this._to;let l;if(this._active=r!==o&&(a||n<i),!this._active){this._target[s]=o,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,o,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class K2{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!ht(t))return;const n=Object.keys(Gt.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const r=t[s];if(!ht(r))return;const a={};for(const o of n)a[o]=r[o];(re(r.properties)&&r.properties||[s]).forEach(o=>{(o===s||!i.has(o))&&i.set(o,a)})})}_animateOptions(t,n){const i=n.options,s=WU(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&QU(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,n){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),a=Object.keys(n),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(t,n));continue}const h=n[c];let f=r[c];const d=i.get(c);if(f)if(d&&f.active()){f.update(d,h,o);continue}else f.cancel();if(!d||!d.duration){t[c]=h;continue}r[c]=f=new KU(d,t,c,h),s.push(f)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return ai.add(this._chart,i),!0}}function QU(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=e[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function WU(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function TT(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function XU(e,t,n){if(n===!1)return!1;const i=TT(e,n),s=TT(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function ZU(e){let t,n,i,s;return ht(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function Q2(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function xT(e,t,n,i={}){const s=e.keys,r=i.mode==="single";let a,o,l,c;if(t===null)return;let h=!1;for(a=0,o=s.length;a<o;++a){if(l=+s[a],l===n){if(h=!0,i.all)continue;break}c=e.values[l],pn(c)&&(r||t===0||Ts(t)===Ts(c))&&(t+=c)}return!h&&!i.all?0:t}function JU(e,t){const{iScale:n,vScale:i}=t,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",a=Object.keys(e),o=new Array(a.length);let l,c,h;for(l=0,c=a.length;l<c;++l)h=a[l],o[l]={[s]:h,[r]:e[h]};return o}function Im(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function tj(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function ej(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function nj(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function wT(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=e[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function ST(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:r,vScale:a,index:o}=i,l=r.axis,c=a.axis,h=tj(r,a,i),f=t.length;let d;for(let g=0;g<f;++g){const E=t[g],{[l]:T,[c]:R}=E,y=E._stacks||(E._stacks={});d=y[c]=nj(s,h,T),d[o]=R,d._top=wT(d,a,!0,i.type),d._bottom=wT(d,a,!1,i.type);const v=d._visualValues||(d._visualValues={});v[o]=R}}function Cm(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function ij(e,t){return ao(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function sj(e,t,n){return ao(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Oo(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const Dm=e=>e==="reset"||e==="none",AT=(e,t)=>t?e:Object.assign({},e),rj=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Q2(n,!0),values:null};class vl{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Im(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Oo(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(f,d,g,E)=>f==="x"?d:f==="r"?E:g,r=n.xAxisID=_t(i.xAxisID,Cm(t,"x")),a=n.yAxisID=_t(i.yAxisID,Cm(t,"y")),o=n.rAxisID=_t(i.rAxisID,Cm(t,"r")),l=n.indexAxis,c=n.iAxisID=s(l,r,a,o),h=n.vAxisID=s(l,a,r,o);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&cT(this._data,this),t._stacked&&Oo(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(ht(n)){const s=this._cachedMeta;this._data=JU(n,s)}else if(i!==n){if(i){cT(i,this);const s=this._cachedMeta;Oo(s),s._parsed=[]}n&&Object.isExtensible(n)&&rU(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=Im(n.vScale,n),n.stack!==i.stack&&(s=!0,Oo(n),n.stack=i.stack),this._resyncElements(t),(s||r!==n._stacked)&&(ST(this,n._parsed),n._stacked=Im(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:a}=i,o=r.axis;let l=t===0&&n===s.length?!0:i._sorted,c=t>0&&i._parsed[t-1],h,f,d;if(this._parsing===!1)i._parsed=s,i._sorted=!0,d=s;else{re(s[t])?d=this.parseArrayData(i,s,t,n):ht(s[t])?d=this.parseObjectData(i,s,t,n):d=this.parsePrimitiveData(i,s,t,n);const g=()=>f[o]===null||c&&f[o]<c[o];for(h=0;h<n;++h)i._parsed[h+t]=f=d[h],l&&(g()&&(l=!1),c=f);i._sorted=l}a&&ST(this,d)}parsePrimitiveData(t,n,i,s){const{iScale:r,vScale:a}=t,o=r.axis,l=a.axis,c=r.getLabels(),h=r===a,f=new Array(s);let d,g,E;for(d=0,g=s;d<g;++d)E=d+i,f[d]={[o]:h||r.parse(c[E],E),[l]:a.parse(n[E],E)};return f}parseArrayData(t,n,i,s){const{xScale:r,yScale:a}=t,o=new Array(s);let l,c,h,f;for(l=0,c=s;l<c;++l)h=l+i,f=n[h],o[l]={x:r.parse(f[0],h),y:a.parse(f[1],h)};return o}parseObjectData(t,n,i,s){const{xScale:r,yScale:a}=t,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let h,f,d,g;for(h=0,f=s;h<f;++h)d=h+i,g=n[d],c[h]={x:r.parse(za(g,o),d),y:a.parse(za(g,l),d)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,r=this._cachedMeta,a=n[t.axis],o={keys:Q2(s,!0),values:n._stacks[t.axis]._visualValues};return xT(o,a,r.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const r=i[n.axis];let a=r===null?NaN:r;const o=s&&i._stacks[n.axis];s&&o&&(s.values=o,a=xT(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&t===i.iScale,a=s.length,o=this._getOtherScale(t),l=rj(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=ej(o);let d,g;function E(){g=s[d];const T=g[o.axis];return!pn(g[t.axis])||h>T||f<T}for(d=0;d<a&&!(!E()&&(this.updateRangeFromParsed(c,t,g,l),r));++d);if(r){for(d=a-1;d>=0;--d)if(!E()){this.updateRangeFromParsed(c,t,g,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,r,a;for(s=0,r=n.length;s<r;++s)a=n[s][t.axis],pn(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=ZU(_t(this.options.clip,XU(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||s.length-o,c=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(t,r,o,l),h=o;h<o+l;++h){const f=s[h];f.hidden||(f.active&&c?a.push(f):f.draw(t,r))}for(h=0;h<a.length;++h)a[h].draw(t,r)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];r=a.$context||(a.$context=sj(this.getContext(),t,a)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=ij(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",r=this._cachedDataOpts,a=t+"-"+n,o=r[a],l=this.enableOptionSharing&&Kl(i);if(o)return AT(o,l);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,t),f=s?[`${t}Hover`,"hover",t,""]:[t,""],d=c.getOptionScopes(this.getDataset(),h),g=Object.keys(Gt.elements[t]),E=()=>this.getContext(i,s,n),T=c.resolveNamedOptions(d,g,E,f);return T.$shared&&(T.$shared=l,r[a]=Object.freeze(AT(T,l))),T}_resolveAnimations(t,n,i){const s=this.chart,r=this._cachedDataOpts,a=`animation-${n}`,o=r[a];if(o)return o;let l;if(s.options.animation!==!1){const h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,n),d=h.getOptionScopes(this.getDataset(),f);l=h.createResolver(d,this.getContext(t,i,n))}const c=new K2(s,l&&l.animations);return l&&l._cacheable&&(r[a]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Dm(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,r=this.getSharedOptions(i),a=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:a}}updateElement(t,n,i,s){Dm(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!Dm(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const s=i.length,r=n.length,a=Math.min(r,s);a&&this.parse(0,a),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,n,i=!0){const s=this._cachedMeta,r=s.data,a=t+n;let o;const l=c=>{for(c.length+=n,o=c.length-1;o>=a;o--)c[o]=c[o-n]};for(l(r),o=t;o<a;++o)r[o]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,n),i&&this.updateElements(r,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&Oo(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ct(vl,"defaults",{}),ct(vl,"datasetElementType",null),ct(vl,"dataElementType",null);function aj(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=O2(i.sort((s,r)=>s-r))}return e._cache.$bar}function oj(e){const t=e.iScale,n=aj(t,e.type);let i=t._length,s,r,a,o;const l=()=>{a===32767||a===-32768||(Kl(o)&&(i=Math.min(i,Math.abs(a-o)||i)),o=a)};for(s=0,r=n.length;s<r;++s)a=t.getPixelForValue(n[s]),l();for(o=void 0,s=0,r=t.ticks.length;s<r;++s)a=t.getPixelForTick(s),l();return i}function lj(e,t,n,i){const s=n.barThickness;let r,a;return At(s)?(r=t.min*n.categoryPercentage,a=n.barPercentage):(r=s*i,a=1),{chunk:r/i,ratio:a,start:t.pixels[e]-r/2}}function cj(e,t,n,i){const s=t.pixels,r=s[e];let a=e>0?s[e-1]:null,o=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;a===null&&(a=r-(o===null?t.end-t.start:o-r)),o===null&&(o=r+r-a);const c=r-(r-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/i,ratio:n.barPercentage,start:c}}function uj(e,t,n,i){const s=n.parse(e[0],i),r=n.parse(e[1],i),a=Math.min(s,r),o=Math.max(s,r);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:r,min:a,max:o}}function W2(e,t,n,i){return re(e)?uj(e,t,n,i):t[n.axis]=n.parse(e,i),t}function RT(e,t,n,i){const s=e.iScale,r=e.vScale,a=s.getLabels(),o=s===r,l=[];let c,h,f,d;for(c=n,h=n+i;c<h;++c)d=t[c],f={},f[s.axis]=o||s.parse(a[c],c),l.push(W2(d,f,r,c));return l}function Om(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function hj(e,t,n){return e!==0?Ts(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function fj(e){let t,n,i,s,r;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:t,top:s,bottom:r}}function dj(e,t,n,i){let s=t.borderSkipped;const r={};if(!s){e.borderSkipped=r;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:c,bottom:h}=fj(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=h:(r[IT(h,a,o,l)]=!0,s=c)),r[IT(s,a,o,l)]=!0,e.borderSkipped=r}function IT(e,t,n,i){return i?(e=mj(e,t,n),e=CT(e,n,t)):e=CT(e,t,n),e}function mj(e,t,n){return e===t?n:e===n?t:e}function CT(e,t,n){return e==="start"?t:e==="end"?n:e}function gj(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Zu extends vl{parsePrimitiveData(t,n,i,s){return RT(t,n,i,s)}parseArrayData(t,n,i,s){return RT(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:r,vScale:a}=t,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?o:l,h=a.axis==="x"?o:l,f=[];let d,g,E,T;for(d=i,g=i+s;d<g;++d)T=n[d],E={},E[r.axis]=r.parse(za(T,c),d),f.push(W2(za(T,h),E,a,d));return f}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(t),a=r._custom,o=Om(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const r=s==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),h=this._getRuler(),{sharedOptions:f,includeOptions:d}=this._getSharedOptions(n,s);for(let g=n;g<n+i;g++){const E=this.getParsed(g),T=r||At(E[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),R=this._calculateBarIndexPixels(g,h),y=(E._stacks||{})[o.axis],v={horizontal:c,base:T.base,enableBorderRadius:!y||Om(E._custom)||a===y._top||a===y._bottom,x:c?T.head:R.center,y:c?R.center:T.head,height:c?R.size:Math.abs(T.size),width:c?Math.abs(T.size):R.size};d&&(v.options=f||this.resolveDataElementOptions(g,t[g].active?"active":s));const x=v.options||t[g].options;dj(v,x,y,a),gj(v,x,h.ratio),this.updateElement(t[g],g,v,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),r=i.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(n),l=o&&o[i.axis],c=h=>{const f=h._parsed.find(g=>g[i.axis]===l),d=f&&f[h.vScale.axis];if(At(d)||isNaN(d))return!0};for(const h of s)if(!(n!==void 0&&c(h))&&((r===!1||a.indexOf(h.stack)===-1||r===void 0&&h.stack===void 0)&&a.push(h.stack),h.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const s=this._getStacks(t,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,a;for(r=0,a=n.data.length;r<a;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const o=t.barThickness;return{min:o||oj(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:a}}=this,o=r||0,l=this.getParsed(t),c=l._custom,h=Om(c);let f=l[n.axis],d=0,g=i?this.applyStack(n,l,i):f,E,T;g!==f&&(d=g-f,g=f),h&&(f=c.barStart,g=c.barEnd-c.barStart,f!==0&&Ts(f)!==Ts(c.barEnd)&&(d=0),d+=f);const R=!At(r)&&!h?r:d;let y=n.getPixelForValue(R);if(this.chart.getDataVisibility(t)?E=n.getPixelForValue(d+g):E=y,T=E-y,Math.abs(T)<a){T=hj(T,n,o)*a,f===o&&(y-=T/2);const v=n.getPixelForDecimal(0),x=n.getPixelForDecimal(1),C=Math.min(v,x),M=Math.max(v,x);y=Math.max(Math.min(y,M),C),E=y+T,i&&!h&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(E)-n.getValueForPixel(y))}if(y===n.getPixelForValue(o)){const v=Ts(T)*n.getLineWidthForValue(o)/2;y+=v,T-=v}return{size:T,base:y,head:E,center:E+T/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,r=s.skipNull,a=_t(s.maxBarThickness,1/0);let o,l;if(n.grouped){const c=r?this._getStackCount(t):n.stackCount,h=s.barThickness==="flex"?cj(t,n,s,c):lj(t,n,s,c),f=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);o=h.start+h.chunk*f+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else o=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(a,n.min*n.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}ct(Zu,"id","bar"),ct(Zu,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ct(Zu,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function qs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class L_{constructor(t){ct(this,"options");this.options=t||{}}static override(t){Object.assign(L_.prototype,t)}init(){}formats(){return qs()}parse(){return qs()}format(){return qs()}add(){return qs()}diff(){return qs()}startOf(){return qs()}endOf(){return qs()}}var pj={_date:L_};function yj(e,t,n,i){const{controller:s,data:r,_sorted:a}=e,o=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&t!=="r"&&a&&r.length){const c=o._reversePixels?iU:fp;if(i){if(s._sharedOptions){const h=r[0],f=typeof h.getRange=="function"&&h.getRange(t);if(f){const d=c(r,t,n-f),g=c(r,t,n+f);return{lo:d.lo,hi:g.hi}}}}else{const h=c(r,t,n);if(l){const{vScale:f}=s._cachedMeta,{_parsed:d}=e,g=d.slice(0,h.lo+1).reverse().findIndex(T=>!At(T[f.axis]));h.lo-=Math.max(0,g);const E=d.slice(h.hi).findIndex(T=>!At(T[f.axis]));h.hi+=Math.max(0,E)}return h}}return{lo:0,hi:r.length-1}}function nd(e,t,n,i,s){const r=e.getSortedVisibleDatasetMetas(),a=n[t];for(let o=0,l=r.length;o<l;++o){const{index:c,data:h}=r[o],{lo:f,hi:d}=yj(r[o],t,a,s);for(let g=f;g<=d;++g){const E=h[g];E.skip||i(E,c,g)}}}function _j(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const r=t?Math.abs(i.x-s.x):0,a=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function Mm(e,t,n,i,s){const r=[];return!s&&!e.isPointInArea(t)||nd(e,n,t,function(o,l,c){!s&&!j2(o,e.chartArea,0)||o.inRange(t.x,t.y,i)&&r.push({element:o,datasetIndex:l,index:c})},!0),r}function vj(e,t,n,i){let s=[];function r(a,o,l){const{startAngle:c,endAngle:h}=a.getProps(["startAngle","endAngle"],i),{angle:f}=J9(a,{x:t.x,y:t.y});eU(f,c,h)&&s.push({element:a,datasetIndex:o,index:l})}return nd(e,n,t,r),s}function bj(e,t,n,i,s,r){let a=[];const o=_j(n);let l=Number.POSITIVE_INFINITY;function c(h,f,d){const g=h.inRange(t.x,t.y,s);if(i&&!g)return;const E=h.getCenterPoint(s);if(!(!!r||e.isPointInArea(E))&&!g)return;const R=o(t,E);R<l?(a=[{element:h,datasetIndex:f,index:d}],l=R):R===l&&a.push({element:h,datasetIndex:f,index:d})}return nd(e,n,t,c),a}function Nm(e,t,n,i,s,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!i?vj(e,t,n,s):bj(e,t,n,i,s,r)}function DT(e,t,n,i,s){const r=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return nd(e,n,t,(l,c,h)=>{l[a]&&l[a](t[n],s)&&(r.push({element:l,datasetIndex:c,index:h}),o=o||l.inRange(t.x,t.y,s))}),i&&!o?[]:r}var Ej={modes:{index(e,t,n,i){const s=Qs(t,e),r=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?Mm(e,s,r,i,a):Nm(e,s,r,!1,i,a),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const h=o[0].index,f=c.data[h];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:h})}),l):[]},dataset(e,t,n,i){const s=Qs(t,e),r=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?Mm(e,s,r,i,a):Nm(e,s,r,!1,i,a);if(o.length>0){const l=o[0].datasetIndex,c=e.getDatasetMeta(l).data;o=[];for(let h=0;h<c.length;++h)o.push({element:c[h],datasetIndex:l,index:h})}return o},point(e,t,n,i){const s=Qs(t,e),r=n.axis||"xy",a=n.includeInvisible||!1;return Mm(e,s,r,i,a)},nearest(e,t,n,i){const s=Qs(t,e),r=n.axis||"xy",a=n.includeInvisible||!1;return Nm(e,s,r,n.intersect,i,a)},x(e,t,n,i){const s=Qs(t,e);return DT(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=Qs(t,e);return DT(e,s,"y",n.intersect,i)}}};const X2=["left","top","right","bottom"];function Mo(e,t){return e.filter(n=>n.pos===t)}function OT(e,t){return e.filter(n=>X2.indexOf(n.pos)===-1&&n.box.axis===t)}function No(e,t){return e.sort((n,i)=>{const s=t?i:n,r=t?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function Tj(e){const t=[];let n,i,s,r,a,o;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:r,options:{stack:a,stackWeight:o=1}}=s,t.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&r+a,stackWeight:o});return t}function xj(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!X2.includes(s))continue;const a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return t}function wj(e,t){const n=xj(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,a,o;for(r=0,a=e.length;r<a;++r){o=e[r];const{fullSize:l}=o.box,c=n[o.stack],h=c&&o.stackWeight/c.weight;o.horizontal?(o.width=h?h*i:l&&t.availableWidth,o.height=s):(o.width=i,o.height=h?h*s:l&&t.availableHeight)}return n}function Sj(e){const t=Tj(e),n=No(t.filter(c=>c.box.fullSize),!0),i=No(Mo(t,"left"),!0),s=No(Mo(t,"right")),r=No(Mo(t,"top"),!0),a=No(Mo(t,"bottom")),o=OT(t,"x"),l=OT(t,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(a).concat(o),chartArea:Mo(t,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(a).concat(o)}}function MT(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function Z2(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Aj(e,t,n,i){const{pos:s,box:r}=n,a=e.maxPadding;if(!ht(s)){n.size&&(e[s]-=n.size);const f=i[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?r.height:r.width),n.size=f.size/f.count,e[s]+=n.size}r.getPadding&&Z2(a,r.getPadding());const o=Math.max(0,t.outerWidth-MT(a,e,"left","right")),l=Math.max(0,t.outerHeight-MT(a,e,"top","bottom")),c=o!==e.w,h=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:c,other:h}:{same:h,other:c}}function Rj(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function Ij(e,t){const n=t.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{r[a]=Math.max(t[a],n[a])}),r}return i(e?["left","right"]:["top","bottom"])}function $o(e,t,n,i){const s=[];let r,a,o,l,c,h;for(r=0,a=e.length,c=0;r<a;++r){o=e[r],l=o.box,l.update(o.width||t.w,o.height||t.h,Ij(o.horizontal,t));const{same:f,other:d}=Aj(t,n,o,i);c|=f&&s.length,h=h||d,l.fullSize||s.push(o)}return c&&$o(s,t,n,i)||h}function bu(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function NT(e,t,n,i){const s=n.padding;let{x:r,y:a}=t;for(const o of e){const l=o.box,c=i[o.stack]||{placed:0,weight:1},h=o.stackWeight/c.weight||1;if(o.horizontal){const f=t.w*h,d=c.size||l.height;Kl(c.start)&&(a=c.start),l.fullSize?bu(l,s.left,a,n.outerWidth-s.right-s.left,d):bu(l,t.left+c.placed,a,f,d),c.start=a,c.placed+=f,a=l.bottom}else{const f=t.h*h,d=c.size||l.width;Kl(c.start)&&(r=c.start),l.fullSize?bu(l,r,s.top,d,n.outerHeight-s.bottom-s.top):bu(l,r,t.top+c.placed,d,f),c.start=r,c.placed+=f,r=l.right}}t.x=r,t.y=a}var rs={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=Cn(e.options.layout.padding),r=Math.max(t-s.width,0),a=Math.max(n-s.height,0),o=Sj(e.boxes),l=o.vertical,c=o.horizontal;yt(e.boxes,T=>{typeof T.beforeLayout=="function"&&T.beforeLayout()});const h=l.reduce((T,R)=>R.box.options&&R.box.options.display===!1?T:T+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/h,hBoxMaxHeight:a/2}),d=Object.assign({},s);Z2(d,Cn(i));const g=Object.assign({maxPadding:d,w:r,h:a,x:s.left,y:s.top},s),E=wj(l.concat(c),f);$o(o.fullSize,g,f,E),$o(l,g,f,E),$o(c,g,f,E)&&$o(l,g,f,E),Rj(g),NT(o.leftAndTop,g,f,E),g.x+=g.w,g.y+=g.h,NT(o.rightAndBottom,g,f,E),e.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},yt(o.chartArea,T=>{const R=T.box;Object.assign(R,e.chartArea),R.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class J2{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class Cj extends J2{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ju="$chartjs",Dj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},kT=e=>e===null||e==="";function Oj(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[Ju]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",kT(s)){const r=bT(e,"width");r!==void 0&&(e.width=r)}if(kT(i))if(e.style.height==="")e.height=e.width/(t||2);else{const r=bT(e,"height");r!==void 0&&(e.height=r)}return e}const tI=BU?{passive:!0}:!1;function Mj(e,t,n){e&&e.addEventListener(t,n,tI)}function Nj(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,tI)}function kj(e,t){const n=Dj[e.type]||e.type,{x:i,y:s}=Qs(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function df(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Pj(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let a=!1;for(const o of r)a=a||df(o.addedNodes,i),a=a&&!df(o.removedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function Lj(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let a=!1;for(const o of r)a=a||df(o.removedNodes,i),a=a&&!df(o.addedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Ql=new Map;let PT=0;function eI(){const e=window.devicePixelRatio;e!==PT&&(PT=e,Ql.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function Vj(e,t){Ql.size||window.addEventListener("resize",eI),Ql.set(e,t)}function Uj(e){Ql.delete(e),Ql.size||window.removeEventListener("resize",eI)}function jj(e,t,n){const i=e.canvas,s=i&&P_(i);if(!s)return;const r=N2((o,l)=>{const c=s.clientWidth;n(o,l),c<s.clientWidth&&n()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||r(c,h)});return a.observe(s),Vj(e,r),a}function km(e,t,n){n&&n.disconnect(),t==="resize"&&Uj(e)}function zj(e,t,n){const i=e.canvas,s=N2(r=>{e.ctx!==null&&n(kj(r,e))},e);return Mj(i,t,s),s}class Bj extends J2{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(Oj(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Ju])return!1;const i=n[Ju].initial;["height","width"].forEach(r=>{const a=i[r];At(a)?n.removeAttribute(r):n.setAttribute(r,a)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[Ju],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),a={attach:Pj,detach:Lj,resize:jj}[n]||zj;s[n]=a(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:km,detach:km,resize:km}[n]||Nj)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return zU(t,n,i,s)}isAttached(t){const n=t&&P_(t);return!!(n&&n.isConnected)}}function Fj(e){return!k_()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Cj:Bj}class _r{constructor(){ct(this,"x");ct(this,"y");ct(this,"active",!1);ct(this,"options");ct(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return cf(this.x)&&cf(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}ct(_r,"defaults",{}),ct(_r,"defaultRoutes");function Hj(e,t){const n=e.options.ticks,i=qj(e),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?$j(t):[],a=r.length,o=r[0],l=r[a-1],c=[];if(a>s)return Yj(t,c,r,a/s),c;const h=Gj(r,t,s);if(a>0){let f,d;const g=a>1?Math.round((l-o)/(a-1)):null;for(Eu(t,c,h,At(g)?0:o-g,o),f=0,d=a-1;f<d;f++)Eu(t,c,h,r[f],r[f+1]);return Eu(t,c,h,l,At(g)?t.length:l+g),c}return Eu(t,c,h),c}function qj(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function Gj(e,t,n){const i=Kj(e),s=t.length/n;if(!i)return Math.max(s,1);const r=K9(i);for(let a=0,o=r.length-1;a<o;a++){const l=r[a];if(l>s)return l}return Math.max(s,1)}function $j(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function Yj(e,t,n,i){let s=0,r=n[0],a;for(i=Math.ceil(i),a=0;a<e.length;a++)a===r&&(t.push(e[a]),s++,r=n[s*i])}function Eu(e,t,n,i,s){const r=_t(i,0),a=Math.min(_t(s,e.length),e.length);let o=0,l,c,h;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),h=r;h<0;)o++,h=Math.round(r+o*n);for(c=Math.max(r,0);c<a;c++)c===h&&(t.push(e[c]),o++,h=Math.round(r+o*n))}function Kj(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const Qj=e=>e==="left"?"right":e==="right"?"left":e,LT=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,VT=(e,t)=>Math.min(t||e,e);function UT(e,t){const n=[],i=e.length/t,s=e.length;let r=0;for(;r<s;r+=i)n.push(e[Math.floor(r)]);return n}function Wj(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),r=e._startPixel,a=e._endPixel,o=1e-6;let l=e.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(l-r,a-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(s-1))/2,l+=s<t?c:-c,l<r-o||l>a+o)))return l}function Xj(e,t){yt(e,n=>{const i=n.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function ko(e){return e.drawTicks?e.tickLength:0}function jT(e,t){if(!e.display)return 0;const n=Ue(e.font,t),i=Cn(e.padding);return(re(e.text)?e.text.length:1)*n.lineHeight+i.height}function Zj(e,t){return ao(e,{scale:t,type:"scale"})}function Jj(e,t,n){return ao(e,{tick:n,index:t,type:"tick"})}function tz(e,t,n){let i=k2(e);return(n&&t!=="right"||!n&&t==="right")&&(i=Qj(i)),i}function ez(e,t,n,i){const{top:s,left:r,bottom:a,right:o,chart:l}=e,{chartArea:c,scales:h}=l;let f=0,d,g,E;const T=a-s,R=o-r;if(e.isHorizontal()){if(g=$e(i,r,o),ht(n)){const y=Object.keys(n)[0],v=n[y];E=h[y].getPixelForValue(v)+T-t}else n==="center"?E=(c.bottom+c.top)/2+T-t:E=LT(e,n,t);d=o-r}else{if(ht(n)){const y=Object.keys(n)[0],v=n[y];g=h[y].getPixelForValue(v)-R+t}else n==="center"?g=(c.left+c.right)/2-R+t:g=LT(e,n,t);E=$e(i,a,s),f=n==="left"?-Tn:Tn}return{titleX:g,titleY:E,maxWidth:d,rotation:f}}class oo extends _r{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=kn(t,Number.POSITIVE_INFINITY),n=kn(n,Number.NEGATIVE_INFINITY),i=kn(i,Number.POSITIVE_INFINITY),s=kn(s,Number.NEGATIVE_INFINITY),{min:kn(t,i),max:kn(n,s),minDefined:pn(t),maxDefined:pn(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),a;if(s&&r)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,t),s||(n=Math.min(n,a.min)),r||(i=Math.max(i,a.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:kn(n,kn(i,n)),max:kn(i,kn(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Dt(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:r,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=SU(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?UT(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Hj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Dt(this.options.afterUpdate,[this])}beforeSetDimensions(){Dt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Dt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Dt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Dt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=Dt(n.callback,[r.value,i,t],this)}afterTickToLabelConversion(){Dt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Dt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=VT(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let a=s,o,l,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const h=this._getLabelSizes(),f=h.widest.width,d=h.highest.height,g=xn(this.chart.width-f,0,this.maxWidth);o=t.offset?this.maxWidth/i:g/(i-1),f+6>o&&(o=g/(i-(t.offset?.5:1)),l=this.maxHeight-ko(t.grid)-n.padding-jT(t.title,this.chart.options.font),c=Math.sqrt(f*f+d*d),a=Z9(Math.min(Math.asin(xn((h.highest.height+6)/o,-1,1)),Math.asin(xn(l/c,-1,1))-Math.asin(xn(d/c,-1,1)))),a=Math.max(s,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){Dt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Dt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=jT(s,n.options.font);if(o?(t.width=this.maxWidth,t.height=ko(r)+l):(t.height=this.maxHeight,t.width=ko(r)+l),i.display&&this.ticks.length){const{first:c,last:h,widest:f,highest:d}=this._getLabelSizes(),g=i.padding*2,E=Zs(this.labelRotation),T=Math.cos(E),R=Math.sin(E);if(o){const y=i.mirror?0:R*f.width+T*d.height;t.height=Math.min(this.maxHeight,t.height+y+g)}else{const y=i.mirror?0:T*f.width+R*d.height;t.width=Math.min(this.maxWidth,t.width+y+g)}this._calculatePadding(c,h,R,T)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:r,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,g=0;l?c?(d=s*t.width,g=i*n.height):(d=i*t.height,g=s*n.width):r==="start"?g=n.width:r==="end"?d=t.width:r!=="inner"&&(d=t.width/2,g=n.width/2),this.paddingLeft=Math.max((d-h+a)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-f+a)*this.width/(this.width-f),0)}else{let h=n.height/2,f=t.height/2;r==="start"?(h=0,f=t.height):r==="end"&&(h=n.height,f=0),this.paddingTop=h+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Dt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)At(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=UT(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:r}=this,a=[],o=[],l=Math.floor(n/VT(n,i));let c=0,h=0,f,d,g,E,T,R,y,v,x,C,M;for(f=0;f<n;f+=l){if(E=t[f].label,T=this._resolveTickFontOptions(f),s.font=R=T.string,y=r[R]=r[R]||{data:{},gc:[]},v=T.lineHeight,x=C=0,!At(E)&&!re(E))x=mT(s,y.data,y.gc,x,E),C=v;else if(re(E))for(d=0,g=E.length;d<g;++d)M=E[d],!At(M)&&!re(M)&&(x=mT(s,y.data,y.gc,x,M),C+=v);a.push(x),o.push(C),c=Math.max(x,c),h=Math.max(C,h)}Xj(r,n);const L=a.indexOf(c),b=o.indexOf(h),_=A=>({width:a[A]||0,height:o[A]||0});return{first:_(0),last:_(n-1),widest:_(L),highest:_(b),widths:a,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return nU(this._alignToPixels?Hs(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=Jj(this.getContext(),t,i))}return this.$context||(this.$context=Zj(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Zs(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),a=t.autoSkipPadding||0,o=r?r.widest.width+a:0,l=r?r.highest.height+a:0;return this.isHorizontal()?l*i>o*s?o/i:l/s:l*s<o*i?l/i:o/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:a,border:o}=s,l=r.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),d=ko(r),g=[],E=o.setContext(this.getContext()),T=E.display?E.width:0,R=T/2,y=function(B){return Hs(i,B,T)};let v,x,C,M,L,b,_,A,I,O,N,D;if(a==="top")v=y(this.bottom),b=this.bottom-d,A=v-R,O=y(t.top)+R,D=t.bottom;else if(a==="bottom")v=y(this.top),O=t.top,D=y(t.bottom)-R,b=v+R,A=this.top+d;else if(a==="left")v=y(this.right),L=this.right-d,_=v-R,I=y(t.left)+R,N=t.right;else if(a==="right")v=y(this.left),I=t.left,N=y(t.right)-R,L=v+R,_=this.left+d;else if(n==="x"){if(a==="center")v=y((t.top+t.bottom)/2+.5);else if(ht(a)){const B=Object.keys(a)[0],G=a[B];v=y(this.chart.scales[B].getPixelForValue(G))}O=t.top,D=t.bottom,b=v+R,A=b+d}else if(n==="y"){if(a==="center")v=y((t.left+t.right)/2);else if(ht(a)){const B=Object.keys(a)[0],G=a[B];v=y(this.chart.scales[B].getPixelForValue(G))}L=v-R,_=L-d,I=t.left,N=t.right}const bt=_t(s.ticks.maxTicksLimit,f),at=Math.max(1,Math.ceil(f/bt));for(x=0;x<f;x+=at){const B=this.getContext(x),G=r.setContext(B),Y=o.setContext(B),mt=G.lineWidth,Et=G.color,yn=Y.dash||[],$t=Y.dashOffset,Rt=G.tickWidth,ce=G.tickColor,ye=G.tickBorderDash||[],Zn=G.tickBorderDashOffset;C=Wj(this,x,l),C!==void 0&&(M=Hs(i,C,mt),c?L=_=I=N=M:b=A=O=D=M,g.push({tx1:L,ty1:b,tx2:_,ty2:A,x1:I,y1:O,x2:N,y2:D,width:mt,color:Et,borderDash:yn,borderDashOffset:$t,tickWidth:Rt,tickColor:ce,tickBorderDash:ye,tickBorderDashOffset:Zn}))}return this._ticksLength=f,this._borderValue=v,g}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:r}=i,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:h,mirror:f}=r,d=ko(i.grid),g=d+h,E=f?-h:g,T=-Zs(this.labelRotation),R=[];let y,v,x,C,M,L,b,_,A,I,O,N,D="middle";if(s==="top")L=this.bottom-E,b=this._getXAxisLabelAlignment();else if(s==="bottom")L=this.top+E,b=this._getXAxisLabelAlignment();else if(s==="left"){const at=this._getYAxisLabelAlignment(d);b=at.textAlign,M=at.x}else if(s==="right"){const at=this._getYAxisLabelAlignment(d);b=at.textAlign,M=at.x}else if(n==="x"){if(s==="center")L=(t.top+t.bottom)/2+g;else if(ht(s)){const at=Object.keys(s)[0],B=s[at];L=this.chart.scales[at].getPixelForValue(B)+g}b=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")M=(t.left+t.right)/2-g;else if(ht(s)){const at=Object.keys(s)[0],B=s[at];M=this.chart.scales[at].getPixelForValue(B)}b=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?D="top":l==="end"&&(D="bottom"));const bt=this._getLabelSizes();for(y=0,v=o.length;y<v;++y){x=o[y],C=x.label;const at=r.setContext(this.getContext(y));_=this.getPixelForTick(y)+r.labelOffset,A=this._resolveTickFontOptions(y),I=A.lineHeight,O=re(C)?C.length:1;const B=O/2,G=at.color,Y=at.textStrokeColor,mt=at.textStrokeWidth;let Et=b;a?(M=_,b==="inner"&&(y===v-1?Et=this.options.reverse?"left":"right":y===0?Et=this.options.reverse?"right":"left":Et="center"),s==="top"?c==="near"||T!==0?N=-O*I+I/2:c==="center"?N=-bt.highest.height/2-B*I+I:N=-bt.highest.height+I/2:c==="near"||T!==0?N=I/2:c==="center"?N=bt.highest.height/2-B*I:N=bt.highest.height-O*I,f&&(N*=-1),T!==0&&!at.showLabelBackdrop&&(M+=I/2*Math.sin(T))):(L=_,N=(1-O)*I/2);let yn;if(at.showLabelBackdrop){const $t=Cn(at.backdropPadding),Rt=bt.heights[y],ce=bt.widths[y];let ye=N-$t.top,Zn=0-$t.left;switch(D){case"middle":ye-=Rt/2;break;case"bottom":ye-=Rt;break}switch(b){case"center":Zn-=ce/2;break;case"right":Zn-=ce;break;case"inner":y===v-1?Zn-=ce:y>0&&(Zn-=ce/2);break}yn={left:Zn,top:ye,width:ce+$t.width,height:Rt+$t.height,color:at.backdropColor}}R.push({label:C,font:A,textOffset:N,options:{rotation:T,color:G,strokeColor:Y,strokeWidth:mt,textAlign:Et,textBaseline:D,translation:[M,L],backdrop:yn}})}return R}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Zs(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,a=this._getLabelSizes(),o=t+r,l=a.widest.width;let c,h;return n==="left"?s?(h=this.right+r,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-o,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h=this.left)):n==="right"?s?(h=this.left+r,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+o,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:r,height:a}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,r,a),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,a;const o=(l,c,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,a=s.length;r<a;++r){const l=s[r];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),a=i.display?r.width:0;if(!a)return;const o=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,h,f,d;this.isHorizontal()?(c=Hs(t,this.left,a)-a/2,h=Hs(t,this.right,o)+o/2,f=d=l):(f=Hs(t,this.top,a)-a/2,d=Hs(t,this.bottom,o)+o/2,c=h=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,f),n.lineTo(h,d),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&C_(i,s);const r=this.getLabelItems(t);for(const a of r){const o=a.options,l=a.font,c=a.label,h=a.textOffset;uf(i,c,0,h,l,o)}s&&D_(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=Ue(i.font),a=Cn(i.padding),o=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||ht(n)?(l+=a.bottom,re(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=a.top;const{titleX:c,titleY:h,maxWidth:f,rotation:d}=ez(this,l,n,o);uf(t,i.text,0,0,r,{color:i.color,maxWidth:f,rotation:d,textAlign:tz(o,n,s),textBaseline:"middle",translation:[c,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=_t(t.grid&&t.grid.z,-1),s=_t(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==oo.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,a;for(r=0,a=n.length;r<a;++r){const o=n[r];o[i]===this.id&&(!t||o.type===t)&&s.push(o)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Ue(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Tu{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;sz(n)&&(i=this.register(n));const s=this.items,r=t.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,nz(t,a,i),this.override&&Gt.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in Gt[s]&&(delete Gt[s][i],this.override&&delete yr[i])}}function nz(e,t,n){const i=Yl(Object.create(null),[n?Gt.get(n):{},Gt.get(t),e.defaults]);Gt.set(t,i),e.defaultRoutes&&iz(t,e.defaultRoutes),e.descriptors&&Gt.describe(t,e.descriptors)}function iz(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),r=[e].concat(i).join("."),a=t[n].split("."),o=a.pop(),l=a.join(".");Gt.route(r,s,l,o)})}function sz(e){return"id"in e&&"defaults"in e}class rz{constructor(){this.controllers=new Tu(vl,"datasets",!0),this.elements=new Tu(_r,"elements"),this.plugins=new Tu(Object,"plugins"),this.scales=new Tu(oo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):yt(s,a=>{const o=i||this._getRegistryForType(a);this._exec(t,o,a)})})}_exec(t,n,i){const s=R_(t);Dt(i["before"+s],[],i),n[t](i),Dt(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Ln=new rz;class az{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),a=this._notify(r,t,n,i);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,n,i,s){s=s||{};for(const r of t){const a=r.plugin,o=a[i],l=[n,s,r.options];if(Dt(o,l,a)===!1&&s.cancelable)return!1}return!0}invalidate(){At(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=_t(i.options&&i.options.plugins,{}),r=oz(i);return s===!1&&!n?[]:cz(t,r,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(r,a)=>r.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function oz(e){const t={},n=[],i=Object.keys(Ln.plugins.items);for(let r=0;r<i.length;r++)n.push(Ln.getPlugin(i[r]));const s=e.plugins||[];for(let r=0;r<s.length;r++){const a=s[r];n.indexOf(a)===-1&&(n.push(a),t[a.id]=!0)}return{plugins:n,localIds:t}}function lz(e,t){return!t&&e===!1?null:e===!0?{}:e}function cz(e,{plugins:t,localIds:n},i,s){const r=[],a=e.getContext();for(const o of t){const l=o.id,c=lz(i[l],s);c!==null&&r.push({plugin:o,options:uz(e.config,{plugin:o,local:n[l]},c,a)})}return r}function uz(e,{plugin:t,local:n},i,s){const r=e.pluginScopeKeys(t),a=e.getOptionScopes(i,r);return n&&t.defaults&&a.push(t.defaults),e.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function mp(e,t){const n=Gt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function hz(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function fz(e,t){return e===t?"_index_":"_value_"}function zT(e){if(e==="x"||e==="y"||e==="r")return e}function dz(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function gp(e,...t){if(zT(e))return e;for(const n of t){const i=n.axis||dz(n.position)||e.length>1&&zT(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function BT(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function mz(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return BT(e,"x",n[0])||BT(e,"y",n[0])}return{}}function gz(e,t){const n=yr[e.type]||{scales:{}},i=t.scales||{},s=mp(e.type,t),r=Object.create(null);return Object.keys(i).forEach(a=>{const o=i[a];if(!ht(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=gp(a,o,mz(a,e),Gt.scales[o.type]),c=fz(l,s),h=n.scales||{};r[a]=pl(Object.create(null),[{axis:l},o,h[l],h[c]])}),e.data.datasets.forEach(a=>{const o=a.type||e.type,l=a.indexAxis||mp(o,t),h=(yr[o]||{}).scales||{};Object.keys(h).forEach(f=>{const d=hz(f,l),g=a[d+"AxisID"]||d;r[g]=r[g]||Object.create(null),pl(r[g],[{axis:d},i[g],h[f]])})}),Object.keys(r).forEach(a=>{const o=r[a];pl(o,[Gt.scales[o.type],Gt.scale])}),r}function nI(e){const t=e.options||(e.options={});t.plugins=_t(t.plugins,{}),t.scales=gz(e,t)}function iI(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function pz(e){return e=e||{},e.data=iI(e.data),nI(e),e}const FT=new Map,sI=new Set;function xu(e,t){let n=FT.get(e);return n||(n=t(),FT.set(e,n),sI.add(n)),n}const Po=(e,t,n)=>{const i=za(t,n);i!==void 0&&e.add(i)};class yz{constructor(t){this._config=pz(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=iI(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),nI(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return xu(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return xu(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return xu(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return xu(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:r}=this,a=this._cachedScopes(t,i),o=a.get(n);if(o)return o;const l=new Set;n.forEach(h=>{t&&(l.add(t),h.forEach(f=>Po(l,t,f))),h.forEach(f=>Po(l,s,f)),h.forEach(f=>Po(l,yr[r]||{},f)),h.forEach(f=>Po(l,Gt,f)),h.forEach(f=>Po(l,dp,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),sI.has(n)&&a.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,yr[n]||{},Gt.datasets[n]||{},{type:n},Gt,dp]}resolveNamedOptions(t,n,i,s=[""]){const r={$shared:!0},{resolver:a,subPrefixes:o}=HT(this._resolverCache,t,s);let l=a;if(vz(a,n)){r.$shared=!1,i=Ns(i)?i():i;const c=this.createResolver(t,i,o);l=Ba(a,i,c)}for(const c of n)r[c]=l[c];return r}createResolver(t,n,i=[""],s){const{resolver:r}=HT(this._resolverCache,t,i);return ht(n)?Ba(r,n,void 0,s):r}}function HT(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let r=i.get(s);return r||(r={resolver:O_(t,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},i.set(s,r)),r}const _z=e=>ht(e)&&Object.getOwnPropertyNames(e).some(t=>Ns(e[t]));function vz(e,t){const{isScriptable:n,isIndexable:i}=F2(e);for(const s of t){const r=n(s),a=i(s),o=(a||r)&&e[s];if(r&&(Ns(o)||_z(o))||a&&re(o))return!0}return!1}var bz="4.4.9";const Ez=["top","bottom","left","right","chartArea"];function qT(e,t){return e==="top"||e==="bottom"||Ez.indexOf(e)===-1&&t==="x"}function GT(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function $T(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Dt(n&&n.onComplete,[e],t)}function Tz(e){const t=e.chart,n=t.options.animation;Dt(n&&n.onProgress,[e],t)}function rI(e){return k_()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const th={},YT=e=>{const t=rI(e);return Object.values(th).filter(n=>n.canvas===t).pop()};function xz(e,t,n){const i=Object.keys(e);for(const s of i){const r=+s;if(r>=t){const a=e[s];delete e[s],(n>0||r>t)&&(e[r+n]=a)}}}function wz(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}var Bi;let id=(Bi=class{static register(...t){Ln.add(...t),KT()}static unregister(...t){Ln.remove(...t),KT()}constructor(t,n){const i=this.config=new yz(n),s=rI(t),r=YT(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Fj(s)),this.platform.updateConfig(i);const o=this.platform.acquireContext(s,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,h=l&&l.width;if(this.id=z9(),this.ctx=o,this.canvas=l,this.width=h,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new az,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=aU(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],th[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ai.listen(this,"complete",$T),ai.listen(this,"progress",Tz),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return At(t)?n&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ln}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return gT(this.canvas,this.ctx),this}stop(){return ai.stop(this),this}resize(t,n){ai.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,t,n,r),o=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,vT(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Dt(i.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};yt(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((a,o)=>(a[o]=!1,a),{});let r=[];n&&(r=r.concat(Object.keys(n).map(a=>{const o=n[a],l=gp(a,o),c=l==="r",h=l==="x";return{options:o,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),yt(r,a=>{const o=a.options,l=o.id,c=gp(l,o),h=_t(o.type,a.dtype);(o.position===void 0||qT(o.position,c)!==qT(a.dposition))&&(o.position=a.dposition),s[l]=!0;let f=null;if(l in i&&i[l].type===h)f=i[l];else{const d=Ln.getScale(h);f=new d({id:l,type:h,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(o,t)}),yt(s,(a,o)=>{a||delete i[o]}),yt(i,a=>{rs.configure(this,a,a.options),rs.addBox(this,a)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(GT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let a=this.getDatasetMeta(i);const o=r.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=o,a.indexAxis=r.indexAxis||mp(o,this.options),a.order=r.order||0,a.index=i,a.label=""+r.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const l=Ln.getController(o),{datasetElementType:c,dataElementType:h}=Gt.datasets[o];Object.assign(l,{dataElementType:Ln.getElement(h),datasetElementType:c&&Ln.getElement(c)}),a.controller=new l(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){yt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:f}=this.getDatasetMeta(c),d=!s&&r.indexOf(f)===-1;f.buildOrUpdateElements(d),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||yt(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(GT("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){yt(this.scales,t=>{rs.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!rT(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const a=i==="_removeElements"?-r:r;xz(t,s,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(t.filter(a=>a[0]===r).map((a,o)=>o+","+a.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!rT(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;rs.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],yt(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Ns(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ai.has(this)?this.attached&&!ai.running(this)&&ai.start(this):(this.draw(),$T({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const a=n[s];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=GU(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&C_(n,s),t.controller.draw(),s&&D_(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return j2(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const r=Ej.modes[n];return typeof r=="function"?r(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=ao(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),a=r.controller._resolveAnimations(void 0,s);Kl(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(r,{visible:i}),this.update(o=>o.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),ai.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),gT(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete th[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(r,a)=>{n.addEventListener(this,r,a),t[r]=a},s=(r,a,o)=>{r.offsetX=a,r.offsetY=o,this._eventHandler(r)};yt(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},s=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{s("attach",o),this.attached=!0,this.resize(),i("resize",r),i("detach",a)};a=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){yt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},yt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let r,a,o,l;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),o=0,l=t.length;o<l;++o){a=t[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:r,index:a})=>{const o=this.getDatasetMeta(r);if(!o)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:o.data[a],index:a}});!af(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,r=(l,c)=>l.filter(h=>!c.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),a=r(n,t),o=i?t:r(t,n);a.length&&this.updateHoverStyle(a,s.mode,!1),o.length&&s.mode&&this.updateHoverStyle(o,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:r}=this,a=n,o=this._getActiveElements(t,s,i,a),l=$9(t),c=wz(t,this._lastEvent,i,l);i&&(this._lastEvent=null,Dt(r.onHover,[t,o,this],this),l&&Dt(r.onClick,[t,o,this],this));const h=!af(o,s);return(h||n)&&(this._active=o,this._updateHoverStyles(o,s,n)),this._lastEvent=c,h}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}},ct(Bi,"defaults",Gt),ct(Bi,"instances",th),ct(Bi,"overrides",yr),ct(Bi,"registry",Ln),ct(Bi,"version",bz),ct(Bi,"getChart",YT),Bi);function KT(){return yt(id.instances,e=>e._plugins.invalidate())}function aI(e,t){const{x:n,y:i,base:s,width:r,height:a}=e.getProps(["x","y","base","width","height"],t);let o,l,c,h,f;return e.horizontal?(f=a/2,o=Math.min(n,s),l=Math.max(n,s),c=i-f,h=i+f):(f=r/2,o=n-f,l=n+f,c=Math.min(i,s),h=Math.max(i,s)),{left:o,top:c,right:l,bottom:h}}function as(e,t,n,i){return e?0:xn(t,n,i)}function Sz(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,r=B2(i);return{t:as(s.top,r.top,0,n),r:as(s.right,r.right,0,t),b:as(s.bottom,r.bottom,0,n),l:as(s.left,r.left,0,t)}}function Az(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,r=va(s),a=Math.min(t,n),o=e.borderSkipped,l=i||ht(s);return{topLeft:as(!l||o.top||o.left,r.topLeft,0,a),topRight:as(!l||o.top||o.right,r.topRight,0,a),bottomLeft:as(!l||o.bottom||o.left,r.bottomLeft,0,a),bottomRight:as(!l||o.bottom||o.right,r.bottomRight,0,a)}}function Rz(e){const t=aI(e),n=t.right-t.left,i=t.bottom-t.top,s=Sz(e,n/2,i/2),r=Az(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Pm(e,t,n,i){const s=t===null,r=n===null,o=e&&!(s&&r)&&aI(e,i);return o&&(s||aa(t,o.left,o.right))&&(r||aa(n,o.top,o.bottom))}function Iz(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function Cz(e,t){e.rect(t.x,t.y,t.w,t.h)}function Lm(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-i,a=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+r,h:e.h+a,radius:e.radius}}class eh extends _r{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:a}=Rz(this),o=Iz(a.radius)?hf:Cz;t.save(),(a.w!==r.w||a.h!==r.h)&&(t.beginPath(),o(t,Lm(a,n,r)),t.clip(),o(t,Lm(r,-n,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),o(t,Lm(r,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return Pm(this,t,n,i)}inXRange(t,n){return Pm(this,t,null,n)}inYRange(t,n){return Pm(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}ct(eh,"id","bar"),ct(eh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ct(eh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const QT=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},Dz=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class WT extends _r{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Dt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=Ue(i.font),r=s.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=QT(i,r);let c,h;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(a,r,o,l)+10):(h=this.maxHeight,c=this._fitCols(a,s,o,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:r,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=s+o;let f=t;r.textAlign="left",r.textBaseline="middle";let d=-1,g=-h;return this.legendItems.forEach((E,T)=>{const R=i+n/2+r.measureText(E.text).width;(T===0||c[c.length-1]+R+2*o>a)&&(f+=h,c[c.length-(T>0?0:1)]=0,g+=h,d++),l[T]={left:0,top:g,row:d,width:R,height:s},c[c.length-1]+=R+o}),f}_fitCols(t,n,i,s){const{ctx:r,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=a-t;let f=o,d=0,g=0,E=0,T=0;return this.legendItems.forEach((R,y)=>{const{itemWidth:v,itemHeight:x}=Oz(i,n,r,R,s);y>0&&g+x+2*o>h&&(f+=d+o,c.push({width:d,height:g}),E+=d+o,T++,d=g=0),l[y]={left:E,top:g,col:T,width:v,height:x},d=Math.max(d,v),g+=x+o}),f+=d,c.push({width:d,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,a=ba(r,this.left,this.width);if(this.isHorizontal()){let o=0,l=$e(i,this.left+s,this.right-this.lineWidths[o]);for(const c of n)o!==c.row&&(o=c.row,l=$e(i,this.left+s,this.right-this.lineWidths[o])),c.top+=this.top+t+s,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+s}else{let o=0,l=$e(i,this.top+t+s,this.bottom-this.columnSizes[o].height);for(const c of n)c.col!==o&&(o=c.col,l=$e(i,this.top+t+s,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+s,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;C_(t,this),this._draw(),D_(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:a}=t,o=Gt.color,l=ba(t.rtl,this.left,this.width),c=Ue(a.font),{padding:h}=a,f=c.size,d=f/2;let g;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:E,boxHeight:T,itemHeight:R}=QT(a,f),y=function(L,b,_){if(isNaN(E)||E<=0||isNaN(T)||T<0)return;s.save();const A=_t(_.lineWidth,1);if(s.fillStyle=_t(_.fillStyle,o),s.lineCap=_t(_.lineCap,"butt"),s.lineDashOffset=_t(_.lineDashOffset,0),s.lineJoin=_t(_.lineJoin,"miter"),s.lineWidth=A,s.strokeStyle=_t(_.strokeStyle,o),s.setLineDash(_t(_.lineDash,[])),a.usePointStyle){const I={radius:T*Math.SQRT2/2,pointStyle:_.pointStyle,rotation:_.rotation,borderWidth:A},O=l.xPlus(L,E/2),N=b+d;U2(s,I,O,N,a.pointStyleWidth&&E)}else{const I=b+Math.max((f-T)/2,0),O=l.leftForLtr(L,E),N=va(_.borderRadius);s.beginPath(),Object.values(N).some(D=>D!==0)?hf(s,{x:O,y:I,w:E,h:T,radius:N}):s.rect(O,I,E,T),s.fill(),A!==0&&s.stroke()}s.restore()},v=function(L,b,_){uf(s,_.text,L,b+R/2,c,{strikethrough:_.hidden,textAlign:l.textAlign(_.textAlign)})},x=this.isHorizontal(),C=this._computeTitleHeight();x?g={x:$e(r,this.left+h,this.right-i[0]),y:this.top+h+C,line:0}:g={x:this.left+h,y:$e(r,this.top+C+h,this.bottom-n[0].height),line:0},$2(this.ctx,t.textDirection);const M=R+h;this.legendItems.forEach((L,b)=>{s.strokeStyle=L.fontColor,s.fillStyle=L.fontColor;const _=s.measureText(L.text).width,A=l.textAlign(L.textAlign||(L.textAlign=a.textAlign)),I=E+d+_;let O=g.x,N=g.y;l.setWidth(this.width),x?b>0&&O+I+h>this.right&&(N=g.y+=M,g.line++,O=g.x=$e(r,this.left+h,this.right-i[g.line])):b>0&&N+M>this.bottom&&(O=g.x=O+n[g.line].width+h,g.line++,N=g.y=$e(r,this.top+C+h,this.bottom-n[g.line].height));const D=l.x(O);if(y(D,N,L),O=oU(A,O+E+d,x?O+I:this.right,t.rtl),v(l.x(O),N,L),x)g.x+=I+h;else if(typeof L.text!="string"){const bt=c.lineHeight;g.y+=oI(L,bt)+h}else g.y+=M}),Y2(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=Ue(n.font),s=Cn(n.padding);if(!n.display)return;const r=ba(t.rtl,this.left,this.width),a=this.ctx,o=n.position,l=i.size/2,c=s.top+l;let h,f=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),h=this.top+c,f=$e(t.align,f,this.right-d);else{const E=this.columnSizes.reduce((T,R)=>Math.max(T,R.height),0);h=c+$e(t.align,this.top,this.bottom-E-t.labels.padding-this._computeTitleHeight())}const g=$e(o,f,f+d);a.textAlign=r.textAlign(k2(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,uf(a,n.text,g,h,i)}_computeTitleHeight(){const t=this.options.title,n=Ue(t.font),i=Cn(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,r;if(aa(t,this.left,this.right)&&aa(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],aa(t,s.left,s.left+s.width)&&aa(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!kz(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,r=Dz(s,i);s&&!r&&Dt(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&Dt(n.onHover,[t,i,this],this)}else i&&Dt(n.onClick,[t,i,this],this)}}function Oz(e,t,n,i,s){const r=Mz(i,e,t,n),a=Nz(s,i,t.lineHeight);return{itemWidth:r,itemHeight:a}}function Mz(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((r,a)=>r.length>a.length?r:a)),t+n.size/2+i.measureText(s).width}function Nz(e,t,n){let i=e;return typeof t.text!="string"&&(i=oI(t,n)),i}function oI(e,t){const n=e.text?e.text.length:0;return t*n}function kz(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Pz={id:"legend",_element:WT,start(e,t,n){const i=e.legend=new WT({ctx:e.ctx,options:n,chart:e});rs.configure(e,i,n),rs.addBox(e,i)},stop(e){rs.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;rs.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:a,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),h=Cn(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};const Yo={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,r=0;for(t=0,n=e.length;t<n;++t){const o=e[t].element;if(o&&o.hasValue()){const l=o.tooltipPosition();i.add(l.x),s+=l.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((o,l)=>o+l)/i.size,y:s/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,a,o;for(r=0,a=e.length;r<a;++r){const l=e[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),h=tU(t,c);h<s&&(s=h,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Pn(e,t){return t&&(re(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function oi(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Lz(e,t){const{element:n,datasetIndex:i,index:s}=t,r=e.getDatasetMeta(i).controller,{label:a,value:o}=r.getLabelAndValue(s);return{chart:e,label:a,parsed:r.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:o,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function XT(e,t){const n=e.chart.ctx,{body:i,footer:s,title:r}=e,{boxWidth:a,boxHeight:o}=t,l=Ue(t.bodyFont),c=Ue(t.titleFont),h=Ue(t.footerFont),f=r.length,d=s.length,g=i.length,E=Cn(t.padding);let T=E.height,R=0,y=i.reduce((C,M)=>C+M.before.length+M.lines.length+M.after.length,0);if(y+=e.beforeBody.length+e.afterBody.length,f&&(T+=f*c.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),y){const C=t.displayColors?Math.max(o,l.lineHeight):l.lineHeight;T+=g*C+(y-g)*l.lineHeight+(y-1)*t.bodySpacing}d&&(T+=t.footerMarginTop+d*h.lineHeight+(d-1)*t.footerSpacing);let v=0;const x=function(C){R=Math.max(R,n.measureText(C).width+v)};return n.save(),n.font=c.string,yt(e.title,x),n.font=l.string,yt(e.beforeBody.concat(e.afterBody),x),v=t.displayColors?a+2+t.boxPadding:0,yt(i,C=>{yt(C.before,x),yt(C.lines,x),yt(C.after,x)}),v=0,n.font=h.string,yt(e.footer,x),n.restore(),R+=E.width,{width:R,height:T}}function Vz(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function Uz(e,t,n,i){const{x:s,width:r}=i,a=n.caretSize+n.caretPadding;if(e==="left"&&s+r+a>t.width||e==="right"&&s-r-a<0)return!0}function jz(e,t,n,i){const{x:s,width:r}=n,{width:a,chartArea:{left:o,right:l}}=e;let c="center";return i==="center"?c=s<=(o+l)/2?"left":"right":s<=r/2?c="left":s>=a-r/2&&(c="right"),Uz(c,e,t,n)&&(c="center"),c}function ZT(e,t,n){const i=n.yAlign||t.yAlign||Vz(e,n);return{xAlign:n.xAlign||t.xAlign||jz(e,t,n,i),yAlign:i}}function zz(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function Bz(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function JT(e,t,n,i){const{caretSize:s,caretPadding:r,cornerRadius:a}=e,{xAlign:o,yAlign:l}=n,c=s+r,{topLeft:h,topRight:f,bottomLeft:d,bottomRight:g}=va(a);let E=zz(t,o);const T=Bz(t,l,c);return l==="center"?o==="left"?E+=c:o==="right"&&(E-=c):o==="left"?E-=Math.max(h,d)+s:o==="right"&&(E+=Math.max(f,g)+s),{x:xn(E,0,i.width-t.width),y:xn(T,0,i.height-t.height)}}function wu(e,t,n){const i=Cn(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function tx(e){return Pn([],oi(e))}function Fz(e,t,n){return ao(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function ex(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const lI={beforeTitle:si,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:si,beforeBody:si,beforeLabel:si,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return At(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:si,afterBody:si,beforeFooter:si,footer:si,afterFooter:si};function Me(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?lI[t].call(n,i):s}class pp extends _r{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new K2(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=Fz(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=Me(i,"beforeTitle",this,t),r=Me(i,"title",this,t),a=Me(i,"afterTitle",this,t);let o=[];return o=Pn(o,oi(s)),o=Pn(o,oi(r)),o=Pn(o,oi(a)),o}getBeforeBody(t,n){return tx(Me(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return yt(t,r=>{const a={before:[],lines:[],after:[]},o=ex(i,r);Pn(a.before,oi(Me(o,"beforeLabel",this,r))),Pn(a.lines,Me(o,"label",this,r)),Pn(a.after,oi(Me(o,"afterLabel",this,r))),s.push(a)}),s}getAfterBody(t,n){return tx(Me(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=Me(i,"beforeFooter",this,t),r=Me(i,"footer",this,t),a=Me(i,"afterFooter",this,t);let o=[];return o=Pn(o,oi(s)),o=Pn(o,oi(r)),o=Pn(o,oi(a)),o}_createItems(t){const n=this._active,i=this.chart.data,s=[],r=[],a=[];let o=[],l,c;for(l=0,c=n.length;l<c;++l)o.push(Lz(this.chart,n[l]));return t.filter&&(o=o.filter((h,f,d)=>t.filter(h,f,d,i))),t.itemSort&&(o=o.sort((h,f)=>t.itemSort(h,f,i))),yt(o,h=>{const f=ex(t.callbacks,h);s.push(Me(f,"labelColor",this,h)),r.push(Me(f,"labelPointStyle",this,h)),a.push(Me(f,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=o,o}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,a=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const o=Yo[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const l=this._size=XT(this,i),c=Object.assign({},o,l),h=ZT(this.chart,i,c),f=JT(i,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,r={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const r=this.getCaretPosition(t,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:a,cornerRadius:o}=i,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:f}=va(o),{x:d,y:g}=t,{width:E,height:T}=n;let R,y,v,x,C,M;return r==="center"?(C=g+T/2,s==="left"?(R=d,y=R-a,x=C+a,M=C-a):(R=d+E,y=R+a,x=C-a,M=C+a),v=R):(s==="left"?y=d+Math.max(l,h)+a:s==="right"?y=d+E-Math.max(c,f)-a:y=this.caretX,r==="top"?(x=g,C=x-a,R=y-a,v=y+a):(x=g+T,C=x+a,R=y+a,v=y-a),M=x),{x1:R,x2:y,x3:v,y1:x,y2:C,y3:M}}drawTitle(t,n,i){const s=this.title,r=s.length;let a,o,l;if(r){const c=ba(i.rtl,this.x,this.width);for(t.x=wu(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",a=Ue(i.titleFont),o=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,l=0;l<r;++l)n.fillText(s[l],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+o,l+1===r&&(t.y+=i.titleMarginBottom-o)}}_drawColorBox(t,n,i,s,r){const a=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=r,h=Ue(r.bodyFont),f=wu(this,"left",r),d=s.x(f),g=l<h.lineHeight?(h.lineHeight-l)/2:0,E=n.y+g;if(r.usePointStyle){const T={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},R=s.leftForLtr(d,c)+c/2,y=E+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,pT(t,T,R,y),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,pT(t,T,R,y)}else{t.lineWidth=ht(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const T=s.leftForLtr(d,c),R=s.leftForLtr(s.xPlus(d,1),c-2),y=va(a.borderRadius);Object.values(y).some(v=>v!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,hf(t,{x:T,y:E,w:c,h:l,radius:y}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),hf(t,{x:R,y:E+1,w:c-2,h:l-2,radius:y}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(T,E,c,l),t.strokeRect(T,E,c,l),t.fillStyle=a.backgroundColor,t.fillRect(R,E+1,c-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:h}=i,f=Ue(i.bodyFont);let d=f.lineHeight,g=0;const E=ba(i.rtl,this.x,this.width),T=function(_){n.fillText(_,E.x(t.x+g),t.y+d/2),t.y+=d+r},R=E.textAlign(a);let y,v,x,C,M,L,b;for(n.textAlign=a,n.textBaseline="middle",n.font=f.string,t.x=wu(this,R,i),n.fillStyle=i.bodyColor,yt(this.beforeBody,T),g=o&&R!=="right"?a==="center"?c/2+h:c+2+h:0,C=0,L=s.length;C<L;++C){for(y=s[C],v=this.labelTextColors[C],n.fillStyle=v,yt(y.before,T),x=y.lines,o&&x.length&&(this._drawColorBox(n,t,C,E,i),d=Math.max(f.lineHeight,l)),M=0,b=x.length;M<b;++M)T(x[M]),d=f.lineHeight;yt(y.after,T)}g=0,d=f.lineHeight,yt(this.afterBody,T),t.y-=r}drawFooter(t,n,i){const s=this.footer,r=s.length;let a,o;if(r){const l=ba(i.rtl,this.x,this.width);for(t.x=wu(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",a=Ue(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,o=0;o<r;++o)n.fillText(s[o],l.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:r,yAlign:a}=this,{x:o,y:l}=t,{width:c,height:h}=i,{topLeft:f,topRight:d,bottomLeft:g,bottomRight:E}=va(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(o+f,l),a==="top"&&this.drawCaret(t,n,i,s),n.lineTo(o+c-d,l),n.quadraticCurveTo(o+c,l,o+c,l+d),a==="center"&&r==="right"&&this.drawCaret(t,n,i,s),n.lineTo(o+c,l+h-E),n.quadraticCurveTo(o+c,l+h,o+c-E,l+h),a==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(o+g,l+h),n.quadraticCurveTo(o,l+h,o,l+h-g),a==="center"&&r==="left"&&this.drawCaret(t,n,i,s),n.lineTo(o,l+f),n.quadraticCurveTo(o,l,o+f,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const a=Yo[t.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=XT(this,t),l=Object.assign({},a,this._size),c=ZT(n,t,l),h=JT(t,l,c,n);(s._to!==h.x||r._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Cn(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,s,n),$2(t,n.textDirection),r.y+=a.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),Y2(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),r=!af(i,s),a=this._positionChanged(s,n);(r||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],a=this._getActiveElements(t,r,n,i),o=this._positionChanged(a,t),l=n||!af(a,r)||o;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,i,s){const r=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&a.reverse(),a}_positionChanged(t,n){const{caretX:i,caretY:s,options:r}=this,a=Yo[r.position].call(this,t,n);return a!==!1&&(i!==a.x||s!==a.y)}}ct(pp,"positioners",Yo);var Hz={id:"tooltip",_element:pp,positioners:Yo,afterInit(e,t,n){n&&(e.tooltip=new pp({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const qz=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function Gz(e,t,n,i){const s=e.indexOf(t);if(s===-1)return qz(e,t,n,i);const r=e.lastIndexOf(t);return s!==r?n:s}const $z=(e,t)=>e===null?null:xn(Math.round(e),0,t);function nx(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class yp extends oo{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(At(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:Gz(i,t,_t(n,t),this._addedLabels),$z(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=n;a++)s.push({value:a});return s}getLabelForValue(t){return nx.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ct(yp,"id","category"),ct(yp,"defaults",{ticks:{callback:nx}});function Yz(e,t){const n=[],{bounds:s,step:r,min:a,max:o,precision:l,count:c,maxTicks:h,maxDigits:f,includeBounds:d}=e,g=r||1,E=h-1,{min:T,max:R}=t,y=!At(a),v=!At(o),x=!At(c),C=(R-T)/(f+1);let M=oT((R-T)/E/g)*g,L,b,_,A;if(M<1e-14&&!y&&!v)return[{value:T},{value:R}];A=Math.ceil(R/M)-Math.floor(T/M),A>E&&(M=oT(A*M/E/g)*g),At(l)||(L=Math.pow(10,l),M=Math.ceil(M*L)/L),s==="ticks"?(b=Math.floor(T/M)*M,_=Math.ceil(R/M)*M):(b=T,_=R),y&&v&&r&&W9((o-a)/r,M/1e3)?(A=Math.round(Math.min((o-a)/M,h)),M=(o-a)/A,b=a,_=o):x?(b=y?a:b,_=v?o:_,A=c-1,M=(_-b)/A):(A=(_-b)/M,Xu(A,Math.round(A),M/1e3)?A=Math.round(A):A=Math.ceil(A));const I=Math.max(lT(M),lT(b));L=Math.pow(10,At(l)?I:l),b=Math.round(b*L)/L,_=Math.round(_*L)/L;let O=0;for(y&&(d&&b!==a?(n.push({value:a}),b<a&&O++,Xu(Math.round((b+O*M)*L)/L,a,ix(a,C,e))&&O++):b<a&&O++);O<A;++O){const N=Math.round((b+O*M)*L)/L;if(v&&N>o)break;n.push({value:N})}return v&&d&&_!==o?n.length&&Xu(n[n.length-1].value,o,ix(o,C,e))?n[n.length-1].value=o:n.push({value:o}):(!v||_===o)&&n.push({value:_}),n}function ix(e,t,{horizontal:n,minRotation:i}){const s=Zs(i),r=(n?Math.sin(s):Math.cos(s))||.001,a=.75*t*(""+e).length;return Math.min(t/r,a)}class Kz extends oo{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return At(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const a=l=>s=n?s:l,o=l=>r=i?r:l;if(t){const l=Ts(s),c=Ts(r);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);o(r+l),t||a(s-l)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,a=Yz(s,r);return t.bounds==="ticks"&&X9(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return L2(t,this.chart.options.locale,this.options.ticks.format)}}class _p extends Kz{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=pn(t)?t:0,this.max=pn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=Zs(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ct(_p,"id","linear"),ct(_p,"defaults",{ticks:{callback:V2.formatters.numeric}});const sd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ve=Object.keys(sd);function sx(e,t){return e-t}function rx(e,t){if(At(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:r}=e._parseOpts;let a=t;return typeof i=="function"&&(a=i(a)),pn(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(cf(r)||r===!0)?n.startOf(a,"isoWeek",r):n.startOf(a,s)),+a)}function ax(e,t,n,i){const s=Ve.length;for(let r=Ve.indexOf(e);r<s-1;++r){const a=sd[Ve[r]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-t)/(o*a.size))<=i)return Ve[r]}return Ve[s-1]}function Qz(e,t,n,i,s){for(let r=Ve.length-1;r>=Ve.indexOf(n);r--){const a=Ve[r];if(sd[a].common&&e._adapter.diff(s,i,a)>=t-1)return a}return Ve[n?Ve.indexOf(n):0]}function Wz(e){for(let t=Ve.indexOf(e)+1,n=Ve.length;t<n;++t)if(sd[Ve[t]].common)return Ve[t]}function ox(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=I_(n,t),r=n[i]>=t?n[i]:n[s];e[r]=!0}}function Xz(e,t,n,i){const s=e._adapter,r=+s.startOf(t[0].value,i),a=t[t.length-1].value;let o,l;for(o=r;o<=a;o=+s.add(o,1,i))l=n[o],l>=0&&(t[l].major=!0);return t}function lx(e,t,n){const i=[],s={},r=t.length;let a,o;for(a=0;a<r;++a)o=t[a],s[o]=a,i.push({value:o,major:!1});return r===0||!n?i:Xz(e,i,s,n)}class mf extends oo{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new pj._date(t.adapters.date);s.init(n),pl(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:rx(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:r,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!o&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=pn(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=pn(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,a=this.max,o=sU(s,r,a);return this._unit=n.unit||(i.autoSkip?ax(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):Qz(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Wz(this._unit),this.initOffsets(s),t.reverse&&o.reverse(),lx(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;n=xn(n,0,a),i=xn(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,a=r.unit||ax(r.minUnit,n,i,this._getLabelCapacity(n)),o=_t(s.ticks.stepSize,1),l=a==="week"?r.isoWeekday:!1,c=cf(l)||l===!0,h={};let f=n,d,g;if(c&&(f=+t.startOf(f,"isoWeek",l)),f=+t.startOf(f,c?"day":a),t.diff(i,n,a)>1e5*o)throw new Error(n+" and "+i+" are too far apart with stepSize of "+o+" "+a);const E=s.ticks.source==="data"&&this.getDataTimestamps();for(d=f,g=0;d<i;d=+t.add(d,o,a),g++)ox(h,d,E);return(d===i||s.bounds==="ticks"||g===1)&&ox(h,d,E),Object.keys(h).sort(sx).map(T=>+T)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,r=this._unit,a=n||s[r];return this._adapter.format(t,a)}_tickFormatFunction(t,n,i,s){const r=this.options,a=r.ticks.callback;if(a)return Dt(a,[t,n,i],this);const o=r.time.displayFormats,l=this._unit,c=this._majorUnit,h=l&&o[l],f=c&&o[c],d=i[n],g=c&&f&&d&&d.major;return this._adapter.format(t,s||(g?f:h))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=Zs(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),a=Math.sin(s),o=this._resolveTickFontOptions(0).size;return{w:i*r+o*a,h:i*a+o*r}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(t,0,lx(this,[t],this._majorUnit),s),a=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(rx(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return O2(t.sort(sx))}}ct(mf,"id","time"),ct(mf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Su(e,t,n){let i=0,s=e.length-1,r,a,o,l;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=fp(e,"pos",t)),{pos:r,time:o}=e[i],{pos:a,time:l}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=fp(e,"time",t)),{time:r,pos:o}=e[i],{time:a,pos:l}=e[s]);const c=a-r;return c?o+(l-o)*(t-r)/c:o}class cx extends mf{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Su(n,this.min),this._tableRange=Su(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],r=[];let a,o,l,c,h;for(a=0,o=t.length;a<o;++a)c=t[a],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,o=s.length;a<o;++a)h=s[a+1],l=s[a-1],c=s[a],Math.round((h+l)/2)!==c&&r.push({time:c,pos:a/(o-1)});return r}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Su(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Su(this._table,i*this._tableRange+this._minPos,!0)}}ct(cx,"id","timeseries"),ct(cx,"defaults",mf.defaults);const cI="label";function ux(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Zz(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function uI(e,t){e.labels=t}function hI(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cI;const i=[];e.datasets=t.map(s=>{const r=e.datasets.find(a=>a[n]===s[n]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function Jz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cI;const n={labels:[],datasets:[]};return uI(n,e.labels),hI(n,e.datasets,t),n}function tB(e,t){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:a,data:o,options:l,plugins:c=[],fallbackContent:h,updateMode:f,...d}=e,g=P.useRef(null),E=P.useRef(null),T=()=>{g.current&&(E.current=new id(g.current,{type:a,data:Jz(o,r),options:l&&{...l},plugins:c}),ux(t,E.current))},R=()=>{ux(t,null),E.current&&(E.current.destroy(),E.current=null)};return P.useEffect(()=>{!s&&E.current&&l&&Zz(E.current,l)},[s,l]),P.useEffect(()=>{!s&&E.current&&uI(E.current.config.data,o.labels)},[s,o.labels]),P.useEffect(()=>{!s&&E.current&&o.datasets&&hI(E.current.config.data,o.datasets,r)},[s,o.datasets]),P.useEffect(()=>{E.current&&(s?(R(),setTimeout(T)):E.current.update(f))},[s,l,o.labels,o.datasets,f]),P.useEffect(()=>{E.current&&(R(),setTimeout(T))},[a]),P.useEffect(()=>(T(),()=>R()),[]),Tx.createElement("canvas",{ref:g,role:"img",height:n,width:i,...d},h)}const eB=P.forwardRef(tB);function nB(e,t){return id.register(t),P.forwardRef((n,i)=>Tx.createElement(eB,{...n,ref:i,type:e}))}const iB=nB("bar",Zu);id.register(eh,yp,_p,Hz,Pz);const nh=["Muito Satisfeito","Satisfeito","Regular","Ruim"],sB=["#22c55e","#fde047","#fb923c","#ef4444"],Ea={recepcao:"Recepo",triagem:"Triagem",medico:"Mdico",orientacao:"Orientao",limpeza:"Limpeza",equipe:"Equipe"};function rB(e){const t=Object.keys(Ea),n={};nh.forEach(s=>{t.forEach(r=>{n[r]||(n[r]={}),n[r][s]=0})}),e.forEach(s=>{t.forEach(r=>{s[r]&&(n[r][s[r]]=(n[r][s[r]]||0)+1)})});const i=e.length;return{stats:n,total:i,fields:t}}function aB(e){const t={};e.forEach(s=>{if(s.destaque&&s.destaque.trim()){const r=s.destaque.split(" ")[0].trim();r&&(t[r]=(t[r]||0)+1)}});let n="",i=0;return Object.entries(t).forEach(([s,r])=>{r>i&&(n=s,i=r)}),n?{nome:n,qtd:i}:null}function oB(e){if(!e.length)return 0;const t={"Muito Satisfeito":5,Satisfeito:4,Regular:3,Ruim:2,Pssimo:1},n=Object.keys(Ea);let i=0,s=0;return e.forEach(r=>{n.forEach(a=>{const o=t[r[a]];o&&(i+=o,s++)})}),s?(i/s).toFixed(2):0}function lB(e){if(!e.length)return 0;const t=Object.keys(Ea);let n=0,i=0;return e.forEach(s=>{t.forEach(r=>{s[r]==="Muito Satisfeito"&&n++,s[r]&&i++})}),i?(n/i*100).toFixed(1):0}const cB=()=>{const[e,t]=P.useState([]),[n,i]=P.useState(!0),[s,r]=P.useState(""),[a,o]=P.useState({startDate:"",endDate:""}),[l,c]=P.useState(null),h=xr();P.useEffect(()=>{f()},[]);const f=async(b=null,_=null)=>{i(!0),r("");try{let A=_R(Xy(x_,"surveys"),vR("timestamp","desc")),O=(await ER(A)).docs.map(N=>{var bt;const D=N.data();return{id:N.id,...D,timestamp:(bt=D.timestamp)!=null&&bt.toDate?D.timestamp.toDate():new Date}});(b||_)&&(O=O.filter(N=>{if(!N.data)return!1;const D=new Date(N.data);return!(b&&D<b||_&&D>_)})),t(O)}catch{r("Erro ao carregar pesquisas")}finally{i(!1)}},d=()=>{const b=a.startDate?new Date(a.startDate):null,_=a.endDate?new Date(a.endDate):null;f(b,_)},g=()=>{o({startDate:"",endDate:""}),f()},E=l?e.filter(b=>Object.values(b).some(_=>_===l)):e,{stats:T,total:R,fields:y}=rB(E),v=aB(E),x=oB(E),C=lB(E),M={labels:y.map(b=>Ea[b]),datasets:nh.map((b,_)=>({label:b,data:y.map(A=>T[A][b]),backgroundColor:sB[_],borderRadius:8,maxBarThickness:40}))},L={responsive:!0,plugins:{legend:{display:!0,position:"bottom",labels:{font:{size:14}}},tooltip:{mode:"index",intersect:!1}},scales:{x:{stacked:!0,grid:{color:"#e5e7eb"}},y:{stacked:!0,beginAtZero:!0,ticks:{stepSize:1},grid:{color:"#e5e7eb"}}},maintainAspectRatio:!1};return n?w.jsx(rf,{title:"Relatrios",children:w.jsx("div",{className:"flex items-center justify-center h-64",children:w.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}):w.jsxs(rf,{title:"Relatrios",children:[w.jsx("div",{className:"mb-4",children:w.jsxs("button",{onClick:()=>h(-1),className:"flex items-center bg-blue-100 hover:bg-blue-200 text-blue-700 px-4 py-2 rounded-md font-medium transition-colors",children:[w.jsx("svg",{className:"w-6 h-6 mr-2 text-blue-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Voltar"]})}),w.jsxs("div",{className:"flex flex-wrap gap-4 items-end mb-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Inicial"}),w.jsx("input",{type:"date",value:a.startDate,onChange:b=>o(_=>({..._,startDate:b.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Final"}),w.jsx("input",{type:"date",value:a.endDate,onChange:b=>o(_=>({..._,endDate:b.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("button",{onClick:d,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition-colors flex items-center",children:[w.jsx("svg",{className:"w-6 h-6 text-cyan-500 mr-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-.293.707l-6.414 6.414A1 1 0 0013 13.414V19a1 1 0 01-1.447.894l-4-2A1 1 0 017 17v-3.586a1 1 0 00-.293-.707L3.293 6.707A1 1 0 013 6V4z"})}),"Filtrar"]}),w.jsx("button",{onClick:g,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md font-medium transition-colors",children:"Limpar"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8",children:[w.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center border-t-4 border-blue-400 animate-fadeIn",children:[w.jsx("span",{className:"text-blue-600 text-4xl mb-2",children:""}),w.jsx("div",{className:"text-gray-700 font-medium",children:"Total de respostas"}),w.jsx("div",{className:"text-3xl font-extrabold text-blue-600",children:R})]}),w.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center border-t-4 border-yellow-400 animate-fadeIn",children:[w.jsx("span",{className:"text-yellow-400 text-4xl mb-2",children:""}),w.jsx("div",{className:"text-gray-700 font-medium",children:"Nvel de Satisfao"}),w.jsxs("div",{className:"text-2xl font-bold text-yellow-500",children:[x," ",w.jsx("span",{className:"text-base",children:"/ 5"})]}),w.jsxs("div",{className:"text-sm text-gray-500",children:[C,"% Muito Satisfeito"]}),w.jsx("div",{children:[1,2,3,4,5].map(b=>w.jsx("span",{style:{color:b<=Math.round(x)?"#fde047":"#e5e7eb",fontSize:"1.5em"},children:""},b))})]}),w.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center border-t-4 border-green-400 animate-fadeIn",children:[w.jsx("span",{className:"text-green-500 text-4xl mb-2",children:""}),w.jsx("div",{className:"text-gray-700 font-medium",children:"Colaborador destaque"}),v?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[w.jsx("span",{className:"bg-green-100 text-green-700 rounded-full px-3 py-1 font-bold text-lg uppercase",children:v.nome[0]}),w.jsx("span",{className:"text-lg font-bold text-green-700",children:v.nome})]}),w.jsxs("div",{className:"text-sm text-gray-500",children:[v.qtd," citaes"]})]}):w.jsx("div",{className:"text-gray-400 mt-2",children:"Nenhum destaque"})]})]}),w.jsx("div",{className:"mb-10 bg-white rounded-3xl p-4 sm:p-6 md:p-8 shadow-lg border border-gray-100",children:w.jsx("div",{className:"w-full h-60 sm:h-72 md:h-96",children:w.jsx(iB,{data:M,options:L})})}),w.jsx("div",{className:"overflow-x-auto mb-10",children:w.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-base rounded-xl shadow border border-gray-100",children:[w.jsx("thead",{className:"bg-gray-100 sticky top-0 z-10",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-4 py-3 text-left font-bold flex items-center gap-2 text-lg",children:"Pergunta"}),nh.map(b=>w.jsx("th",{className:"px-4 py-3 text-center font-bold text-lg",children:b},b))]})}),w.jsx("tbody",{children:y.map(b=>w.jsxs("tr",{className:"hover:bg-blue-50 transition",children:[w.jsx("td",{className:"px-4 py-3 font-semibold capitalize",children:Ea[b]}),nh.map(_=>w.jsx("td",{className:"px-4 py-3 text-center",children:T[b][_]},_))]},b))})]})}),w.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 border border-gray-100",children:[w.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-gray-800 mb-6 flex items-center gap-3",children:" Respostas Recentes"}),E.length>0?w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"min-w-full divide-y divide-gray-200 rounded-xl",children:[w.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Data/Hora"}),y.map(b=>w.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:Ea[b]},b)),w.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Sugesto/Elogio/Crtica"}),w.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Destaque"}),w.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Data Atendimento"}),w.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Contato"})]})}),w.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.slice(0,10).map(b=>{var _;return w.jsxs("tr",{className:"hover:bg-green-50 transition",children:[w.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:(_=b.timestamp)==null?void 0:_.toLocaleString("pt-BR")}),y.map(A=>w.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:b[A]},A)),w.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:b.sugestao}),w.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:b.destaque}),w.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:b.data}),w.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:b.contato})]},b.id)})})]})}):w.jsx("p",{className:"text-gray-500 text-center py-8",children:"Nenhuma resposta encontrada"})]}),w.jsx("style",{children:`
          .animate-fadeIn { animation: fadeIn 0.7s; }
          @keyframes fadeIn { from { opacity: 0; transform: translateY(20px);} to { opacity: 1; transform: none; } }
          @media (max-width: 640px) {
            .sm\\:p-10, .md\\:p-10 { padding: 1.5rem !important; }
            .sm\\:h-96, .md\\:h-96 { height: 260px !important; }
            .sm\\:grid-cols-2 { grid-template-columns: 1fr !important; }
            .sm\\:flex-row { flex-direction: column !important; }
            .sm\\:items-center { align-items: flex-start !important; }
            .sm\\:justify-between { justify-content: flex-start !important; }
            .grid-cols-1, .sm\\:grid-cols-2, .md\\:grid-cols-3 { grid-template-columns: 1fr !important; }
            .p-4, .sm\\:p-6, .md\\:p-10 { padding-left: 0.5rem !important; padding-right: 0.5rem !important; }
            .rounded-3xl { border-radius: 1.25rem !important; }
            .h-60, .sm\\:h-72, .md\\:h-96 { height: 180px !important; }
          }
        `})]})},Vm={filter:w.jsx("svg",{className:"w-6 h-6 text-cyan-500 mr-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-.293.707l-6.414 6.414A1 1 0 0013 13.414V19a1 1 0 01-1.447.894l-4-2A1 1 0 017 17v-3.586a1 1 0 00-.293-.707L3.293 6.707A1 1 0 013 6V4z"})}),csv:w.jsx("svg",{className:"w-5 h-5 mr-2 text-green-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),back:w.jsx("svg",{className:"w-6 h-6 mr-2 text-blue-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})},fI={"Muito Satisfeito":5,Satisfeito:4,Regular:3,Ruim:2,Pssimo:1},dI={recepcao:"Atendimento da Recepo",triagem:"Atendimento da Triagem",medico:"Atendimento Mdico",orientacao:"Orientaes do Mdico",limpeza:"Higienizao/Limpeza da unidade",equipe:"Atendimento da equipe de Tcnicos e Enfermeiros"},V_=Object.keys(dI);function uB(e){return e?e.match(/\b([A-Z][a-z]+)\b/g)||[]:[]}function hB(e){const t={};return e.forEach(n=>{uB(n.destaque).forEach(s=>{const r=s.trim().toLowerCase();t[r]||(t[r]={nome:s.trim(),total:0,soma:0,count:0});const a=V_.map(l=>{let c=n[l];return typeof c=="string"&&(c=fI[c]||null),typeof c=="number"&&!isNaN(c)?c:null}).filter(l=>l!==null),o=a.length?a.reduce((l,c)=>l+c,0)/a.length:null;o!==null&&(t[r].soma+=o,t[r].count+=1),t[r].total+=1})}),Object.values(t).forEach(n=>{n.media=n.count?(n.soma/n.count).toFixed(2):"0.00"}),Object.values(t).sort((n,i)=>i.media-n.media||i.total-n.total).filter(n=>n.count>0)}function fB(e){const t={};return V_.forEach(n=>{const i=[1,2,3,4,5],s=e.map(l=>{let c=l[n];return c===void 0&&l.responses&&(c=l.responses[n]),typeof c=="string"&&(c=fI[c]||null),typeof c=="number"&&!isNaN(c)?c:null}).filter(l=>l!==null),r={};i.forEach(l=>{r[l]=s.filter(c=>c===l).length});let a="Indefinido";if(s.length){const l=s.reduce((c,h)=>c+h,0)/s.length;l>=4.5?a="Muito Satisfeito":l>=3.5?a="Satisfeito":l>=2.5?a="Regular":l>=1.5?a="Ruim":a="Pssimo"}const o=e.map(l=>{const c=l[`sugestao_${n}`]||l.sugestoes&&l.sugestoes[n];return c&&c.trim()?c:null}).filter(Boolean);t[n]={media:s.length?(s.reduce((l,c)=>l+c,0)/s.length).toFixed(2):"0.00",nivel:a,counts:r,comments:o}}),t}function dB(e){const t=Object.values(e).map(n=>parseFloat(n.media)).filter(n=>!isNaN(n));return t.length?(t.reduce((n,i)=>n+i,0)/t.length).toFixed(2):0}function hx(e){const t=Math.round(e);return w.jsx("span",{children:[1,2,3,4,5].map(n=>n<=t?w.jsx("span",{style:{color:"#fbbf24",fontSize:"1.5em"},children:""},n):w.jsx("span",{style:{color:"#d1d5db",fontSize:"1.5em"},children:""},n))})}const fx=()=>{const[e,t]=P.useState([]),[n,i]=P.useState([]),[s,r]=P.useState({}),[a,o]=P.useState([]),[l,c]=P.useState(!0),[h,f]=P.useState(""),[d,g]=P.useState({startDate:"",endDate:""}),E=xr();P.useEffect(()=>{T()},[]);const T=async(C=null,M=null)=>{c(!0),f("");try{let L=_R(Xy(x_,"surveys"),vR("timestamp","desc")),_=(await ER(L)).docs.map(A=>{var O;const I=A.data();return{id:A.id,...I,timestamp:(O=I.timestamp)!=null&&O.toDate?I.timestamp.toDate():new Date}});(C||M)&&(_=_.filter(A=>{if(!A.data)return!1;const I=new Date(A.data);return!(C&&I<C||M&&I>M)})),t(_),i(_),r(fB(_)),o(hB(_))}catch{f("Erro ao carregar pesquisas")}finally{c(!1)}},R=()=>{const C=d.startDate?new Date(d.startDate):null,M=d.endDate?new Date(d.endDate):null;T(C,M)},y=()=>{g({startDate:"",endDate:""}),T()},v=()=>{const C=["DATA/HORA","RECEPO","TRIAGEM","MDICO","ORIENTAO","LIMPEZA","EQUIPE","SUGESTO/ELOGIO/CRTICA","DESTAQUE","DATA ATENDI"],M=n.map(I=>{var O,N,D,bt,at,B;return[I.timestamp?new Date(I.timestamp).toLocaleString("pt-BR"):"",I.recepcao||((O=I.responses)==null?void 0:O.recepcao)||"",I.triagem||((N=I.responses)==null?void 0:N.triagem)||"",I.medico||((D=I.responses)==null?void 0:D.medico)||"",I.orientacao||((bt=I.responses)==null?void 0:bt.orientacao)||"",I.limpeza||((at=I.responses)==null?void 0:at.limpeza)||"",I.equipe||((B=I.responses)==null?void 0:B.equipe)||"",I.sugestao||"",I.destaque||"",I.data||""]}),L=[C,...M].map(I=>I.map(O=>`"${String(O).replace(/"/g,'""')}"`).join(",")).join(`
`),b=new Blob([L],{type:"text/csv;charset=utf-8;"}),_=document.createElement("a"),A=URL.createObjectURL(b);_.setAttribute("href",A),_.setAttribute("download",`respostas-recentes-${new Date().toISOString().split("T")[0]}.csv`),_.style.visibility="hidden",document.body.appendChild(_),_.click(),document.body.removeChild(_)},x=dB(s);return l?w.jsx(rf,{title:"Relatrios Detalhados",children:w.jsx("div",{className:"flex items-center justify-center h-64",children:w.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}):w.jsxs(rf,{title:w.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2",children:[w.jsx("span",{children:"Relatrios Detalhados"}),w.jsxs("span",{className:"ml-2 flex items-center gap-2",children:[w.jsx("span",{className:"text-gray-600 text-base",children:"Satisfao Geral:"}),w.jsx("span",{className:"text-2xl font-bold text-yellow-500",children:x}),hx(x)]})]}),children:[w.jsx("div",{className:"mb-4",children:w.jsxs("button",{onClick:()=>E("/admin/dashboard"),className:"flex items-center bg-blue-100 hover:bg-blue-200 text-blue-700 px-4 py-2 rounded-md font-medium transition-colors",children:[Vm.back," Voltar para Dashboard"]})}),w.jsxs("div",{className:"mb-8",children:[w.jsxs("h3",{className:"text-2xl font-bold text-green-700 mb-4 flex items-center",children:[w.jsx("svg",{className:"w-7 h-7 mr-2 text-green-500",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a4 4 0 00-3-3.87M9 20H4v-2a4 4 0 013-3.87m9-5.13a4 4 0 11-8 0 4 4 0 018 0zm6 8v2a2 2 0 01-2 2h-6a2 2 0 01-2-2v-2m6 0v2a2 2 0 01-2 2h-6a2 2 0 01-2-2v-2"})}),"Destaque dos Colaboradores"]}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"min-w-full bg-white rounded-lg shadow",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-4 py-2 text-left text-green-800 font-bold",children:"Colaborador"}),w.jsx("th",{className:"px-4 py-2 text-left text-green-800 font-bold",children:"Qtd. Citaes"}),w.jsx("th",{className:"px-4 py-2 text-left text-green-800 font-bold",children:"Mdia"}),w.jsx("th",{className:"px-4 py-2 text-left text-green-800 font-bold",children:"Estrelas"})]})}),w.jsxs("tbody",{children:[a.length===0&&w.jsx("tr",{children:w.jsx("td",{colSpan:4,className:"text-center text-gray-500 py-4",children:"Nenhum colaborador citado."})}),a.map((C,M)=>w.jsxs("tr",{className:M===0?"bg-yellow-50":"",children:[w.jsx("td",{className:"px-4 py-2 font-semibold text-green-900",children:C.nome}),w.jsx("td",{className:"px-4 py-2",children:C.total}),w.jsx("td",{className:"px-4 py-2 font-bold text-green-700",children:C.media}),w.jsx("td",{className:"px-4 py-2",children:hx(C.media)})]},C.nome))]})]})})]}),w.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[w.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Inicial"}),w.jsx("input",{type:"date",value:d.startDate,onChange:C=>g(M=>({...M,startDate:C.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Final"}),w.jsx("input",{type:"date",value:d.endDate,onChange:C=>g(M=>({...M,endDate:C.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("button",{onClick:R,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition-colors flex items-center",children:[Vm.filter," Filtrar"]}),w.jsx("button",{onClick:y,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md font-medium transition-colors",children:"Limpar"})]})]}),w.jsx("div",{className:"flex gap-2",children:w.jsxs("button",{onClick:v,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md font-medium transition-colors flex items-center",children:[Vm.csv," Exportar CSV"]})})]}),h&&w.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-6",children:h}),w.jsx("div",{className:"space-y-8",children:V_.map(C=>{var M,L,b,_;return w.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[w.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-2",children:dI[C]}),w.jsxs("div",{className:"flex flex-wrap gap-8 mb-4",children:[w.jsxs("div",{children:[w.jsx("span",{className:"block text-gray-600",children:"Mdia"}),w.jsx("span",{className:"text-3xl font-bold text-blue-800",children:(M=s[C])==null?void 0:M.media})]}),w.jsxs("div",{children:[w.jsx("span",{className:"block text-gray-600",children:"Nvel de Satisfao"}),w.jsx("span",{className:"text-lg font-semibold text-blue-600",children:(L=s[C])==null?void 0:L.nivel})]}),w.jsxs("div",{children:[w.jsx("span",{className:"block text-gray-600 mb-1",children:"Quantidade por Nota"}),w.jsx("div",{className:"flex gap-2",children:[5,4,3,2,1].map(A=>{var I;return w.jsxs("span",{className:"inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded font-semibold",children:[A,": ",((I=s[C])==null?void 0:I.counts[A])||0]},A)})})]})]}),((_=(b=s[C])==null?void 0:b.comments)==null?void 0:_.length)>0&&w.jsxs("div",{className:"mt-4",children:[w.jsx("span",{className:"block text-gray-600 font-semibold mb-2",children:"Comentrios desta seo:"}),w.jsx("ul",{className:"list-disc pl-6 space-y-1",children:s[C].comments.slice(0,5).map((A,I)=>w.jsx("li",{className:"text-gray-700",children:A},I))})]})]},C)})}),w.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 border border-gray-100 mt-10",children:[w.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-gray-800 mb-6 flex items-center gap-3",children:" Respostas Recentes"}),n.length>0?w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"min-w-full divide-y divide-gray-200 rounded-xl",children:[w.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"DATA/HORA"}),w.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"RECEPO"}),w.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"TRIAGEM"}),w.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"MDICO"}),w.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"ORIENTAO"}),w.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"LIMPEZA"}),w.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"EQUIPE"}),w.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"SUGESTO/ELOGIO/CRTICA"}),w.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"DESTAQUE"}),w.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"DATA ATENDI"})]})}),w.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.slice(0,10).map(C=>{var M,L,b,_,A,I;return w.jsxs("tr",{className:"hover:bg-green-50 transition",children:[w.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.timestamp?new Date(C.timestamp).toLocaleString("pt-BR"):""}),w.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.recepcao||((M=C.responses)==null?void 0:M.recepcao)||""}),w.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.triagem||((L=C.responses)==null?void 0:L.triagem)||""}),w.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.medico||((b=C.responses)==null?void 0:b.medico)||""}),w.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.orientacao||((_=C.responses)==null?void 0:_.orientacao)||""}),w.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.limpeza||((A=C.responses)==null?void 0:A.limpeza)||""}),w.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.equipe||((I=C.responses)==null?void 0:I.equipe)||""}),w.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.sugestao||""}),w.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.destaque||""}),w.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.data||""})]},C.id)})})]})}):w.jsx("p",{className:"text-gray-500 text-center py-8",children:"Nenhuma resposta encontrada"})]})]})};function mB(){return w.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-200 via-green-100 to-green-200 flex items-center justify-center px-4",children:[w.jsxs("div",{className:"w-full max-w-md bg-white rounded-3xl shadow-2xl p-8 border-2 border-blue-200 flex flex-col items-center relative overflow-hidden",children:[w.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-gradient-to-br from-green-300 to-blue-200 rounded-full opacity-30 z-0"}),w.jsx("div",{className:"absolute -bottom-10 -left-10 w-32 h-32 bg-gradient-to-tr from-blue-300 to-green-200 rounded-full opacity-30 z-0"}),w.jsx("img",{src:Ph,alt:"Logo Jetel Mendes",className:"h-24 mb-4 drop-shadow-xl animate-bounce-slow z-10"}),w.jsxs("h1",{className:"text-3xl sm:text-4xl font-extrabold text-blue-800 mb-2 text-center drop-shadow z-10",children:["Bem-vindo ao ",w.jsx("span",{className:"text-green-700",children:"PA Jetel Mendes"})]}),w.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-blue-400 to-green-400 rounded-full mb-4 z-10"}),w.jsx("p",{className:"text-gray-600 text-center mb-8 text-base sm:text-lg z-10",children:"Escolha uma opo para continuar:"}),w.jsxs("div",{className:"flex flex-col gap-6 w-full z-10",children:[w.jsxs(kh,{to:"/pesquisa",className:"bg-gradient-to-r from-green-400 to-blue-500 hover:from-green-500 hover:to-blue-600 text-white font-bold py-4 rounded-xl shadow-lg transition text-center text-lg transform hover:scale-105",children:[w.jsx("span",{role:"img","aria-label":"Usurio",className:"mr-2",children:""}),"Sou Usurio - Responder Pesquisa de Satisfao"]}),w.jsxs(kh,{to:"/admin/login",className:"bg-gradient-to-r from-blue-700 to-gray-900 hover:from-blue-800 hover:to-gray-800 text-white font-bold py-4 rounded-xl shadow-lg transition text-center text-lg transform hover:scale-105",children:[w.jsx("span",{role:"img","aria-label":"Admin",className:"mr-2",children:""}),"Sou Administrador - Acessar Painel"]})]})]}),w.jsx("style",{children:`
          .animate-bounce-slow {
            animation: bounce 2.5s infinite;
          }
          @keyframes bounce {
            0%, 100% { transform: translateY(0);}
            50% { transform: translateY(-10px);}
          }
        `})]})}const gB=()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})})},pB=()=>window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0,yB=()=>{const[e,t]=P.useState(null),[n,i]=P.useState(!1);P.useEffect(()=>{if(pB())return;const r=a=>{a.preventDefault(),t(a),i(!0)};return window.addEventListener("beforeinstallprompt",r),()=>{window.removeEventListener("beforeinstallprompt",r)}},[]);const s=async()=>{if(!e)return;e.prompt();const{outcome:r}=await e.userChoice;console.log(r==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),t(null),i(!1)};return n?w.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:w.jsxs("div",{className:"bg-blue-600 text-white p-4 rounded-lg shadow-lg max-w-sm",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("div",{className:"flex-shrink-0",children:w.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z"})})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"text-sm font-medium",children:"Instalar App"}),w.jsx("p",{className:"text-xs text-blue-100",children:"Adicione  tela inicial para acesso rpido"})]})]}),w.jsxs("div",{className:"mt-3 flex space-x-2",children:[w.jsx("button",{onClick:s,className:"bg-white text-blue-600 px-3 py-1 rounded text-sm font-medium hover:bg-blue-50 transition-colors",children:"Instalar"}),w.jsx("button",{onClick:()=>i(!1),className:"text-blue-100 px-3 py-1 rounded text-sm hover:text-white transition-colors",children:"Agora no"})]})]})}):null},_B=()=>{const[e,t]=P.useState(null),[n,i]=P.useState(!0);return P.useEffect(()=>{const s=y9(r=>{t(r),i(!1)});return()=>s()},[]),{user:e,loading:n}},Um=({children:e})=>{const{user:t,loading:n}=_B();return n?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100",children:w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-400 border-t-transparent mb-4"}),w.jsx("span",{className:"text-blue-600 font-medium",children:"Carregando..."})]})}):t?e:w.jsx(Pg,{to:"/admin/login",replace:!0})};function vB(){return w.jsx(dN,{children:w.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 flex flex-col",children:[w.jsx("div",{className:"flex-1 flex flex-col",children:w.jsxs(HM,{children:[w.jsx(ri,{path:"/",element:w.jsx(mB,{})}),w.jsx(ri,{path:"/pesquisa",element:w.jsx(m9,{})}),w.jsx(ri,{path:"/admin/login",element:w.jsx(g9,{})}),w.jsx(ri,{path:"/admin/dashboard",element:w.jsx(Um,{children:w.jsx(cB,{})})}),w.jsx(ri,{path:"/admin/relatorios",element:w.jsx(Um,{children:w.jsx(fx,{})})}),w.jsx(ri,{path:"/admin/reports",element:w.jsx(Um,{children:w.jsx(fx,{})})}),w.jsx(ri,{path:"/admin",element:w.jsx(Pg,{to:"/admin/dashboard",replace:!0})}),w.jsx(ri,{path:"*",element:w.jsx(Pg,{to:"/",replace:!0})})]})}),w.jsx(yB,{})]})})}gB();HO.createRoot(document.getElementById("root")).render(w.jsx(P.StrictMode,{children:w.jsx(vB,{})}));
