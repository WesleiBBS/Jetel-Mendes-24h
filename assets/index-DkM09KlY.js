var qI=Object.defineProperty;var GI=(e,t,n)=>t in e?qI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var lt=(e,t,n)=>GI(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function $I(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mw={exports:{}},pf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YI=Symbol.for("react.transitional.element"),KI=Symbol.for("react.fragment");function gw(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:YI,type:e,key:i,ref:t!==void 0?t:null,props:n}}pf.Fragment=KI;pf.jsx=gw;pf.jsxs=gw;mw.exports=pf;var A=mw.exports,pw={exports:{}},J={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep=Symbol.for("react.transitional.element"),WI=Symbol.for("react.portal"),QI=Symbol.for("react.fragment"),XI=Symbol.for("react.strict_mode"),ZI=Symbol.for("react.profiler"),JI=Symbol.for("react.consumer"),tC=Symbol.for("react.context"),eC=Symbol.for("react.forward_ref"),nC=Symbol.for("react.suspense"),iC=Symbol.for("react.memo"),yw=Symbol.for("react.lazy"),U0=Symbol.iterator;function sC(e){return e===null||typeof e!="object"?null:(e=U0&&e[U0]||e["@@iterator"],typeof e=="function"?e:null)}var _w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vw=Object.assign,bw={};function Fa(e,t,n){this.props=e,this.context=t,this.refs=bw,this.updater=n||_w}Fa.prototype.isReactComponent={};Fa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ew(){}Ew.prototype=Fa.prototype;function Tp(e,t,n){this.props=e,this.context=t,this.refs=bw,this.updater=n||_w}var wp=Tp.prototype=new Ew;wp.constructor=Tp;vw(wp,Fa.prototype);wp.isPureReactComponent=!0;var j0=Array.isArray,kt={H:null,A:null,T:null,S:null,V:null},Tw=Object.prototype.hasOwnProperty;function xp(e,t,n,i,s,r){return n=r.ref,{$$typeof:Ep,type:e,key:t,ref:n!==void 0?n:null,props:r}}function rC(e,t){return xp(e.type,t,void 0,void 0,void 0,e.props)}function Sp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ep}function aC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var z0=/\/+/g;function Cd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?aC(""+e.key):t.toString(36)}function B0(){}function oC(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(B0,B0):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function zr(e,t,n,i,s){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(r){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ep:case WI:a=!0;break;case yw:return a=e._init,zr(a(e._payload),t,n,i,s)}}if(a)return s=s(e),a=i===""?"."+Cd(e,0):i,j0(s)?(n="",a!=null&&(n=a.replace(z0,"$&/")+"/"),zr(s,t,n,"",function(c){return c})):s!=null&&(Sp(s)&&(s=rC(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(z0,"$&/")+"/")+a)),t.push(s)),1;a=0;var o=i===""?".":i+":";if(j0(e))for(var l=0;l<e.length;l++)i=e[l],r=o+Cd(i,l),a+=zr(i,t,n,r,s);else if(l=sC(e),typeof l=="function")for(e=l.call(e),l=0;!(i=e.next()).done;)i=i.value,r=o+Cd(i,l++),a+=zr(i,t,n,r,s);else if(r==="object"){if(typeof e.then=="function")return zr(oC(e),t,n,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function Gc(e,t,n){if(e==null)return e;var i=[],s=0;return zr(e,i,"","",function(r){return t.call(n,r,s++)}),i}function lC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var F0=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function cC(){}J.Children={map:Gc,forEach:function(e,t,n){Gc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gc(e,function(){t++}),t},toArray:function(e){return Gc(e,function(t){return t})||[]},only:function(e){if(!Sp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=Fa;J.Fragment=QI;J.Profiler=ZI;J.PureComponent=Tp;J.StrictMode=XI;J.Suspense=nC;J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=kt;J.__COMPILER_RUNTIME={__proto__:null,c:function(e){return kt.H.useMemoCache(e)}};J.cache=function(e){return function(){return e.apply(null,arguments)}};J.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=vw({},e.props),s=e.key,r=void 0;if(t!=null)for(a in t.ref!==void 0&&(r=void 0),t.key!==void 0&&(s=""+t.key),t)!Tw.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(i[a]=t[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}return xp(e.type,s,void 0,void 0,r,i)};J.createContext=function(e){return e={$$typeof:tC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:JI,_context:e},e};J.createElement=function(e,t,n){var i,s={},r=null;if(t!=null)for(i in t.key!==void 0&&(r=""+t.key),t)Tw.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=t[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];s.children=o}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return xp(e,r,void 0,void 0,null,s)};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:eC,render:e}};J.isValidElement=Sp;J.lazy=function(e){return{$$typeof:yw,_payload:{_status:-1,_result:e},_init:lC}};J.memo=function(e,t){return{$$typeof:iC,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=kt.T,n={};kt.T=n;try{var i=e(),s=kt.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(cC,F0)}catch(r){F0(r)}finally{kt.T=t}};J.unstable_useCacheRefresh=function(){return kt.H.useCacheRefresh()};J.use=function(e){return kt.H.use(e)};J.useActionState=function(e,t,n){return kt.H.useActionState(e,t,n)};J.useCallback=function(e,t){return kt.H.useCallback(e,t)};J.useContext=function(e){return kt.H.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e,t){return kt.H.useDeferredValue(e,t)};J.useEffect=function(e,t,n){var i=kt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};J.useId=function(){return kt.H.useId()};J.useImperativeHandle=function(e,t,n){return kt.H.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return kt.H.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return kt.H.useLayoutEffect(e,t)};J.useMemo=function(e,t){return kt.H.useMemo(e,t)};J.useOptimistic=function(e,t){return kt.H.useOptimistic(e,t)};J.useReducer=function(e,t,n){return kt.H.useReducer(e,t,n)};J.useRef=function(e){return kt.H.useRef(e)};J.useState=function(e){return kt.H.useState(e)};J.useSyncExternalStore=function(e,t,n){return kt.H.useSyncExternalStore(e,t,n)};J.useTransition=function(){return kt.H.useTransition()};J.version="19.1.0";pw.exports=J;var P=pw.exports;const ww=$I(P);var xw={exports:{}},yf={},Sw={exports:{}},Aw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,G){var Y=B.length;B.push(G);t:for(;0<Y;){var mt=Y-1>>>1,bt=B[mt];if(0<s(bt,G))B[mt]=G,B[Y]=bt,Y=mt;else break t}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var G=B[0],Y=B.pop();if(Y!==G){B[0]=Y;t:for(var mt=0,bt=B.length,yn=bt>>>1;mt<yn;){var $t=2*(mt+1)-1,At=B[$t],ce=$t+1,ye=B[ce];if(0>s(At,Y))ce<bt&&0>s(ye,At)?(B[mt]=ye,B[ce]=Y,mt=ce):(B[mt]=At,B[$t]=Y,mt=$t);else if(ce<bt&&0>s(ye,Y))B[mt]=ye,B[ce]=Y,mt=ce;else break t}}return G}function s(B,G){var Y=B.sortIndex-G.sortIndex;return Y!==0?Y:B.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],h=1,f=null,d=3,g=!1,v=!1,E=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function M(B){for(var G=n(c);G!==null;){if(G.callback===null)i(c);else if(G.startTime<=B)i(c),G.sortIndex=G.expirationTime,t(l,G);else break;G=n(c)}}function C(B){if(E=!1,M(B),!v)if(n(l)!==null)v=!0,L||(L=!0,k());else{var G=n(c);G!==null&&ht(C,G.startTime-B)}}var L=!1,S=-1,b=5,R=-1;function I(){return x?!0:!(e.unstable_now()-R<b)}function O(){if(x=!1,L){var B=e.unstable_now();R=B;var G=!0;try{t:{v=!1,E&&(E=!1,y(S),S=-1),g=!0;var Y=d;try{e:{for(M(B),f=n(l);f!==null&&!(f.expirationTime>B&&I());){var mt=f.callback;if(typeof mt=="function"){f.callback=null,d=f.priorityLevel;var bt=mt(f.expirationTime<=B);if(B=e.unstable_now(),typeof bt=="function"){f.callback=bt,M(B),G=!0;break e}f===n(l)&&i(l),M(B)}else i(l);f=n(l)}if(f!==null)G=!0;else{var yn=n(c);yn!==null&&ht(C,yn.startTime-B),G=!1}}break t}finally{f=null,d=Y,g=!1}G=void 0}}finally{G?k():L=!1}}}var k;if(typeof T=="function")k=function(){T(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ut=D.port2;D.port1.onmessage=O,k=function(){Ut.postMessage(null)}}else k=function(){_(O,0)};function ht(B,G){S=_(function(){B(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_next=function(B){switch(d){case 1:case 2:case 3:var G=3;break;default:G=d}var Y=d;d=G;try{return B()}finally{d=Y}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Y=d;d=B;try{return G()}finally{d=Y}},e.unstable_scheduleCallback=function(B,G,Y){var mt=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?mt+Y:mt):Y=mt,B){case 1:var bt=-1;break;case 2:bt=250;break;case 5:bt=1073741823;break;case 4:bt=1e4;break;default:bt=5e3}return bt=Y+bt,B={id:h++,callback:G,priorityLevel:B,startTime:Y,expirationTime:bt,sortIndex:-1},Y>mt?(B.sortIndex=Y,t(c,B),n(l)===null&&B===n(c)&&(E?(y(S),S=-1):E=!0,ht(C,Y-mt))):(B.sortIndex=bt,t(l,B),v||g||(v=!0,L||(L=!0,k()))),B},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(B){var G=d;return function(){var Y=d;d=G;try{return B.apply(this,arguments)}finally{d=Y}}}})(Aw);Sw.exports=Aw;var uC=Sw.exports,Rw={exports:{}},Oe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hC=P;function Iw(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ji(){}var De={d:{f:ji,r:function(){throw Error(Iw(522))},D:ji,C:ji,L:ji,m:ji,X:ji,S:ji,M:ji},p:0,findDOMNode:null},fC=Symbol.for("react.portal");function dC(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fC,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Wo=hC.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _f(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Oe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=De;Oe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Iw(299));return dC(e,t,null,n)};Oe.flushSync=function(e){var t=Wo.T,n=De.p;try{if(Wo.T=null,De.p=2,e)return e()}finally{Wo.T=t,De.p=n,De.d.f()}};Oe.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,De.d.C(e,t))};Oe.prefetchDNS=function(e){typeof e=="string"&&De.d.D(e)};Oe.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=_f(n,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,r=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?De.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:r}):n==="script"&&De.d.X(e,{crossOrigin:i,integrity:s,fetchPriority:r,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Oe.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=_f(t.as,t.crossOrigin);De.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&De.d.M(e)};Oe.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=_f(n,t.crossOrigin);De.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Oe.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=_f(t.as,t.crossOrigin);De.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else De.d.m(e)};Oe.requestFormReset=function(e){De.d.r(e)};Oe.unstable_batchedUpdates=function(e,t){return e(t)};Oe.useFormState=function(e,t,n){return Wo.H.useFormState(e,t,n)};Oe.useFormStatus=function(){return Wo.H.useHostTransitionStatus()};Oe.version="19.1.0";function Cw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cw)}catch(e){console.error(e)}}Cw(),Rw.exports=Oe;var mC=Rw.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ee=uC,Dw=P,gC=mC;function z(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ow(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Mw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function H0(e){if(Zl(e)!==e)throw Error(z(188))}function pC(e){var t=e.alternate;if(!t){if(t=Zl(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return H0(s),e;if(r===i)return H0(s),t;r=r.sibling}throw Error(z(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,i=r;break}if(o===i){a=!0,i=s,n=r;break}o=o.sibling}if(!a){for(o=r.child;o;){if(o===n){a=!0,n=r,i=s;break}if(o===i){a=!0,i=r,n=s;break}o=o.sibling}if(!a)throw Error(z(189))}}if(n.alternate!==i)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function kw(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=kw(e),t!==null)return t;e=e.sibling}return null}var Ot=Object.assign,yC=Symbol.for("react.element"),$c=Symbol.for("react.transitional.element"),Lo=Symbol.for("react.portal"),Kr=Symbol.for("react.fragment"),Nw=Symbol.for("react.strict_mode"),zm=Symbol.for("react.profiler"),_C=Symbol.for("react.provider"),Pw=Symbol.for("react.consumer"),hi=Symbol.for("react.context"),Ap=Symbol.for("react.forward_ref"),Bm=Symbol.for("react.suspense"),Fm=Symbol.for("react.suspense_list"),Rp=Symbol.for("react.memo"),qi=Symbol.for("react.lazy"),Hm=Symbol.for("react.activity"),vC=Symbol.for("react.memo_cache_sentinel"),q0=Symbol.iterator;function To(e){return e===null||typeof e!="object"?null:(e=q0&&e[q0]||e["@@iterator"],typeof e=="function"?e:null)}var bC=Symbol.for("react.client.reference");function qm(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===bC?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kr:return"Fragment";case zm:return"Profiler";case Nw:return"StrictMode";case Bm:return"Suspense";case Fm:return"SuspenseList";case Hm:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Lo:return"Portal";case hi:return(e.displayName||"Context")+".Provider";case Pw:return(e._context.displayName||"Context")+".Consumer";case Ap:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rp:return t=e.displayName||null,t!==null?t:qm(e.type)||"Memo";case qi:t=e._payload,e=e._init;try{return qm(e(t))}catch{}}return null}var Vo=Array.isArray,Q=Dw.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt=gC.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tr={pending:!1,data:null,method:null,action:null},Gm=[],Wr=-1;function Wn(e){return{current:e}}function oe(e){0>Wr||(e.current=Gm[Wr],Gm[Wr]=null,Wr--)}function Nt(e,t){Wr++,Gm[Wr]=e.current,e.current=t}var zn=Wn(null),El=Wn(null),ls=Wn(null),rh=Wn(null);function ah(e,t){switch(Nt(ls,t),Nt(El,e),Nt(zn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wv(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wv(t),e=ZS(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}oe(zn),Nt(zn,e)}function Ta(){oe(zn),oe(El),oe(ls)}function $m(e){e.memoizedState!==null&&Nt(rh,e);var t=zn.current,n=ZS(t,e.type);t!==n&&(Nt(El,e),Nt(zn,n))}function oh(e){El.current===e&&(oe(zn),oe(El)),rh.current===e&&(oe(rh),Ol._currentValue=tr)}var Ym=Object.prototype.hasOwnProperty,Ip=ee.unstable_scheduleCallback,Dd=ee.unstable_cancelCallback,EC=ee.unstable_shouldYield,TC=ee.unstable_requestPaint,Bn=ee.unstable_now,wC=ee.unstable_getCurrentPriorityLevel,Lw=ee.unstable_ImmediatePriority,Vw=ee.unstable_UserBlockingPriority,lh=ee.unstable_NormalPriority,xC=ee.unstable_LowPriority,Uw=ee.unstable_IdlePriority,SC=ee.log,AC=ee.unstable_setDisableYieldValue,Jl=null,We=null;function ts(e){if(typeof SC=="function"&&AC(e),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(Jl,e)}catch{}}var Qe=Math.clz32?Math.clz32:CC,RC=Math.log,IC=Math.LN2;function CC(e){return e>>>=0,e===0?32:31-(RC(e)/IC|0)|0}var Yc=256,Kc=4194304;function $s(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vf(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var s=0,r=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~r,i!==0?s=$s(i):(a&=o,a!==0?s=$s(a):n||(n=o&~e,n!==0&&(s=$s(n))))):(o=i&~r,o!==0?s=$s(o):a!==0?s=$s(a):n||(n=i&~e,n!==0&&(s=$s(n)))),s===0?0:t!==0&&t!==s&&!(t&r)&&(r=s&-s,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:s}function tc(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function DC(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jw(){var e=Yc;return Yc<<=1,!(Yc&4194048)&&(Yc=256),e}function zw(){var e=Kc;return Kc<<=1,!(Kc&62914560)&&(Kc=4194304),e}function Od(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ec(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function OC(e,t,n,i,s,r){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var h=31-Qe(n),f=1<<h;o[h]=0,l[h]=-1;var d=c[h];if(d!==null)for(c[h]=null,h=0;h<d.length;h++){var g=d[h];g!==null&&(g.lane&=-536870913)}n&=~f}i!==0&&Bw(e,i,0),r!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=r&~(a&~t))}function Bw(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Qe(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function Fw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Qe(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}function Cp(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Dp(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Hw(){var e=dt.p;return e!==0?e:(e=window.event,e===void 0?32:l1(e.type))}function MC(e,t){var n=dt.p;try{return dt.p=e,t()}finally{dt.p=n}}var Ps=Math.random().toString(36).slice(2),xe="__reactFiber$"+Ps,Be="__reactProps$"+Ps,Ha="__reactContainer$"+Ps,Km="__reactEvents$"+Ps,kC="__reactListeners$"+Ps,NC="__reactHandles$"+Ps,G0="__reactResources$"+Ps,nc="__reactMarker$"+Ps;function Op(e){delete e[xe],delete e[Be],delete e[Km],delete e[kC],delete e[NC]}function Qr(e){var t=e[xe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ha]||n[xe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Zv(e);e!==null;){if(n=e[xe])return n;e=Zv(e)}return t}e=n,n=e.parentNode}return null}function qa(e){if(e=e[xe]||e[Ha]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Uo(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(z(33))}function la(e){var t=e[G0];return t||(t=e[G0]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function se(e){e[nc]=!0}var qw=new Set,Gw={};function br(e,t){wa(e,t),wa(e+"Capture",t)}function wa(e,t){for(Gw[e]=t,e=0;e<t.length;e++)qw.add(t[e])}var PC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$0={},Y0={};function LC(e){return Ym.call(Y0,e)?!0:Ym.call($0,e)?!1:PC.test(e)?Y0[e]=!0:($0[e]=!0,!1)}function Iu(e,t,n){if(LC(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Wc(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ei(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var Md,K0;function Br(e){if(Md===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Md=t&&t[1]||"",K0=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Md+e+K0}var kd=!1;function Nd(e,t){if(!e||kd)return"";kd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(g){var d=g}Reflect.construct(e,[],f)}else{try{f.call()}catch(g){d=g}e.call(f.prototype)}}else{try{throw Error()}catch(g){d=g}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(g){if(g&&d&&typeof g.stack=="string")return[g.stack,d.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),a=r[0],o=r[1];if(a&&o){var l=a.split(`
`),c=o.split(`
`);for(s=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(i===l.length||s===c.length)for(i=l.length-1,s=c.length-1;1<=i&&0<=s&&l[i]!==c[s];)s--;for(;1<=i&&0<=s;i--,s--)if(l[i]!==c[s]){if(i!==1||s!==1)do if(i--,s--,0>s||l[i]!==c[s]){var h=`
`+l[i].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=i&&0<=s);break}}}finally{kd=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Br(n):""}function VC(e){switch(e.tag){case 26:case 27:case 5:return Br(e.type);case 16:return Br("Lazy");case 13:return Br("Suspense");case 19:return Br("SuspenseList");case 0:case 15:return Nd(e.type,!1);case 11:return Nd(e.type.render,!1);case 1:return Nd(e.type,!0);case 31:return Br("Activity");default:return""}}function W0(e){try{var t="";do t+=VC(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $w(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function UC(e){var t=$w(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,r.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ch(e){e._valueTracker||(e._valueTracker=UC(e))}function Yw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=$w(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function uh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var jC=/[\n"\\]/g;function on(e){return e.replace(jC,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Wm(e,t,n,i,s,r,a,o){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+sn(t)):e.value!==""+sn(t)&&(e.value=""+sn(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?Qm(e,a,sn(t)):n!=null?Qm(e,a,sn(n)):i!=null&&e.removeAttribute("value"),s==null&&r!=null&&(e.defaultChecked=!!r),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+sn(o):e.removeAttribute("name")}function Kw(e,t,n,i,s,r,a,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null))return;n=n!=null?""+sn(n):"",t=t!=null?""+sn(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a)}function Qm(e,t,n){t==="number"&&uh(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ca(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+sn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ww(e,t,n){if(t!=null&&(t=""+sn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+sn(n):""}function Qw(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(z(92));if(Vo(i)){if(1<i.length)throw Error(z(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=sn(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function xa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Q0(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||zC.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Xw(e,t,n){if(t!=null&&typeof t!="object")throw Error(z(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&n[s]!==i&&Q0(e,s,i)}else for(var r in t)t.hasOwnProperty(r)&&Q0(e,r,t[r])}function Mp(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),FC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cu(e){return FC.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Xm=null;function kp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xr=null,ua=null;function X0(e){var t=qa(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;t:switch(e=t.stateNode,t.type){case"input":if(Wm(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+on(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=i[Be]||null;if(!s)throw Error(z(90));Wm(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Yw(i)}break t;case"textarea":Ww(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&ca(e,!!n.multiple,t,!1)}}}var Pd=!1;function Zw(e,t,n){if(Pd)return e(t,n);Pd=!0;try{var i=e(t);return i}finally{if(Pd=!1,(Xr!==null||ua!==null)&&(Cf(),Xr&&(t=Xr,e=ua,ua=Xr=null,X0(t),e)))for(t=0;t<e.length;t++)X0(e[t])}}function Tl(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Be]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zm=!1;if(wi)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){Zm=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{Zm=!1}var es=null,Np=null,Du=null;function Jw(){if(Du)return Du;var e,t=Np,n=t.length,i,s="value"in es?es.value:es.textContent,r=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===s[r-i];i++);return Du=s.slice(e,1<i?1-i:void 0)}function Ou(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qc(){return!0}function Z0(){return!1}function Fe(e){function t(n,i,s,r,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Qc:Z0,this.isPropagationStopped=Z0,this}return Ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qc)},persist:function(){},isPersistent:Qc}),t}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bf=Fe(Er),ic=Ot({},Er,{view:0,detail:0}),HC=Fe(ic),Ld,Vd,xo,Ef=Ot({},ic,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xo&&(xo&&e.type==="mousemove"?(Ld=e.screenX-xo.screenX,Vd=e.screenY-xo.screenY):Vd=Ld=0,xo=e),Ld)},movementY:function(e){return"movementY"in e?e.movementY:Vd}}),J0=Fe(Ef),qC=Ot({},Ef,{dataTransfer:0}),GC=Fe(qC),$C=Ot({},ic,{relatedTarget:0}),Ud=Fe($C),YC=Ot({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),KC=Fe(YC),WC=Ot({},Er,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),QC=Fe(WC),XC=Ot({},Er,{data:0}),tv=Fe(XC),ZC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tD[e])?!!t[e]:!1}function Pp(){return eD}var nD=Ot({},ic,{key:function(e){if(e.key){var t=ZC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ou(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?JC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pp,charCode:function(e){return e.type==="keypress"?Ou(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ou(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iD=Fe(nD),sD=Ot({},Ef,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ev=Fe(sD),rD=Ot({},ic,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pp}),aD=Fe(rD),oD=Ot({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),lD=Fe(oD),cD=Ot({},Ef,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uD=Fe(cD),hD=Ot({},Er,{newState:0,oldState:0}),fD=Fe(hD),dD=[9,13,27,32],Lp=wi&&"CompositionEvent"in window,Qo=null;wi&&"documentMode"in document&&(Qo=document.documentMode);var mD=wi&&"TextEvent"in window&&!Qo,tx=wi&&(!Lp||Qo&&8<Qo&&11>=Qo),nv=" ",iv=!1;function ex(e,t){switch(e){case"keyup":return dD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zr=!1;function gD(e,t){switch(e){case"compositionend":return nx(t);case"keypress":return t.which!==32?null:(iv=!0,nv);case"textInput":return e=t.data,e===nv&&iv?null:e;default:return null}}function pD(e,t){if(Zr)return e==="compositionend"||!Lp&&ex(e,t)?(e=Jw(),Du=Np=es=null,Zr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tx&&t.locale!=="ko"?null:t.data;default:return null}}var yD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yD[e.type]:t==="textarea"}function ix(e,t,n,i){Xr?ua?ua.push(i):ua=[i]:Xr=i,t=Ih(t,"onChange"),0<t.length&&(n=new bf("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Xo=null,wl=null;function _D(e){WS(e,0)}function Tf(e){var t=Uo(e);if(Yw(t))return e}function rv(e,t){if(e==="change")return t}var sx=!1;if(wi){var jd;if(wi){var zd="oninput"in document;if(!zd){var av=document.createElement("div");av.setAttribute("oninput","return;"),zd=typeof av.oninput=="function"}jd=zd}else jd=!1;sx=jd&&(!document.documentMode||9<document.documentMode)}function ov(){Xo&&(Xo.detachEvent("onpropertychange",rx),wl=Xo=null)}function rx(e){if(e.propertyName==="value"&&Tf(wl)){var t=[];ix(t,wl,e,kp(e)),Zw(_D,t)}}function vD(e,t,n){e==="focusin"?(ov(),Xo=t,wl=n,Xo.attachEvent("onpropertychange",rx)):e==="focusout"&&ov()}function bD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tf(wl)}function ED(e,t){if(e==="click")return Tf(t)}function TD(e,t){if(e==="input"||e==="change")return Tf(t)}function wD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tn=typeof Object.is=="function"?Object.is:wD;function xl(e,t){if(tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Ym.call(t,s)||!tn(e[s],t[s]))return!1}return!0}function lv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cv(e,t){var n=lv(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=lv(n)}}function ax(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ax(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ox(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=uh(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=uh(e.document)}return t}function Vp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var xD=wi&&"documentMode"in document&&11>=document.documentMode,Jr=null,Jm=null,Zo=null,tg=!1;function uv(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tg||Jr==null||Jr!==uh(i)||(i=Jr,"selectionStart"in i&&Vp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Zo&&xl(Zo,i)||(Zo=i,i=Ih(Jm,"onSelect"),0<i.length&&(t=new bf("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Jr)))}function Bs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ta={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},Bd={},lx={};wi&&(lx=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function Tr(e){if(Bd[e])return Bd[e];if(!ta[e])return e;var t=ta[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in lx)return Bd[e]=t[n];return e}var cx=Tr("animationend"),ux=Tr("animationiteration"),hx=Tr("animationstart"),SD=Tr("transitionrun"),AD=Tr("transitionstart"),RD=Tr("transitioncancel"),fx=Tr("transitionend"),dx=new Map,eg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");eg.push("scrollEnd");function Dn(e,t){dx.set(e,t),br(t,[e])}var hv=new WeakMap;function ln(e,t){if(typeof e=="object"&&e!==null){var n=hv.get(e);return n!==void 0?n:(t={value:e,source:t,stack:W0(t)},hv.set(e,t),t)}return{value:e,source:t,stack:W0(t)}}var nn=[],ea=0,Up=0;function wf(){for(var e=ea,t=Up=ea=0;t<e;){var n=nn[t];nn[t++]=null;var i=nn[t];nn[t++]=null;var s=nn[t];nn[t++]=null;var r=nn[t];if(nn[t++]=null,i!==null&&s!==null){var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}r!==0&&mx(n,s,r)}}function xf(e,t,n,i){nn[ea++]=e,nn[ea++]=t,nn[ea++]=n,nn[ea++]=i,Up|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function jp(e,t,n,i){return xf(e,t,n,i),hh(e)}function Ga(e,t){return xf(e,null,null,t),hh(e)}function mx(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var s=!1,r=e.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(s=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,s&&t!==null&&(s=31-Qe(n),e=r.hiddenUpdates,i=e[s],i===null?e[s]=[t]:i.push(t),t.lane=n|536870912),r):null}function hh(e){if(50<ll)throw ll=0,Tg=null,Error(z(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var na={};function ID(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,t,n,i){return new ID(e,t,n,i)}function zp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _i(e,t){var n=e.alternate;return n===null?(n=Ke(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function gx(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Mu(e,t,n,i,s,r){var a=0;if(i=e,typeof e=="function")zp(e)&&(a=1);else if(typeof e=="string")a=DO(e,n,zn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Hm:return e=Ke(31,n,t,s),e.elementType=Hm,e.lanes=r,e;case Kr:return er(n.children,s,r,t);case Nw:a=8,s|=24;break;case zm:return e=Ke(12,n,t,s|2),e.elementType=zm,e.lanes=r,e;case Bm:return e=Ke(13,n,t,s),e.elementType=Bm,e.lanes=r,e;case Fm:return e=Ke(19,n,t,s),e.elementType=Fm,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _C:case hi:a=10;break t;case Pw:a=9;break t;case Ap:a=11;break t;case Rp:a=14;break t;case qi:a=16,i=null;break t}a=29,n=Error(z(130,e===null?"null":typeof e,"")),i=null}return t=Ke(a,n,t,s),t.elementType=e,t.type=i,t.lanes=r,t}function er(e,t,n,i){return e=Ke(7,e,i,t),e.lanes=n,e}function Fd(e,t,n){return e=Ke(6,e,null,t),e.lanes=n,e}function Hd(e,t,n){return t=Ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ia=[],sa=0,fh=null,dh=0,rn=[],an=0,nr=null,fi=1,di="";function Ys(e,t){ia[sa++]=dh,ia[sa++]=fh,fh=e,dh=t}function px(e,t,n){rn[an++]=fi,rn[an++]=di,rn[an++]=nr,nr=e;var i=fi;e=di;var s=32-Qe(i)-1;i&=~(1<<s),n+=1;var r=32-Qe(t)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,fi=1<<32-Qe(t)+s|n<<s|i,di=r+e}else fi=1<<r|n<<s|i,di=e}function Bp(e){e.return!==null&&(Ys(e,1),px(e,1,0))}function Fp(e){for(;e===fh;)fh=ia[--sa],ia[sa]=null,dh=ia[--sa],ia[sa]=null;for(;e===nr;)nr=rn[--an],rn[an]=null,di=rn[--an],rn[an]=null,fi=rn[--an],rn[an]=null}var Ce=null,zt=null,ft=!1,ir=null,Un=!1,ng=Error(z(519));function lr(e){var t=Error(z(418,""));throw Sl(ln(t,e)),ng}function fv(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[xe]=e,t[Be]=i,n){case"dialog":nt("cancel",t),nt("close",t);break;case"iframe":case"object":case"embed":nt("load",t);break;case"video":case"audio":for(n=0;n<Il.length;n++)nt(Il[n],t);break;case"source":nt("error",t);break;case"img":case"image":case"link":nt("error",t),nt("load",t);break;case"details":nt("toggle",t);break;case"input":nt("invalid",t),Kw(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),ch(t);break;case"select":nt("invalid",t);break;case"textarea":nt("invalid",t),Qw(t,i.value,i.defaultValue,i.children),ch(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||XS(t.textContent,n)?(i.popover!=null&&(nt("beforetoggle",t),nt("toggle",t)),i.onScroll!=null&&nt("scroll",t),i.onScrollEnd!=null&&nt("scrollend",t),i.onClick!=null&&(t.onclick=Mf),t=!0):t=!1,t||lr(e)}function dv(e){for(Ce=e.return;Ce;)switch(Ce.tag){case 5:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ce=Ce.return}}function So(e){if(e!==Ce)return!1;if(!ft)return dv(e),ft=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ig(e.type,e.memoizedProps)),n=!n),n&&zt&&lr(e),dv(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){zt=xn(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}zt=null}}else t===27?(t=zt,Ls(e.type)?(e=Og,Og=null,zt=e):zt=t):zt=Ce?xn(e.stateNode.nextSibling):null;return!0}function sc(){zt=Ce=null,ft=!1}function mv(){var e=ir;return e!==null&&(Pe===null?Pe=e:Pe.push.apply(Pe,e),ir=null),e}function Sl(e){ir===null?ir=[e]:ir.push(e)}var ig=Wn(null),wr=null,mi=null;function $i(e,t,n){Nt(ig,t._currentValue),t._currentValue=n}function vi(e){e._currentValue=ig.current,oe(ig)}function sg(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function rg(e,t,n,i){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var r=s.dependencies;if(r!==null){var a=s.child;r=r.firstContext;t:for(;r!==null;){var o=r;r=s;for(var l=0;l<t.length;l++)if(o.context===t[l]){r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),sg(r.return,n,e),i||(a=null);break t}r=o.next}}else if(s.tag===18){if(a=s.return,a===null)throw Error(z(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),sg(a,n,e),a=null}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}}function rc(e,t,n,i){e=null;for(var s=t,r=!1;s!==null;){if(!r){if(s.flags&524288)r=!0;else if(s.flags&262144)break}if(s.tag===10){var a=s.alternate;if(a===null)throw Error(z(387));if(a=a.memoizedProps,a!==null){var o=s.type;tn(s.pendingProps.value,a.value)||(e!==null?e.push(o):e=[o])}}else if(s===rh.current){if(a=s.alternate,a===null)throw Error(z(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Ol):e=[Ol])}s=s.return}e!==null&&rg(t,e,n,i),t.flags|=262144}function mh(e){for(e=e.firstContext;e!==null;){if(!tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function cr(e){wr=e,mi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Se(e){return yx(wr,e)}function Xc(e,t){return wr===null&&cr(e),yx(e,t)}function yx(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},mi===null){if(e===null)throw Error(z(308));mi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else mi=mi.next=t;return n}var CD=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},DD=ee.unstable_scheduleCallback,OD=ee.unstable_NormalPriority,Zt={$$typeof:hi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hp(){return{controller:new CD,data:new Map,refCount:0}}function ac(e){e.refCount--,e.refCount===0&&DD(OD,function(){e.controller.abort()})}var Jo=null,ag=0,Sa=0,ha=null;function MD(e,t){if(Jo===null){var n=Jo=[];ag=0,Sa=fy(),ha={status:"pending",value:void 0,then:function(i){n.push(i)}}}return ag++,t.then(gv,gv),t}function gv(){if(--ag===0&&Jo!==null){ha!==null&&(ha.status="fulfilled");var e=Jo;Jo=null,Sa=0,ha=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function kD(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var pv=Q.S;Q.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&MD(e,t),pv!==null&&pv(e,t)};var sr=Wn(null);function qp(){var e=sr.current;return e!==null?e:Rt.pooledCache}function ku(e,t){t===null?Nt(sr,sr.current):Nt(sr,t.pool)}function _x(){var e=qp();return e===null?null:{parent:Zt._currentValue,pool:e}}var oc=Error(z(460)),vx=Error(z(474)),Sf=Error(z(542)),og={then:function(){}};function yv(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Zc(){}function bx(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Zc,Zc),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,vv(e),e;default:if(typeof t.status=="string")t.then(Zc,Zc);else{if(e=Rt,e!==null&&100<e.shellSuspendCounter)throw Error(z(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=i}},function(i){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,vv(e),e}throw tl=t,oc}}var tl=null;function _v(){if(tl===null)throw Error(z(459));var e=tl;return tl=null,e}function vv(e){if(e===oc||e===Sf)throw Error(z(483))}var Gi=!1;function Gp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function cs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function us(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,vt&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,t=hh(e),mx(e,null,n),t}return xf(e,i,t,n),hh(e)}function el(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Fw(e,n)}}function qd(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?s=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?s=r=t:r=r.next=t}else s=r=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var cg=!1;function nl(){if(cg){var e=ha;if(e!==null)throw e}}function il(e,t,n,i){cg=!1;var s=e.updateQueue;Gi=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?r=c:a.next=c,a=l;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(r!==null){var f=s.baseState;a=0,h=c=l=null,o=r;do{var d=o.lane&-536870913,g=d!==o.lane;if(g?(ot&d)===d:(i&d)===d){d!==0&&d===Sa&&(cg=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var v=e,E=o;d=t;var x=n;switch(E.tag){case 1:if(v=E.payload,typeof v=="function"){f=v.call(x,f,d);break t}f=v;break t;case 3:v.flags=v.flags&-65537|128;case 0:if(v=E.payload,d=typeof v=="function"?v.call(x,f,d):v,d==null)break t;f=Ot({},f,d);break t;case 2:Gi=!0}}d=o.callback,d!==null&&(e.flags|=64,g&&(e.flags|=8192),g=s.callbacks,g===null?s.callbacks=[d]:g.push(d))}else g={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=g,l=f):h=h.next=g,a|=d;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;g=o,o=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,r===null&&(s.shared.lanes=0),As|=a,e.lanes=a,e.memoizedState=f}}function Ex(e,t){if(typeof e!="function")throw Error(z(191,e));e.call(t)}function Tx(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ex(n[e],t)}var Aa=Wn(null),gh=Wn(0);function bv(e,t){e=Ai,Nt(gh,e),Nt(Aa,t),Ai=e|t.baseLanes}function ug(){Nt(gh,Ai),Nt(Aa,Aa.current)}function $p(){Ai=gh.current,oe(Aa),oe(gh)}var xs=0,et=null,Tt=null,Kt=null,ph=!1,fa=!1,ur=!1,yh=0,Al=0,da=null,ND=0;function Ft(){throw Error(z(321))}function Yp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tn(e[n],t[n]))return!1;return!0}function Kp(e,t,n,i,s,r){return xs=r,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q.H=e===null||e.memoizedState===null?Jx:tS,ur=!1,r=n(i,s),ur=!1,fa&&(r=xx(t,n,i,s)),wx(e),r}function wx(e){Q.H=_h;var t=Tt!==null&&Tt.next!==null;if(xs=0,Kt=Tt=et=null,ph=!1,Al=0,da=null,t)throw Error(z(300));e===null||ae||(e=e.dependencies,e!==null&&mh(e)&&(ae=!0))}function xx(e,t,n,i){et=e;var s=0;do{if(fa&&(da=null),Al=0,fa=!1,25<=s)throw Error(z(301));if(s+=1,Kt=Tt=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}Q.H=BD,r=t(n,i)}while(fa);return r}function PD(){var e=Q.H,t=e.useState()[0];return t=typeof t.then=="function"?lc(t):t,e=e.useState()[0],(Tt!==null?Tt.memoizedState:null)!==e&&(et.flags|=1024),t}function Wp(){var e=yh!==0;return yh=0,e}function Qp(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Xp(e){if(ph){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ph=!1}xs=0,Kt=Tt=et=null,fa=!1,Al=yh=0,da=null}function ke(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?et.memoizedState=Kt=e:Kt=Kt.next=e,Kt}function Qt(){if(Tt===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=Tt.next;var t=Kt===null?et.memoizedState:Kt.next;if(t!==null)Kt=t,Tt=e;else{if(e===null)throw et.alternate===null?Error(z(467)):Error(z(310));Tt=e,e={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Kt===null?et.memoizedState=Kt=e:Kt=Kt.next=e}return Kt}function Zp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lc(e){var t=Al;return Al+=1,da===null&&(da=[]),e=bx(da,e,t),t=et,(Kt===null?t.memoizedState:Kt.next)===null&&(t=t.alternate,Q.H=t===null||t.memoizedState===null?Jx:tS),e}function Af(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return lc(e);if(e.$$typeof===hi)return Se(e)}throw Error(z(438,String(e)))}function Jp(e){var t=null,n=et.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=et.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Zp(),et.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=vC;return t.index++,n}function xi(e,t){return typeof t=="function"?t(e):t}function Nu(e){var t=Qt();return ty(t,Tt,e)}function ty(e,t,n){var i=e.queue;if(i===null)throw Error(z(311));i.lastRenderedReducer=n;var s=e.baseQueue,r=i.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}t.baseQueue=s=r,i.pending=null}if(r=e.baseState,s===null)e.memoizedState=r;else{t=s.next;var o=a=null,l=null,c=t,h=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(ot&f)===f:(xs&f)===f){var d=c.revertLane;if(d===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===Sa&&(h=!0);else if((xs&d)===d){c=c.next,d===Sa&&(h=!0);continue}else f={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=f,a=r):l=l.next=f,et.lanes|=d,As|=d;f=c.action,ur&&n(r,f),r=c.hasEagerState?c.eagerState:n(r,f)}else d={lane:f,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=d,a=r):l=l.next=d,et.lanes|=f,As|=f;c=c.next}while(c!==null&&c!==t);if(l===null?a=r:l.next=o,!tn(r,e.memoizedState)&&(ae=!0,h&&(n=ha,n!==null)))throw n;e.memoizedState=r,e.baseState=a,e.baseQueue=l,i.lastRenderedState=r}return s===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Gd(e){var t=Qt(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,r=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do r=e(r,a.action),a=a.next;while(a!==s);tn(r,t.memoizedState)||(ae=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function Sx(e,t,n){var i=et,s=Qt(),r=ft;if(r){if(n===void 0)throw Error(z(407));n=n()}else n=t();var a=!tn((Tt||s).memoizedState,n);a&&(s.memoizedState=n,ae=!0),s=s.queue;var o=Ix.bind(null,i,s,e);if(cc(2048,8,o,[e]),s.getSnapshot!==t||a||Kt!==null&&Kt.memoizedState.tag&1){if(i.flags|=2048,Ra(9,Rf(),Rx.bind(null,i,s,n,t),null),Rt===null)throw Error(z(349));r||xs&124||Ax(i,t,n)}return n}function Ax(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=et.updateQueue,t===null?(t=Zp(),et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Rx(e,t,n,i){t.value=n,t.getSnapshot=i,Cx(t)&&Dx(e)}function Ix(e,t,n){return n(function(){Cx(t)&&Dx(e)})}function Cx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tn(e,n)}catch{return!0}}function Dx(e){var t=Ga(e,2);t!==null&&Ze(t,e,2)}function hg(e){var t=ke();if(typeof e=="function"){var n=e;if(e=n(),ur){ts(!0);try{n()}finally{ts(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},t}function Ox(e,t,n,i){return e.baseState=n,ty(e,Tt,typeof i=="function"?i:xi)}function LD(e,t,n,i,s){if(If(e))throw Error(z(485));if(e=t.action,e!==null){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};Q.T!==null?n(!0):r.isTransition=!1,i(r),n=t.pending,n===null?(r.next=t.pending=r,Mx(t,r)):(r.next=n.next,t.pending=n.next=r)}}function Mx(e,t){var n=t.action,i=t.payload,s=e.state;if(t.isTransition){var r=Q.T,a={};Q.T=a;try{var o=n(s,i),l=Q.S;l!==null&&l(a,o),Ev(e,t,o)}catch(c){fg(e,t,c)}finally{Q.T=r}}else try{r=n(s,i),Ev(e,t,r)}catch(c){fg(e,t,c)}}function Ev(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Tv(e,t,i)},function(i){return fg(e,t,i)}):Tv(e,t,n)}function Tv(e,t,n){t.status="fulfilled",t.value=n,kx(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Mx(e,n)))}function fg(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,kx(t),t=t.next;while(t!==i)}e.action=null}function kx(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Nx(e,t){return t}function wv(e,t){if(ft){var n=Rt.formState;if(n!==null){t:{var i=et;if(ft){if(zt){e:{for(var s=zt,r=Un;s.nodeType!==8;){if(!r){s=null;break e}if(s=xn(s.nextSibling),s===null){s=null;break e}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){zt=xn(s.nextSibling),i=s.data==="F!";break t}}lr(i)}i=!1}i&&(t=n[0])}}return n=ke(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nx,lastRenderedState:t},n.queue=i,n=Qx.bind(null,et,i),i.dispatch=n,i=hg(!1),r=sy.bind(null,et,!1,i.queue),i=ke(),s={state:t,dispatch:null,action:e,pending:null},i.queue=s,n=LD.bind(null,et,s,r,n),s.dispatch=n,i.memoizedState=e,[t,n,!1]}function xv(e){var t=Qt();return Px(t,Tt,e)}function Px(e,t,n){if(t=ty(e,t,Nx)[0],e=Nu(xi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=lc(t)}catch(a){throw a===oc?Sf:a}else i=t;t=Qt();var s=t.queue,r=s.dispatch;return n!==t.memoizedState&&(et.flags|=2048,Ra(9,Rf(),VD.bind(null,s,n),null)),[i,r,e]}function VD(e,t){e.action=t}function Sv(e){var t=Qt(),n=Tt;if(n!==null)return Px(t,n,e);Qt(),t=t.memoizedState,n=Qt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Ra(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=et.updateQueue,t===null&&(t=Zp(),et.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Rf(){return{destroy:void 0,resource:void 0}}function Lx(){return Qt().memoizedState}function Pu(e,t,n,i){var s=ke();i=i===void 0?null:i,et.flags|=e,s.memoizedState=Ra(1|t,Rf(),n,i)}function cc(e,t,n,i){var s=Qt();i=i===void 0?null:i;var r=s.memoizedState.inst;Tt!==null&&i!==null&&Yp(i,Tt.memoizedState.deps)?s.memoizedState=Ra(t,r,n,i):(et.flags|=e,s.memoizedState=Ra(1|t,r,n,i))}function Av(e,t){Pu(8390656,8,e,t)}function Vx(e,t){cc(2048,8,e,t)}function Ux(e,t){return cc(4,2,e,t)}function jx(e,t){return cc(4,4,e,t)}function zx(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bx(e,t,n){n=n!=null?n.concat([e]):null,cc(4,4,zx.bind(null,t,e),n)}function ey(){}function Fx(e,t){var n=Qt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Yp(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Hx(e,t){var n=Qt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Yp(t,i[1]))return i[0];if(i=e(),ur){ts(!0);try{e()}finally{ts(!1)}}return n.memoizedState=[i,t],i}function ny(e,t,n){return n===void 0||xs&1073741824?e.memoizedState=t:(e.memoizedState=n,e=kS(),et.lanes|=e,As|=e,n)}function qx(e,t,n,i){return tn(n,t)?n:Aa.current!==null?(e=ny(e,n,i),tn(e,t)||(ae=!0),e):xs&42?(e=kS(),et.lanes|=e,As|=e,t):(ae=!0,e.memoizedState=n)}function Gx(e,t,n,i,s){var r=dt.p;dt.p=r!==0&&8>r?r:8;var a=Q.T,o={};Q.T=o,sy(e,!1,t,n);try{var l=s(),c=Q.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=kD(l,i);sl(e,t,h,Xe(e))}else sl(e,t,i,Xe(e))}catch(f){sl(e,t,{then:function(){},status:"rejected",reason:f},Xe())}finally{dt.p=r,Q.T=a}}function UD(){}function dg(e,t,n,i){if(e.tag!==5)throw Error(z(476));var s=$x(e).queue;Gx(e,s,t,tr,n===null?UD:function(){return Yx(e),n(i)})}function $x(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:tr,baseState:tr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:tr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Yx(e){var t=$x(e).next.queue;sl(e,t,{},Xe())}function iy(){return Se(Ol)}function Kx(){return Qt().memoizedState}function Wx(){return Qt().memoizedState}function jD(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Xe();e=cs(n);var i=us(t,e,n);i!==null&&(Ze(i,t,n),el(i,t,n)),t={cache:Hp()},e.payload=t;return}t=t.return}}function zD(e,t,n){var i=Xe();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},If(e)?Xx(t,n):(n=jp(e,t,n,i),n!==null&&(Ze(n,e,i),Zx(n,t,i)))}function Qx(e,t,n){var i=Xe();sl(e,t,n,i)}function sl(e,t,n,i){var s={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(If(e))Xx(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var a=t.lastRenderedState,o=r(a,n);if(s.hasEagerState=!0,s.eagerState=o,tn(o,a))return xf(e,t,s,0),Rt===null&&wf(),!1}catch{}finally{}if(n=jp(e,t,s,i),n!==null)return Ze(n,e,i),Zx(n,t,i),!0}return!1}function sy(e,t,n,i){if(i={lane:2,revertLane:fy(),action:i,hasEagerState:!1,eagerState:null,next:null},If(e)){if(t)throw Error(z(479))}else t=jp(e,n,i,2),t!==null&&Ze(t,e,2)}function If(e){var t=e.alternate;return e===et||t!==null&&t===et}function Xx(e,t){fa=ph=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zx(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Fw(e,n)}}var _h={readContext:Se,use:Af,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft},Jx={readContext:Se,use:Af,useCallback:function(e,t){return ke().memoizedState=[e,t===void 0?null:t],e},useContext:Se,useEffect:Av,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Pu(4194308,4,zx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pu(4194308,4,e,t)},useInsertionEffect:function(e,t){Pu(4,2,e,t)},useMemo:function(e,t){var n=ke();t=t===void 0?null:t;var i=e();if(ur){ts(!0);try{e()}finally{ts(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=ke();if(n!==void 0){var s=n(t);if(ur){ts(!0);try{n(t)}finally{ts(!1)}}}else s=t;return i.memoizedState=i.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},i.queue=e,e=e.dispatch=zD.bind(null,et,e),[i.memoizedState,e]},useRef:function(e){var t=ke();return e={current:e},t.memoizedState=e},useState:function(e){e=hg(e);var t=e.queue,n=Qx.bind(null,et,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ey,useDeferredValue:function(e,t){var n=ke();return ny(n,e,t)},useTransition:function(){var e=hg(!1);return e=Gx.bind(null,et,e.queue,!0,!1),ke().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=et,s=ke();if(ft){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),Rt===null)throw Error(z(349));ot&124||Ax(i,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,Av(Ix.bind(null,i,r,e),[e]),i.flags|=2048,Ra(9,Rf(),Rx.bind(null,i,r,n,t),null),n},useId:function(){var e=ke(),t=Rt.identifierPrefix;if(ft){var n=di,i=fi;n=(i&~(1<<32-Qe(i)-1)).toString(32)+n,t=""+t+"R"+n,n=yh++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=ND++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:iy,useFormState:wv,useActionState:wv,useOptimistic:function(e){var t=ke();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=sy.bind(null,et,!0,n),n.dispatch=t,[e,t]},useMemoCache:Jp,useCacheRefresh:function(){return ke().memoizedState=jD.bind(null,et)}},tS={readContext:Se,use:Af,useCallback:Fx,useContext:Se,useEffect:Vx,useImperativeHandle:Bx,useInsertionEffect:Ux,useLayoutEffect:jx,useMemo:Hx,useReducer:Nu,useRef:Lx,useState:function(){return Nu(xi)},useDebugValue:ey,useDeferredValue:function(e,t){var n=Qt();return qx(n,Tt.memoizedState,e,t)},useTransition:function(){var e=Nu(xi)[0],t=Qt().memoizedState;return[typeof e=="boolean"?e:lc(e),t]},useSyncExternalStore:Sx,useId:Kx,useHostTransitionStatus:iy,useFormState:xv,useActionState:xv,useOptimistic:function(e,t){var n=Qt();return Ox(n,Tt,e,t)},useMemoCache:Jp,useCacheRefresh:Wx},BD={readContext:Se,use:Af,useCallback:Fx,useContext:Se,useEffect:Vx,useImperativeHandle:Bx,useInsertionEffect:Ux,useLayoutEffect:jx,useMemo:Hx,useReducer:Gd,useRef:Lx,useState:function(){return Gd(xi)},useDebugValue:ey,useDeferredValue:function(e,t){var n=Qt();return Tt===null?ny(n,e,t):qx(n,Tt.memoizedState,e,t)},useTransition:function(){var e=Gd(xi)[0],t=Qt().memoizedState;return[typeof e=="boolean"?e:lc(e),t]},useSyncExternalStore:Sx,useId:Kx,useHostTransitionStatus:iy,useFormState:Sv,useActionState:Sv,useOptimistic:function(e,t){var n=Qt();return Tt!==null?Ox(n,Tt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Jp,useCacheRefresh:Wx},ma=null,Rl=0;function Jc(e){var t=Rl;return Rl+=1,ma===null&&(ma=[]),bx(ma,e,t)}function Ao(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function tu(e,t){throw t.$$typeof===yC?Error(z(525)):(e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Rv(e){var t=e._init;return t(e._payload)}function eS(e){function t(_,y){if(e){var T=_.deletions;T===null?(_.deletions=[y],_.flags|=16):T.push(y)}}function n(_,y){if(!e)return null;for(;y!==null;)t(_,y),y=y.sibling;return null}function i(_){for(var y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function s(_,y){return _=_i(_,y),_.index=0,_.sibling=null,_}function r(_,y,T){return _.index=T,e?(T=_.alternate,T!==null?(T=T.index,T<y?(_.flags|=67108866,y):T):(_.flags|=67108866,y)):(_.flags|=1048576,y)}function a(_){return e&&_.alternate===null&&(_.flags|=67108866),_}function o(_,y,T,M){return y===null||y.tag!==6?(y=Fd(T,_.mode,M),y.return=_,y):(y=s(y,T),y.return=_,y)}function l(_,y,T,M){var C=T.type;return C===Kr?h(_,y,T.props.children,M,T.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===qi&&Rv(C)===y.type)?(y=s(y,T.props),Ao(y,T),y.return=_,y):(y=Mu(T.type,T.key,T.props,null,_.mode,M),Ao(y,T),y.return=_,y)}function c(_,y,T,M){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=Hd(T,_.mode,M),y.return=_,y):(y=s(y,T.children||[]),y.return=_,y)}function h(_,y,T,M,C){return y===null||y.tag!==7?(y=er(T,_.mode,M,C),y.return=_,y):(y=s(y,T),y.return=_,y)}function f(_,y,T){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Fd(""+y,_.mode,T),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case $c:return T=Mu(y.type,y.key,y.props,null,_.mode,T),Ao(T,y),T.return=_,T;case Lo:return y=Hd(y,_.mode,T),y.return=_,y;case qi:var M=y._init;return y=M(y._payload),f(_,y,T)}if(Vo(y)||To(y))return y=er(y,_.mode,T,null),y.return=_,y;if(typeof y.then=="function")return f(_,Jc(y),T);if(y.$$typeof===hi)return f(_,Xc(_,y),T);tu(_,y)}return null}function d(_,y,T,M){var C=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return C!==null?null:o(_,y,""+T,M);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case $c:return T.key===C?l(_,y,T,M):null;case Lo:return T.key===C?c(_,y,T,M):null;case qi:return C=T._init,T=C(T._payload),d(_,y,T,M)}if(Vo(T)||To(T))return C!==null?null:h(_,y,T,M,null);if(typeof T.then=="function")return d(_,y,Jc(T),M);if(T.$$typeof===hi)return d(_,y,Xc(_,T),M);tu(_,T)}return null}function g(_,y,T,M,C){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return _=_.get(T)||null,o(y,_,""+M,C);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case $c:return _=_.get(M.key===null?T:M.key)||null,l(y,_,M,C);case Lo:return _=_.get(M.key===null?T:M.key)||null,c(y,_,M,C);case qi:var L=M._init;return M=L(M._payload),g(_,y,T,M,C)}if(Vo(M)||To(M))return _=_.get(T)||null,h(y,_,M,C,null);if(typeof M.then=="function")return g(_,y,T,Jc(M),C);if(M.$$typeof===hi)return g(_,y,T,Xc(y,M),C);tu(y,M)}return null}function v(_,y,T,M){for(var C=null,L=null,S=y,b=y=0,R=null;S!==null&&b<T.length;b++){S.index>b?(R=S,S=null):R=S.sibling;var I=d(_,S,T[b],M);if(I===null){S===null&&(S=R);break}e&&S&&I.alternate===null&&t(_,S),y=r(I,y,b),L===null?C=I:L.sibling=I,L=I,S=R}if(b===T.length)return n(_,S),ft&&Ys(_,b),C;if(S===null){for(;b<T.length;b++)S=f(_,T[b],M),S!==null&&(y=r(S,y,b),L===null?C=S:L.sibling=S,L=S);return ft&&Ys(_,b),C}for(S=i(S);b<T.length;b++)R=g(S,_,b,T[b],M),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?b:R.key),y=r(R,y,b),L===null?C=R:L.sibling=R,L=R);return e&&S.forEach(function(O){return t(_,O)}),ft&&Ys(_,b),C}function E(_,y,T,M){if(T==null)throw Error(z(151));for(var C=null,L=null,S=y,b=y=0,R=null,I=T.next();S!==null&&!I.done;b++,I=T.next()){S.index>b?(R=S,S=null):R=S.sibling;var O=d(_,S,I.value,M);if(O===null){S===null&&(S=R);break}e&&S&&O.alternate===null&&t(_,S),y=r(O,y,b),L===null?C=O:L.sibling=O,L=O,S=R}if(I.done)return n(_,S),ft&&Ys(_,b),C;if(S===null){for(;!I.done;b++,I=T.next())I=f(_,I.value,M),I!==null&&(y=r(I,y,b),L===null?C=I:L.sibling=I,L=I);return ft&&Ys(_,b),C}for(S=i(S);!I.done;b++,I=T.next())I=g(S,_,b,I.value,M),I!==null&&(e&&I.alternate!==null&&S.delete(I.key===null?b:I.key),y=r(I,y,b),L===null?C=I:L.sibling=I,L=I);return e&&S.forEach(function(k){return t(_,k)}),ft&&Ys(_,b),C}function x(_,y,T,M){if(typeof T=="object"&&T!==null&&T.type===Kr&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case $c:t:{for(var C=T.key;y!==null;){if(y.key===C){if(C=T.type,C===Kr){if(y.tag===7){n(_,y.sibling),M=s(y,T.props.children),M.return=_,_=M;break t}}else if(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===qi&&Rv(C)===y.type){n(_,y.sibling),M=s(y,T.props),Ao(M,T),M.return=_,_=M;break t}n(_,y);break}else t(_,y);y=y.sibling}T.type===Kr?(M=er(T.props.children,_.mode,M,T.key),M.return=_,_=M):(M=Mu(T.type,T.key,T.props,null,_.mode,M),Ao(M,T),M.return=_,_=M)}return a(_);case Lo:t:{for(C=T.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(_,y.sibling),M=s(y,T.children||[]),M.return=_,_=M;break t}else{n(_,y);break}else t(_,y);y=y.sibling}M=Hd(T,_.mode,M),M.return=_,_=M}return a(_);case qi:return C=T._init,T=C(T._payload),x(_,y,T,M)}if(Vo(T))return v(_,y,T,M);if(To(T)){if(C=To(T),typeof C!="function")throw Error(z(150));return T=C.call(T),E(_,y,T,M)}if(typeof T.then=="function")return x(_,y,Jc(T),M);if(T.$$typeof===hi)return x(_,y,Xc(_,T),M);tu(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,y!==null&&y.tag===6?(n(_,y.sibling),M=s(y,T),M.return=_,_=M):(n(_,y),M=Fd(T,_.mode,M),M.return=_,_=M),a(_)):n(_,y)}return function(_,y,T,M){try{Rl=0;var C=x(_,y,T,M);return ma=null,C}catch(S){if(S===oc||S===Sf)throw S;var L=Ke(29,S,null,_.mode);return L.lanes=M,L.return=_,L}finally{}}}var Ia=eS(!0),nS=eS(!1),mn=Wn(null),Fn=null;function Yi(e){var t=e.alternate;Nt(Jt,Jt.current&1),Nt(mn,e),Fn===null&&(t===null||Aa.current!==null||t.memoizedState!==null)&&(Fn=e)}function iS(e){if(e.tag===22){if(Nt(Jt,Jt.current),Nt(mn,e),Fn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Fn=e)}}else Ki()}function Ki(){Nt(Jt,Jt.current),Nt(mn,mn.current)}function gi(e){oe(mn),Fn===e&&(Fn=null),oe(Jt)}var Jt=Wn(0);function vh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Dg(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function $d(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Ot({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var mg={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Xe(),s=cs(i);s.payload=t,n!=null&&(s.callback=n),t=us(e,s,i),t!==null&&(Ze(t,e,i),el(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Xe(),s=cs(i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=us(e,s,i),t!==null&&(Ze(t,e,i),el(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xe(),i=cs(n);i.tag=2,t!=null&&(i.callback=t),t=us(e,i,n),t!==null&&(Ze(t,e,n),el(t,e,n))}};function Iv(e,t,n,i,s,r,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,a):t.prototype&&t.prototype.isPureReactComponent?!xl(n,i)||!xl(s,r):!0}function Cv(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&mg.enqueueReplaceState(t,t.state,null)}function hr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Ot({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}var bh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function sS(e){bh(e)}function rS(e){console.error(e)}function aS(e){bh(e)}function Eh(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Dv(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function gg(e,t,n){return n=cs(n),n.tag=3,n.payload={element:null},n.callback=function(){Eh(e,t)},n}function oS(e){return e=cs(e),e.tag=3,e}function lS(e,t,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=i.value;e.payload=function(){return s(r)},e.callback=function(){Dv(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){Dv(t,n,i),typeof s!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function FD(e,t,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&rc(t,n,s,!0),n=mn.current,n!==null){switch(n.tag){case 13:return Fn===null?wg():n.alternate===null&&Bt===0&&(Bt=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===og?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),im(e,i,s)),!1;case 22:return n.flags|=65536,i===og?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),im(e,i,s)),!1}throw Error(z(435,n.tag))}return im(e,i,s),wg(),!1}if(ft)return t=mn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==ng&&(e=Error(z(422),{cause:i}),Sl(ln(e,n)))):(i!==ng&&(t=Error(z(423),{cause:i}),Sl(ln(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,i=ln(i,n),s=gg(e.stateNode,i,s),qd(e,s),Bt!==4&&(Bt=2)),!1;var r=Error(z(520),{cause:i});if(r=ln(r,n),ol===null?ol=[r]:ol.push(r),Bt!==4&&(Bt=2),t===null)return!0;i=ln(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=gg(n.stateNode,i,e),qd(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(hs===null||!hs.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,s=oS(s),lS(s,e,n,i),qd(n,s),!1}n=n.return}while(n!==null);return!1}var cS=Error(z(461)),ae=!1;function he(e,t,n,i){t.child=e===null?nS(t,null,n,i):Ia(t,e.child,n,i)}function Ov(e,t,n,i,s){n=n.render;var r=t.ref;if("ref"in i){var a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}else a=i;return cr(t),i=Kp(e,t,n,a,r,s),o=Wp(),e!==null&&!ae?(Qp(e,t,s),Si(e,t,s)):(ft&&o&&Bp(t),t.flags|=1,he(e,t,i,s),t.child)}function Mv(e,t,n,i,s){if(e===null){var r=n.type;return typeof r=="function"&&!zp(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,uS(e,t,r,i,s)):(e=Mu(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!ry(e,s)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:xl,n(a,i)&&e.ref===t.ref)return Si(e,t,s)}return t.flags|=1,e=_i(r,i),e.ref=t.ref,e.return=t,t.child=e}function uS(e,t,n,i,s){if(e!==null){var r=e.memoizedProps;if(xl(r,i)&&e.ref===t.ref)if(ae=!1,t.pendingProps=i=r,ry(e,s))e.flags&131072&&(ae=!0);else return t.lanes=e.lanes,Si(e,t,s)}return pg(e,t,n,i,s)}function hS(e,t,n){var i=t.pendingProps,s=i.children,r=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=r!==null?r.baseLanes|n:n,e!==null){for(s=t.child=e.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;t.childLanes=r&~i}else t.childLanes=0,t.child=null;return kv(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ku(t,r!==null?r.cachePool:null),r!==null?bv(t,r):ug(),iS(t);else return t.lanes=t.childLanes=536870912,kv(e,t,r!==null?r.baseLanes|n:n,n)}else r!==null?(ku(t,r.cachePool),bv(t,r),Ki(),t.memoizedState=null):(e!==null&&ku(t,null),ug(),Ki());return he(e,t,s,n),t.child}function kv(e,t,n,i){var s=qp();return s=s===null?null:{parent:Zt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&ku(t,null),ug(),iS(t),e!==null&&rc(e,t,i,!0),null}function Lu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(z(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function pg(e,t,n,i,s){return cr(t),n=Kp(e,t,n,i,void 0,s),i=Wp(),e!==null&&!ae?(Qp(e,t,s),Si(e,t,s)):(ft&&i&&Bp(t),t.flags|=1,he(e,t,n,s),t.child)}function Nv(e,t,n,i,s,r){return cr(t),t.updateQueue=null,n=xx(t,i,n,s),wx(e),i=Wp(),e!==null&&!ae?(Qp(e,t,r),Si(e,t,r)):(ft&&i&&Bp(t),t.flags|=1,he(e,t,n,r),t.child)}function Pv(e,t,n,i,s){if(cr(t),t.stateNode===null){var r=na,a=n.contextType;typeof a=="object"&&a!==null&&(r=Se(a)),r=new n(i,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=mg,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=i,r.state=t.memoizedState,r.refs={},Gp(t),a=n.contextType,r.context=typeof a=="object"&&a!==null?Se(a):na,r.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&($d(t,n,a,i),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&mg.enqueueReplaceState(r,r.state,null),il(t,i,r,s),nl(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){r=t.stateNode;var o=t.memoizedProps,l=hr(n,o);r.props=l;var c=r.context,h=n.contextType;a=na,typeof h=="object"&&h!==null&&(a=Se(h));var f=n.getDerivedStateFromProps;h=typeof f=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,h||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||c!==a)&&Cv(t,r,i,a),Gi=!1;var d=t.memoizedState;r.state=d,il(t,i,r,s),nl(),c=t.memoizedState,o||d!==c||Gi?(typeof f=="function"&&($d(t,n,f,i),c=t.memoizedState),(l=Gi||Iv(t,n,l,i,d,c,a))?(h||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),r.props=i,r.state=c,r.context=a,i=l):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,lg(e,t),a=t.memoizedProps,h=hr(n,a),r.props=h,f=t.pendingProps,d=r.context,c=n.contextType,l=na,typeof c=="object"&&c!==null&&(l=Se(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==f||d!==l)&&Cv(t,r,i,l),Gi=!1,d=t.memoizedState,r.state=d,il(t,i,r,s),nl();var g=t.memoizedState;a!==f||d!==g||Gi||e!==null&&e.dependencies!==null&&mh(e.dependencies)?(typeof o=="function"&&($d(t,n,o,i),g=t.memoizedState),(h=Gi||Iv(t,n,h,i,d,g,l)||e!==null&&e.dependencies!==null&&mh(e.dependencies))?(c||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,g,l),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,g,l)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),r.props=i,r.state=g,r.context=l,i=h):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,Lu(e,t),i=(t.flags&128)!==0,r||i?(r=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&i?(t.child=Ia(t,e.child,null,s),t.child=Ia(t,null,n,s)):he(e,t,n,s),t.memoizedState=r.state,e=t.child):e=Si(e,t,s),e}function Lv(e,t,n,i){return sc(),t.flags|=256,he(e,t,n,i),t.child}var Yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kd(e){return{baseLanes:e,cachePool:_x()}}function Wd(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=hn),e}function fS(e,t,n){var i=t.pendingProps,s=!1,r=(t.flags&128)!==0,a;if((a=r)||(a=e!==null&&e.memoizedState===null?!1:(Jt.current&2)!==0),a&&(s=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(ft){if(s?Yi(t):Ki(),ft){var o=zt,l;if(l=o){t:{for(l=o,o=Un;l.nodeType!==8;){if(!o){o=null;break t}if(l=xn(l.nextSibling),l===null){o=null;break t}}o=l}o!==null?(t.memoizedState={dehydrated:o,treeContext:nr!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},l=Ke(18,null,null,0),l.stateNode=o,l.return=t,t.child=l,Ce=t,zt=null,l=!0):l=!1}l||lr(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return Dg(o)?t.lanes=32:t.lanes=536870912,null;gi(t)}return o=i.children,i=i.fallback,s?(Ki(),s=t.mode,o=Th({mode:"hidden",children:o},s),i=er(i,s,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,s=t.child,s.memoizedState=Kd(n),s.childLanes=Wd(e,a,n),t.memoizedState=Yd,i):(Yi(t),yg(t,o))}if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(r)t.flags&256?(Yi(t),t.flags&=-257,t=Qd(e,t,n)):t.memoizedState!==null?(Ki(),t.child=e.child,t.flags|=128,t=null):(Ki(),s=i.fallback,o=t.mode,i=Th({mode:"visible",children:i.children},o),s=er(s,o,n,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,Ia(t,e.child,null,n),i=t.child,i.memoizedState=Kd(n),i.childLanes=Wd(e,a,n),t.memoizedState=Yd,t=s);else if(Yi(t),Dg(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(z(419)),i.stack="",i.digest=a,Sl({value:i,source:null,stack:null}),t=Qd(e,t,n)}else if(ae||rc(e,t,n,!1),a=(n&e.childLanes)!==0,ae||a){if(a=Rt,a!==null&&(i=n&-n,i=i&42?1:Cp(i),i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==l.retryLane))throw l.retryLane=i,Ga(e,i),Ze(a,e,i),cS;o.data==="$?"||wg(),t=Qd(e,t,n)}else o.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,zt=xn(o.nextSibling),Ce=t,ft=!0,ir=null,Un=!1,e!==null&&(rn[an++]=fi,rn[an++]=di,rn[an++]=nr,fi=e.id,di=e.overflow,nr=t),t=yg(t,i.children),t.flags|=4096);return t}return s?(Ki(),s=i.fallback,o=t.mode,l=e.child,c=l.sibling,i=_i(l,{mode:"hidden",children:i.children}),i.subtreeFlags=l.subtreeFlags&65011712,c!==null?s=_i(c,s):(s=er(s,o,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,o=e.child.memoizedState,o===null?o=Kd(n):(l=o.cachePool,l!==null?(c=Zt._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=_x(),o={baseLanes:o.baseLanes|n,cachePool:l}),s.memoizedState=o,s.childLanes=Wd(e,a,n),t.memoizedState=Yd,i):(Yi(t),n=e.child,e=n.sibling,n=_i(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function yg(e,t){return t=Th({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Th(e,t){return e=Ke(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Qd(e,t,n){return Ia(t,e.child,null,n),e=yg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vv(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),sg(e.return,t,n)}function Xd(e,t,n,i,s){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function dS(e,t,n){var i=t.pendingProps,s=i.revealOrder,r=i.tail;if(he(e,t,i.children,n),i=Jt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vv(e,n,t);else if(e.tag===19)Vv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(Nt(Jt,i),s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&vh(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Xd(t,!1,s,n,r);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&vh(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Xd(t,!0,n,null,r);break;case"together":Xd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Si(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),As|=t.lanes,!(n&t.childLanes))if(e!==null){if(rc(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=_i(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_i(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ry(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&mh(e)))}function HD(e,t,n){switch(t.tag){case 3:ah(t,t.stateNode.containerInfo),$i(t,Zt,e.memoizedState.cache),sc();break;case 27:case 5:$m(t);break;case 4:ah(t,t.stateNode.containerInfo);break;case 10:$i(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Yi(t),t.flags|=128,null):n&t.child.childLanes?fS(e,t,n):(Yi(t),e=Si(e,t,n),e!==null?e.sibling:null);Yi(t);break;case 19:var s=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(rc(e,t,n,!1),i=(n&t.childLanes)!==0),s){if(i)return dS(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Nt(Jt,Jt.current),i)break;return null;case 22:case 23:return t.lanes=0,hS(e,t,n);case 24:$i(t,Zt,e.memoizedState.cache)}return Si(e,t,n)}function mS(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ae=!0;else{if(!ry(e,n)&&!(t.flags&128))return ae=!1,HD(e,t,n);ae=!!(e.flags&131072)}else ae=!1,ft&&t.flags&1048576&&px(t,dh,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,s=i._init;if(i=s(i._payload),t.type=i,typeof i=="function")zp(i)?(e=hr(i,e),t.tag=1,t=Pv(null,t,i,e,n)):(t.tag=0,t=pg(null,t,i,e,n));else{if(i!=null){if(s=i.$$typeof,s===Ap){t.tag=11,t=Ov(null,t,i,e,n);break t}else if(s===Rp){t.tag=14,t=Mv(null,t,i,e,n);break t}}throw t=qm(i)||i,Error(z(306,t,""))}}return t;case 0:return pg(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,s=hr(i,t.pendingProps),Pv(e,t,i,s,n);case 3:t:{if(ah(t,t.stateNode.containerInfo),e===null)throw Error(z(387));i=t.pendingProps;var r=t.memoizedState;s=r.element,lg(e,t),il(t,i,null,n);var a=t.memoizedState;if(i=a.cache,$i(t,Zt,i),i!==r.cache&&rg(t,[Zt],n,!0),nl(),i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=Lv(e,t,i,n);break t}else if(i!==s){s=ln(Error(z(424)),t),Sl(s),t=Lv(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(zt=xn(e.firstChild),Ce=t,ft=!0,ir=null,Un=!0,n=nS(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(sc(),i===s){t=Si(e,t,n);break t}he(e,t,i,n)}t=t.child}return t;case 26:return Lu(e,t),e===null?(n=tb(t.type,null,t.pendingProps,null))?t.memoizedState=n:ft||(n=t.type,e=t.pendingProps,i=Ch(ls.current).createElement(n),i[xe]=t,i[Be]=e,ge(i,n,e),se(i),t.stateNode=i):t.memoizedState=tb(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $m(t),e===null&&ft&&(i=t.stateNode=t1(t.type,t.pendingProps,ls.current),Ce=t,Un=!0,s=zt,Ls(t.type)?(Og=s,zt=xn(i.firstChild)):zt=s),he(e,t,t.pendingProps.children,n),Lu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ft&&((s=i=zt)&&(i=yO(i,t.type,t.pendingProps,Un),i!==null?(t.stateNode=i,Ce=t,zt=xn(i.firstChild),Un=!1,s=!0):s=!1),s||lr(t)),$m(t),s=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,i=r.children,Ig(s,r)?i=null:a!==null&&Ig(s,a)&&(t.flags|=32),t.memoizedState!==null&&(s=Kp(e,t,PD,null,null,n),Ol._currentValue=s),Lu(e,t),he(e,t,i,n),t.child;case 6:return e===null&&ft&&((e=n=zt)&&(n=_O(n,t.pendingProps,Un),n!==null?(t.stateNode=n,Ce=t,zt=null,e=!0):e=!1),e||lr(t)),null;case 13:return fS(e,t,n);case 4:return ah(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ia(t,null,i,n):he(e,t,i,n),t.child;case 11:return Ov(e,t,t.type,t.pendingProps,n);case 7:return he(e,t,t.pendingProps,n),t.child;case 8:return he(e,t,t.pendingProps.children,n),t.child;case 12:return he(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,$i(t,t.type,i.value),he(e,t,i.children,n),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,cr(t),s=Se(s),i=i(s),t.flags|=1,he(e,t,i,n),t.child;case 14:return Mv(e,t,t.type,t.pendingProps,n);case 15:return uS(e,t,t.type,t.pendingProps,n);case 19:return dS(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=Th(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=_i(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return hS(e,t,n);case 24:return cr(t),i=Se(Zt),e===null?(s=qp(),s===null&&(s=Rt,r=Hp(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=n),s=r),t.memoizedState={parent:i,cache:s},Gp(t),$i(t,Zt,s)):(e.lanes&n&&(lg(e,t),il(t,null,null,n),nl()),s=e.memoizedState,r=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),$i(t,Zt,i)):(i=r.cache,$i(t,Zt,i),i!==s.cache&&rg(t,[Zt],n,!0))),he(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(z(156,t.tag))}function ni(e){e.flags|=4}function Uv(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!i1(t)){if(t=mn.current,t!==null&&((ot&4194048)===ot?Fn!==null:(ot&62914560)!==ot&&!(ot&536870912)||t!==Fn))throw tl=og,vx;e.flags|=8192}}function eu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?zw():536870912,e.lanes|=t,Ca|=t)}function Ro(e,t){if(!ft)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function qD(e,t,n){var i=t.pendingProps;switch(Fp(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(t),null;case 1:return Lt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),vi(Zt),Ta(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(So(t)?ni(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mv())),Lt(t),null;case 26:return n=t.memoizedState,e===null?(ni(t),n!==null?(Lt(t),Uv(t,n)):(Lt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(ni(t),Lt(t),Uv(t,n)):(Lt(t),t.flags&=-16777217):(e.memoizedProps!==i&&ni(t),Lt(t),t.flags&=-16777217),null;case 27:oh(t),n=ls.current;var s=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ni(t);else{if(!i){if(t.stateNode===null)throw Error(z(166));return Lt(t),null}e=zn.current,So(t)?fv(t):(e=t1(s,i,n),t.stateNode=e,ni(t))}return Lt(t),null;case 5:if(oh(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ni(t);else{if(!i){if(t.stateNode===null)throw Error(z(166));return Lt(t),null}if(e=zn.current,So(t))fv(t);else{switch(s=Ch(ls.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?s.createElement(n,{is:i.is}):s.createElement(n)}}e[xe]=t,e[Be]=i;t:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break t;for(;s.sibling===null;){if(s.return===null||s.return===t)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;t:switch(ge(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ni(t)}}return Lt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&ni(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(z(166));if(e=ls.current,So(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,s=Ce,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}e[xe]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||XS(e.nodeValue,n)),e||lr(t)}else e=Ch(e).createTextNode(i),e[xe]=t,t.stateNode=e}return Lt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=So(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(z(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[xe]=t}else sc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Lt(t),s=!1}else s=mv(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(gi(t),t):(gi(t),null)}if(gi(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool);var r=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),eu(t,t.updateQueue),Lt(t),null;case 4:return Ta(),e===null&&dy(t.stateNode.containerInfo),Lt(t),null;case 10:return vi(t.type),Lt(t),null;case 19:if(oe(Jt),s=t.memoizedState,s===null)return Lt(t),null;if(i=(t.flags&128)!==0,r=s.rendering,r===null)if(i)Ro(s,!1);else{if(Bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=vh(e),r!==null){for(t.flags|=128,Ro(s,!1),e=r.updateQueue,t.updateQueue=e,eu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)gx(n,e),n=n.sibling;return Nt(Jt,Jt.current&1|2),t.child}e=e.sibling}s.tail!==null&&Bn()>xh&&(t.flags|=128,i=!0,Ro(s,!1),t.lanes=4194304)}else{if(!i)if(e=vh(r),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,eu(t,e),Ro(s,!0),s.tail===null&&s.tailMode==="hidden"&&!r.alternate&&!ft)return Lt(t),null}else 2*Bn()-s.renderingStartTime>xh&&n!==536870912&&(t.flags|=128,i=!0,Ro(s,!1),t.lanes=4194304);s.isBackwards?(r.sibling=t.child,t.child=r):(e=s.last,e!==null?e.sibling=r:t.child=r,s.last=r)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Bn(),t.sibling=null,e=Jt.current,Nt(Jt,i?e&1|2:e&1),t):(Lt(t),null);case 22:case 23:return gi(t),$p(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Lt(t),t.subtreeFlags&6&&(t.flags|=8192)):Lt(t),n=t.updateQueue,n!==null&&eu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&oe(sr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),vi(Zt),Lt(t),null;case 25:return null;case 30:return null}throw Error(z(156,t.tag))}function GD(e,t){switch(Fp(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vi(Zt),Ta(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return oh(t),null;case 13:if(gi(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));sc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(Jt),null;case 4:return Ta(),null;case 10:return vi(t.type),null;case 22:case 23:return gi(t),$p(),e!==null&&oe(sr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return vi(Zt),null;case 25:return null;default:return null}}function gS(e,t){switch(Fp(t),t.tag){case 3:vi(Zt),Ta();break;case 26:case 27:case 5:oh(t);break;case 4:Ta();break;case 13:gi(t);break;case 19:oe(Jt);break;case 10:vi(t.type);break;case 22:case 23:gi(t),$p(),e!==null&&oe(sr);break;case 24:vi(Zt)}}function uc(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&e)===e){i=void 0;var r=n.create,a=n.inst;i=r(),a.destroy=i}n=n.next}while(n!==s)}}catch(o){xt(t,t.return,o)}}function Ss(e,t,n){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&e)===e){var a=i.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,s=t;var l=n,c=o;try{c()}catch(h){xt(s,l,h)}}}i=i.next}while(i!==r)}}catch(h){xt(t,t.return,h)}}function pS(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Tx(t,n)}catch(i){xt(e,e.return,i)}}}function yS(e,t,n){n.props=hr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){xt(e,t,i)}}function rl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(s){xt(e,t,s)}}function jn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){xt(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){xt(e,t,s)}else n.current=null}function _S(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){xt(e,e.return,s)}}function Zd(e,t,n){try{var i=e.stateNode;fO(i,e.type,n,t),i[Be]=t}catch(s){xt(e,e.return,s)}}function vS(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ls(e.type)||e.tag===4}function Jd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||vS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ls(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _g(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Mf));else if(i!==4&&(i===27&&Ls(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(_g(e,t,n),e=e.sibling;e!==null;)_g(e,t,n),e=e.sibling}function wh(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Ls(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(wh(e,t,n),e=e.sibling;e!==null;)wh(e,t,n),e=e.sibling}function bS(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ge(t,i,n),t[xe]=e,t[Be]=n}catch(r){xt(e,e.return,r)}}var ui=!1,Ht=!1,tm=!1,jv=typeof WeakSet=="function"?WeakSet:Set,ie=null;function $D(e,t){if(e=e.containerInfo,Ag=kh,e=ox(e),Vp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break t}var a=0,o=-1,l=-1,c=0,h=0,f=e,d=null;e:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(o=a+s),f!==r||i!==0&&f.nodeType!==3||(l=a+i),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)d=f,f=g;for(;;){if(f===e)break e;if(d===n&&++c===s&&(o=a),d===r&&++h===i&&(l=a),(g=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=g}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rg={focusedElem:e,selectionRange:n},kh=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){switch(t=ie,r=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,n=t,s=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var v=hr(n.type,s,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(v,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(E){xt(n,n.return,E)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Cg(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cg(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(z(163))}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}}function ES(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:zi(e,n),i&4&&uc(5,n);break;case 1:if(zi(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){xt(n,n.return,a)}else{var s=hr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){xt(n,n.return,a)}}i&64&&pS(n),i&512&&rl(n,n.return);break;case 3:if(zi(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Tx(e,t)}catch(a){xt(n,n.return,a)}}break;case 27:t===null&&i&4&&bS(n);case 26:case 5:zi(e,n),t===null&&i&4&&_S(n),i&512&&rl(n,n.return);break;case 12:zi(e,n);break;case 13:zi(e,n),i&4&&xS(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=eO.bind(null,n),vO(e,n))));break;case 22:if(i=n.memoizedState!==null||ui,!i){t=t!==null&&t.memoizedState!==null||Ht,s=ui;var r=Ht;ui=i,(Ht=t)&&!r?Hi(e,n,(n.subtreeFlags&8772)!==0):zi(e,n),ui=s,Ht=r}break;case 30:break;default:zi(e,n)}}function TS(e){var t=e.alternate;t!==null&&(e.alternate=null,TS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Op(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Mt=null,Ne=!1;function ii(e,t,n){for(n=n.child;n!==null;)wS(e,t,n),n=n.sibling}function wS(e,t,n){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(Jl,n)}catch{}switch(n.tag){case 26:Ht||jn(n,t),ii(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ht||jn(n,t);var i=Mt,s=Ne;Ls(n.type)&&(Mt=n.stateNode,Ne=!1),ii(e,t,n),cl(n.stateNode),Mt=i,Ne=s;break;case 5:Ht||jn(n,t);case 6:if(i=Mt,s=Ne,Mt=null,ii(e,t,n),Mt=i,Ne=s,Mt!==null)if(Ne)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(n.stateNode)}catch(r){xt(n,t,r)}else try{Mt.removeChild(n.stateNode)}catch(r){xt(n,t,r)}break;case 18:Mt!==null&&(Ne?(e=Mt,Xv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Nl(e)):Xv(Mt,n.stateNode));break;case 4:i=Mt,s=Ne,Mt=n.stateNode.containerInfo,Ne=!0,ii(e,t,n),Mt=i,Ne=s;break;case 0:case 11:case 14:case 15:Ht||Ss(2,n,t),Ht||Ss(4,n,t),ii(e,t,n);break;case 1:Ht||(jn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&yS(n,t,i)),ii(e,t,n);break;case 21:ii(e,t,n);break;case 22:Ht=(i=Ht)||n.memoizedState!==null,ii(e,t,n),Ht=i;break;default:ii(e,t,n)}}function xS(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Nl(e)}catch(n){xt(t,t.return,n)}}function YD(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new jv),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new jv),t;default:throw Error(z(435,e.tag))}}function em(e,t){var n=YD(e);t.forEach(function(i){var s=nO.bind(null,e,i);n.has(i)||(n.add(i),i.then(s,s))})}function qe(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],r=e,a=t,o=a;t:for(;o!==null;){switch(o.tag){case 27:if(Ls(o.type)){Mt=o.stateNode,Ne=!1;break t}break;case 5:Mt=o.stateNode,Ne=!1;break t;case 3:case 4:Mt=o.stateNode.containerInfo,Ne=!0;break t}o=o.return}if(Mt===null)throw Error(z(160));wS(r,a,s),Mt=null,Ne=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)SS(t,e),t=t.sibling}var vn=null;function SS(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qe(t,e),Ge(e),i&4&&(Ss(3,e,e.return),uc(3,e),Ss(5,e,e.return));break;case 1:qe(t,e),Ge(e),i&512&&(Ht||n===null||jn(n,n.return)),i&64&&ui&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=vn;if(qe(t,e),Ge(e),i&512&&(Ht||n===null||jn(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,s=s.ownerDocument||s;e:switch(i){case"title":r=s.getElementsByTagName("title")[0],(!r||r[nc]||r[xe]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),ge(r,i,n),r[xe]=e,se(r),i=r;break t;case"link":var a=nb("link","href",s).get(i+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(r=a[o],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break e}}r=s.createElement(i),ge(r,i,n),s.head.appendChild(r);break;case"meta":if(a=nb("meta","content",s).get(i+(n.content||""))){for(o=0;o<a.length;o++)if(r=a[o],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break e}}r=s.createElement(i),ge(r,i,n),s.head.appendChild(r);break;default:throw Error(z(468,i))}r[xe]=e,se(r),i=r}e.stateNode=i}else ib(s,e.type,e.stateNode);else e.stateNode=eb(s,i,e.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?ib(s,e.type,e.stateNode):eb(s,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Zd(e,e.memoizedProps,n.memoizedProps)}break;case 27:qe(t,e),Ge(e),i&512&&(Ht||n===null||jn(n,n.return)),n!==null&&i&4&&Zd(e,e.memoizedProps,n.memoizedProps);break;case 5:if(qe(t,e),Ge(e),i&512&&(Ht||n===null||jn(n,n.return)),e.flags&32){s=e.stateNode;try{xa(s,"")}catch(g){xt(e,e.return,g)}}i&4&&e.stateNode!=null&&(s=e.memoizedProps,Zd(e,s,n!==null?n.memoizedProps:s)),i&1024&&(tm=!0);break;case 6:if(qe(t,e),Ge(e),i&4){if(e.stateNode===null)throw Error(z(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(g){xt(e,e.return,g)}}break;case 3:if(ju=null,s=vn,vn=Dh(t.containerInfo),qe(t,e),vn=s,Ge(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Nl(t.containerInfo)}catch(g){xt(e,e.return,g)}tm&&(tm=!1,AS(e));break;case 4:i=vn,vn=Dh(e.stateNode.containerInfo),qe(t,e),Ge(e),vn=i;break;case 12:qe(t,e),Ge(e);break;case 13:qe(t,e),Ge(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(uy=Bn()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,em(e,i)));break;case 22:s=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=ui,h=Ht;if(ui=c||s,Ht=h||l,qe(t,e),Ht=h,ui=c,Ge(e),i&8192)t:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||l||ui||Ht||Ks(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(r=l.stateNode,s)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=l.stateNode;var f=l.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(g){xt(l,l.return,g)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=s?"":l.memoizedProps}catch(g){xt(l,l.return,g)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,em(e,n))));break;case 19:qe(t,e),Ge(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,em(e,i)));break;case 30:break;case 21:break;default:qe(t,e),Ge(e)}}function Ge(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(vS(i)){n=i;break}i=i.return}if(n==null)throw Error(z(160));switch(n.tag){case 27:var s=n.stateNode,r=Jd(e);wh(e,r,s);break;case 5:var a=n.stateNode;n.flags&32&&(xa(a,""),n.flags&=-33);var o=Jd(e);wh(e,o,a);break;case 3:case 4:var l=n.stateNode.containerInfo,c=Jd(e);_g(e,c,l);break;default:throw Error(z(161))}}catch(h){xt(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function AS(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;AS(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function zi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ES(e,t.alternate,t),t=t.sibling}function Ks(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ss(4,t,t.return),Ks(t);break;case 1:jn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&yS(t,t.return,n),Ks(t);break;case 27:cl(t.stateNode);case 26:case 5:jn(t,t.return),Ks(t);break;case 22:t.memoizedState===null&&Ks(t);break;case 30:Ks(t);break;default:Ks(t)}e=e.sibling}}function Hi(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,s=e,r=t,a=r.flags;switch(r.tag){case 0:case 11:case 15:Hi(s,r,n),uc(4,r);break;case 1:if(Hi(s,r,n),i=r,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(c){xt(i,i.return,c)}if(i=r,s=i.updateQueue,s!==null){var o=i.stateNode;try{var l=s.shared.hiddenCallbacks;if(l!==null)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)Ex(l[s],o)}catch(c){xt(i,i.return,c)}}n&&a&64&&pS(r),rl(r,r.return);break;case 27:bS(r);case 26:case 5:Hi(s,r,n),n&&i===null&&a&4&&_S(r),rl(r,r.return);break;case 12:Hi(s,r,n);break;case 13:Hi(s,r,n),n&&a&4&&xS(s,r);break;case 22:r.memoizedState===null&&Hi(s,r,n),rl(r,r.return);break;case 30:break;default:Hi(s,r,n)}t=t.sibling}}function ay(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ac(n))}function oy(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ac(e))}function kn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)RS(e,t,n,i),t=t.sibling}function RS(e,t,n,i){var s=t.flags;switch(t.tag){case 0:case 11:case 15:kn(e,t,n,i),s&2048&&uc(9,t);break;case 1:kn(e,t,n,i);break;case 3:kn(e,t,n,i),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ac(e)));break;case 12:if(s&2048){kn(e,t,n,i),e=t.stateNode;try{var r=t.memoizedProps,a=r.id,o=r.onPostCommit;typeof o=="function"&&o(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){xt(t,t.return,l)}}else kn(e,t,n,i);break;case 13:kn(e,t,n,i);break;case 23:break;case 22:r=t.stateNode,a=t.alternate,t.memoizedState!==null?r._visibility&2?kn(e,t,n,i):al(e,t):r._visibility&2?kn(e,t,n,i):(r._visibility|=2,Fr(e,t,n,i,(t.subtreeFlags&10256)!==0)),s&2048&&ay(a,t);break;case 24:kn(e,t,n,i),s&2048&&oy(t.alternate,t);break;default:kn(e,t,n,i)}}function Fr(e,t,n,i,s){for(s=s&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var r=e,a=t,o=n,l=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:Fr(r,a,o,l,s),uc(8,a);break;case 23:break;case 22:var h=a.stateNode;a.memoizedState!==null?h._visibility&2?Fr(r,a,o,l,s):al(r,a):(h._visibility|=2,Fr(r,a,o,l,s)),s&&c&2048&&ay(a.alternate,a);break;case 24:Fr(r,a,o,l,s),s&&c&2048&&oy(a.alternate,a);break;default:Fr(r,a,o,l,s)}t=t.sibling}}function al(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,s=i.flags;switch(i.tag){case 22:al(n,i),s&2048&&ay(i.alternate,i);break;case 24:al(n,i),s&2048&&oy(i.alternate,i);break;default:al(n,i)}t=t.sibling}}var jo=8192;function Vr(e){if(e.subtreeFlags&jo)for(e=e.child;e!==null;)IS(e),e=e.sibling}function IS(e){switch(e.tag){case 26:Vr(e),e.flags&jo&&e.memoizedState!==null&&MO(vn,e.memoizedState,e.memoizedProps);break;case 5:Vr(e);break;case 3:case 4:var t=vn;vn=Dh(e.stateNode.containerInfo),Vr(e),vn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=jo,jo=16777216,Vr(e),jo=t):Vr(e));break;default:Vr(e)}}function CS(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Io(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ie=i,OS(i,e)}CS(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)DS(e),e=e.sibling}function DS(e){switch(e.tag){case 0:case 11:case 15:Io(e),e.flags&2048&&Ss(9,e,e.return);break;case 3:Io(e);break;case 12:Io(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vu(e)):Io(e);break;default:Io(e)}}function Vu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ie=i,OS(i,e)}CS(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ss(8,t,t.return),Vu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Vu(t));break;default:Vu(t)}e=e.sibling}}function OS(e,t){for(;ie!==null;){var n=ie;switch(n.tag){case 0:case 11:case 15:Ss(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ac(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ie=i;else t:for(n=e;ie!==null;){i=ie;var s=i.sibling,r=i.return;if(TS(i),i===n){ie=null;break t}if(s!==null){s.return=r,ie=s;break t}ie=r}}}var KD={getCacheForType:function(e){var t=Se(Zt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},WD=typeof WeakMap=="function"?WeakMap:Map,vt=0,Rt=null,it=null,ot=0,pt=0,Ye=null,ns=!1,$a=!1,ly=!1,Ai=0,Bt=0,As=0,rr=0,cy=0,hn=0,Ca=0,ol=null,Pe=null,vg=!1,uy=0,xh=1/0,Sh=null,hs=null,de=0,fs=null,Da=null,ga=0,bg=0,Eg=null,MS=null,ll=0,Tg=null;function Xe(){if(vt&2&&ot!==0)return ot&-ot;if(Q.T!==null){var e=Sa;return e!==0?e:fy()}return Hw()}function kS(){hn===0&&(hn=!(ot&536870912)||ft?jw():536870912);var e=mn.current;return e!==null&&(e.flags|=32),hn}function Ze(e,t,n){(e===Rt&&(pt===2||pt===9)||e.cancelPendingCommit!==null)&&(Oa(e,0),is(e,ot,hn,!1)),ec(e,n),(!(vt&2)||e!==Rt)&&(e===Rt&&(!(vt&2)&&(rr|=n),Bt===4&&is(e,ot,hn,!1)),Qn(e))}function NS(e,t,n){if(vt&6)throw Error(z(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||tc(e,t),s=i?ZD(e,t):nm(e,t,!0),r=i;do{if(s===0){$a&&!i&&is(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!QD(n)){s=nm(e,t,!1),r=!1;continue}if(s===2){if(r=t,e.errorRecoveryDisabledLanes&r)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var o=e;s=ol;var l=o.current.memoizedState.isDehydrated;if(l&&(Oa(o,a).flags|=256),a=nm(o,a,!1),a!==2){if(ly&&!l){o.errorRecoveryDisabledLanes|=r,rr|=r,s=4;break t}r=Pe,Pe=s,r!==null&&(Pe===null?Pe=r:Pe.push.apply(Pe,r))}s=a}if(r=!1,s!==2)continue}}if(s===1){Oa(e,0),is(e,t,0,!0);break}t:{switch(i=e,r=s,r){case 0:case 1:throw Error(z(345));case 4:if((t&4194048)!==t)break;case 6:is(i,t,hn,!ns);break t;case 2:Pe=null;break;case 3:case 5:break;default:throw Error(z(329))}if((t&62914560)===t&&(s=uy+300-Bn(),10<s)){if(is(i,t,hn,!ns),vf(i,0,!0)!==0)break t;i.timeoutHandle=JS(zv.bind(null,i,n,Pe,Sh,vg,t,hn,rr,Ca,ns,r,2,-0,0),s);break t}zv(i,n,Pe,Sh,vg,t,hn,rr,Ca,ns,r,0,-0,0)}}break}while(!0);Qn(e)}function zv(e,t,n,i,s,r,a,o,l,c,h,f,d,g){if(e.timeoutHandle=-1,f=t.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Dl={stylesheets:null,count:0,unsuspend:OO},IS(t),f=kO(),f!==null)){e.cancelPendingCommit=f(Fv.bind(null,e,t,r,n,i,s,a,o,l,h,1,d,g)),is(e,r,a,!c);return}Fv(e,t,r,n,i,s,a,o,l)}function QD(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!tn(r(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function is(e,t,n,i){t&=~cy,t&=~rr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var s=t;0<s;){var r=31-Qe(s),a=1<<r;i[r]=-1,s&=~a}n!==0&&Bw(e,n,t)}function Cf(){return vt&6?!0:(hc(0),!1)}function hy(){if(it!==null){if(pt===0)var e=it.return;else e=it,mi=wr=null,Xp(e),ma=null,Rl=0,e=it;for(;e!==null;)gS(e.alternate,e),e=e.return;it=null}}function Oa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,mO(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),hy(),Rt=e,it=n=_i(e.current,null),ot=t,pt=0,Ye=null,ns=!1,$a=tc(e,t),ly=!1,Ca=hn=cy=rr=As=Bt=0,Pe=ol=null,vg=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var s=31-Qe(i),r=1<<s;t|=e[s],i&=~r}return Ai=t,wf(),n}function PS(e,t){et=null,Q.H=_h,t===oc||t===Sf?(t=_v(),pt=3):t===vx?(t=_v(),pt=4):pt=t===cS?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ye=t,it===null&&(Bt=1,Eh(e,ln(t,e.current)))}function LS(){var e=Q.H;return Q.H=_h,e===null?_h:e}function VS(){var e=Q.A;return Q.A=KD,e}function wg(){Bt=4,ns||(ot&4194048)!==ot&&mn.current!==null||($a=!0),!(As&134217727)&&!(rr&134217727)||Rt===null||is(Rt,ot,hn,!1)}function nm(e,t,n){var i=vt;vt|=2;var s=LS(),r=VS();(Rt!==e||ot!==t)&&(Sh=null,Oa(e,t)),t=!1;var a=Bt;t:do try{if(pt!==0&&it!==null){var o=it,l=Ye;switch(pt){case 8:hy(),a=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(t=!0);var c=pt;if(pt=0,Ye=null,ra(e,o,l,c),n&&$a){a=0;break t}break;default:c=pt,pt=0,Ye=null,ra(e,o,l,c)}}XD(),a=Bt;break}catch(h){PS(e,h)}while(!0);return t&&e.shellSuspendCounter++,mi=wr=null,vt=i,Q.H=s,Q.A=r,it===null&&(Rt=null,ot=0,wf()),a}function XD(){for(;it!==null;)US(it)}function ZD(e,t){var n=vt;vt|=2;var i=LS(),s=VS();Rt!==e||ot!==t?(Sh=null,xh=Bn()+500,Oa(e,t)):$a=tc(e,t);t:do try{if(pt!==0&&it!==null){t=it;var r=Ye;e:switch(pt){case 1:pt=0,Ye=null,ra(e,t,r,1);break;case 2:case 9:if(yv(r)){pt=0,Ye=null,Bv(t);break}t=function(){pt!==2&&pt!==9||Rt!==e||(pt=7),Qn(e)},r.then(t,t);break t;case 3:pt=7;break t;case 4:pt=5;break t;case 7:yv(r)?(pt=0,Ye=null,Bv(t)):(pt=0,Ye=null,ra(e,t,r,7));break;case 5:var a=null;switch(it.tag){case 26:a=it.memoizedState;case 5:case 27:var o=it;if(!a||i1(a)){pt=0,Ye=null;var l=o.sibling;if(l!==null)it=l;else{var c=o.return;c!==null?(it=c,Df(c)):it=null}break e}}pt=0,Ye=null,ra(e,t,r,5);break;case 6:pt=0,Ye=null,ra(e,t,r,6);break;case 8:hy(),Bt=6;break t;default:throw Error(z(462))}}JD();break}catch(h){PS(e,h)}while(!0);return mi=wr=null,Q.H=i,Q.A=s,vt=n,it!==null?0:(Rt=null,ot=0,wf(),Bt)}function JD(){for(;it!==null&&!EC();)US(it)}function US(e){var t=mS(e.alternate,e,Ai);e.memoizedProps=e.pendingProps,t===null?Df(e):it=t}function Bv(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Nv(n,t,t.pendingProps,t.type,void 0,ot);break;case 11:t=Nv(n,t,t.pendingProps,t.type.render,t.ref,ot);break;case 5:Xp(t);default:gS(n,t),t=it=gx(t,Ai),t=mS(n,t,Ai)}e.memoizedProps=e.pendingProps,t===null?Df(e):it=t}function ra(e,t,n,i){mi=wr=null,Xp(t),ma=null,Rl=0;var s=t.return;try{if(FD(e,s,t,n,ot)){Bt=1,Eh(e,ln(n,e.current)),it=null;return}}catch(r){if(s!==null)throw it=s,r;Bt=1,Eh(e,ln(n,e.current)),it=null;return}t.flags&32768?(ft||i===1?e=!0:$a||ot&536870912?e=!1:(ns=e=!0,(i===2||i===9||i===3||i===6)&&(i=mn.current,i!==null&&i.tag===13&&(i.flags|=16384))),jS(t,e)):Df(t)}function Df(e){var t=e;do{if(t.flags&32768){jS(t,ns);return}e=t.return;var n=qD(t.alternate,t,Ai);if(n!==null){it=n;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);Bt===0&&(Bt=5)}function jS(e,t){do{var n=GD(e.alternate,e);if(n!==null){n.flags&=32767,it=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){it=e;return}it=e=n}while(e!==null);Bt=6,it=null}function Fv(e,t,n,i,s,r,a,o,l){e.cancelPendingCommit=null;do Of();while(de!==0);if(vt&6)throw Error(z(327));if(t!==null){if(t===e.current)throw Error(z(177));if(r=t.lanes|t.childLanes,r|=Up,OC(e,n,r,a,o,l),e===Rt&&(it=Rt=null,ot=0),Da=t,fs=e,ga=n,bg=r,Eg=s,MS=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,iO(lh,function(){return qS(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Q.T,Q.T=null,s=dt.p,dt.p=2,a=vt,vt|=4;try{$D(e,t,n)}finally{vt=a,dt.p=s,Q.T=i}}de=1,zS(),BS(),FS()}}function zS(){if(de===1){de=0;var e=fs,t=Da,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Q.T,Q.T=null;var i=dt.p;dt.p=2;var s=vt;vt|=4;try{SS(t,e);var r=Rg,a=ox(e.containerInfo),o=r.focusedElem,l=r.selectionRange;if(a!==o&&o&&o.ownerDocument&&ax(o.ownerDocument.documentElement,o)){if(l!==null&&Vp(o)){var c=l.start,h=l.end;if(h===void 0&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var f=o.ownerDocument||document,d=f&&f.defaultView||window;if(d.getSelection){var g=d.getSelection(),v=o.textContent.length,E=Math.min(l.start,v),x=l.end===void 0?E:Math.min(l.end,v);!g.extend&&E>x&&(a=x,x=E,E=a);var _=cv(o,E),y=cv(o,x);if(_&&y&&(g.rangeCount!==1||g.anchorNode!==_.node||g.anchorOffset!==_.offset||g.focusNode!==y.node||g.focusOffset!==y.offset)){var T=f.createRange();T.setStart(_.node,_.offset),g.removeAllRanges(),E>x?(g.addRange(T),g.extend(y.node,y.offset)):(T.setEnd(y.node,y.offset),g.addRange(T))}}}}for(f=[],g=o;g=g.parentNode;)g.nodeType===1&&f.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var M=f[o];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}kh=!!Ag,Rg=Ag=null}finally{vt=s,dt.p=i,Q.T=n}}e.current=t,de=2}}function BS(){if(de===2){de=0;var e=fs,t=Da,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Q.T,Q.T=null;var i=dt.p;dt.p=2;var s=vt;vt|=4;try{ES(e,t.alternate,t)}finally{vt=s,dt.p=i,Q.T=n}}de=3}}function FS(){if(de===4||de===3){de=0,TC();var e=fs,t=Da,n=ga,i=MS;t.subtreeFlags&10256||t.flags&10256?de=5:(de=0,Da=fs=null,HS(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(hs=null),Dp(n),t=t.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(Jl,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Q.T,s=dt.p,dt.p=2,Q.T=null;try{for(var r=e.onRecoverableError,a=0;a<i.length;a++){var o=i[a];r(o.value,{componentStack:o.stack})}}finally{Q.T=t,dt.p=s}}ga&3&&Of(),Qn(e),s=e.pendingLanes,n&4194090&&s&42?e===Tg?ll++:(ll=0,Tg=e):ll=0,hc(0)}}function HS(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ac(t)))}function Of(e){return zS(),BS(),FS(),qS()}function qS(){if(de!==5)return!1;var e=fs,t=bg;bg=0;var n=Dp(ga),i=Q.T,s=dt.p;try{dt.p=32>n?32:n,Q.T=null,n=Eg,Eg=null;var r=fs,a=ga;if(de=0,Da=fs=null,ga=0,vt&6)throw Error(z(331));var o=vt;if(vt|=4,DS(r.current),RS(r,r.current,a,n),vt=o,hc(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(Jl,r)}catch{}return!0}finally{dt.p=s,Q.T=i,HS(e,t)}}function Hv(e,t,n){t=ln(n,t),t=gg(e.stateNode,t,2),e=us(e,t,2),e!==null&&(ec(e,2),Qn(e))}function xt(e,t,n){if(e.tag===3)Hv(e,e,n);else for(;t!==null;){if(t.tag===3){Hv(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(hs===null||!hs.has(i))){e=ln(n,e),n=oS(2),i=us(t,n,2),i!==null&&(lS(n,i,t,e),ec(i,2),Qn(i));break}}t=t.return}}function im(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new WD;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(ly=!0,s.add(n),e=tO.bind(null,e,t,n),t.then(e,e))}function tO(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Rt===e&&(ot&n)===n&&(Bt===4||Bt===3&&(ot&62914560)===ot&&300>Bn()-uy?!(vt&2)&&Oa(e,0):cy|=n,Ca===ot&&(Ca=0)),Qn(e)}function GS(e,t){t===0&&(t=zw()),e=Ga(e,t),e!==null&&(ec(e,t),Qn(e))}function eO(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),GS(e,n)}function nO(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(z(314))}i!==null&&i.delete(t),GS(e,n)}function iO(e,t){return Ip(e,t)}var Ah=null,Hr=null,xg=!1,Rh=!1,sm=!1,ar=0;function Qn(e){e!==Hr&&e.next===null&&(Hr===null?Ah=Hr=e:Hr=Hr.next=e),Rh=!0,xg||(xg=!0,rO())}function hc(e,t){if(!sm&&Rh){sm=!0;do for(var n=!1,i=Ah;i!==null;){if(e!==0){var s=i.pendingLanes;if(s===0)var r=0;else{var a=i.suspendedLanes,o=i.pingedLanes;r=(1<<31-Qe(42|e)+1)-1,r&=s&~(a&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,qv(i,r))}else r=ot,r=vf(i,i===Rt?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||tc(i,r)||(n=!0,qv(i,r));i=i.next}while(n);sm=!1}}function sO(){$S()}function $S(){Rh=xg=!1;var e=0;ar!==0&&(dO()&&(e=ar),ar=0);for(var t=Bn(),n=null,i=Ah;i!==null;){var s=i.next,r=YS(i,t);r===0?(i.next=null,n===null?Ah=s:n.next=s,s===null&&(Hr=n)):(n=i,(e!==0||r&3)&&(Rh=!0)),i=s}hc(e)}function YS(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var a=31-Qe(r),o=1<<a,l=s[a];l===-1?(!(o&n)||o&i)&&(s[a]=DC(o,t)):l<=t&&(e.expiredLanes|=o),r&=~o}if(t=Rt,n=ot,n=vf(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(pt===2||pt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Dd(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||tc(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Dd(i),Dp(n)){case 2:case 8:n=Vw;break;case 32:n=lh;break;case 268435456:n=Uw;break;default:n=lh}return i=KS.bind(null,e),n=Ip(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Dd(i),e.callbackPriority=2,e.callbackNode=null,2}function KS(e,t){if(de!==0&&de!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Of()&&e.callbackNode!==n)return null;var i=ot;return i=vf(e,e===Rt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(NS(e,i,t),YS(e,Bn()),e.callbackNode!=null&&e.callbackNode===n?KS.bind(null,e):null)}function qv(e,t){if(Of())return null;NS(e,t,!0)}function rO(){gO(function(){vt&6?Ip(Lw,sO):$S()})}function fy(){return ar===0&&(ar=jw()),ar}function Gv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Cu(""+e)}function $v(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function aO(e,t,n,i,s){if(t==="submit"&&n&&n.stateNode===s){var r=Gv((s[Be]||null).action),a=i.submitter;a&&(t=(t=a[Be]||null)?Gv(t.formAction):a.getAttribute("formAction"),t!==null&&(r=t,a=null));var o=new bf("action","action",null,i,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ar!==0){var l=a?$v(s,a):new FormData(s);dg(n,{pending:!0,data:l,method:s.method,action:r},null,l)}}else typeof r=="function"&&(o.preventDefault(),l=a?$v(s,a):new FormData(s),dg(n,{pending:!0,data:l,method:s.method,action:r},r,l))},currentTarget:s}]})}}for(var rm=0;rm<eg.length;rm++){var am=eg[rm],oO=am.toLowerCase(),lO=am[0].toUpperCase()+am.slice(1);Dn(oO,"on"+lO)}Dn(cx,"onAnimationEnd");Dn(ux,"onAnimationIteration");Dn(hx,"onAnimationStart");Dn("dblclick","onDoubleClick");Dn("focusin","onFocus");Dn("focusout","onBlur");Dn(SD,"onTransitionRun");Dn(AD,"onTransitionStart");Dn(RD,"onTransitionCancel");Dn(fx,"onTransitionEnd");wa("onMouseEnter",["mouseout","mouseover"]);wa("onMouseLeave",["mouseout","mouseover"]);wa("onPointerEnter",["pointerout","pointerover"]);wa("onPointerLeave",["pointerout","pointerover"]);br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));br("onBeforeInput",["compositionend","keypress","textInput","paste"]);br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function WS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;t:{var r=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&s.isPropagationStopped())break t;r=o,s.currentTarget=c;try{r(s)}catch(h){bh(h)}s.currentTarget=null,r=l}else for(a=0;a<i.length;a++){if(o=i[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==r&&s.isPropagationStopped())break t;r=o,s.currentTarget=c;try{r(s)}catch(h){bh(h)}s.currentTarget=null,r=l}}}}function nt(e,t){var n=t[Km];n===void 0&&(n=t[Km]=new Set);var i=e+"__bubble";n.has(i)||(QS(t,e,2,!1),n.add(i))}function om(e,t,n){var i=0;t&&(i|=4),QS(n,e,i,t)}var nu="_reactListening"+Math.random().toString(36).slice(2);function dy(e){if(!e[nu]){e[nu]=!0,qw.forEach(function(n){n!=="selectionchange"&&(cO.has(n)||om(n,!1,e),om(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nu]||(t[nu]=!0,om("selectionchange",!1,t))}}function QS(e,t,n,i){switch(l1(t)){case 2:var s=LO;break;case 8:s=VO;break;default:s=yy}n=s.bind(null,t,n,e),s=void 0,!Zm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function lm(e,t,n,i,s){var r=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===s)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===s)return;a=a.return}for(;o!==null;){if(a=Qr(o),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){i=r=a;continue t}o=o.parentNode}}i=i.return}Zw(function(){var c=r,h=kp(n),f=[];t:{var d=dx.get(e);if(d!==void 0){var g=bf,v=e;switch(e){case"keypress":if(Ou(n)===0)break t;case"keydown":case"keyup":g=iD;break;case"focusin":v="focus",g=Ud;break;case"focusout":v="blur",g=Ud;break;case"beforeblur":case"afterblur":g=Ud;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=J0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=GC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=aD;break;case cx:case ux:case hx:g=KC;break;case fx:g=lD;break;case"scroll":case"scrollend":g=HC;break;case"wheel":g=uD;break;case"copy":case"cut":case"paste":g=QC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ev;break;case"toggle":case"beforetoggle":g=fD}var E=(t&4)!==0,x=!E&&(e==="scroll"||e==="scrollend"),_=E?d!==null?d+"Capture":null:d;E=[];for(var y=c,T;y!==null;){var M=y;if(T=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||T===null||_===null||(M=Tl(y,_),M!=null&&E.push(Cl(y,M,T))),x)break;y=y.return}0<E.length&&(d=new g(d,v,null,n,h),f.push({event:d,listeners:E}))}}if(!(t&7)){t:{if(d=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",d&&n!==Xm&&(v=n.relatedTarget||n.fromElement)&&(Qr(v)||v[Ha]))break t;if((g||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?Qr(v):null,v!==null&&(x=Zl(v),E=v.tag,v!==x||E!==5&&E!==27&&E!==6)&&(v=null)):(g=null,v=c),g!==v)){if(E=J0,M="onMouseLeave",_="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(E=ev,M="onPointerLeave",_="onPointerEnter",y="pointer"),x=g==null?d:Uo(g),T=v==null?d:Uo(v),d=new E(M,y+"leave",g,n,h),d.target=x,d.relatedTarget=T,M=null,Qr(h)===c&&(E=new E(_,y+"enter",v,n,h),E.target=T,E.relatedTarget=x,M=E),x=M,g&&v)e:{for(E=g,_=v,y=0,T=E;T;T=Ur(T))y++;for(T=0,M=_;M;M=Ur(M))T++;for(;0<y-T;)E=Ur(E),y--;for(;0<T-y;)_=Ur(_),T--;for(;y--;){if(E===_||_!==null&&E===_.alternate)break e;E=Ur(E),_=Ur(_)}E=null}else E=null;g!==null&&Yv(f,d,g,E,!1),v!==null&&x!==null&&Yv(f,x,v,E,!0)}}t:{if(d=c?Uo(c):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var C=rv;else if(sv(d))if(sx)C=TD;else{C=bD;var L=vD}else g=d.nodeName,!g||g.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?c&&Mp(c.elementType)&&(C=rv):C=ED;if(C&&(C=C(e,c))){ix(f,C,n,h);break t}L&&L(e,d,c),e==="focusout"&&c&&d.type==="number"&&c.memoizedProps.value!=null&&Qm(d,"number",d.value)}switch(L=c?Uo(c):window,e){case"focusin":(sv(L)||L.contentEditable==="true")&&(Jr=L,Jm=c,Zo=null);break;case"focusout":Zo=Jm=Jr=null;break;case"mousedown":tg=!0;break;case"contextmenu":case"mouseup":case"dragend":tg=!1,uv(f,n,h);break;case"selectionchange":if(xD)break;case"keydown":case"keyup":uv(f,n,h)}var S;if(Lp)t:{switch(e){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Zr?ex(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(tx&&n.locale!=="ko"&&(Zr||b!=="onCompositionStart"?b==="onCompositionEnd"&&Zr&&(S=Jw()):(es=h,Np="value"in es?es.value:es.textContent,Zr=!0)),L=Ih(c,b),0<L.length&&(b=new tv(b,e,null,n,h),f.push({event:b,listeners:L}),S?b.data=S:(S=nx(n),S!==null&&(b.data=S)))),(S=mD?gD(e,n):pD(e,n))&&(b=Ih(c,"onBeforeInput"),0<b.length&&(L=new tv("onBeforeInput","beforeinput",null,n,h),f.push({event:L,listeners:b}),L.data=S)),aO(f,e,c,n,h)}WS(f,t)})}function Cl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ih(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=Tl(e,n),s!=null&&i.unshift(Cl(e,s,r)),s=Tl(e,t),s!=null&&i.push(Cl(e,s,r))),e.tag===3)return i;e=e.return}return[]}function Ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yv(e,t,n,i,s){for(var r=t._reactName,a=[];n!==null&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===i)break;o!==5&&o!==26&&o!==27||c===null||(l=c,s?(c=Tl(n,r),c!=null&&a.unshift(Cl(n,c,l))):s||(c=Tl(n,r),c!=null&&a.push(Cl(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var uO=/\r\n?/g,hO=/\u0000|\uFFFD/g;function Kv(e){return(typeof e=="string"?e:""+e).replace(uO,`
`).replace(hO,"")}function XS(e,t){return t=Kv(t),Kv(e)===t}function Mf(){}function Et(e,t,n,i,s,r){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||xa(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&xa(e,""+i);break;case"className":Wc(e,"class",i);break;case"tabIndex":Wc(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Wc(e,n,i);break;case"style":Xw(e,i,r);break;case"data":if(t!=="object"){Wc(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Cu(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&Et(e,t,"name",s.name,s,null),Et(e,t,"formEncType",s.formEncType,s,null),Et(e,t,"formMethod",s.formMethod,s,null),Et(e,t,"formTarget",s.formTarget,s,null)):(Et(e,t,"encType",s.encType,s,null),Et(e,t,"method",s.method,s,null),Et(e,t,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Cu(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Mf);break;case"onScroll":i!=null&&nt("scroll",e);break;case"onScrollEnd":i!=null&&nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(z(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(z(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Cu(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":nt("beforetoggle",e),nt("toggle",e),Iu(e,"popover",i);break;case"xlinkActuate":ei(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ei(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ei(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ei(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ei(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ei(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ei(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ei(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ei(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Iu(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=BC.get(n)||n,Iu(e,n,i))}}function Sg(e,t,n,i,s,r){switch(n){case"style":Xw(e,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(z(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(z(60));e.innerHTML=n}}break;case"children":typeof i=="string"?xa(e,i):(typeof i=="number"||typeof i=="bigint")&&xa(e,""+i);break;case"onScroll":i!=null&&nt("scroll",e);break;case"onScrollEnd":i!=null&&nt("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Mf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gw.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),r=e[Be]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,s),typeof i=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,s);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Iu(e,n,i)}}}function ge(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",e),nt("load",e);var i=!1,s=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(z(137,t));default:Et(e,t,r,a,n,null)}}s&&Et(e,t,"srcSet",n.srcSet,n,null),i&&Et(e,t,"src",n.src,n,null);return;case"input":nt("invalid",e);var o=r=a=s=null,l=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":s=h;break;case"type":a=h;break;case"checked":l=h;break;case"defaultChecked":c=h;break;case"value":r=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(z(137,t));break;default:Et(e,t,i,h,n,null)}}Kw(e,r,o,l,c,a,s,!1),ch(e);return;case"select":nt("invalid",e),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":a=o;break;case"multiple":i=o;default:Et(e,t,s,o,n,null)}t=r,n=a,e.multiple=!!i,t!=null?ca(e,!!i,t,!1):n!=null&&ca(e,!!i,n,!0);return;case"textarea":nt("invalid",e),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":i=o;break;case"defaultValue":s=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(z(91));break;default:Et(e,t,a,o,n,null)}Qw(e,i,s,r),ch(e);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(i=n[l],i!=null))switch(l){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Et(e,t,l,i,n,null)}return;case"dialog":nt("beforetoggle",e),nt("toggle",e),nt("cancel",e),nt("close",e);break;case"iframe":case"object":nt("load",e);break;case"video":case"audio":for(i=0;i<Il.length;i++)nt(Il[i],e);break;case"image":nt("error",e),nt("load",e);break;case"details":nt("toggle",e);break;case"embed":case"source":case"link":nt("error",e),nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(z(137,t));default:Et(e,t,c,i,n,null)}return;default:if(Mp(t)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&Sg(e,t,h,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&Et(e,t,o,i,n,null))}function fO(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,a=null,o=null,l=null,c=null,h=null;for(g in n){var f=n[g];if(n.hasOwnProperty(g)&&f!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":l=f;default:i.hasOwnProperty(g)||Et(e,t,g,null,i,f)}}for(var d in i){var g=i[d];if(f=n[d],i.hasOwnProperty(d)&&(g!=null||f!=null))switch(d){case"type":r=g;break;case"name":s=g;break;case"checked":c=g;break;case"defaultChecked":h=g;break;case"value":a=g;break;case"defaultValue":o=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(z(137,t));break;default:g!==f&&Et(e,t,d,g,i,f)}}Wm(e,a,o,l,c,h,r,s);return;case"select":g=a=o=d=null;for(r in n)if(l=n[r],n.hasOwnProperty(r)&&l!=null)switch(r){case"value":break;case"multiple":g=l;default:i.hasOwnProperty(r)||Et(e,t,r,null,i,l)}for(s in i)if(r=i[s],l=n[s],i.hasOwnProperty(s)&&(r!=null||l!=null))switch(s){case"value":d=r;break;case"defaultValue":o=r;break;case"multiple":a=r;default:r!==l&&Et(e,t,s,r,i,l)}t=o,n=a,i=g,d!=null?ca(e,!!n,d,!1):!!i!=!!n&&(t!=null?ca(e,!!n,t,!0):ca(e,!!n,n?[]:"",!1));return;case"textarea":g=d=null;for(o in n)if(s=n[o],n.hasOwnProperty(o)&&s!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Et(e,t,o,null,i,s)}for(a in i)if(s=i[a],r=n[a],i.hasOwnProperty(a)&&(s!=null||r!=null))switch(a){case"value":d=s;break;case"defaultValue":g=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(z(91));break;default:s!==r&&Et(e,t,a,s,i,r)}Ww(e,d,g);return;case"option":for(var v in n)if(d=n[v],n.hasOwnProperty(v)&&d!=null&&!i.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:Et(e,t,v,null,i,d)}for(l in i)if(d=i[l],g=n[l],i.hasOwnProperty(l)&&d!==g&&(d!=null||g!=null))switch(l){case"selected":e.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Et(e,t,l,d,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var E in n)d=n[E],n.hasOwnProperty(E)&&d!=null&&!i.hasOwnProperty(E)&&Et(e,t,E,null,i,d);for(c in i)if(d=i[c],g=n[c],i.hasOwnProperty(c)&&d!==g&&(d!=null||g!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(z(137,t));break;default:Et(e,t,c,d,i,g)}return;default:if(Mp(t)){for(var x in n)d=n[x],n.hasOwnProperty(x)&&d!==void 0&&!i.hasOwnProperty(x)&&Sg(e,t,x,void 0,i,d);for(h in i)d=i[h],g=n[h],!i.hasOwnProperty(h)||d===g||d===void 0&&g===void 0||Sg(e,t,h,d,i,g);return}}for(var _ in n)d=n[_],n.hasOwnProperty(_)&&d!=null&&!i.hasOwnProperty(_)&&Et(e,t,_,null,i,d);for(f in i)d=i[f],g=n[f],!i.hasOwnProperty(f)||d===g||d==null&&g==null||Et(e,t,f,d,i,g)}var Ag=null,Rg=null;function Ch(e){return e.nodeType===9?e:e.ownerDocument}function Wv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ZS(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ig(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cm=null;function dO(){var e=window.event;return e&&e.type==="popstate"?e===cm?!1:(cm=e,!0):(cm=null,!1)}var JS=typeof setTimeout=="function"?setTimeout:void 0,mO=typeof clearTimeout=="function"?clearTimeout:void 0,Qv=typeof Promise=="function"?Promise:void 0,gO=typeof queueMicrotask=="function"?queueMicrotask:typeof Qv<"u"?function(e){return Qv.resolve(null).then(e).catch(pO)}:JS;function pO(e){setTimeout(function(){throw e})}function Ls(e){return e==="head"}function Xv(e,t){var n=t,i=0,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(0<i&&8>i){n=i;var a=e.ownerDocument;if(n&1&&cl(a.documentElement),n&2&&cl(a.body),n&4)for(n=a.head,cl(n),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[nc]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}if(s===0){e.removeChild(r),Nl(t);return}s--}else n==="$"||n==="$?"||n==="$!"?s++:i=n.charCodeAt(0)-48;else i=0;n=r}while(n);Nl(t)}function Cg(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Cg(n),Op(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function yO(e,t,n,i){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[nc])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function _O(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=xn(e.nextSibling),e===null))return null;return e}function Dg(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function vO(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function xn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Og=null;function Zv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function t1(e,t,n){switch(t=Ch(n),e){case"html":if(e=t.documentElement,!e)throw Error(z(452));return e;case"head":if(e=t.head,!e)throw Error(z(453));return e;case"body":if(e=t.body,!e)throw Error(z(454));return e;default:throw Error(z(451))}}function cl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Op(e)}var gn=new Map,Jv=new Set;function Dh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mi=dt.d;dt.d={f:bO,r:EO,D:TO,C:wO,L:xO,m:SO,X:RO,S:AO,M:IO};function bO(){var e=Mi.f(),t=Cf();return e||t}function EO(e){var t=qa(e);t!==null&&t.tag===5&&t.type==="form"?Yx(t):Mi.r(e)}var Ya=typeof document>"u"?null:document;function e1(e,t,n){var i=Ya;if(i&&typeof t=="string"&&t){var s=on(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Jv.has(s)||(Jv.add(s),e={rel:e,crossOrigin:n,href:t},i.querySelector(s)===null&&(t=i.createElement("link"),ge(t,"link",e),se(t),i.head.appendChild(t)))}}function TO(e){Mi.D(e),e1("dns-prefetch",e,null)}function wO(e,t){Mi.C(e,t),e1("preconnect",e,t)}function xO(e,t,n){Mi.L(e,t,n);var i=Ya;if(i&&e&&t){var s='link[rel="preload"][as="'+on(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+on(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+on(n.imageSizes)+'"]')):s+='[href="'+on(e)+'"]';var r=s;switch(t){case"style":r=Ma(e);break;case"script":r=Ka(e)}gn.has(r)||(e=Ot({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),gn.set(r,e),i.querySelector(s)!==null||t==="style"&&i.querySelector(fc(r))||t==="script"&&i.querySelector(dc(r))||(t=i.createElement("link"),ge(t,"link",e),se(t),i.head.appendChild(t)))}}function SO(e,t){Mi.m(e,t);var n=Ya;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+on(i)+'"][href="'+on(e)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Ka(e)}if(!gn.has(r)&&(e=Ot({rel:"modulepreload",href:e},t),gn.set(r,e),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(dc(r)))return}i=n.createElement("link"),ge(i,"link",e),se(i),n.head.appendChild(i)}}}function AO(e,t,n){Mi.S(e,t,n);var i=Ya;if(i&&e){var s=la(i).hoistableStyles,r=Ma(e);t=t||"default";var a=s.get(r);if(!a){var o={loading:0,preload:null};if(a=i.querySelector(fc(r)))o.loading=5;else{e=Ot({rel:"stylesheet",href:e,"data-precedence":t},n),(n=gn.get(r))&&my(e,n);var l=a=i.createElement("link");se(l),ge(l,"link",e),l._p=new Promise(function(c,h){l.onload=c,l.onerror=h}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Uu(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:o},s.set(r,a)}}}function RO(e,t){Mi.X(e,t);var n=Ya;if(n&&e){var i=la(n).hoistableScripts,s=Ka(e),r=i.get(s);r||(r=n.querySelector(dc(s)),r||(e=Ot({src:e,async:!0},t),(t=gn.get(s))&&gy(e,t),r=n.createElement("script"),se(r),ge(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function IO(e,t){Mi.M(e,t);var n=Ya;if(n&&e){var i=la(n).hoistableScripts,s=Ka(e),r=i.get(s);r||(r=n.querySelector(dc(s)),r||(e=Ot({src:e,async:!0,type:"module"},t),(t=gn.get(s))&&gy(e,t),r=n.createElement("script"),se(r),ge(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function tb(e,t,n,i){var s=(s=ls.current)?Dh(s):null;if(!s)throw Error(z(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ma(n.href),n=la(s).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ma(n.href);var r=la(s).hoistableStyles,a=r.get(e);if(a||(s=s.ownerDocument||s,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,a),(r=s.querySelector(fc(e)))&&!r._p&&(a.instance=r,a.state.loading=5),gn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},gn.set(e,n),r||CO(s,e,n,a.state))),t&&i===null)throw Error(z(528,""));return a}if(t&&i!==null)throw Error(z(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ka(n),n=la(s).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(z(444,e))}}function Ma(e){return'href="'+on(e)+'"'}function fc(e){return'link[rel="stylesheet"]['+e+"]"}function n1(e){return Ot({},e,{"data-precedence":e.precedence,precedence:null})}function CO(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ge(t,"link",n),se(t),e.head.appendChild(t))}function Ka(e){return'[src="'+on(e)+'"]'}function dc(e){return"script[async]"+e}function eb(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+on(n.href)+'"]');if(i)return t.instance=i,se(i),i;var s=Ot({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),se(i),ge(i,"style",s),Uu(i,n.precedence,e),t.instance=i;case"stylesheet":s=Ma(n.href);var r=e.querySelector(fc(s));if(r)return t.state.loading|=4,t.instance=r,se(r),r;i=n1(n),(s=gn.get(s))&&my(i,s),r=(e.ownerDocument||e).createElement("link"),se(r);var a=r;return a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),ge(r,"link",i),t.state.loading|=4,Uu(r,n.precedence,e),t.instance=r;case"script":return r=Ka(n.src),(s=e.querySelector(dc(r)))?(t.instance=s,se(s),s):(i=n,(s=gn.get(r))&&(i=Ot({},n),gy(i,s)),e=e.ownerDocument||e,s=e.createElement("script"),se(s),ge(s,"link",i),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(z(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Uu(i,n.precedence,e));return t.instance}function Uu(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,a=0;a<i.length;a++){var o=i[a];if(o.dataset.precedence===t)r=o;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function my(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function gy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ju=null;function nb(e,t,n){if(ju===null){var i=new Map,s=ju=new Map;s.set(n,i)}else s=ju,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var r=n[s];if(!(r[nc]||r[xe]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(t)||"";a=e+a;var o=i.get(a);o?o.push(r):i.set(a,[r])}}return i}function ib(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function DO(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function i1(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Dl=null;function OO(){}function MO(e,t,n){if(Dl===null)throw Error(z(475));var i=Dl;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var s=Ma(n.href),r=e.querySelector(fc(s));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=Oh.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=r,se(r);return}r=e.ownerDocument||e,n=n1(n),(s=gn.get(s))&&my(n,s),r=r.createElement("link"),se(r);var a=r;a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),ge(r,"link",n),t.instance=r}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=Oh.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function kO(){if(Dl===null)throw Error(z(475));var e=Dl;return e.stylesheets&&e.count===0&&Mg(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Mg(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Oh(){if(this.count--,this.count===0){if(this.stylesheets)Mg(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Mh=null;function Mg(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Mh=new Map,t.forEach(NO,e),Mh=null,Oh.call(e))}function NO(e,t){if(!(t.state.loading&4)){var n=Mh.get(e);if(n)var i=n.get(null);else{n=new Map,Mh.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var a=s[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}s=t.instance,a=s.getAttribute("data-precedence"),r=n.get(a)||i,r===i&&n.set(null,s),n.set(a,s),this.count++,i=Oh.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Ol={$$typeof:hi,Provider:null,Consumer:null,_currentValue:tr,_currentValue2:tr,_threadCount:0};function PO(e,t,n,i,s,r,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Od(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Od(0),this.hiddenUpdates=Od(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function s1(e,t,n,i,s,r,a,o,l,c,h,f){return e=new PO(e,t,n,a,o,l,c,f),t=1,r===!0&&(t|=24),r=Ke(3,null,null,t),e.current=r,r.stateNode=e,t=Hp(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:t},Gp(r),e}function r1(e){return e?(e=na,e):na}function a1(e,t,n,i,s,r){s=r1(s),i.context===null?i.context=s:i.pendingContext=s,i=cs(t),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=us(e,i,t),n!==null&&(Ze(n,e,t),el(n,e,t))}function sb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function py(e,t){sb(e,t),(e=e.alternate)&&sb(e,t)}function o1(e){if(e.tag===13){var t=Ga(e,67108864);t!==null&&Ze(t,e,67108864),py(e,67108864)}}var kh=!0;function LO(e,t,n,i){var s=Q.T;Q.T=null;var r=dt.p;try{dt.p=2,yy(e,t,n,i)}finally{dt.p=r,Q.T=s}}function VO(e,t,n,i){var s=Q.T;Q.T=null;var r=dt.p;try{dt.p=8,yy(e,t,n,i)}finally{dt.p=r,Q.T=s}}function yy(e,t,n,i){if(kh){var s=kg(i);if(s===null)lm(e,t,i,Nh,n),rb(e,i);else if(jO(s,e,t,n,i))i.stopPropagation();else if(rb(e,i),t&4&&-1<UO.indexOf(e)){for(;s!==null;){var r=qa(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=$s(r.pendingLanes);if(a!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-Qe(a);o.entanglements[1]|=l,a&=~l}Qn(r),!(vt&6)&&(xh=Bn()+500,hc(0))}}break;case 13:o=Ga(r,2),o!==null&&Ze(o,r,2),Cf(),py(r,2)}if(r=kg(i),r===null&&lm(e,t,i,Nh,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else lm(e,t,i,null,n)}}function kg(e){return e=kp(e),_y(e)}var Nh=null;function _y(e){if(Nh=null,e=Qr(e),e!==null){var t=Zl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Mw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Nh=e,null}function l1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wC()){case Lw:return 2;case Vw:return 8;case lh:case xC:return 32;case Uw:return 268435456;default:return 32}default:return 32}}var Ng=!1,ds=null,ms=null,gs=null,Ml=new Map,kl=new Map,Wi=[],UO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rb(e,t){switch(e){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":Ml.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(t.pointerId)}}function Co(e,t,n,i,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},t!==null&&(t=qa(t),t!==null&&o1(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function jO(e,t,n,i,s){switch(t){case"focusin":return ds=Co(ds,e,t,n,i,s),!0;case"dragenter":return ms=Co(ms,e,t,n,i,s),!0;case"mouseover":return gs=Co(gs,e,t,n,i,s),!0;case"pointerover":var r=s.pointerId;return Ml.set(r,Co(Ml.get(r)||null,e,t,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,kl.set(r,Co(kl.get(r)||null,e,t,n,i,s)),!0}return!1}function c1(e){var t=Qr(e.target);if(t!==null){var n=Zl(t);if(n!==null){if(t=n.tag,t===13){if(t=Mw(n),t!==null){e.blockedOn=t,MC(e.priority,function(){if(n.tag===13){var i=Xe();i=Cp(i);var s=Ga(n,i);s!==null&&Ze(s,n,i),py(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=kg(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Xm=i,n.target.dispatchEvent(i),Xm=null}else return t=qa(n),t!==null&&o1(t),e.blockedOn=n,!1;t.shift()}return!0}function ab(e,t,n){zu(e)&&n.delete(t)}function zO(){Ng=!1,ds!==null&&zu(ds)&&(ds=null),ms!==null&&zu(ms)&&(ms=null),gs!==null&&zu(gs)&&(gs=null),Ml.forEach(ab),kl.forEach(ab)}function iu(e,t){e.blockedOn===t&&(e.blockedOn=null,Ng||(Ng=!0,ee.unstable_scheduleCallback(ee.unstable_NormalPriority,zO)))}var su=null;function ob(e){su!==e&&(su=e,ee.unstable_scheduleCallback(ee.unstable_NormalPriority,function(){su===e&&(su=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],s=e[t+2];if(typeof i!="function"){if(_y(i||n)===null)continue;break}var r=qa(n);r!==null&&(e.splice(t,3),t-=3,dg(r,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function Nl(e){function t(l){return iu(l,e)}ds!==null&&iu(ds,e),ms!==null&&iu(ms,e),gs!==null&&iu(gs,e),Ml.forEach(t),kl.forEach(t);for(var n=0;n<Wi.length;n++){var i=Wi[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Wi.length&&(n=Wi[0],n.blockedOn===null);)c1(n),n.blockedOn===null&&Wi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],a=s[Be]||null;if(typeof r=="function")a||ob(n);else if(a){var o=null;if(r&&r.hasAttribute("formAction")){if(s=r,a=r[Be]||null)o=a.formAction;else if(_y(s)!==null)continue}else o=a.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),ob(n)}}}function vy(e){this._internalRoot=e}kf.prototype.render=vy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));var n=t.current,i=Xe();a1(n,i,e,t,null,null)};kf.prototype.unmount=vy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;a1(e.current,2,null,e,null,null),Cf(),t[Ha]=null}};function kf(e){this._internalRoot=e}kf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wi.length&&t!==0&&t<Wi[n].priority;n++);Wi.splice(n,0,e),n===0&&c1(e)}};var lb=Dw.version;if(lb!=="19.1.0")throw Error(z(527,lb,"19.1.0"));dt.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=pC(t),e=e!==null?kw(e):null,e=e===null?null:e.stateNode,e};var BO={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{Jl=ru.inject(BO),We=ru}catch{}}yf.createRoot=function(e,t){if(!Ow(e))throw Error(z(299));var n=!1,i="",s=sS,r=rS,a=aS,o=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=s1(e,1,!1,null,null,n,i,s,r,a,o,null),e[Ha]=t.current,dy(e),new vy(t)};yf.hydrateRoot=function(e,t,n){if(!Ow(e))throw Error(z(299));var i=!1,s="",r=sS,a=rS,o=aS,l=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),t=s1(e,1,!0,t,n??null,i,s,r,a,o,l,c),t.context=r1(null),n=t.current,i=Xe(),i=Cp(i),s=cs(i),s.callback=null,us(n,s,i),n=i,t.current.lanes=n,ec(t,n),Qn(t),e[Ha]=t.current,dy(e),new kf(t)};yf.version="19.1.0";function u1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u1)}catch(e){console.error(e)}}u1(),xw.exports=yf;var FO=xw.exports,by={};Object.defineProperty(by,"__esModule",{value:!0});by.parse=WO;by.serialize=QO;const HO=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,qO=/^[\u0021-\u003A\u003C-\u007E]*$/,GO=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,$O=/^[\u0020-\u003A\u003D-\u007E]*$/,YO=Object.prototype.toString,KO=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function WO(e,t){const n=new KO,i=e.length;if(i<2)return n;const s=(t==null?void 0:t.decode)||XO;let r=0;do{const a=e.indexOf("=",r);if(a===-1)break;const o=e.indexOf(";",r),l=o===-1?i:o;if(a>l){r=e.lastIndexOf(";",a-1)+1;continue}const c=cb(e,r,a),h=ub(e,a,c),f=e.slice(c,h);if(n[f]===void 0){let d=cb(e,a+1,l),g=ub(e,l,d);const v=s(e.slice(d,g));n[f]=v}r=l+1}while(r<i);return n}function cb(e,t,n){do{const i=e.charCodeAt(t);if(i!==32&&i!==9)return t}while(++t<n);return n}function ub(e,t,n){for(;t>n;){const i=e.charCodeAt(--t);if(i!==32&&i!==9)return t+1}return n}function QO(e,t,n){const i=(n==null?void 0:n.encode)||encodeURIComponent;if(!HO.test(e))throw new TypeError(`argument name is invalid: ${e}`);const s=i(t);if(!qO.test(s))throw new TypeError(`argument val is invalid: ${t}`);let r=e+"="+s;if(!n)return r;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);r+="; Max-Age="+n.maxAge}if(n.domain){if(!GO.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);r+="; Domain="+n.domain}if(n.path){if(!$O.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);r+="; Path="+n.path}if(n.expires){if(!ZO(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);r+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(r+="; HttpOnly"),n.secure&&(r+="; Secure"),n.partitioned&&(r+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":r+="; Priority=Low";break;case"medium":r+="; Priority=Medium";break;case"high":r+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"none":r+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return r}function XO(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function ZO(e){return YO.call(e)==="[object Date]"}var hb="popstate";function JO(e={}){function t(i,s){let{pathname:r,search:a,hash:o}=i.location;return Pg("",{pathname:r,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Pl(s)}return eM(t,n,null,e)}function Pt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tM(){return Math.random().toString(36).substring(2,10)}function fb(e,t){return{usr:e.state,key:e.key,idx:t}}function Pg(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Wa(t):t,state:n,key:t&&t.key||i||tM()}}function Pl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Wa(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function eM(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,a=s.history,o="POP",l=null,c=h();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function h(){return(a.state||{idx:null}).idx}function f(){o="POP";let x=h(),_=x==null?null:x-c;c=x,l&&l({action:o,location:E.location,delta:_})}function d(x,_){o="PUSH";let y=Pg(E.location,x,_);c=h()+1;let T=fb(y,c),M=E.createHref(y);try{a.pushState(T,"",M)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(M)}r&&l&&l({action:o,location:E.location,delta:1})}function g(x,_){o="REPLACE";let y=Pg(E.location,x,_);c=h();let T=fb(y,c),M=E.createHref(y);a.replaceState(T,"",M),r&&l&&l({action:o,location:E.location,delta:0})}function v(x){return nM(x)}let E={get action(){return o},get location(){return e(s,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(hb,f),l=x,()=>{s.removeEventListener(hb,f),l=null}},createHref(x){return t(s,x)},createURL:v,encodeLocation(x){let _=v(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:d,replace:g,go(x){return a.go(x)}};return E}function nM(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Pt(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Pl(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function h1(e,t,n="/"){return iM(e,t,n,!1)}function iM(e,t,n,i){let s=typeof t=="string"?Wa(t):t,r=Ri(s.pathname||"/",n);if(r==null)return null;let a=f1(e);sM(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=gM(r);o=dM(a[l],c,i)}return o}function f1(e,t=[],n=[],i=""){let s=(r,a,o)=>{let l={relativePath:o===void 0?r.path||"":o,caseSensitive:r.caseSensitive===!0,childrenIndex:a,route:r};l.relativePath.startsWith("/")&&(Pt(l.relativePath.startsWith(i),`Absolute route path "${l.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(i.length));let c=bi([i,l.relativePath]),h=n.concat(l);r.children&&r.children.length>0&&(Pt(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),f1(r.children,t,h,c)),!(r.path==null&&!r.index)&&t.push({path:c,score:hM(c,r.index),routesMeta:h})};return e.forEach((r,a)=>{var o;if(r.path===""||!((o=r.path)!=null&&o.includes("?")))s(r,a);else for(let l of d1(r.path))s(r,a,l)}),t}function d1(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let a=d1(i.join("/")),o=[];return o.push(...a.map(l=>l===""?r:[r,l].join("/"))),s&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function sM(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:fM(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var rM=/^:[\w-]+$/,aM=3,oM=2,lM=1,cM=10,uM=-2,db=e=>e==="*";function hM(e,t){let n=e.split("/"),i=n.length;return n.some(db)&&(i+=uM),t&&(i+=oM),n.filter(s=>!db(s)).reduce((s,r)=>s+(rM.test(r)?aM:r===""?lM:cM),i)}function fM(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function dM(e,t,n=!1){let{routesMeta:i}=e,s={},r="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],c=o===i.length-1,h=r==="/"?t:t.slice(r.length)||"/",f=Ph({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),d=l.route;if(!f&&c&&n&&!i[i.length-1].route.index&&(f=Ph({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:bi([r,f.pathname]),pathnameBase:vM(bi([r,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(r=bi([r,f.pathnameBase]))}return a}function Ph(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=mM(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let r=s[0],a=r.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:i.reduce((c,{paramName:h,isOptional:f},d)=>{if(h==="*"){let v=o[d]||"";a=r.slice(0,r.length-v.length).replace(/(.)\/+$/,"$1")}const g=o[d];return f&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:a,pattern:e}}function mM(e,t=!1,n=!0){Sn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function gM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ri(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function pM(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?Wa(e):e;return{pathname:n?n.startsWith("/")?n:yM(n,t):t,search:bM(i),hash:EM(s)}}function yM(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function um(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _M(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ey(e){let t=_M(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function Ty(e,t,n,i=!1){let s;typeof e=="string"?s=Wa(e):(s={...e},Pt(!s.pathname||!s.pathname.includes("?"),um("?","pathname","search",s)),Pt(!s.pathname||!s.pathname.includes("#"),um("#","pathname","hash",s)),Pt(!s.search||!s.search.includes("#"),um("#","search","hash",s)));let r=e===""||s.pathname==="",a=r?"/":s.pathname,o;if(a==null)o=n;else{let f=t.length-1;if(!i&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;s.pathname=d.join("/")}o=f>=0?t[f]:"/"}let l=pM(s,o),c=a&&a!=="/"&&a.endsWith("/"),h=(r||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}var bi=e=>e.join("/").replace(/\/\/+/g,"/"),vM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,EM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function TM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var m1=["POST","PUT","PATCH","DELETE"];new Set(m1);var wM=["GET",...m1];new Set(wM);var Qa=P.createContext(null);Qa.displayName="DataRouter";var Nf=P.createContext(null);Nf.displayName="DataRouterState";var g1=P.createContext({isTransitioning:!1});g1.displayName="ViewTransition";var xM=P.createContext(new Map);xM.displayName="Fetchers";var SM=P.createContext(null);SM.displayName="Await";var On=P.createContext(null);On.displayName="Navigation";var mc=P.createContext(null);mc.displayName="Location";var Xn=P.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var wy=P.createContext(null);wy.displayName="RouteError";function AM(e,{relative:t}={}){Pt(Xa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=P.useContext(On),{hash:s,pathname:r,search:a}=gc(e,{relative:t}),o=r;return n!=="/"&&(o=r==="/"?n:bi([n,r])),i.createHref({pathname:o,search:a,hash:s})}function Xa(){return P.useContext(mc)!=null}function ki(){return Pt(Xa(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(mc).location}var p1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function y1(e){P.useContext(On).static||P.useLayoutEffect(e)}function xr(){let{isDataRoute:e}=P.useContext(Xn);return e?jM():RM()}function RM(){Pt(Xa(),"useNavigate() may be used only in the context of a <Router> component.");let e=P.useContext(Qa),{basename:t,navigator:n}=P.useContext(On),{matches:i}=P.useContext(Xn),{pathname:s}=ki(),r=JSON.stringify(Ey(i)),a=P.useRef(!1);return y1(()=>{a.current=!0}),P.useCallback((l,c={})=>{if(Sn(a.current,p1),!a.current)return;if(typeof l=="number"){n.go(l);return}let h=Ty(l,JSON.parse(r),s,c.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:bi([t,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[t,n,r,s,e])}P.createContext(null);function gc(e,{relative:t}={}){let{matches:n}=P.useContext(Xn),{pathname:i}=ki(),s=JSON.stringify(Ey(n));return P.useMemo(()=>Ty(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function IM(e,t){return _1(e,t)}function _1(e,t,n,i){var _;Pt(Xa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=P.useContext(On),{matches:r}=P.useContext(Xn),a=r[r.length-1],o=a?a.params:{},l=a?a.pathname:"/",c=a?a.pathnameBase:"/",h=a&&a.route;{let y=h&&h.path||"";v1(l,!h||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let f=ki(),d;if(t){let y=typeof t=="string"?Wa(t):t;Pt(c==="/"||((_=y.pathname)==null?void 0:_.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${y.pathname}" was given in the \`location\` prop.`),d=y}else d=f;let g=d.pathname||"/",v=g;if(c!=="/"){let y=c.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let E=h1(e,{pathname:v});Sn(h||E!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),Sn(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=kM(E&&E.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:bi([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:bi([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),r,n,i);return t&&x?P.createElement(mc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},x):x}function CM(){let e=UM(),t=TM(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:r},"ErrorBoundary")," or"," ",P.createElement("code",{style:r},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:s},n):null,a)}var DM=P.createElement(CM,null),OM=class extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?P.createElement(Xn.Provider,{value:this.props.routeContext},P.createElement(wy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MM({routeContext:e,match:t,children:n}){let i=P.useContext(Qa);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(Xn.Provider,{value:e},n)}function kM(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,r=n==null?void 0:n.errors;if(r!=null){let l=s.findIndex(c=>c.route.id&&(r==null?void 0:r[c.route.id])!==void 0);Pt(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let a=!1,o=-1;if(n)for(let l=0;l<s.length;l++){let c=s[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(o=l),c.route.id){let{loaderData:h,errors:f}=n,d=c.route.loader&&!h.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||d){a=!0,o>=0?s=s.slice(0,o+1):s=[s[0]];break}}}return s.reduceRight((l,c,h)=>{let f,d=!1,g=null,v=null;n&&(f=r&&c.route.id?r[c.route.id]:void 0,g=c.route.errorElement||DM,a&&(o<0&&h===0?(v1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,v=null):o===h&&(d=!0,v=c.route.hydrateFallbackElement||null)));let E=t.concat(s.slice(0,h+1)),x=()=>{let _;return f?_=g:d?_=v:c.route.Component?_=P.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=l,P.createElement(MM,{match:c,routeContext:{outlet:l,matches:E,isDataRoute:n!=null},children:_})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?P.createElement(OM,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:x(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):x()},null)}function xy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NM(e){let t=P.useContext(Qa);return Pt(t,xy(e)),t}function PM(e){let t=P.useContext(Nf);return Pt(t,xy(e)),t}function LM(e){let t=P.useContext(Xn);return Pt(t,xy(e)),t}function Sy(e){let t=LM(e),n=t.matches[t.matches.length-1];return Pt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function VM(){return Sy("useRouteId")}function UM(){var i;let e=P.useContext(wy),t=PM("useRouteError"),n=Sy("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function jM(){let{router:e}=NM("useNavigate"),t=Sy("useNavigate"),n=P.useRef(!1);return y1(()=>{n.current=!0}),P.useCallback(async(s,r={})=>{Sn(n.current,p1),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...r}))},[e,t])}var mb={};function v1(e,t,n){!t&&!mb[e]&&(mb[e]=!0,Sn(!1,n))}P.memo(zM);function zM({routes:e,future:t,state:n}){return _1(e,void 0,n,t)}function Lg({to:e,replace:t,state:n,relative:i}){Pt(Xa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=P.useContext(On);Sn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=P.useContext(Xn),{pathname:a}=ki(),o=xr(),l=Ty(e,Ey(r),a,i==="path"),c=JSON.stringify(l);return P.useEffect(()=>{o(JSON.parse(c),{replace:t,state:n,relative:i})},[o,c,i,t,n]),null}function ai(e){Pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BM({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:r=!1}){Pt(!Xa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),o=P.useMemo(()=>({basename:a,navigator:s,static:r,future:{}}),[a,s,r]);typeof n=="string"&&(n=Wa(n));let{pathname:l="/",search:c="",hash:h="",state:f=null,key:d="default"}=n,g=P.useMemo(()=>{let v=Ri(l,a);return v==null?null:{location:{pathname:v,search:c,hash:h,state:f,key:d},navigationType:i}},[a,l,c,h,f,d,i]);return Sn(g!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:P.createElement(On.Provider,{value:o},P.createElement(mc.Provider,{children:t,value:g}))}function FM({children:e,location:t}){return IM(Vg(e),t)}function Vg(e,t=[]){let n=[];return P.Children.forEach(e,(i,s)=>{if(!P.isValidElement(i))return;let r=[...t,s];if(i.type===P.Fragment){n.push.apply(n,Vg(i.props.children,r));return}Pt(i.type===ai,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Vg(i.props.children,r)),n.push(a)}),n}var Bu="get",Fu="application/x-www-form-urlencoded";function Pf(e){return e!=null&&typeof e.tagName=="string"}function HM(e){return Pf(e)&&e.tagName.toLowerCase()==="button"}function qM(e){return Pf(e)&&e.tagName.toLowerCase()==="form"}function GM(e){return Pf(e)&&e.tagName.toLowerCase()==="input"}function $M(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function YM(e,t){return e.button===0&&(!t||t==="_self")&&!$M(e)}var au=null;function KM(){if(au===null)try{new FormData(document.createElement("form"),0),au=!1}catch{au=!0}return au}var WM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hm(e){return e!=null&&!WM.has(e)?(Sn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fu}"`),null):e}function QM(e,t){let n,i,s,r,a;if(qM(e)){let o=e.getAttribute("action");i=o?Ri(o,t):null,n=e.getAttribute("method")||Bu,s=hm(e.getAttribute("enctype"))||Fu,r=new FormData(e)}else if(HM(e)||GM(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(i=l?Ri(l,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Bu,s=hm(e.getAttribute("formenctype"))||hm(o.getAttribute("enctype"))||Fu,r=new FormData(o,e),!KM()){let{name:c,type:h,value:f}=e;if(h==="image"){let d=c?`${c}.`:"";r.append(`${d}x`,"0"),r.append(`${d}y`,"0")}else c&&r.append(c,f)}}else{if(Pf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bu,i=null,s=Fu,a=e}return r&&s==="text/plain"&&(a=r,r=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:r,body:a}}function Ay(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function XM(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZM(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function JM(e,t,n){let i=await Promise.all(e.map(async s=>{let r=t.routes[s.route.id];if(r){let a=await XM(r,n);return a.links?a.links():[]}return[]}));return ik(i.flat(1).filter(ZM).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function gb(e,t,n,i,s,r){let a=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,o=(l,c)=>{var h;return n[c].pathname!==l.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return r==="assets"?t.filter((l,c)=>a(l,c)||o(l,c)):r==="data"?t.filter((l,c)=>{var f;let h=i.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function tk(e,t,{includeHydrateFallback:n}={}){return ek(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function ek(e){return[...new Set(e)]}function nk(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function ik(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let r=JSON.stringify(nk(s));return n.has(r)||(n.add(r),i.push({key:r,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sk=new Set([100,101,204,205]);function rk(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Ri(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function b1(){let e=P.useContext(Qa);return Ay(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ak(){let e=P.useContext(Nf);return Ay(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ry=P.createContext(void 0);Ry.displayName="FrameworkContext";function E1(){let e=P.useContext(Ry);return Ay(e,"You must render this element inside a <HydratedRouter> element"),e}function ok(e,t){let n=P.useContext(Ry),[i,s]=P.useState(!1),[r,a]=P.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:h,onTouchStart:f}=t,d=P.useRef(null);P.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let E=_=>{_.forEach(y=>{a(y.isIntersecting)})},x=new IntersectionObserver(E,{threshold:.5});return d.current&&x.observe(d.current),()=>{x.disconnect()}}},[e]),P.useEffect(()=>{if(i){let E=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(E)}}},[i]);let g=()=>{s(!0)},v=()=>{s(!1),a(!1)};return n?e!=="intent"?[r,d,{}]:[r,d,{onFocus:Do(o,g),onBlur:Do(l,v),onMouseEnter:Do(c,g),onMouseLeave:Do(h,v),onTouchStart:Do(f,g)}]:[!1,d,{}]}function Do(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function lk({page:e,...t}){let{router:n}=b1(),i=P.useMemo(()=>h1(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?P.createElement(uk,{page:e,matches:i,...t}):null}function ck(e){let{manifest:t,routeModules:n}=E1(),[i,s]=P.useState([]);return P.useEffect(()=>{let r=!1;return JM(e,t,n).then(a=>{r||s(a)}),()=>{r=!0}},[e,t,n]),i}function uk({page:e,matches:t,...n}){let i=ki(),{manifest:s,routeModules:r}=E1(),{basename:a}=b1(),{loaderData:o,matches:l}=ak(),c=P.useMemo(()=>gb(e,t,l,s,i,"data"),[e,t,l,s,i]),h=P.useMemo(()=>gb(e,t,l,s,i,"assets"),[e,t,l,s,i]),f=P.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let v=new Set,E=!1;if(t.forEach(_=>{var T;let y=s.routes[_.route.id];!y||!y.hasLoader||(!c.some(M=>M.route.id===_.route.id)&&_.route.id in o&&((T=r[_.route.id])!=null&&T.shouldRevalidate)||y.hasClientLoader?E=!0:v.add(_.route.id))}),v.size===0)return[];let x=rk(e,a);return E&&v.size>0&&x.searchParams.set("_routes",t.filter(_=>v.has(_.route.id)).map(_=>_.route.id).join(",")),[x.pathname+x.search]},[a,o,i,s,c,t,e,r]),d=P.useMemo(()=>tk(h,s),[h,s]),g=ck(h);return P.createElement(P.Fragment,null,f.map(v=>P.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),d.map(v=>P.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),g.map(({key:v,link:E})=>P.createElement("link",{key:v,...E})))}function hk(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var T1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{T1&&(window.__reactRouterVersion="7.6.1")}catch{}function fk({basename:e,children:t,window:n}){let i=P.useRef();i.current==null&&(i.current=JO({window:n,v5Compat:!0}));let s=i.current,[r,a]=P.useState({action:s.action,location:s.location}),o=P.useCallback(l=>{P.startTransition(()=>a(l))},[a]);return P.useLayoutEffect(()=>s.listen(o),[s,o]),P.createElement(BM,{basename:e,children:t,location:r.location,navigationType:r.action,navigator:s})}var w1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ll=P.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:r,replace:a,state:o,target:l,to:c,preventScrollReset:h,viewTransition:f,...d},g){let{basename:v}=P.useContext(On),E=typeof c=="string"&&w1.test(c),x,_=!1;if(typeof c=="string"&&E&&(x=c,T1))try{let R=new URL(window.location.href),I=c.startsWith("//")?new URL(R.protocol+c):new URL(c),O=Ri(I.pathname,v);I.origin===R.origin&&O!=null?c=O+I.search+I.hash:_=!0}catch{Sn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=AM(c,{relative:s}),[T,M,C]=ok(i,d),L=pk(c,{replace:a,state:o,target:l,preventScrollReset:h,relative:s,viewTransition:f});function S(R){t&&t(R),R.defaultPrevented||L(R)}let b=P.createElement("a",{...d,...C,href:x||y,onClick:_||r?t:S,ref:hk(g,M),target:l,"data-discover":!E&&n==="render"?"true":void 0});return T&&!E?P.createElement(P.Fragment,null,b,P.createElement(lk,{page:y})):b});Ll.displayName="Link";var dk=P.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:r,to:a,viewTransition:o,children:l,...c},h){let f=gc(a,{relative:c.relative}),d=ki(),g=P.useContext(Nf),{navigator:v,basename:E}=P.useContext(On),x=g!=null&&Ek(f)&&o===!0,_=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,y=d.pathname,T=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(y=y.toLowerCase(),T=T?T.toLowerCase():null,_=_.toLowerCase()),T&&E&&(T=Ri(T,E)||T);const M=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let C=y===_||!s&&y.startsWith(_)&&y.charAt(M)==="/",L=T!=null&&(T===_||!s&&T.startsWith(_)&&T.charAt(_.length)==="/"),S={isActive:C,isPending:L,isTransitioning:x},b=C?t:void 0,R;typeof i=="function"?R=i(S):R=[i,C?"active":null,L?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let I=typeof r=="function"?r(S):r;return P.createElement(Ll,{...c,"aria-current":b,className:R,ref:h,style:I,to:a,viewTransition:o},typeof l=="function"?l(S):l)});dk.displayName="NavLink";var mk=P.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:r,method:a=Bu,action:o,onSubmit:l,relative:c,preventScrollReset:h,viewTransition:f,...d},g)=>{let v=vk(),E=bk(o,{relative:c}),x=a.toLowerCase()==="get"?"get":"post",_=typeof o=="string"&&w1.test(o),y=T=>{if(l&&l(T),T.defaultPrevented)return;T.preventDefault();let M=T.nativeEvent.submitter,C=(M==null?void 0:M.getAttribute("formmethod"))||a;v(M||T.currentTarget,{fetcherKey:t,method:C,navigate:n,replace:s,state:r,relative:c,preventScrollReset:h,viewTransition:f})};return P.createElement("form",{ref:g,method:x,action:E,onSubmit:i?l:y,...d,"data-discover":!_&&e==="render"?"true":void 0})});mk.displayName="Form";function gk(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x1(e){let t=P.useContext(Qa);return Pt(t,gk(e)),t}function pk(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:r,viewTransition:a}={}){let o=xr(),l=ki(),c=gc(e,{relative:r});return P.useCallback(h=>{if(YM(h,t)){h.preventDefault();let f=n!==void 0?n:Pl(l)===Pl(c);o(e,{replace:f,state:i,preventScrollReset:s,relative:r,viewTransition:a})}},[l,o,c,n,i,t,e,s,r,a])}var yk=0,_k=()=>`__${String(++yk)}__`;function vk(){let{router:e}=x1("useSubmit"),{basename:t}=P.useContext(On),n=VM();return P.useCallback(async(i,s={})=>{let{action:r,method:a,encType:o,formData:l,body:c}=QM(i,t);if(s.navigate===!1){let h=s.fetcherKey||_k();await e.fetch(h,n,s.action||r,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,flushSync:s.flushSync})}else await e.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function bk(e,{relative:t}={}){let{basename:n}=P.useContext(On),i=P.useContext(Xn);Pt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...gc(e||".",{relative:t})},a=ki();if(e==null){r.search=a.search;let o=new URLSearchParams(r.search),l=o.getAll("index");if(l.some(h=>h==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let h=o.toString();r.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:bi([n,r.pathname])),Pl(r)}function Ek(e,t={}){let n=P.useContext(g1);Pt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=x1("useViewTransitionState"),s=gc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let r=Ri(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=Ri(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Ph(s.pathname,a)!=null||Ph(s.pathname,r)!=null}[...sk];const Lh="/Jetel-Mendes-24h/assets/logo-QzOPLK3u.png";/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=()=>{};var pb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},wk=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],a=e[n++],o=e[n++],l=((s&7)<<18|(r&63)<<12|(a&63)<<6|o&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const r=e[n++],a=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return t.join("")},A1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],a=s+1<e.length,o=a?e[s+1]:0,l=s+2<e.length,c=l?e[s+2]:0,h=r>>2,f=(r&3)<<4|o>>4;let d=(o&15)<<2|c>>6,g=c&63;l||(g=64,a||(d=64)),i.push(n[h],n[f],n[d],n[g])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(S1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):wk(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],o=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const f=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||o==null||c==null||f==null)throw new xk;const d=r<<2|o>>4;if(i.push(d),c!==64){const g=o<<4&240|c>>2;if(i.push(g),f!==64){const v=c<<6&192|f;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class xk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sk=function(e){const t=S1(e);return A1.encodeByteArray(t,!0)},Vh=function(e){return Sk(e).replace(/\./g,"")},R1=function(e){try{return A1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=()=>Ak().__FIREBASE_DEFAULTS__,Ik=()=>{if(typeof process>"u"||typeof pb>"u")return;const e=pb.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Ck=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&R1(e[1]);return t&&JSON.parse(t)},Lf=()=>{try{return Tk()||Rk()||Ik()||Ck()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},I1=e=>{var t,n;return(n=(t=Lf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Dk=e=>{const t=I1(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},C1=()=>{var e;return(e=Lf())===null||e===void 0?void 0:e.config},D1=e=>{var t;return(t=Lf())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(e){return e.endsWith(".cloudworkstations.dev")}async function O1(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Vh(JSON.stringify(n)),Vh(JSON.stringify(a)),""].join(".")}const ul={};function kk(){const e={prod:[],emulator:[]};for(const t of Object.keys(ul))ul[t]?e.emulator.push(t):e.prod.push(t);return e}function Nk(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let yb=!1;function M1(e,t){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||ul[e]===t||ul[e]||yb)return;ul[e]=t;function n(d){return`__firebase__banner__${d}`}const i="__firebase__banner",r=kk().prod.length>0;function a(){const d=document.getElementById(i);d&&d.remove()}function o(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,g){d.setAttribute("width","24"),d.setAttribute("id",g),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{yb=!0,a()},d}function h(d,g){d.setAttribute("id",g),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=Nk(i),g=n("text"),v=document.getElementById(g)||document.createElement("span"),E=n("learnmore"),x=document.getElementById(E)||document.createElement("a"),_=n("preprendIcon"),y=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const T=d.element;o(T),h(x,E);const M=c();l(y,_),T.append(y,v,x,M),document.body.appendChild(T)}r?(v.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function Lk(){var e;const t=(e=Lf())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Vk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function k1(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Uk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jk(){const e=Ae();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function zk(){return!Lk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N1(){try{return typeof indexedDB=="object"}catch{return!1}}function P1(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){t(n)}})}function Bk(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="FirebaseError";class Mn extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=Fk,Object.setPrototypeOf(this,Mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sr.prototype.create)}}class Sr{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],a=r?Hk(r,i):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new Mn(s,o,i)}}function Hk(e,t){return e.replace(qk,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const qk=/\{\$([^}]+)}/g;function Gk(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Rs(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],a=t[s];if(_b(r)&&_b(a)){if(!Rs(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function _b(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function zo(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(r)}}),t}function Bo(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function $k(e,t){const n=new Yk(e,t);return n.subscribe.bind(n)}class Yk{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Kk(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=fm),s.error===void 0&&(s.error=fm),s.complete===void 0&&(s.complete=fm);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kk(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function fm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=1e3,Qk=2,Xk=4*60*60*1e3,Zk=.5;function vb(e,t=Wk,n=Qk){const i=t*Math.pow(n,e),s=Math.round(Zk*i*(Math.random()-.5)*2);return Math.min(Xk,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(e){return e&&e._delegate?e._delegate:e}class An{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new Ok;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(eN(t))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=Ws){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ws){return this.instances.has(t)}getOptions(t=Ws){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);i===o&&a.resolve(s)}return s}onInit(t,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(t),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&t(a,s),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:tN(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ws){return this.component?this.component.multipleInstances?t:Ws:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tN(e){return e===Ws?void 0:e}function eN(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Jk(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(st||(st={}));const iN={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},sN=st.INFO,rN={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},aN=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=rN[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Vf{constructor(t){this.name=t,this._logLevel=sN,this._logHandler=aN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in st))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...t),this._logHandler(this,st.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...t),this._logHandler(this,st.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,st.INFO,...t),this._logHandler(this,st.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,st.WARN,...t),this._logHandler(this,st.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...t),this._logHandler(this,st.ERROR,...t)}}const oN=(e,t)=>t.some(n=>e instanceof n);let bb,Eb;function lN(){return bb||(bb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cN(){return Eb||(Eb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L1=new WeakMap,Ug=new WeakMap,V1=new WeakMap,dm=new WeakMap,Iy=new WeakMap;function uN(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",a)},r=()=>{n(ps(e.result)),s()},a=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&L1.set(n,e)}).catch(()=>{}),Iy.set(t,e),t}function hN(e){if(Ug.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",a),e.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",a),e.addEventListener("abort",a)});Ug.set(e,t)}let jg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ug.get(e);if(t==="objectStoreNames")return e.objectStoreNames||V1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ps(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function fN(e){jg=e(jg)}function dN(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(mm(this),t,...n);return V1.set(i,t.sort?t.sort():[t]),ps(i)}:cN().includes(e)?function(...t){return e.apply(mm(this),t),ps(L1.get(this))}:function(...t){return ps(e.apply(mm(this),t))}}function mN(e){return typeof e=="function"?dN(e):(e instanceof IDBTransaction&&hN(e),oN(e,lN())?new Proxy(e,jg):e)}function ps(e){if(e instanceof IDBRequest)return uN(e);if(dm.has(e))return dm.get(e);const t=mN(e);return t!==e&&(dm.set(e,t),Iy.set(t,e)),t}const mm=e=>Iy.get(e);function U1(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(e,t),o=ps(a);return i&&a.addEventListener("upgradeneeded",l=>{i(ps(a.result),l.oldVersion,l.newVersion,ps(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const gN=["get","getKey","getAll","getAllKeys","count"],pN=["put","add","delete","clear"],gm=new Map;function Tb(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(gm.get(t))return gm.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=pN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||gN.includes(n)))return;const r=async function(a,...o){const l=this.transaction(a,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),s&&l.done]))[0]};return gm.set(t,r),r}fN(e=>({...e,get:(t,n,i)=>Tb(t,n)||e.get(t,n,i),has:(t,n)=>!!Tb(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_N(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function _N(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const zg="@firebase/app",wb="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new Vf("@firebase/app"),vN="@firebase/app-compat",bN="@firebase/analytics-compat",EN="@firebase/analytics",TN="@firebase/app-check-compat",wN="@firebase/app-check",xN="@firebase/auth",SN="@firebase/auth-compat",AN="@firebase/database",RN="@firebase/data-connect",IN="@firebase/database-compat",CN="@firebase/functions",DN="@firebase/functions-compat",ON="@firebase/installations",MN="@firebase/installations-compat",kN="@firebase/messaging",NN="@firebase/messaging-compat",PN="@firebase/performance",LN="@firebase/performance-compat",VN="@firebase/remote-config",UN="@firebase/remote-config-compat",jN="@firebase/storage",zN="@firebase/storage-compat",BN="@firebase/firestore",FN="@firebase/ai",HN="@firebase/firestore-compat",qN="firebase",GN="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="[DEFAULT]",$N={[zg]:"fire-core",[vN]:"fire-core-compat",[EN]:"fire-analytics",[bN]:"fire-analytics-compat",[wN]:"fire-app-check",[TN]:"fire-app-check-compat",[xN]:"fire-auth",[SN]:"fire-auth-compat",[AN]:"fire-rtdb",[RN]:"fire-data-connect",[IN]:"fire-rtdb-compat",[CN]:"fire-fn",[DN]:"fire-fn-compat",[ON]:"fire-iid",[MN]:"fire-iid-compat",[kN]:"fire-fcm",[NN]:"fire-fcm-compat",[PN]:"fire-perf",[LN]:"fire-perf-compat",[VN]:"fire-rc",[UN]:"fire-rc-compat",[jN]:"fire-gcs",[zN]:"fire-gcs-compat",[BN]:"fire-fst",[HN]:"fire-fst-compat",[FN]:"fire-vertex","fire-js":"fire-js",[qN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,YN=new Map,Fg=new Map;function xb(e,t){try{e.container.addComponent(t)}catch(n){Ii.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Yn(e){const t=e.name;if(Fg.has(t))return Ii.debug(`There were multiple attempts to register component ${t}.`),!1;Fg.set(t,e);for(const n of Uh.values())xb(n,e);for(const n of YN.values())xb(n,e);return!0}function Ar(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function cn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new Sr("app","Firebase",KN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new An("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=GN;function j1(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Bg,automaticDataCollectionEnabled:!0},t),s=i.name;if(typeof s!="string"||!s)throw ys.create("bad-app-name",{appName:String(s)});if(n||(n=C1()),!n)throw ys.create("no-options");const r=Uh.get(s);if(r){if(Rs(n,r.options)&&Rs(i,r.config))return r;throw ys.create("duplicate-app",{appName:s})}const a=new nN(s);for(const l of Fg.values())a.addComponent(l);const o=new WN(n,i,a);return Uh.set(s,o),o}function Cy(e=Bg){const t=Uh.get(e);if(!t&&e===Bg&&C1())return j1();if(!t)throw ys.create("no-app",{appName:e});return t}function fn(e,t,n){var i;let s=(i=$N[e])!==null&&i!==void 0?i:e;n&&(s+=`-${n}`);const r=s.match(/\s|\//),a=t.match(/\s|\//);if(r||a){const o=[`Unable to register library "${s}" with version "${t}":`];r&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ii.warn(o.join(" "));return}Yn(new An(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="firebase-heartbeat-database",XN=1,Vl="firebase-heartbeat-store";let pm=null;function z1(){return pm||(pm=U1(QN,XN,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Vl)}catch(n){console.warn(n)}}}}).catch(e=>{throw ys.create("idb-open",{originalErrorMessage:e.message})})),pm}async function ZN(e){try{const n=(await z1()).transaction(Vl),i=await n.objectStore(Vl).get(B1(e));return await n.done,i}catch(t){if(t instanceof Mn)Ii.warn(t.message);else{const n=ys.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ii.warn(n.message)}}}async function Sb(e,t){try{const i=(await z1()).transaction(Vl,"readwrite");await i.objectStore(Vl).put(t,B1(e)),await i.done}catch(n){if(n instanceof Mn)Ii.warn(n.message);else{const i=ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ii.warn(i.message)}}}function B1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=1024,tP=30;class eP{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iP(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ab();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>tP){const a=sP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ii.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ab(),{heartbeatsToSend:i,unsentEntries:s}=nP(this._heartbeatsCache.heartbeats),r=Vh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Ii.warn(n),""}}}function Ab(){return new Date().toISOString().substring(0,10)}function nP(e,t=JN){const n=[];let i=e.slice();for(const s of e){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),Rb(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Rb(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class iP{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N1()?P1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Sb(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Sb(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Rb(e){return Vh(JSON.stringify({version:2,heartbeats:e})).length}function sP(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(e){Yn(new An("platform-logger",t=>new yN(t),"PRIVATE")),Yn(new An("heartbeat",t=>new eP(t),"PRIVATE")),fn(zg,wb,e),fn(zg,wb,"esm2017"),fn("fire-js","")}rP("");var Ib=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _s,F1;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(S,b){function R(){}R.prototype=b.prototype,S.D=b.prototype,S.prototype=new R,S.prototype.constructor=S,S.C=function(I,O,k){for(var D=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)D[Ut-2]=arguments[Ut];return b.prototype[O].apply(I,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,b,R){R||(R=0);var I=Array(16);if(typeof b=="string")for(var O=0;16>O;++O)I[O]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(O=0;16>O;++O)I[O]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=S.g[0],R=S.g[1],O=S.g[2];var k=S.g[3],D=b+(k^R&(O^k))+I[0]+3614090360&4294967295;b=R+(D<<7&4294967295|D>>>25),D=k+(O^b&(R^O))+I[1]+3905402710&4294967295,k=b+(D<<12&4294967295|D>>>20),D=O+(R^k&(b^R))+I[2]+606105819&4294967295,O=k+(D<<17&4294967295|D>>>15),D=R+(b^O&(k^b))+I[3]+3250441966&4294967295,R=O+(D<<22&4294967295|D>>>10),D=b+(k^R&(O^k))+I[4]+4118548399&4294967295,b=R+(D<<7&4294967295|D>>>25),D=k+(O^b&(R^O))+I[5]+1200080426&4294967295,k=b+(D<<12&4294967295|D>>>20),D=O+(R^k&(b^R))+I[6]+2821735955&4294967295,O=k+(D<<17&4294967295|D>>>15),D=R+(b^O&(k^b))+I[7]+4249261313&4294967295,R=O+(D<<22&4294967295|D>>>10),D=b+(k^R&(O^k))+I[8]+1770035416&4294967295,b=R+(D<<7&4294967295|D>>>25),D=k+(O^b&(R^O))+I[9]+2336552879&4294967295,k=b+(D<<12&4294967295|D>>>20),D=O+(R^k&(b^R))+I[10]+4294925233&4294967295,O=k+(D<<17&4294967295|D>>>15),D=R+(b^O&(k^b))+I[11]+2304563134&4294967295,R=O+(D<<22&4294967295|D>>>10),D=b+(k^R&(O^k))+I[12]+1804603682&4294967295,b=R+(D<<7&4294967295|D>>>25),D=k+(O^b&(R^O))+I[13]+4254626195&4294967295,k=b+(D<<12&4294967295|D>>>20),D=O+(R^k&(b^R))+I[14]+2792965006&4294967295,O=k+(D<<17&4294967295|D>>>15),D=R+(b^O&(k^b))+I[15]+1236535329&4294967295,R=O+(D<<22&4294967295|D>>>10),D=b+(O^k&(R^O))+I[1]+4129170786&4294967295,b=R+(D<<5&4294967295|D>>>27),D=k+(R^O&(b^R))+I[6]+3225465664&4294967295,k=b+(D<<9&4294967295|D>>>23),D=O+(b^R&(k^b))+I[11]+643717713&4294967295,O=k+(D<<14&4294967295|D>>>18),D=R+(k^b&(O^k))+I[0]+3921069994&4294967295,R=O+(D<<20&4294967295|D>>>12),D=b+(O^k&(R^O))+I[5]+3593408605&4294967295,b=R+(D<<5&4294967295|D>>>27),D=k+(R^O&(b^R))+I[10]+38016083&4294967295,k=b+(D<<9&4294967295|D>>>23),D=O+(b^R&(k^b))+I[15]+3634488961&4294967295,O=k+(D<<14&4294967295|D>>>18),D=R+(k^b&(O^k))+I[4]+3889429448&4294967295,R=O+(D<<20&4294967295|D>>>12),D=b+(O^k&(R^O))+I[9]+568446438&4294967295,b=R+(D<<5&4294967295|D>>>27),D=k+(R^O&(b^R))+I[14]+3275163606&4294967295,k=b+(D<<9&4294967295|D>>>23),D=O+(b^R&(k^b))+I[3]+4107603335&4294967295,O=k+(D<<14&4294967295|D>>>18),D=R+(k^b&(O^k))+I[8]+1163531501&4294967295,R=O+(D<<20&4294967295|D>>>12),D=b+(O^k&(R^O))+I[13]+2850285829&4294967295,b=R+(D<<5&4294967295|D>>>27),D=k+(R^O&(b^R))+I[2]+4243563512&4294967295,k=b+(D<<9&4294967295|D>>>23),D=O+(b^R&(k^b))+I[7]+1735328473&4294967295,O=k+(D<<14&4294967295|D>>>18),D=R+(k^b&(O^k))+I[12]+2368359562&4294967295,R=O+(D<<20&4294967295|D>>>12),D=b+(R^O^k)+I[5]+4294588738&4294967295,b=R+(D<<4&4294967295|D>>>28),D=k+(b^R^O)+I[8]+2272392833&4294967295,k=b+(D<<11&4294967295|D>>>21),D=O+(k^b^R)+I[11]+1839030562&4294967295,O=k+(D<<16&4294967295|D>>>16),D=R+(O^k^b)+I[14]+4259657740&4294967295,R=O+(D<<23&4294967295|D>>>9),D=b+(R^O^k)+I[1]+2763975236&4294967295,b=R+(D<<4&4294967295|D>>>28),D=k+(b^R^O)+I[4]+1272893353&4294967295,k=b+(D<<11&4294967295|D>>>21),D=O+(k^b^R)+I[7]+4139469664&4294967295,O=k+(D<<16&4294967295|D>>>16),D=R+(O^k^b)+I[10]+3200236656&4294967295,R=O+(D<<23&4294967295|D>>>9),D=b+(R^O^k)+I[13]+681279174&4294967295,b=R+(D<<4&4294967295|D>>>28),D=k+(b^R^O)+I[0]+3936430074&4294967295,k=b+(D<<11&4294967295|D>>>21),D=O+(k^b^R)+I[3]+3572445317&4294967295,O=k+(D<<16&4294967295|D>>>16),D=R+(O^k^b)+I[6]+76029189&4294967295,R=O+(D<<23&4294967295|D>>>9),D=b+(R^O^k)+I[9]+3654602809&4294967295,b=R+(D<<4&4294967295|D>>>28),D=k+(b^R^O)+I[12]+3873151461&4294967295,k=b+(D<<11&4294967295|D>>>21),D=O+(k^b^R)+I[15]+530742520&4294967295,O=k+(D<<16&4294967295|D>>>16),D=R+(O^k^b)+I[2]+3299628645&4294967295,R=O+(D<<23&4294967295|D>>>9),D=b+(O^(R|~k))+I[0]+4096336452&4294967295,b=R+(D<<6&4294967295|D>>>26),D=k+(R^(b|~O))+I[7]+1126891415&4294967295,k=b+(D<<10&4294967295|D>>>22),D=O+(b^(k|~R))+I[14]+2878612391&4294967295,O=k+(D<<15&4294967295|D>>>17),D=R+(k^(O|~b))+I[5]+4237533241&4294967295,R=O+(D<<21&4294967295|D>>>11),D=b+(O^(R|~k))+I[12]+1700485571&4294967295,b=R+(D<<6&4294967295|D>>>26),D=k+(R^(b|~O))+I[3]+2399980690&4294967295,k=b+(D<<10&4294967295|D>>>22),D=O+(b^(k|~R))+I[10]+4293915773&4294967295,O=k+(D<<15&4294967295|D>>>17),D=R+(k^(O|~b))+I[1]+2240044497&4294967295,R=O+(D<<21&4294967295|D>>>11),D=b+(O^(R|~k))+I[8]+1873313359&4294967295,b=R+(D<<6&4294967295|D>>>26),D=k+(R^(b|~O))+I[15]+4264355552&4294967295,k=b+(D<<10&4294967295|D>>>22),D=O+(b^(k|~R))+I[6]+2734768916&4294967295,O=k+(D<<15&4294967295|D>>>17),D=R+(k^(O|~b))+I[13]+1309151649&4294967295,R=O+(D<<21&4294967295|D>>>11),D=b+(O^(R|~k))+I[4]+4149444226&4294967295,b=R+(D<<6&4294967295|D>>>26),D=k+(R^(b|~O))+I[11]+3174756917&4294967295,k=b+(D<<10&4294967295|D>>>22),D=O+(b^(k|~R))+I[2]+718787259&4294967295,O=k+(D<<15&4294967295|D>>>17),D=R+(k^(O|~b))+I[9]+3951481745&4294967295,S.g[0]=S.g[0]+b&4294967295,S.g[1]=S.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+k&4294967295}i.prototype.u=function(S,b){b===void 0&&(b=S.length);for(var R=b-this.blockSize,I=this.B,O=this.h,k=0;k<b;){if(O==0)for(;k<=R;)s(this,S,k),k+=this.blockSize;if(typeof S=="string"){for(;k<b;)if(I[O++]=S.charCodeAt(k++),O==this.blockSize){s(this,I),O=0;break}}else for(;k<b;)if(I[O++]=S[k++],O==this.blockSize){s(this,I),O=0;break}}this.h=O,this.o+=b},i.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var b=1;b<S.length-8;++b)S[b]=0;var R=8*this.o;for(b=S.length-8;b<S.length;++b)S[b]=R&255,R/=256;for(this.u(S),S=Array(16),b=R=0;4>b;++b)for(var I=0;32>I;I+=8)S[R++]=this.g[b]>>>I&255;return S};function r(S,b){var R=o;return Object.prototype.hasOwnProperty.call(R,S)?R[S]:R[S]=b(S)}function a(S,b){this.h=b;for(var R=[],I=!0,O=S.length-1;0<=O;O--){var k=S[O]|0;I&&k==b||(R[O]=k,I=!1)}this.g=R}var o={};function l(S){return-128<=S&&128>S?r(S,function(b){return new a([b|0],0>b?-1:0)}):new a([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return x(c(-S));for(var b=[],R=1,I=0;S>=R;I++)b[I]=S/R|0,R*=4294967296;return new a(b,0)}function h(S,b){if(S.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(S.charAt(0)=="-")return x(h(S.substring(1),b));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(b,8)),I=f,O=0;O<S.length;O+=8){var k=Math.min(8,S.length-O),D=parseInt(S.substring(O,O+k),b);8>k?(k=c(Math.pow(b,k)),I=I.j(k).add(c(D))):(I=I.j(R),I=I.add(c(D)))}return I}var f=l(0),d=l(1),g=l(16777216);e=a.prototype,e.m=function(){if(E(this))return-x(this).m();for(var S=0,b=1,R=0;R<this.g.length;R++){var I=this.i(R);S+=(0<=I?I:4294967296+I)*b,b*=4294967296}return S},e.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(E(this))return"-"+x(this).toString(S);for(var b=c(Math.pow(S,6)),R=this,I="";;){var O=M(R,b).g;R=_(R,O.j(b));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(S);if(R=O,v(R))return k+I;for(;6>k.length;)k="0"+k;I=k+I}},e.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(var b=0;b<S.g.length;b++)if(S.g[b]!=0)return!1;return!0}function E(S){return S.h==-1}e.l=function(S){return S=_(this,S),E(S)?-1:v(S)?0:1};function x(S){for(var b=S.g.length,R=[],I=0;I<b;I++)R[I]=~S.g[I];return new a(R,~S.h).add(d)}e.abs=function(){return E(this)?x(this):this},e.add=function(S){for(var b=Math.max(this.g.length,S.g.length),R=[],I=0,O=0;O<=b;O++){var k=I+(this.i(O)&65535)+(S.i(O)&65535),D=(k>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);I=D>>>16,k&=65535,D&=65535,R[O]=D<<16|k}return new a(R,R[R.length-1]&-2147483648?-1:0)};function _(S,b){return S.add(x(b))}e.j=function(S){if(v(this)||v(S))return f;if(E(this))return E(S)?x(this).j(x(S)):x(x(this).j(S));if(E(S))return x(this.j(x(S)));if(0>this.l(g)&&0>S.l(g))return c(this.m()*S.m());for(var b=this.g.length+S.g.length,R=[],I=0;I<2*b;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(var O=0;O<S.g.length;O++){var k=this.i(I)>>>16,D=this.i(I)&65535,Ut=S.i(O)>>>16,ht=S.i(O)&65535;R[2*I+2*O]+=D*ht,y(R,2*I+2*O),R[2*I+2*O+1]+=k*ht,y(R,2*I+2*O+1),R[2*I+2*O+1]+=D*Ut,y(R,2*I+2*O+1),R[2*I+2*O+2]+=k*Ut,y(R,2*I+2*O+2)}for(I=0;I<b;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=b;I<2*b;I++)R[I]=0;return new a(R,0)};function y(S,b){for(;(S[b]&65535)!=S[b];)S[b+1]+=S[b]>>>16,S[b]&=65535,b++}function T(S,b){this.g=S,this.h=b}function M(S,b){if(v(b))throw Error("division by zero");if(v(S))return new T(f,f);if(E(S))return b=M(x(S),b),new T(x(b.g),x(b.h));if(E(b))return b=M(S,x(b)),new T(x(b.g),b.h);if(30<S.g.length){if(E(S)||E(b))throw Error("slowDivide_ only works with positive integers.");for(var R=d,I=b;0>=I.l(S);)R=C(R),I=C(I);var O=L(R,1),k=L(I,1);for(I=L(I,2),R=L(R,2);!v(I);){var D=k.add(I);0>=D.l(S)&&(O=O.add(R),k=D),I=L(I,1),R=L(R,1)}return b=_(S,O.j(b)),new T(O,b)}for(O=f;0<=S.l(b);){for(R=Math.max(1,Math.floor(S.m()/b.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),k=c(R),D=k.j(b);E(D)||0<D.l(S);)R-=I,k=c(R),D=k.j(b);v(k)&&(k=d),O=O.add(k),S=_(S,D)}return new T(O,S)}e.A=function(S){return M(this,S).h},e.and=function(S){for(var b=Math.max(this.g.length,S.g.length),R=[],I=0;I<b;I++)R[I]=this.i(I)&S.i(I);return new a(R,this.h&S.h)},e.or=function(S){for(var b=Math.max(this.g.length,S.g.length),R=[],I=0;I<b;I++)R[I]=this.i(I)|S.i(I);return new a(R,this.h|S.h)},e.xor=function(S){for(var b=Math.max(this.g.length,S.g.length),R=[],I=0;I<b;I++)R[I]=this.i(I)^S.i(I);return new a(R,this.h^S.h)};function C(S){for(var b=S.g.length+1,R=[],I=0;I<b;I++)R[I]=S.i(I)<<1|S.i(I-1)>>>31;return new a(R,S.h)}function L(S,b){var R=b>>5;b%=32;for(var I=S.g.length-R,O=[],k=0;k<I;k++)O[k]=0<b?S.i(k+R)>>>b|S.i(k+R+1)<<32-b:S.i(k+R);return new a(O,S.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,F1=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=h,_s=a}).apply(typeof Ib<"u"?Ib:typeof self<"u"?self:typeof window<"u"?window:{});var ou=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var H1,Fo,q1,Hu,Hg,G1,$1,Y1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ou=="object"&&ou];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var i=n(this);function s(u,m){if(m)t:{var p=i;u=u.split(".");for(var w=0;w<u.length-1;w++){var N=u[w];if(!(N in p))break t;p=p[N]}u=u[u.length-1],w=p[u],m=m(w),m!=w&&m!=null&&t(p,u,{configurable:!0,writable:!0,value:m})}}function r(u,m){u instanceof String&&(u+="");var p=0,w=!1,N={next:function(){if(!w&&p<u.length){var V=p++;return{value:m(V,u[V]),done:!1}}return w=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}s("Array.prototype.values",function(u){return u||function(){return r(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function c(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function h(u,m,p){return u.call.apply(u.bind,arguments)}function f(u,m,p){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,w),u.apply(m,N)}}return function(){return u.apply(m,arguments)}}function d(u,m,p){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,d.apply(null,arguments)}function g(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var w=p.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function v(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(w,N,V){for(var F=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)F[wt-2]=arguments[wt];return m.prototype[N].apply(w,F)}}function E(u){const m=u.length;if(0<m){const p=Array(m);for(let w=0;w<m;w++)p[w]=u[w];return p}return[]}function x(u,m){for(let p=1;p<arguments.length;p++){const w=arguments[p];if(l(w)){const N=u.length||0,V=w.length||0;u.length=N+V;for(let F=0;F<V;F++)u[N+F]=w[F]}else u.push(w)}}class _{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function y(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=o.navigator;return u&&(u=u.userAgent)?u:""}function M(u){return M[" "](u),u}M[" "]=function(){};var C=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function L(u,m,p){for(const w in u)m.call(p,u[w],w,u)}function S(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function b(u){const m={};for(const p in u)m[p]=u[p];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,m){let p,w;for(let N=1;N<arguments.length;N++){w=arguments[N];for(p in w)u[p]=w[p];for(let V=0;V<R.length;V++)p=R[V],Object.prototype.hasOwnProperty.call(w,p)&&(u[p]=w[p])}}function O(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function k(u){o.setTimeout(()=>{throw u},0)}function D(){var u=mt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ut{constructor(){this.h=this.g=null}add(m,p){const w=ht.get();w.set(m,p),this.h?this.h.next=w:this.g=w,this.h=w}}var ht=new _(()=>new B,u=>u.reset());class B{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let G,Y=!1,mt=new Ut,bt=()=>{const u=o.Promise.resolve(void 0);G=()=>{u.then(yn)}};var yn=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(p){k(p)}var m=ht;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}Y=!1};function $t(){this.s=this.s,this.C=this.C}$t.prototype.s=!1,$t.prototype.ma=function(){this.s||(this.s=!0,this.N())},$t.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function At(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};o.addEventListener("test",p,m),o.removeEventListener("test",p,m)}catch{}return u}();function ye(u,m){if(At.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(C){t:{try{M(m.nodeName);var N=!0;break t}catch{}N=!1}N||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Zn[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ye.aa.h.call(this)}}v(ye,At);var Zn={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ac="closure_listenable_"+(1e6*Math.random()|0),dI=0;function mI(u,m,p,w,N){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!w,this.ha=N,this.key=++dI,this.da=this.fa=!1}function Rc(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ic(u){this.src=u,this.g={},this.h=0}Ic.prototype.add=function(u,m,p,w,N){var V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);var F=od(u,m,w,N);return-1<F?(m=u[F],p||(m.fa=!1)):(m=new mI(m,this.src,V,!!w,N),m.fa=p,u.push(m)),m};function ad(u,m){var p=m.type;if(p in u.g){var w=u.g[p],N=Array.prototype.indexOf.call(w,m,void 0),V;(V=0<=N)&&Array.prototype.splice.call(w,N,1),V&&(Rc(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function od(u,m,p,w){for(var N=0;N<u.length;++N){var V=u[N];if(!V.da&&V.listener==m&&V.capture==!!p&&V.ha==w)return N}return-1}var ld="closure_lm_"+(1e6*Math.random()|0),cd={};function j_(u,m,p,w,N){if(Array.isArray(m)){for(var V=0;V<m.length;V++)j_(u,m[V],p,w,N);return null}return p=F_(p),u&&u[Ac]?u.K(m,p,c(w)?!!w.capture:!1,N):gI(u,m,p,!1,w,N)}function gI(u,m,p,w,N,V){if(!m)throw Error("Invalid event type");var F=c(N)?!!N.capture:!!N,wt=hd(u);if(wt||(u[ld]=wt=new Ic(u)),p=wt.add(m,p,w,F,V),p.proxy)return p;if(w=pI(),p.proxy=w,w.src=u,w.listener=p,u.addEventListener)ce||(N=F),N===void 0&&(N=!1),u.addEventListener(m.toString(),w,N);else if(u.attachEvent)u.attachEvent(B_(m.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return p}function pI(){function u(p){return m.call(u.src,u.listener,p)}const m=yI;return u}function z_(u,m,p,w,N){if(Array.isArray(m))for(var V=0;V<m.length;V++)z_(u,m[V],p,w,N);else w=c(w)?!!w.capture:!!w,p=F_(p),u&&u[Ac]?(u=u.i,m=String(m).toString(),m in u.g&&(V=u.g[m],p=od(V,p,w,N),-1<p&&(Rc(V[p]),Array.prototype.splice.call(V,p,1),V.length==0&&(delete u.g[m],u.h--)))):u&&(u=hd(u))&&(m=u.g[m.toString()],u=-1,m&&(u=od(m,p,w,N)),(p=-1<u?m[u]:null)&&ud(p))}function ud(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ac])ad(m.i,u);else{var p=u.type,w=u.proxy;m.removeEventListener?m.removeEventListener(p,w,u.capture):m.detachEvent?m.detachEvent(B_(p),w):m.addListener&&m.removeListener&&m.removeListener(w),(p=hd(m))?(ad(p,u),p.h==0&&(p.src=null,m[ld]=null)):Rc(u)}}}function B_(u){return u in cd?cd[u]:cd[u]="on"+u}function yI(u,m){if(u.da)u=!0;else{m=new ye(m,this);var p=u.listener,w=u.ha||u.src;u.fa&&ud(u),u=p.call(w,m)}return u}function hd(u){return u=u[ld],u instanceof Ic?u:null}var fd="__closure_events_fn_"+(1e9*Math.random()>>>0);function F_(u){return typeof u=="function"?u:(u[fd]||(u[fd]=function(m){return u.handleEvent(m)}),u[fd])}function _e(){$t.call(this),this.i=new Ic(this),this.M=this,this.F=null}v(_e,$t),_e.prototype[Ac]=!0,_e.prototype.removeEventListener=function(u,m,p,w){z_(this,u,m,p,w)};function Re(u,m){var p,w=u.F;if(w)for(p=[];w;w=w.F)p.push(w);if(u=u.M,w=m.type||m,typeof m=="string")m=new At(m,u);else if(m instanceof At)m.target=m.target||u;else{var N=m;m=new At(w,u),I(m,N)}if(N=!0,p)for(var V=p.length-1;0<=V;V--){var F=m.g=p[V];N=Cc(F,w,!0,m)&&N}if(F=m.g=u,N=Cc(F,w,!0,m)&&N,N=Cc(F,w,!1,m)&&N,p)for(V=0;V<p.length;V++)F=m.g=p[V],N=Cc(F,w,!1,m)&&N}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],w=0;w<p.length;w++)Rc(p[w]);delete u.g[m],u.h--}}this.F=null},_e.prototype.K=function(u,m,p,w){return this.i.add(String(u),m,!1,p,w)},_e.prototype.L=function(u,m,p,w){return this.i.add(String(u),m,!0,p,w)};function Cc(u,m,p,w){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var N=!0,V=0;V<m.length;++V){var F=m[V];if(F&&!F.da&&F.capture==p){var wt=F.listener,ue=F.ha||F.src;F.fa&&ad(u.i,F),N=wt.call(ue,w)!==!1&&N}}return N&&!w.defaultPrevented}function H_(u,m,p){if(typeof u=="function")p&&(u=d(u,p));else if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:o.setTimeout(u,m||0)}function q_(u){u.g=H_(()=>{u.g=null,u.i&&(u.i=!1,q_(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class _I extends $t{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:q_(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lo(u){$t.call(this),this.h=u,this.g={}}v(lo,$t);var G_=[];function $_(u){L(u.g,function(m,p){this.g.hasOwnProperty(p)&&ud(m)},u),u.g={}}lo.prototype.N=function(){lo.aa.N.call(this),$_(this)},lo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dd=o.JSON.stringify,vI=o.JSON.parse,bI=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function md(){}md.prototype.h=null;function Y_(u){return u.h||(u.h=u.i())}function K_(){}var co={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gd(){At.call(this,"d")}v(gd,At);function pd(){At.call(this,"c")}v(pd,At);var Vs={},W_=null;function Dc(){return W_=W_||new _e}Vs.La="serverreachability";function Q_(u){At.call(this,Vs.La,u)}v(Q_,At);function uo(u){const m=Dc();Re(m,new Q_(m))}Vs.STAT_EVENT="statevent";function X_(u,m){At.call(this,Vs.STAT_EVENT,u),this.stat=m}v(X_,At);function Ie(u){const m=Dc();Re(m,new X_(m,u))}Vs.Ma="timingevent";function Z_(u,m){At.call(this,Vs.Ma,u),this.size=m}v(Z_,At);function ho(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},m)}function fo(){this.g=!0}fo.prototype.xa=function(){this.g=!1};function EI(u,m,p,w,N,V){u.info(function(){if(u.g)if(V)for(var F="",wt=V.split("&"),ue=0;ue<wt.length;ue++){var ct=wt[ue].split("=");if(1<ct.length){var ve=ct[0];ct=ct[1];var be=ve.split("_");F=2<=be.length&&be[1]=="type"?F+(ve+"="+ct+"&"):F+(ve+"=redacted&")}}else F=null;else F=V;return"XMLHTTP REQ ("+w+") [attempt "+N+"]: "+m+`
`+p+`
`+F})}function TI(u,m,p,w,N,V,F){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+N+"]: "+m+`
`+p+`
`+V+" "+F})}function kr(u,m,p,w){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+xI(u,p)+(w?" "+w:"")})}function wI(u,m){u.info(function(){return"TIMEOUT: "+m})}fo.prototype.info=function(){};function xI(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var w=p[u];if(!(2>w.length)){var N=w[1];if(Array.isArray(N)&&!(1>N.length)){var V=N[0];if(V!="noop"&&V!="stop"&&V!="close")for(var F=1;F<N.length;F++)N[F]=""}}}}return dd(p)}catch{return m}}var Oc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},J_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yd;function Mc(){}v(Mc,md),Mc.prototype.g=function(){return new XMLHttpRequest},Mc.prototype.i=function(){return{}},yd=new Mc;function Li(u,m,p,w){this.j=u,this.i=m,this.l=p,this.R=w||1,this.U=new lo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new t0}function t0(){this.i=null,this.g="",this.h=!1}var e0={},_d={};function vd(u,m,p){u.L=1,u.v=Lc(Jn(m)),u.m=p,u.P=!0,n0(u,null)}function n0(u,m){u.F=Date.now(),kc(u),u.A=Jn(u.v);var p=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),p0(p.i,"t",w),u.C=0,p=u.j.J,u.h=new t0,u.g=N0(u.j,p?m:null,!u.m),0<u.O&&(u.M=new _I(d(u.Y,u,u.g),u.O)),m=u.U,p=u.g,w=u.ca;var N="readystatechange";Array.isArray(N)||(N&&(G_[0]=N.toString()),N=G_);for(var V=0;V<N.length;V++){var F=j_(p,N[V],w||m.handleEvent,!1,m.h||m);if(!F)break;m.g[F.key]=F}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),uo(),EI(u.i,u.u,u.A,u.l,u.R,u.m)}Li.prototype.ca=function(u){u=u.target;const m=this.M;m&&ti(u)==3?m.j():this.Y(u)},Li.prototype.Y=function(u){try{if(u==this.g)t:{const be=ti(this.g);var m=this.g.Ba();const Lr=this.g.Z();if(!(3>be)&&(be!=3||this.g&&(this.h.h||this.g.oa()||w0(this.g)))){this.J||be!=4||m==7||(m==8||0>=Lr?uo(3):uo(2)),bd(this);var p=this.g.Z();this.X=p;e:if(i0(this)){var w=w0(this.g);u="";var N=w.length,V=ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Us(this),mo(this);var F="";break e}this.h.i=new o.TextDecoder}for(m=0;m<N;m++)this.h.h=!0,u+=this.h.i.decode(w[m],{stream:!(V&&m==N-1)});w.length=0,this.h.g+=u,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=p==200,TI(this.i,this.u,this.A,this.l,this.R,be,p),this.o){if(this.T&&!this.K){e:{if(this.g){var wt,ue=this.g;if((wt=ue.g?ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(wt)){var ct=wt;break e}}ct=null}if(p=ct)kr(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ed(this,p);else{this.o=!1,this.s=3,Ie(12),Us(this),mo(this);break t}}if(this.P){p=!0;let _n;for(;!this.J&&this.C<F.length;)if(_n=SI(this,F),_n==_d){be==4&&(this.s=4,Ie(14),p=!1),kr(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==e0){this.s=4,Ie(15),kr(this.i,this.l,F,"[Invalid Chunk]"),p=!1;break}else kr(this.i,this.l,_n,null),Ed(this,_n);if(i0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||F.length!=0||this.h.h||(this.s=1,Ie(16),p=!1),this.o=this.o&&p,!p)kr(this.i,this.l,F,"[Invalid Chunked Response]"),Us(this),mo(this);else if(0<F.length&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.ba&&!ve.M&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Rd(ve),ve.M=!0,Ie(11))}}else kr(this.i,this.l,F,null),Ed(this,F);be==4&&Us(this),this.o&&!this.J&&(be==4?D0(this.j,this):(this.o=!1,kc(this)))}else FI(this.g),p==400&&0<F.indexOf("Unknown SID")?(this.s=3,Ie(12)):(this.s=0,Ie(13)),Us(this),mo(this)}}}catch{}finally{}};function i0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function SI(u,m){var p=u.C,w=m.indexOf(`
`,p);return w==-1?_d:(p=Number(m.substring(p,w)),isNaN(p)?e0:(w+=1,w+p>m.length?_d:(m=m.slice(w,w+p),u.C=w+p,m)))}Li.prototype.cancel=function(){this.J=!0,Us(this)};function kc(u){u.S=Date.now()+u.I,s0(u,u.I)}function s0(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ho(d(u.ba,u),m)}function bd(u){u.B&&(o.clearTimeout(u.B),u.B=null)}Li.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(wI(this.i,this.A),this.L!=2&&(uo(),Ie(17)),Us(this),this.s=2,mo(this)):s0(this,this.S-u)};function mo(u){u.j.G==0||u.J||D0(u.j,u)}function Us(u){bd(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,$_(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Ed(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Td(p.h,u))){if(!u.K&&Td(p.h,u)&&p.G==3){try{var w=p.Da.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var N=w;if(N[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Fc(p),zc(p);else break t;Ad(p),Ie(18)}}else p.za=N[1],0<p.za-p.T&&37500>N[2]&&p.F&&p.v==0&&!p.C&&(p.C=ho(d(p.Za,p),6e3));if(1>=o0(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else zs(p,11)}else if((u.K||p.g==u)&&Fc(p),!y(m))for(N=p.Da.g.parse(m),m=0;m<N.length;m++){let ct=N[m];if(p.T=ct[0],ct=ct[1],p.G==2)if(ct[0]=="c"){p.K=ct[1],p.ia=ct[2];const ve=ct[3];ve!=null&&(p.la=ve,p.j.info("VER="+p.la));const be=ct[4];be!=null&&(p.Aa=be,p.j.info("SVER="+p.Aa));const Lr=ct[5];Lr!=null&&typeof Lr=="number"&&0<Lr&&(w=1.5*Lr,p.L=w,p.j.info("backChannelRequestTimeoutMs_="+w)),w=p;const _n=u.g;if(_n){const qc=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qc){var V=w.h;V.g||qc.indexOf("spdy")==-1&&qc.indexOf("quic")==-1&&qc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(wd(V,V.h),V.h=null))}if(w.D){const Id=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;Id&&(w.ya=Id,It(w.I,w.D,Id))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),w=p;var F=u;if(w.qa=k0(w,w.J?w.ia:null,w.W),F.K){l0(w.h,F);var wt=F,ue=w.L;ue&&(wt.I=ue),wt.B&&(bd(wt),kc(wt)),w.g=F}else I0(w);0<p.i.length&&Bc(p)}else ct[0]!="stop"&&ct[0]!="close"||zs(p,7);else p.G==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?zs(p,7):Sd(p):ct[0]!="noop"&&p.l&&p.l.ta(ct),p.v=0)}}uo(4)}catch{}}var AI=class{constructor(u,m){this.g=u,this.map=m}};function r0(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function a0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function o0(u){return u.h?1:u.g?u.g.size:0}function Td(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function wd(u,m){u.g?u.g.add(m):u.h=m}function l0(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}r0.prototype.cancel=function(){if(this.i=c0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function c0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return E(u.i)}function RI(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],p=u.length,w=0;w<p;w++)m.push(u[w]);return m}m=[],p=0;for(w in u)m[p++]=u[w];return m}function II(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const w in u)m[p++]=w;return m}}}function u0(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=II(u),w=RI(u),N=w.length,V=0;V<N;V++)m.call(void 0,w[V],p&&p[V],u)}var h0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function CI(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var w=u[p].indexOf("="),N=null;if(0<=w){var V=u[p].substring(0,w);N=u[p].substring(w+1)}else V=u[p];m(V,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function js(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof js){this.h=u.h,Nc(this,u.j),this.o=u.o,this.g=u.g,Pc(this,u.s),this.l=u.l;var m=u.i,p=new yo;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),f0(this,p),this.m=u.m}else u&&(m=String(u).match(h0))?(this.h=!1,Nc(this,m[1]||"",!0),this.o=go(m[2]||""),this.g=go(m[3]||"",!0),Pc(this,m[4]),this.l=go(m[5]||"",!0),f0(this,m[6]||"",!0),this.m=go(m[7]||"")):(this.h=!1,this.i=new yo(null,this.h))}js.prototype.toString=function(){var u=[],m=this.j;m&&u.push(po(m,d0,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(po(m,d0,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(po(p,p.charAt(0)=="/"?MI:OI,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",po(p,NI)),u.join("")};function Jn(u){return new js(u)}function Nc(u,m,p){u.j=p?go(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Pc(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function f0(u,m,p){m instanceof yo?(u.i=m,PI(u.i,u.h)):(p||(m=po(m,kI)),u.i=new yo(m,u.h))}function It(u,m,p){u.i.set(m,p)}function Lc(u){return It(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function go(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function po(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,DI),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function DI(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var d0=/[#\/\?@]/g,OI=/[#\?:]/g,MI=/[#\?]/g,kI=/[#\?@]/g,NI=/#/g;function yo(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Vi(u){u.g||(u.g=new Map,u.h=0,u.i&&CI(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}e=yo.prototype,e.add=function(u,m){Vi(this),this.i=null,u=Nr(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function m0(u,m){Vi(u),m=Nr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function g0(u,m){return Vi(u),m=Nr(u,m),u.g.has(m)}e.forEach=function(u,m){Vi(this),this.g.forEach(function(p,w){p.forEach(function(N){u.call(m,N,w,this)},this)},this)},e.na=function(){Vi(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let w=0;w<m.length;w++){const N=u[w];for(let V=0;V<N.length;V++)p.push(m[w])}return p},e.V=function(u){Vi(this);let m=[];if(typeof u=="string")g0(this,u)&&(m=m.concat(this.g.get(Nr(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},e.set=function(u,m){return Vi(this),this.i=null,u=Nr(this,u),g0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},e.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function p0(u,m,p){m0(u,m),0<p.length&&(u.i=null,u.g.set(Nr(u,m),E(p)),u.h+=p.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var w=m[p];const V=encodeURIComponent(String(w)),F=this.V(w);for(w=0;w<F.length;w++){var N=V;F[w]!==""&&(N+="="+encodeURIComponent(String(F[w]))),u.push(N)}}return this.i=u.join("&")};function Nr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function PI(u,m){m&&!u.j&&(Vi(u),u.i=null,u.g.forEach(function(p,w){var N=w.toLowerCase();w!=N&&(m0(this,w),p0(this,N,p))},u)),u.j=m}function LI(u,m){const p=new fo;if(o.Image){const w=new Image;w.onload=g(Ui,p,"TestLoadImage: loaded",!0,m,w),w.onerror=g(Ui,p,"TestLoadImage: error",!1,m,w),w.onabort=g(Ui,p,"TestLoadImage: abort",!1,m,w),w.ontimeout=g(Ui,p,"TestLoadImage: timeout",!1,m,w),o.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else m(!1)}function VI(u,m){const p=new fo,w=new AbortController,N=setTimeout(()=>{w.abort(),Ui(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:w.signal}).then(V=>{clearTimeout(N),V.ok?Ui(p,"TestPingServer: ok",!0,m):Ui(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(N),Ui(p,"TestPingServer: error",!1,m)})}function Ui(u,m,p,w,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),w(p)}catch{}}function UI(){this.g=new bI}function jI(u,m,p){const w=p||"";try{u0(u,function(N,V){let F=N;c(N)&&(F=dd(N)),m.push(w+V+"="+encodeURIComponent(F))})}catch(N){throw m.push(w+"type="+encodeURIComponent("_badmap")),N}}function Vc(u){this.l=u.Ub||null,this.j=u.eb||!1}v(Vc,md),Vc.prototype.g=function(){return new Uc(this.l,this.j)},Vc.prototype.i=function(u){return function(){return u}}({});function Uc(u,m){_e.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Uc,_e),e=Uc.prototype,e.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,vo(this)},e.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||o).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_o(this)),this.readyState=0},e.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,vo(this)),this.g&&(this.readyState=3,vo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;y0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function y0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}e.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?_o(this):vo(this),this.readyState==3&&y0(this)}},e.Ra=function(u){this.g&&(this.response=this.responseText=u,_o(this))},e.Qa=function(u){this.g&&(this.response=u,_o(this))},e.ga=function(){this.g&&_o(this)};function _o(u){u.readyState=4,u.l=null,u.j=null,u.v=null,vo(u)}e.setRequestHeader=function(u,m){this.u.append(u,m)},e.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function vo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Uc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function _0(u){let m="";return L(u,function(p,w){m+=w,m+=":",m+=p,m+=`\r
`}),m}function xd(u,m,p){t:{for(w in p){var w=!1;break t}w=!0}w||(p=_0(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):It(u,m,p))}function jt(u){_e.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(jt,_e);var zI=/^https?$/i,BI=["POST","PUT"];e=jt.prototype,e.Ha=function(u){this.J=u},e.ea=function(u,m,p,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yd.g(),this.v=this.o?Y_(this.o):Y_(yd),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(V){v0(this,V);return}if(u=p||"",p=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var N in w)p.set(N,w[N]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const V of w.keys())p.set(V,w.get(V));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(p.keys()).find(V=>V.toLowerCase()=="content-type"),N=o.FormData&&u instanceof o.FormData,!(0<=Array.prototype.indexOf.call(BI,m,void 0))||w||N||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,F]of p)this.g.setRequestHeader(V,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{T0(this),this.u=!0,this.g.send(u),this.u=!1}catch(V){v0(this,V)}};function v0(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,b0(u),jc(u)}function b0(u){u.A||(u.A=!0,Re(u,"complete"),Re(u,"error"))}e.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Re(this,"complete"),Re(this,"abort"),jc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jc(this,!0)),jt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?E0(this):this.bb())},e.bb=function(){E0(this)};function E0(u){if(u.h&&typeof a<"u"&&(!u.v[1]||ti(u)!=4||u.Z()!=2)){if(u.u&&ti(u)==4)H_(u.Ea,0,u);else if(Re(u,"readystatechange"),ti(u)==4){u.h=!1;try{const F=u.Z();t:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var w;if(w=F===0){var N=String(u.D).match(h0)[1]||null;!N&&o.self&&o.self.location&&(N=o.self.location.protocol.slice(0,-1)),w=!zI.test(N?N.toLowerCase():"")}p=w}if(p)Re(u,"complete"),Re(u,"success");else{u.m=6;try{var V=2<ti(u)?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.Z()+"]",b0(u)}}finally{jc(u)}}}}function jc(u,m){if(u.g){T0(u);const p=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Re(u,"ready");try{p.onreadystatechange=w}catch{}}}function T0(u){u.I&&(o.clearTimeout(u.I),u.I=null)}e.isActive=function(){return!!this.g};function ti(u){return u.g?u.g.readyState:0}e.Z=function(){try{return 2<ti(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),vI(m)}};function w0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function FI(u){const m={};u=(u.g&&2<=ti(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(y(u[w]))continue;var p=O(u[w]);const N=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const V=m[N]||[];m[N]=V,V.push(p)}S(m,function(w){return w.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bo(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function x0(u){this.Aa=0,this.i=[],this.j=new fo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bo("baseRetryDelayMs",5e3,u),this.cb=bo("retryDelaySeedMs",1e4,u),this.Wa=bo("forwardChannelMaxRetries",2,u),this.wa=bo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new r0(u&&u.concurrentRequestLimit),this.Da=new UI,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=x0.prototype,e.la=8,e.G=1,e.connect=function(u,m,p,w){Ie(0),this.W=u,this.H=m||{},p&&w!==void 0&&(this.H.OSID=p,this.H.OAID=w),this.F=this.X,this.I=k0(this,null,this.W),Bc(this)};function Sd(u){if(S0(u),u.G==3){var m=u.U++,p=Jn(u.I);if(It(p,"SID",u.K),It(p,"RID",m),It(p,"TYPE","terminate"),Eo(u,p),m=new Li(u,u.j,m),m.L=2,m.v=Lc(Jn(p)),p=!1,o.navigator&&o.navigator.sendBeacon)try{p=o.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&o.Image&&(new Image().src=m.v,p=!0),p||(m.g=N0(m.j,null),m.g.ea(m.v)),m.F=Date.now(),kc(m)}M0(u)}function zc(u){u.g&&(Rd(u),u.g.cancel(),u.g=null)}function S0(u){zc(u),u.u&&(o.clearTimeout(u.u),u.u=null),Fc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&o.clearTimeout(u.s),u.s=null)}function Bc(u){if(!a0(u.h)&&!u.s){u.s=!0;var m=u.Ga;G||bt(),Y||(G(),Y=!0),mt.add(m,u),u.B=0}}function HI(u,m){return o0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ho(d(u.Ga,u,m),O0(u,u.B)),u.B++,!0)}e.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const N=new Li(this,this.j,u);let V=this.o;if(this.S&&(V?(V=b(V),I(V,this.S)):V=this.S),this.m!==null||this.O||(N.H=V,V=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var w=this.i[p];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(m+=w,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=R0(this,N,m),p=Jn(this.I),It(p,"RID",u),It(p,"CVER",22),this.D&&It(p,"X-HTTP-Session-Id",this.D),Eo(this,p),V&&(this.O?m="headers="+encodeURIComponent(String(_0(V)))+"&"+m:this.m&&xd(p,this.m,V)),wd(this.h,N),this.Ua&&It(p,"TYPE","init"),this.P?(It(p,"$req",m),It(p,"SID","null"),N.T=!0,vd(N,p,null)):vd(N,p,m),this.G=2}}else this.G==3&&(u?A0(this,u):this.i.length==0||a0(this.h)||A0(this))};function A0(u,m){var p;m?p=m.l:p=u.U++;const w=Jn(u.I);It(w,"SID",u.K),It(w,"RID",p),It(w,"AID",u.T),Eo(u,w),u.m&&u.o&&xd(w,u.m,u.o),p=new Li(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=R0(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),wd(u.h,p),vd(p,w,m)}function Eo(u,m){u.H&&L(u.H,function(p,w){It(m,w,p)}),u.l&&u0({},function(p,w){It(m,w,p)})}function R0(u,m,p){p=Math.min(u.i.length,p);var w=u.l?d(u.l.Na,u.l,u):null;t:{var N=u.i;let V=-1;for(;;){const F=["count="+p];V==-1?0<p?(V=N[0].g,F.push("ofs="+V)):V=0:F.push("ofs="+V);let wt=!0;for(let ue=0;ue<p;ue++){let ct=N[ue].g;const ve=N[ue].map;if(ct-=V,0>ct)V=Math.max(0,N[ue].g-100),wt=!1;else try{jI(ve,F,"req"+ct+"_")}catch{w&&w(ve)}}if(wt){w=F.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,w}function I0(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;G||bt(),Y||(G(),Y=!0),mt.add(m,u),u.v=0}}function Ad(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ho(d(u.Fa,u),O0(u,u.v)),u.v++,!0)}e.Fa=function(){if(this.u=null,C0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ho(d(this.ab,this),u)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ie(10),zc(this),C0(this))};function Rd(u){u.A!=null&&(o.clearTimeout(u.A),u.A=null)}function C0(u){u.g=new Li(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Jn(u.qa);It(m,"RID","rpc"),It(m,"SID",u.K),It(m,"AID",u.T),It(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&It(m,"TO",u.ja),It(m,"TYPE","xmlhttp"),Eo(u,m),u.m&&u.o&&xd(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Lc(Jn(m)),p.m=null,p.P=!0,n0(p,u)}e.Za=function(){this.C!=null&&(this.C=null,zc(this),Ad(this),Ie(19))};function Fc(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function D0(u,m){var p=null;if(u.g==m){Fc(u),Rd(u),u.g=null;var w=2}else if(Td(u.h,m))p=m.D,l0(u.h,m),w=1;else return;if(u.G!=0){if(m.o)if(w==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var N=u.B;w=Dc(),Re(w,new Z_(w,p)),Bc(u)}else I0(u);else if(N=m.s,N==3||N==0&&0<m.X||!(w==1&&HI(u,m)||w==2&&Ad(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),N){case 1:zs(u,5);break;case 4:zs(u,10);break;case 3:zs(u,6);break;default:zs(u,2)}}}function O0(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function zs(u,m){if(u.j.info("Error code "+m),m==2){var p=d(u.fb,u),w=u.Xa;const N=!w;w=new js(w||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Nc(w,"https"),Lc(w),N?LI(w.toString(),p):VI(w.toString(),p)}else Ie(2);u.G=0,u.l&&u.l.sa(m),M0(u),S0(u)}e.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))};function M0(u){if(u.G=0,u.ka=[],u.l){const m=c0(u.h);(m.length!=0||u.i.length!=0)&&(x(u.ka,m),x(u.ka,u.i),u.h.i.length=0,E(u.i),u.i.length=0),u.l.ra()}}function k0(u,m,p){var w=p instanceof js?Jn(p):new js(p);if(w.g!="")m&&(w.g=m+"."+w.g),Pc(w,w.s);else{var N=o.location;w=N.protocol,m=m?m+"."+N.hostname:N.hostname,N=+N.port;var V=new js(null);w&&Nc(V,w),m&&(V.g=m),N&&Pc(V,N),p&&(V.l=p),w=V}return p=u.D,m=u.ya,p&&m&&It(w,p,m),It(w,"VER",u.la),Eo(u,w),w}function N0(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new jt(new Vc({eb:p})):new jt(u.pa),m.Ha(u.J),m}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function P0(){}e=P0.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Hc(){}Hc.prototype.g=function(u,m){return new He(u,m)};function He(u,m){_e.call(this),this.g=new x0(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!y(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!y(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Pr(this)}v(He,_e),He.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},He.prototype.close=function(){Sd(this.g)},He.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=dd(u),u=p);m.i.push(new AI(m.Ya++,u)),m.G==3&&Bc(m)},He.prototype.N=function(){this.g.l=null,delete this.j,Sd(this.g),delete this.g,He.aa.N.call(this)};function L0(u){gd.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}v(L0,gd);function V0(){pd.call(this),this.status=1}v(V0,pd);function Pr(u){this.g=u}v(Pr,P0),Pr.prototype.ua=function(){Re(this.g,"a")},Pr.prototype.ta=function(u){Re(this.g,new L0(u))},Pr.prototype.sa=function(u){Re(this.g,new V0)},Pr.prototype.ra=function(){Re(this.g,"b")},Hc.prototype.createWebChannel=Hc.prototype.g,He.prototype.send=He.prototype.o,He.prototype.open=He.prototype.m,He.prototype.close=He.prototype.close,Y1=function(){return new Hc},$1=function(){return Dc()},G1=Vs,Hg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oc.NO_ERROR=0,Oc.TIMEOUT=8,Oc.HTTP_ERROR=6,Hu=Oc,J_.COMPLETE="complete",q1=J_,K_.EventType=co,co.OPEN="a",co.CLOSE="b",co.ERROR="c",co.MESSAGE="d",_e.prototype.listen=_e.prototype.K,Fo=K_,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,H1=jt}).apply(typeof ou<"u"?ou:typeof self<"u"?self:typeof window<"u"?window:{});const Cb="@firebase/firestore",Db="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Te.UNAUTHENTICATED=new Te(null),Te.GOOGLE_CREDENTIALS=new Te("google-credentials-uid"),Te.FIRST_PARTY=new Te("first-party-uid"),Te.MOCK_USER=new Te("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new Vf("@firebase/firestore");function qr(){return fr.logLevel}function H(e,...t){if(fr.logLevel<=st.DEBUG){const n=t.map(Dy);fr.debug(`Firestore (${to}): ${e}`,...n)}}function Ci(e,...t){if(fr.logLevel<=st.ERROR){const n=t.map(Dy);fr.error(`Firestore (${to}): ${e}`,...n)}}function ka(e,...t){if(fr.logLevel<=st.WARN){const n=t.map(Dy);fr.warn(`Firestore (${to}): ${e}`,...n)}}function Dy(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,K1(e,i,n)}function K1(e,t,n){let i=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Ci(i),new Error(i)}function gt(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||K1(t,s,i)}function Z(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Mn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class aP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Te.UNAUTHENTICATED))}shutdown(){}}class oP{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lP{constructor(t){this.t=t,this.currentUser=Te.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){gt(this.o===void 0,42304);let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let r=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new vs,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=r;t.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},o=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new vs)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(gt(typeof i.accessToken=="string",31837,{l:i}),new W1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return gt(t===null||typeof t=="string",2055,{h:t}),new Te(t)}}class cP{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=Te.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uP{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new cP(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Te.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ob{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hP{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){gt(this.o===void 0,3512);const i=r=>{r.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ob(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(gt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ob(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=fP(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=t.charAt(s[r]%62))}return i}}function tt(e,t){return e<t?-1:e>t?1:0}function qg(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),s=t.codePointAt(n);if(i!==s){if(i<128&&s<128)return tt(i,s);{const r=Q1(),a=dP(r.encode(Mb(e,n)),r.encode(Mb(t,n)));return a!==0?a:tt(i,s)}}n+=i>65535?2:1}return tt(e.length,t.length)}function Mb(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function dP(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return tt(e[n],t[n]);return tt(e.length,t.length)}function Na(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=-62135596800,Nb=1e6;class Xt{static now(){return Xt.fromMillis(Date.now())}static fromDate(t){return Xt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*Nb);return new Xt(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new q(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<kb)throw new q(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new q(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nb}_compareTo(t){return this.seconds===t.seconds?tt(this.nanoseconds,t.nanoseconds):tt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-kb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{static fromTimestamp(t){return new X(t)}static min(){return new X(new Xt(0,0))}static max(){return new X(new Xt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="__name__";class Vn{constructor(t,n,i){n===void 0?n=0:n>t.length&&W(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&W(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Vn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Vn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const r=Vn.compareSegments(t.get(s),n.get(s));if(r!==0)return r}return tt(t.length,n.length)}static compareSegments(t,n){const i=Vn.isNumericId(t),s=Vn.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Vn.extractNumericId(t).compare(Vn.extractNumericId(n)):qg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return _s.fromString(t.substring(4,t.length-2))}}class Dt extends Vn{construct(t,n,i){return new Dt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new q(j.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const mP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class me extends Vn{construct(t,n,i){return new me(t,n,i)}static isValidIdentifier(t){return mP.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),me.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pb}static keyField(){return new me([Pb])}static fromServerFormat(t){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new q(j.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<t.length;){const o=t[s];if(o==="\\"){if(s+1===t.length)throw new q(j.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(i+=o,s++):(r(),s++)}if(r(),a)throw new q(j.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new me(n)}static emptyPath(){return new me([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.path=t}static fromPath(t){return new $(Dt.fromString(t))}static fromName(t){return new $(Dt.fromString(t).popFirst(5))}static empty(){return new $(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Dt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Dt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new $(new Dt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=-1;function gP(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=X.fromTimestamp(i===1e9?new Xt(n+1,0):new Xt(n,i));return new Is(s,$.empty(),t)}function pP(e){return new Is(e.readTime,e.key,Ul)}class Is{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Is(X.min(),$.empty(),Ul)}static max(){return new Is(X.max(),$.empty(),Ul)}}function yP(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=$.comparator(e.documentKey,t.documentKey),n!==0?n:tt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(e){if(e.code!==j.FAILED_PRECONDITION||e.message!==_P)throw e;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&W(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new U((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):U.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):U.reject(n)}static resolve(t){return new U((n,i)=>{n(t)})}static reject(t){return new U((n,i)=>{i(t)})}static waitFor(t){return new U((n,i)=>{let s=0,r=0,a=!1;t.forEach(o=>{++s,o.next(()=>{++r,a&&r===s&&n()},l=>i(l))}),a=!0,r===s&&n()})}static or(t){let n=U.resolve(!1);for(const i of t)n=n.next(s=>s?U.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(t,n){return new U((i,s)=>{const r=t.length,a=new Array(r);let o=0;for(let l=0;l<r;l++){const c=l;n(t[c]).next(h=>{a[c]=h,++o,o===r&&i(a)},h=>s(h))}})}static doWhile(t,n){return new U((i,s)=>{const r=()=>{t()===!0?n().next(()=>{r()},s):i()};r()})}}function bP(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function no(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Uf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=-1;function jf(e){return e==null}function jh(e){return e===0&&1/e==-1/0}function EP(e){return typeof e=="number"&&Number.isInteger(e)&&!jh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="";function TP(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Lb(t)),t=wP(e.get(n),t);return Lb(t)}function wP(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const r=e.charAt(s);switch(r){case"\0":n+="";break;case Z1:n+="";break;default:n+=r}}return n}function Lb(e){return e+Z1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Rr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function J1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t,n){this.comparator=t,this.root=n||fe.EMPTY}insert(t,n){return new Vt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,fe.BLACK,null,null))}remove(t){return new Vt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lu(this.root,t,this.comparator,!1)}getReverseIterator(){return new lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lu(this.root,t,this.comparator,!0)}}class lu{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?i(t.key,n):1,n&&s&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class fe{constructor(t,n,i,s,r){this.key=t,this.value=n,this.color=i??fe.RED,this.left=s??fe.EMPTY,this.right=r??fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,r){return new fe(t??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const r=i(t,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(t,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return fe.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw W(43730,{key:this.key,value:this.value});if(this.right.isRed())throw W(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw W(27949);return t+(this.isRed()?0:1)}}fe.EMPTY=null,fe.RED=!0,fe.BLACK=!1;fe.EMPTY=new class{constructor(){this.size=0}get key(){throw W(57766)}get value(){throw W(16141)}get color(){throw W(16727)}get left(){throw W(29726)}get right(){throw W(36894)}copy(t,n,i,s,r){return this}insert(t,n,i){return new fe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(t){this.comparator=t,this.data=new Vt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ub(this.data.getIterator())}getIteratorFrom(t){return new Ub(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof te)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new te(this.comparator);return n.data=t,n}}class Ub{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t){this.fields=t,t.sort(me.comparator)}static empty(){return new bn([])}unionWith(t){let n=new te(me.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new bn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Na(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new tA("Invalid base64 string: "+r):r}}(t);return new pe(n)}static fromUint8Array(t){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(t);return new pe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return tt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}pe.EMPTY_BYTE_STRING=new pe("");const xP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(e){if(gt(!!e,39018),typeof e=="string"){let t=0;const n=xP.exec(e);if(gt(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:qt(e.seconds),nanos:qt(e.nanos)}}function qt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ds(e){return typeof e=="string"?pe.fromBase64String(e):pe.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="server_timestamp",nA="__type__",iA="__previous_value__",sA="__local_write_time__";function My(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[nA])===null||n===void 0?void 0:n.stringValue)===eA}function zf(e){const t=e.mapValue.fields[iA];return My(t)?zf(t):t}function jl(e){const t=Cs(e.mapValue.fields[sA].timestampValue);return new Xt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(t,n,i,s,r,a,o,l,c,h){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const zh="(default)";class zl{constructor(t,n){this.projectId=t,this.database=n||zh}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===zh}isEqual(t){return t instanceof zl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="__type__",AP="__max__",cu={mapValue:{}},aA="__vector__",Bh="value";function Os(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?My(e)?4:IP(e)?9007199254740991:RP(e)?10:11:W(28295,{value:e})}function Kn(e,t){if(e===t)return!0;const n=Os(e);if(n!==Os(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return jl(e).isEqual(jl(t));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=Cs(s.timestampValue),o=Cs(r.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,r){return Ds(s.bytesValue).isEqual(Ds(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,r){return qt(s.geoPointValue.latitude)===qt(r.geoPointValue.latitude)&&qt(s.geoPointValue.longitude)===qt(r.geoPointValue.longitude)}(e,t);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return qt(s.integerValue)===qt(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=qt(s.doubleValue),o=qt(r.doubleValue);return a===o?jh(a)===jh(o):isNaN(a)&&isNaN(o)}return!1}(e,t);case 9:return Na(e.arrayValue.values||[],t.arrayValue.values||[],Kn);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},o=r.mapValue.fields||{};if(Vb(a)!==Vb(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Kn(a[l],o[l])))return!1;return!0}(e,t);default:return W(52216,{left:e})}}function Bl(e,t){return(e.values||[]).find(n=>Kn(n,t))!==void 0}function Pa(e,t){if(e===t)return 0;const n=Os(e),i=Os(t);if(n!==i)return tt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(e.booleanValue,t.booleanValue);case 2:return function(r,a){const o=qt(r.integerValue||r.doubleValue),l=qt(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return jb(e.timestampValue,t.timestampValue);case 4:return jb(jl(e),jl(t));case 5:return qg(e.stringValue,t.stringValue);case 6:return function(r,a){const o=Ds(r),l=Ds(a);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(r,a){const o=r.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const h=tt(o[c],l[c]);if(h!==0)return h}return tt(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,a){const o=tt(qt(r.latitude),qt(a.latitude));return o!==0?o:tt(qt(r.longitude),qt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return zb(e.arrayValue,t.arrayValue);case 10:return function(r,a){var o,l,c,h;const f=r.fields||{},d=a.fields||{},g=(o=f[Bh])===null||o===void 0?void 0:o.arrayValue,v=(l=d[Bh])===null||l===void 0?void 0:l.arrayValue,E=tt(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=v==null?void 0:v.values)===null||h===void 0?void 0:h.length)||0);return E!==0?E:zb(g,v)}(e.mapValue,t.mapValue);case 11:return function(r,a){if(r===cu.mapValue&&a===cu.mapValue)return 0;if(r===cu.mapValue)return 1;if(a===cu.mapValue)return-1;const o=r.fields||{},l=Object.keys(o),c=a.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const d=qg(l[f],h[f]);if(d!==0)return d;const g=Pa(o[l[f]],c[h[f]]);if(g!==0)return g}return tt(l.length,h.length)}(e.mapValue,t.mapValue);default:throw W(23264,{Pe:n})}}function jb(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return tt(e,t);const n=Cs(e),i=Cs(t),s=tt(n.seconds,i.seconds);return s!==0?s:tt(n.nanos,i.nanos)}function zb(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=Pa(n[s],i[s]);if(r)return r}return tt(n.length,i.length)}function La(e){return Gg(e)}function Gg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Cs(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Ds(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return $.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=Gg(r);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${Gg(n.fields[a])}`;return s+"}"}(e.mapValue):W(61005,{value:e})}function qu(e){switch(Os(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=zf(e);return t?16+qu(t):16;case 5:return 2*e.stringValue.length;case 6:return Ds(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+qu(r),0)}(e.arrayValue);case 10:case 11:return function(i){let s=0;return Rr(i.fields,(r,a)=>{s+=r.length+qu(a)}),s}(e.mapValue);default:throw W(13486,{value:e})}}function Bb(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function $g(e){return!!e&&"integerValue"in e}function ky(e){return!!e&&"arrayValue"in e}function Fb(e){return!!e&&"nullValue"in e}function Hb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Gu(e){return!!e&&"mapValue"in e}function RP(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[rA])===null||n===void 0?void 0:n.stringValue)===aA}function hl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Rr(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=hl(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=hl(e.arrayValue.values[n]);return t}return Object.assign({},e)}function IP(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===AP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.value=t}static empty(){return new un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Gu(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=hl(n)}setAll(t){let n=me.emptyPath(),i={},s=[];t.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,i,s),i={},s=[],n=o.popLast()}a?i[o.lastSegment()]=hl(a):s.push(o.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(t){const n=this.field(t.popLast());Gu(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Kn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];Gu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){Rr(n,(s,r)=>t[s]=r);for(const s of i)delete t[s]}clone(){return new un(hl(this.value))}}function oA(e){const t=[];return Rr(e.fields,(n,i)=>{const s=new me([n]);if(Gu(i)){const r=oA(i.mapValue).fields;if(r.length===0)t.push(s);else for(const a of r)t.push(s.child(a))}else t.push(s)}),new bn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t,n,i,s,r,a,o){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=o}static newInvalidDocument(t){return new we(t,0,X.min(),X.min(),X.min(),un.empty(),0)}static newFoundDocument(t,n,i,s){return new we(t,1,n,X.min(),i,s,0)}static newNoDocument(t,n){return new we(t,2,n,X.min(),X.min(),un.empty(),0)}static newUnknownDocument(t,n){return new we(t,3,n,X.min(),X.min(),un.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof we&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new we(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t,n){this.position=t,this.inclusive=n}}function qb(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const r=t[s],a=e.position[s];if(r.field.isKeyField()?i=$.comparator($.fromName(a.referenceValue),n.key):i=Pa(a,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function Gb(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Kn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(t,n="asc"){this.field=t,this.dir=n}}function CP(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{}class Wt extends lA{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new OP(t,n,i):n==="array-contains"?new NP(t,i):n==="in"?new PP(t,i):n==="not-in"?new LP(t,i):n==="array-contains-any"?new VP(t,i):new Wt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new MP(t,i):new kP(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Pa(n,this.value)):n!==null&&Os(this.value)===Os(n)&&this.matchesComparison(Pa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return W(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rn extends lA{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new Rn(t,n)}matches(t){return cA(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function cA(e){return e.op==="and"}function uA(e){return DP(e)&&cA(e)}function DP(e){for(const t of e.filters)if(t instanceof Rn)return!1;return!0}function Yg(e){if(e instanceof Wt)return e.field.canonicalString()+e.op.toString()+La(e.value);if(uA(e))return e.filters.map(t=>Yg(t)).join(",");{const t=e.filters.map(n=>Yg(n)).join(",");return`${e.op}(${t})`}}function hA(e,t){return e instanceof Wt?function(i,s){return s instanceof Wt&&i.op===s.op&&i.field.isEqual(s.field)&&Kn(i.value,s.value)}(e,t):e instanceof Rn?function(i,s){return s instanceof Rn&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,o)=>r&&hA(a,s.filters[o]),!0):!1}(e,t):void W(19439)}function fA(e){return e instanceof Wt?function(n){return`${n.field.canonicalString()} ${n.op} ${La(n.value)}`}(e):e instanceof Rn?function(n){return n.op.toString()+" {"+n.getFilters().map(fA).join(" ,")+"}"}(e):"Filter"}class OP extends Wt{constructor(t,n,i){super(t,n,i),this.key=$.fromName(i.referenceValue)}matches(t){const n=$.comparator(t.key,this.key);return this.matchesComparison(n)}}class MP extends Wt{constructor(t,n){super(t,"in",n),this.keys=dA("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class kP extends Wt{constructor(t,n){super(t,"not-in",n),this.keys=dA("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function dA(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>$.fromName(i.referenceValue))}class NP extends Wt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ky(n)&&Bl(n.arrayValue,this.value)}}class PP extends Wt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Bl(this.value.arrayValue,n)}}class LP extends Wt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bl(this.value.arrayValue,n)}}class VP extends Wt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ky(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Bl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(t,n=null,i=[],s=[],r=null,a=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=o,this.Ie=null}}function $b(e,t=null,n=[],i=[],s=null,r=null,a=null){return new UP(e,t,n,i,s,r,a)}function Ny(e){const t=Z(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Yg(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),jf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>La(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>La(i)).join(",")),t.Ie=n}return t.Ie}function Py(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!CP(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!hA(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Gb(e.startAt,t.startAt)&&Gb(e.endAt,t.endAt)}function Kg(e){return $.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(t,n=null,i=[],s=[],r=null,a="F",o=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=o,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function jP(e,t,n,i,s,r,a,o){return new io(e,t,n,i,s,r,a,o)}function mA(e){return new io(e)}function Yb(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function gA(e){return e.collectionGroup!==null}function fl(e){const t=Z(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const r of t.explicitOrderBy)t.Ee.push(r),n.add(r.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new te(me.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new Fl(r,i))}),n.has(me.keyField().canonicalString())||t.Ee.push(new Fl(me.keyField(),i))}return t.Ee}function Hn(e){const t=Z(e);return t.de||(t.de=zP(t,fl(e))),t.de}function zP(e,t){if(e.limitType==="F")return $b(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new Fl(s.field,r)});const n=e.endAt?new Fh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Fh(e.startAt.position,e.startAt.inclusive):null;return $b(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Wg(e,t){const n=e.filters.concat([t]);return new io(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Qg(e,t,n){return new io(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Bf(e,t){return Py(Hn(e),Hn(t))&&e.limitType===t.limitType}function pA(e){return`${Ny(Hn(e))}|lt:${e.limitType}`}function Gr(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>fA(s)).join(", ")}]`),jf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>La(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>La(s)).join(",")),`Target(${i})`}(Hn(e))}; limitType=${e.limitType})`}function Ff(e,t){return t.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):$.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(e,t)&&function(i,s){for(const r of fl(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(a,o,l){const c=qb(a,o,l);return a.inclusive?c<=0:c<0}(i.startAt,fl(i),s)||i.endAt&&!function(a,o,l){const c=qb(a,o,l);return a.inclusive?c>=0:c>0}(i.endAt,fl(i),s))}(e,t)}function BP(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function yA(e){return(t,n)=>{let i=!1;for(const s of fl(e)){const r=FP(s,t,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function FP(e,t,n){const i=e.field.isKeyField()?$.comparator(t.key,n.key):function(r,a,o){const l=a.data.field(r),c=o.data.field(r);return l!==null&&c!==null?Pa(l,c):W(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return W(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return void(s[r]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Rr(this.inner,(n,i)=>{for(const[s,r]of i)t(s,r)})}isEmpty(){return J1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=new Vt($.comparator);function Di(){return HP}const _A=new Vt($.comparator);function Ho(...e){let t=_A;for(const n of e)t=t.insert(n.key,n);return t}function vA(e){let t=_A;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Xs(){return dl()}function bA(){return dl()}function dl(){return new Ir(e=>e.toString(),(e,t)=>e.isEqual(t))}const qP=new Vt($.comparator),GP=new te($.comparator);function rt(...e){let t=GP;for(const n of e)t=t.add(n);return t}const $P=new te(tt);function YP(){return $P}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(t)?"-0":t}}function EA(e){return{integerValue:""+e}}function KP(e,t){return EP(t)?EA(t):Ly(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this._=void 0}}function WP(e,t,n){return e instanceof Hh?function(s,r){const a={fields:{[nA]:{stringValue:eA},[sA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&My(r)&&(r=zf(r)),r&&(a.fields[iA]=r),{mapValue:a}}(n,t):e instanceof Hl?wA(e,t):e instanceof ql?xA(e,t):function(s,r){const a=TA(s,r),o=Kb(a)+Kb(s.Re);return $g(a)&&$g(s.Re)?EA(o):Ly(s.serializer,o)}(e,t)}function QP(e,t,n){return e instanceof Hl?wA(e,t):e instanceof ql?xA(e,t):n}function TA(e,t){return e instanceof qh?function(i){return $g(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class Hh extends Hf{}class Hl extends Hf{constructor(t){super(),this.elements=t}}function wA(e,t){const n=SA(t);for(const i of e.elements)n.some(s=>Kn(s,i))||n.push(i);return{arrayValue:{values:n}}}class ql extends Hf{constructor(t){super(),this.elements=t}}function xA(e,t){let n=SA(t);for(const i of e.elements)n=n.filter(s=>!Kn(s,i));return{arrayValue:{values:n}}}class qh extends Hf{constructor(t,n){super(),this.serializer=t,this.Re=n}}function Kb(e){return qt(e.integerValue||e.doubleValue)}function SA(e){return ky(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function XP(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof Hl&&s instanceof Hl||i instanceof ql&&s instanceof ql?Na(i.elements,s.elements,Kn):i instanceof qh&&s instanceof qh?Kn(i.Re,s.Re):i instanceof Hh&&s instanceof Hh}(e.transform,t.transform)}class ZP{constructor(t,n){this.version=t,this.transformResults=n}}class Ei{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ei}static exists(t){return new Ei(void 0,t)}static updateTime(t){return new Ei(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $u(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class qf{}function AA(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new IA(e.key,Ei.none()):new yc(e.key,e.data,Ei.none());{const n=e.data,i=un.empty();let s=new te(me.comparator);for(let r of t.fields)if(!s.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new Cr(e.key,i,new bn(s.toArray()),Ei.none())}}function JP(e,t,n){e instanceof yc?function(s,r,a){const o=s.value.clone(),l=Qb(s.fieldTransforms,r,a.transformResults);o.setAll(l),r.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Cr?function(s,r,a){if(!$u(s.precondition,r))return void r.convertToUnknownDocument(a.version);const o=Qb(s.fieldTransforms,r,a.transformResults),l=r.data;l.setAll(RA(s)),l.setAll(o),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function ml(e,t,n,i){return e instanceof yc?function(r,a,o,l){if(!$u(r.precondition,a))return o;const c=r.value.clone(),h=Xb(r.fieldTransforms,l,a);return c.setAll(h),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(e,t,n,i):e instanceof Cr?function(r,a,o,l){if(!$u(r.precondition,a))return o;const c=Xb(r.fieldTransforms,l,a),h=a.data;return h.setAll(RA(r)),h.setAll(c),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(f=>f.field))}(e,t,n,i):function(r,a,o){return $u(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(e,t,n)}function t4(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),r=TA(i.transform,s||null);r!=null&&(n===null&&(n=un.empty()),n.set(i.field,r))}return n||null}function Wb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Na(i,s,(r,a)=>XP(r,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class yc extends qf{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Cr extends qf{constructor(t,n,i,s,r=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function RA(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function Qb(e,t,n){const i=new Map;gt(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let s=0;s<n.length;s++){const r=e[s],a=r.transform,o=t.data.field(r.field);i.set(r.field,QP(a,o,n[s]))}return i}function Xb(e,t,n){const i=new Map;for(const s of e){const r=s.transform,a=n.data.field(s.field);i.set(s.field,WP(r,a,t))}return i}class IA extends qf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e4 extends qf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(t.key)&&JP(r,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=ml(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=ml(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=bA();return this.mutations.forEach(s=>{const r=t.get(s.key),a=r.overlayedDocument;let o=this.applyToLocalView(a,r.mutatedFields);o=n.has(s.key)?null:o;const l=AA(a,o);l!==null&&i.set(s.key,l),a.isValidDocument()||a.convertToNoDocument(X.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),rt())}isEqual(t){return this.batchId===t.batchId&&Na(this.mutations,t.mutations,(n,i)=>Wb(n,i))&&Na(this.baseMutations,t.baseMutations,(n,i)=>Wb(n,i))}}class Vy{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){gt(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let s=function(){return qP}();const r=t.mutations;for(let a=0;a<r.length;a++)s=s.insert(r[a].key,i[a].version);return new Vy(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,at;function r4(e){switch(e){case j.OK:return W(64938);case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return W(15467,{code:e})}}function CA(e){if(e===void 0)return Ci("GRPC error has no .code"),j.UNKNOWN;switch(e){case Yt.OK:return j.OK;case Yt.CANCELLED:return j.CANCELLED;case Yt.UNKNOWN:return j.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return j.INTERNAL;case Yt.UNAVAILABLE:return j.UNAVAILABLE;case Yt.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Yt.NOT_FOUND:return j.NOT_FOUND;case Yt.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Yt.ABORTED:return j.ABORTED;case Yt.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Yt.DATA_LOSS:return j.DATA_LOSS;default:return W(39323,{code:e})}}(at=Yt||(Yt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=new _s([4294967295,4294967295],0);function Zb(e){const t=Q1().encode(e),n=new F1;return n.update(t),new Uint8Array(n.digest())}function Jb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new _s([n,i],0),new _s([s,r],0)]}class Uy{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new qo(`Invalid padding: ${n}`);if(i<0)throw new qo(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new qo(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new qo(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=_s.fromNumber(this.pe)}we(t,n,i){let s=t.add(n.multiply(_s.fromNumber(i)));return s.compare(a4)===1&&(s=new _s([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=Zb(t),[i,s]=Jb(n);for(let r=0;r<this.hashCount;r++){const a=this.we(i,s,r);if(!this.be(a))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),a=new Uy(r,s,n);return i.forEach(o=>a.insert(o)),a}insert(t){if(this.pe===0)return;const n=Zb(t),[i,s]=Jb(n);for(let r=0;r<this.hashCount;r++){const a=this.we(i,s,r);this.Se(a)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class qo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(t,n,i,s,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,_c.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Gf(X.min(),s,new Vt(tt),Di(),rt())}}class _c{constructor(t,n,i,s,r){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new _c(i,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(t,n,i,s){this.De=t,this.removedTargetIds=n,this.key=i,this.ve=s}}class DA{constructor(t,n){this.targetId=t,this.Ce=n}}class OA{constructor(t,n,i=pe.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class tE{constructor(){this.Fe=0,this.Me=eE(),this.xe=pe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=rt(),n=rt(),i=rt();return this.Me.forEach((s,r)=>{switch(r){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:W(38017,{changeType:r})}}),new _c(this.xe,this.Oe,t,n,i)}Qe(){this.Ne=!1,this.Me=eE()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,gt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class o4{constructor(t){this.ze=t,this.je=new Map,this.He=Di(),this.Je=uu(),this.Ye=uu(),this.Ze=new Vt(tt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const i=this.rt(n);switch(t.state){case 0:this.it(n)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(t.resumeToken));break;default:W(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((i,s)=>{this.it(s)&&n(s)})}ot(t){const n=t.targetId,i=t.Ce.count,s=this._t(n);if(s){const r=s.target;if(Kg(r))if(i===0){const a=new $(r.path);this.tt(n,a,we.newNoDocument(a,X.min()))}else gt(i===1,20013,{expectedCount:i});else{const a=this.ut(n);if(a!==i){const o=this.ct(t),l=o?this.lt(o,t,a):1;if(l!==0){this.st(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let a,o;try{a=Ds(i).toUint8Array()}catch(l){if(l instanceof tA)return ka("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new Uy(a,s,r)}catch(l){return ka(l instanceof qo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.pe===0?null:o}lt(t,n,i){return n.Ce.count===i-this.Tt(t,n.targetId)?0:2}Tt(t,n){const i=this.ze.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const a=this.ze.Pt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;t.mightContain(o)||(this.tt(n,r,null),s++)}),s}It(t){const n=new Map;this.je.forEach((r,a)=>{const o=this._t(a);if(o){if(r.current&&Kg(o.target)){const l=new $(o.target.path);this.Et(l).has(a)||this.dt(a,l)||this.tt(a,l,we.newNoDocument(l,t))}r.Le&&(n.set(a,r.qe()),r.Qe())}});let i=rt();this.Ye.forEach((r,a)=>{let o=!0;a.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(r))}),this.He.forEach((r,a)=>a.setReadTime(t));const s=new Gf(t,n,this.Ze,this.He,i);return this.He=Di(),this.Je=uu(),this.Ye=uu(),this.Ze=new Vt(tt),s}et(t,n){if(!this.it(t))return;const i=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,i){if(!this.it(t))return;const s=this.rt(t);this.dt(t,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),i&&(this.He=this.He.insert(n,i))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new tE,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new te(tt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new te(tt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||H("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new tE),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function uu(){return new Vt($.comparator)}function eE(){return new Vt($.comparator)}const l4={asc:"ASCENDING",desc:"DESCENDING"},c4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u4={and:"AND",or:"OR"};class h4{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Xg(e,t){return e.useProto3Json||jf(t)?t:{value:t}}function Gh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function MA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function f4(e,t){return Gh(e,t.toTimestamp())}function qn(e){return gt(!!e,49232),X.fromTimestamp(function(n){const i=Cs(n);return new Xt(i.seconds,i.nanos)}(e))}function jy(e,t){return Zg(e,t).canonicalString()}function Zg(e,t){const n=function(s){return new Dt(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function kA(e){const t=Dt.fromString(e);return gt(UA(t),10190,{key:t.toString()}),t}function Jg(e,t){return jy(e.databaseId,t.path)}function ym(e,t){const n=kA(t);if(n.get(1)!==e.databaseId.projectId)throw new q(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new q(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new $(PA(n))}function NA(e,t){return jy(e.databaseId,t)}function d4(e){const t=kA(e);return t.length===4?Dt.emptyPath():PA(t)}function tp(e){return new Dt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function PA(e){return gt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function nE(e,t,n){return{name:Jg(e,t),fields:n.value.mapValue.fields}}function m4(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:W(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],r=function(c,h){return c.useProto3Json?(gt(h===void 0||typeof h=="string",58123),pe.fromBase64String(h||"")):(gt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),pe.fromUint8Array(h||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(c){const h=c.code===void 0?j.UNKNOWN:CA(c.code);return new q(h,c.message||"")}(a);n=new OA(i,s,r,o||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=ym(e,i.document.name),r=qn(i.document.updateTime),a=i.document.createTime?qn(i.document.createTime):X.min(),o=new un({mapValue:{fields:i.document.fields}}),l=we.newFoundDocument(s,r,a,o),c=i.targetIds||[],h=i.removedTargetIds||[];n=new Yu(c,h,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=ym(e,i.document),r=i.readTime?qn(i.readTime):X.min(),a=we.newNoDocument(s,r),o=i.removedTargetIds||[];n=new Yu([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=ym(e,i.document),r=i.removedTargetIds||[];n=new Yu([],r,s,null)}else{if(!("filter"in t))return W(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new s4(s,r),o=i.targetId;n=new DA(o,a)}}return n}function g4(e,t){let n;if(t instanceof yc)n={update:nE(e,t.key,t.value)};else if(t instanceof IA)n={delete:Jg(e,t.key)};else if(t instanceof Cr)n={update:nE(e,t.key,t.data),updateMask:x4(t.fieldMask)};else{if(!(t instanceof e4))return W(16599,{ft:t.type});n={verify:Jg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,a){const o=a.transform;if(o instanceof Hh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Hl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ql)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof qh)return{fieldPath:a.field.canonicalString(),increment:o.Re};throw W(20930,{transform:a.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:f4(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:W(27497)}(e,t.precondition)),n}function p4(e,t){return e&&e.length>0?(gt(t!==void 0,14353),e.map(n=>function(s,r){let a=s.updateTime?qn(s.updateTime):qn(r);return a.isEqual(X.min())&&(a=qn(r)),new ZP(a,s.transformResults||[])}(n,t))):[]}function y4(e,t){return{documents:[NA(e,t.path)]}}function _4(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=NA(e,s);const r=function(c){if(c.length!==0)return VA(Rn.create(c,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const a=function(c){if(c.length!==0)return c.map(h=>function(d){return{field:$r(d.field),direction:E4(d.dir)}}(h))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Xg(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{gt:n,parent:s}}function v4(e){let t=d4(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){gt(i===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:t=t.child(h.collectionId)}let r=[];n.where&&(r=function(f){const d=LA(f);return d instanceof Rn&&uA(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(d=>function(v){return new Fl(Yr(v.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(d))}(n.orderBy));let o=null;n.limit&&(o=function(f){let d;return d=typeof f=="object"?f.value:f,jf(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,g=f.values||[];return new Fh(g,d)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const d=!f.before,g=f.values||[];return new Fh(g,d)}(n.endAt)),jP(t,s,a,r,o,"F",l,c)}function b4(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W(28987,{purpose:s})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function LA(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Yr(n.unaryFilter.field);return Wt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Yr(n.unaryFilter.field);return Wt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Yr(n.unaryFilter.field);return Wt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Yr(n.unaryFilter.field);return Wt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return W(61313);default:return W(60726)}}(e):e.fieldFilter!==void 0?function(n){return Wt.create(Yr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return W(58110);default:return W(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Rn.create(n.compositeFilter.filters.map(i=>LA(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return W(1026)}}(n.compositeFilter.op))}(e):W(30097,{filter:e})}function E4(e){return l4[e]}function T4(e){return c4[e]}function w4(e){return u4[e]}function $r(e){return{fieldPath:e.canonicalString()}}function Yr(e){return me.fromServerFormat(e.fieldPath)}function VA(e){return e instanceof Wt?function(n){if(n.op==="=="){if(Hb(n.value))return{unaryFilter:{field:$r(n.field),op:"IS_NAN"}};if(Fb(n.value))return{unaryFilter:{field:$r(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Hb(n.value))return{unaryFilter:{field:$r(n.field),op:"IS_NOT_NAN"}};if(Fb(n.value))return{unaryFilter:{field:$r(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$r(n.field),op:T4(n.op),value:n.value}}}(e):e instanceof Rn?function(n){const i=n.getFilters().map(s=>VA(s));return i.length===1?i[0]:{compositeFilter:{op:w4(n.op),filters:i}}}(e):W(54877,{filter:e})}function x4(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function UA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t,n,i,s,r=X.min(),a=X.min(),o=pe.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new ss(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(t){this.wt=t}}function A4(e){const t=v4({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Qg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(){this.Cn=new I4}addToCollectionParentIndex(t,n){return this.Cn.add(n),U.resolve()}getCollectionParents(t,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return U.resolve()}deleteFieldIndex(t,n){return U.resolve()}deleteAllFieldIndexes(t){return U.resolve()}createTargetIndexes(t,n){return U.resolve()}getDocumentsMatchingTarget(t,n){return U.resolve(null)}getIndexType(t,n){return U.resolve(0)}getFieldIndexes(t,n){return U.resolve([])}getNextCollectionGroupToUpdate(t){return U.resolve(null)}getMinOffset(t,n){return U.resolve(Is.min())}getMinOffsetFromCollectionGroup(t,n){return U.resolve(Is.min())}updateCollectionGroup(t,n,i){return U.resolve()}updateIndexEntries(t,n){return U.resolve()}}class I4{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new te(Dt.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new te(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jA=41943040;class Le{static withCacheSize(t){return new Le(t,Le.DEFAULT_COLLECTION_PERCENTILE,Le.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Le.DEFAULT_COLLECTION_PERCENTILE=10,Le.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Le.DEFAULT=new Le(jA,Le.DEFAULT_COLLECTION_PERCENTILE,Le.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Le.DISABLED=new Le(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Va(0)}static lr(){return new Va(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="LruGarbageCollector",C4=1048576;function rE([e,t],[n,i]){const s=tt(e,n);return s===0?tt(t,i):s}class D4{constructor(t){this.Er=t,this.buffer=new te(rE),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();rE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class O4{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){H(sE,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){no(n)?H(sE,"Ignoring IndexedDB error during garbage collection: ",n):await eo(n)}await this.mr(3e5)})}}class M4{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return U.resolve(Uf.le);const i=new D4(n);return this.gr.forEachTarget(t,s=>i.Rr(s.sequenceNumber)).next(()=>this.gr.yr(t,s=>i.Rr(s))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.gr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(iE)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iE):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let i,s,r,a,o,l,c;const h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,a=Date.now(),this.nthSequenceNumber(t,s))).next(f=>(i=f,o=Date.now(),this.removeTargets(t,i,n))).next(f=>(r=f,l=Date.now(),this.removeOrphanedDocuments(t,i))).next(f=>(c=Date.now(),qr()<=st.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${s} in `+(o-a)+`ms
	Removed ${r} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:f})))}}function k4(e,t){return new M4(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this.changes=new Ir(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,we.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?U.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&ml(i.mutation,s,bn.empty(),Xt.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,rt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=rt()){const s=Xs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(r=>{let a=Ho();return r.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=Xs();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,rt()))}populateOverlays(t,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(t,s).next(r=>{r.forEach((a,o)=>{n.set(a,o)})})}computeViews(t,n,i,s){let r=Di();const a=dl(),o=function(){return dl()}();return n.forEach((l,c)=>{const h=i.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Cr)?r=r.insert(c.key,c):h!==void 0?(a.set(c.key,h.mutation.getFieldMask()),ml(h.mutation,c,h.mutation.getFieldMask(),Xt.now())):a.set(c.key,bn.empty())}),this.recalculateAndSaveOverlays(t,r).next(l=>(l.forEach((c,h)=>a.set(c,h)),n.forEach((c,h)=>{var f;return o.set(c,new P4(h,(f=a.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(t,n){const i=dl();let s=new Vt((a,o)=>a-o),r=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=i.get(l)||bn.empty();h=o.applyToLocalView(c,h),i.set(l,h);const f=(s.get(o.batchId)||rt()).add(l);s=s.insert(o.batchId,f)})}).next(()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,h=l.value,f=bA();h.forEach(d=>{if(!r.has(d)){const g=AA(n.get(d),i.get(d));g!==null&&f.set(d,g),r=r.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(t,c,f))}return U.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,s){return function(a){return $.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):gA(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-r.size):U.resolve(Xs());let o=Ul,l=r;return a.next(c=>U.forEach(c,(h,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),r.get(h)?U.resolve():this.remoteDocumentCache.getEntry(t,h).next(d=>{l=l.insert(h,d)}))).next(()=>this.populateOverlays(t,c,r)).next(()=>this.computeViews(t,l,c,rt())).next(h=>({batchId:o,changes:vA(h)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new $(n)).next(i=>{let s=Ho();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const r=n.collectionGroup;let a=Ho();return this.indexManager.getCollectionParents(t,r).next(o=>U.forEach(o,l=>{const c=function(f,d){return new io(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(r));return this.getDocumentsMatchingCollectionQuery(t,c,i,s).next(h=>{h.forEach((f,d)=>{a=a.insert(f,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,r,s))).next(a=>{r.forEach((l,c)=>{const h=c.getKey();a.get(h)===null&&(a=a.insert(h,we.newInvalidDocument(h)))});let o=Ho();return a.forEach((l,c)=>{const h=r.get(l);h!==void 0&&ml(h.mutation,c,bn.empty(),Xt.now()),Ff(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return U.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:qn(s.createTime)}}(n)),U.resolve()}getNamedQuery(t,n){return U.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(s){return{name:s.name,query:A4(s.bundledQuery),readTime:qn(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this.overlays=new Vt($.comparator),this.Qr=new Map}getOverlay(t,n){return U.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Xs();return U.forEach(n,s=>this.getOverlay(t,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,r)=>{this.St(t,n,r)}),U.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.Qr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Qr.delete(i)),U.resolve()}getOverlaysForCollection(t,n,i){const s=Xs(),r=n.length+1,a=new $(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&l.largestBatchId>i&&s.set(l.getKey(),l)}return U.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let r=new Vt((c,h)=>c-h);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let h=r.get(c.largestBatchId);h===null&&(h=Xs(),r=r.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const o=Xs(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>o.set(c,h)),!(o.size()>=s)););return U.resolve(o)}St(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.Qr.get(s.largestBatchId).delete(i.key);this.Qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new i4(n,i));let r=this.Qr.get(n);r===void 0&&(r=rt(),this.Qr.set(n,r)),this.Qr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this.sessionToken=pe.EMPTY_BYTE_STRING}getSessionToken(t){return U.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(){this.$r=new te(ne.Ur),this.Kr=new te(ne.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const i=new ne(t,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.zr(new ne(t,n))}jr(t,n){t.forEach(i=>this.removeReference(i,n))}Hr(t){const n=new $(new Dt([])),i=new ne(n,t),s=new ne(n,t+1),r=[];return this.Kr.forEachInRange([i,s],a=>{this.zr(a),r.push(a.key)}),r}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new $(new Dt([])),i=new ne(n,t),s=new ne(n,t+1);let r=rt();return this.Kr.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(t){const n=new ne(t,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class ne{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return $.comparator(t.key,n.key)||tt(t.Zr,n.Zr)}static Wr(t,n){return tt(t.Zr,n.Zr)||$.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new te(ne.Ur)}checkEmpty(t){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const r=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new n4(r,n,i,s);this.mutationQueue.push(a);for(const o of s)this.Xr=this.Xr.add(new ne(o.key,r)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return U.resolve(a)}lookupMutationBatch(t,n){return U.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.ti(i),r=s<0?0:s;return U.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Oy:this.nr-1)}getAllMutationBatches(t){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new ne(n,0),s=new ne(n,Number.POSITIVE_INFINITY),r=[];return this.Xr.forEachInRange([i,s],a=>{const o=this.ei(a.Zr);r.push(o)}),U.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new te(tt);return n.forEach(s=>{const r=new ne(s,0),a=new ne(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([r,a],o=>{i=i.add(o.Zr)})}),U.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let r=i;$.isDocumentKey(r)||(r=r.child(""));const a=new ne(new $(r),0);let o=new te(tt);return this.Xr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===s&&(o=o.add(l.Zr)),!0)},a),U.resolve(this.ni(o))}ni(t){const n=[];return t.forEach(i=>{const s=this.ei(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){gt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return U.forEach(n.mutations,s=>{const r=new ne(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,n){const i=new ne(n,0),s=this.Xr.firstAfterOrEqual(i);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,U.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(t){this.ii=t,this.docs=function(){return new Vt($.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,a=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return U.resolve(i?i.document.mutableCopy():we.newInvalidDocument(n))}getEntries(t,n){let i=Di();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():we.newInvalidDocument(s))}),U.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let r=Di();const a=n.path,o=new $(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||yP(pP(h),i)<=0||(s.has(h.key)||Ff(n,h))&&(r=r.insert(h.key,h.mutableCopy()))}return U.resolve(r)}getAllFromCollectionGroup(t,n,i,s){W(9500)}si(t,n){return U.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new F4(this)}getSize(t){return U.resolve(this.size)}}class F4 extends N4{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(t,s)):this.Br.removeEntry(i)}),U.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(t){this.persistence=t,this.oi=new Ir(n=>Ny(n),Py),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this._i=0,this.ai=new zy,this.targetCount=0,this.ui=Va.cr()}forEachTarget(t,n){return this.oi.forEach((i,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(t){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return U.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),U.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new Va(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,U.resolve()}updateTargetData(t,n){return this.Tr(n),U.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(t,n,i){let s=0;const r=[];return this.oi.forEach((a,o)=>{o.sequenceNumber<=n&&i.get(o.targetId)===null&&(this.oi.delete(a),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),s++)}),U.waitFor(r).next(()=>s)}getTargetCount(t){return U.resolve(this.targetCount)}getTargetData(t,n){const i=this.oi.get(n)||null;return U.resolve(i)}addMatchingKeys(t,n,i){return this.ai.Gr(n,i),U.resolve()}removeMatchingKeys(t,n,i){this.ai.jr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(a=>{r.push(s.markPotentiallyOrphaned(t,a))}),U.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),U.resolve()}getMatchingKeysForTargetId(t,n){const i=this.ai.Yr(n);return U.resolve(i)}containsKey(t,n){return U.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(t,n){this.ci={},this.overlays={},this.li=new Uf(0),this.hi=!1,this.hi=!0,this.Pi=new j4,this.referenceDelegate=t(this),this.Ti=new H4(this),this.indexManager=new R4,this.remoteDocumentCache=function(s){return new B4(s)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new S4(n),this.Ei=new V4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new U4,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ci[t.toKey()];return i||(i=new z4(n,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,i){H("MemoryPersistence","Starting transaction:",t);const s=new q4(this.li.next());return this.referenceDelegate.di(),i(s).next(r=>this.referenceDelegate.Ai(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ri(t,n){return U.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,n)))}}class q4 extends vP{constructor(t){super(),this.currentSequenceNumber=t}}class By{constructor(t){this.persistence=t,this.Vi=new zy,this.mi=null}static fi(t){return new By(t)}get gi(){if(this.mi)return this.mi;throw W(60996)}addReference(t,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),U.resolve()}removeReference(t,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),U.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),U.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(r=>this.gi.add(r.toString()))}).next(()=>i.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.gi,i=>{const s=$.fromPath(i);return this.pi(t,s).next(r=>{r||n.removeEntry(s,X.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return U.or([()=>U.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class $h{constructor(t,n){this.persistence=t,this.yi=new Ir(i=>TP(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=k4(this,n)}static fi(t,n){return new $h(t,n)}di(){}Ai(t){return U.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(s=>i+s))}br(t){let n=0;return this.yr(t,i=>{n++}).next(()=>n)}yr(t,n){return U.forEach(this.yi,(i,s)=>this.Dr(t,i,s).next(r=>r?U.resolve():n(s)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.si(t,a=>this.Dr(t,a,n).next(o=>{o||(i++,r.removeEntry(a,X.min()))})).next(()=>r.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),U.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),U.resolve()}removeReference(t,n,i){return this.yi.set(i,t.currentSequenceNumber),U.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),U.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=qu(t.data.value)),n}Dr(t,n,i){return U.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.yi.get(n);return U.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.ds=i,this.As=s}static Rs(t,n){let i=rt(),s=rt();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Fy(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return zk()?8:bP(Ae())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,i,s){const r={result:null};return this.ws(t,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.bs(t,n,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new G4;return this.Ss(t,n,a).next(o=>{if(r.result=o,this.fs)return this.Ds(t,n,a,o.size)})}).next(()=>r.result)}Ds(t,n,i,s){return i.documentReadCount<this.gs?(qr()<=st.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Gr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),U.resolve()):(qr()<=st.DEBUG&&H("QueryEngine","Query:",Gr(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ps*s?(qr()<=st.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Gr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Hn(n))):U.resolve())}ws(t,n){if(Yb(n))return U.resolve(null);let i=Hn(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Qg(n,null,"F"),i=Hn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const a=rt(...r);return this.ys.getDocuments(t,a).next(o=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.vs(n,o);return this.Cs(n,c,a,l.readTime)?this.ws(t,Qg(n,null,"F")):this.Fs(t,c,n,l)}))})))}bs(t,n,i,s){return Yb(n)||s.isEqual(X.min())?U.resolve(null):this.ys.getDocuments(t,i).next(r=>{const a=this.vs(n,r);return this.Cs(n,a,i,s)?U.resolve(null):(qr()<=st.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Gr(n)),this.Fs(t,a,n,gP(s,Ul)).next(o=>o))})}vs(t,n){let i=new te(yA(t));return n.forEach((s,r)=>{Ff(t,r)&&(i=i.add(r))}),i}Cs(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Ss(t,n,i){return qr()<=st.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Gr(n)),this.ys.getDocumentsMatchingQuery(t,n,Is.min(),i)}Fs(t,n,i,s){return this.ys.getDocumentsMatchingQuery(t,i,s).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="LocalStore",Y4=3e8;class K4{constructor(t,n,i,s){this.persistence=t,this.Ms=n,this.serializer=s,this.xs=new Vt(tt),this.Os=new Ir(r=>Ny(r),Py),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new L4(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function W4(e,t,n,i){return new K4(e,t,n,i)}async function BA(e,t){const n=Z(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Ls(t),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],o=[];let l=rt();for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of r){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(i,l).next(c=>({ks:c,removedBatchIds:a,addedBatchIds:o}))})})}function Q4(e,t){const n=Z(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),r=n.Bs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,h){const f=c.batch,d=f.keys();let g=U.resolve();return d.forEach(v=>{g=g.next(()=>h.getEntry(l,v)).next(E=>{const x=c.docVersions.get(v);gt(x!==null,48541),E.version.compareTo(x)<0&&(f.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),h.addEntry(E)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(n,i,t,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let l=rt();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function FA(e){const t=Z(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function X4(e,t){const n=Z(e),i=t.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const o=[];t.targetChanges.forEach((h,f)=>{const d=s.get(f);if(!d)return;o.push(n.Ti.removeMatchingKeys(r,h.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(r,h.addedDocuments,f)));let g=d.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(f)!==null?g=g.withResumeToken(pe.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,i)),s=s.insert(f,g),function(E,x,_){return E.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=Y4?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(d,g,h)&&o.push(n.Ti.updateTargetData(r,g))});let l=Di(),c=rt();if(t.documentUpdates.forEach(h=>{t.resolvedLimboDocuments.has(h)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(r,h))}),o.push(Z4(r,a,t.documentUpdates).next(h=>{l=h.qs,c=h.Qs})),!i.isEqual(X.min())){const h=n.Ti.getLastRemoteSnapshotVersion(r).next(f=>n.Ti.setTargetsMetadata(r,r.currentSequenceNumber,i));o.push(h)}return U.waitFor(o).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,c)).next(()=>l)}).then(r=>(n.xs=s,r))}function Z4(e,t,n){let i=rt(),s=rt();return n.forEach(r=>i=i.add(r)),t.getEntries(e,i).next(r=>{let a=Di();return n.forEach((o,l)=>{const c=r.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(o)),l.isNoDocument()&&l.version.isEqual(X.min())?(t.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),a=a.insert(o,l)):H(Hy,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{qs:a,Qs:s}})}function J4(e,t){const n=Z(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Oy),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function tL(e,t){const n=Z(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Ti.getTargetData(i,t).next(r=>r?(s=r,U.resolve(s)):n.Ti.allocateTargetId(i).next(a=>(s=new ss(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.xs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(t,i.targetId)),i})}async function ep(e,t,n){const i=Z(e),s=i.xs.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!no(a))throw a;H(Hy,`Failed to update sequence numbers for target ${t}: ${a}`)}i.xs=i.xs.remove(t),i.Os.delete(s.target)}function aE(e,t,n){const i=Z(e);let s=X.min(),r=rt();return i.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,h){const f=Z(l),d=f.Os.get(h);return d!==void 0?U.resolve(f.xs.get(d)):f.Ti.getTargetData(c,h)}(i,a,Hn(t)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(a,o.targetId).next(l=>{r=l})}).next(()=>i.Ms.getDocumentsMatchingQuery(a,t,n?s:X.min(),n?r:rt())).next(o=>(eL(i,BP(t),o),{documents:o,$s:r})))}function eL(e,t,n){let i=e.Ns.get(t)||X.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),e.Ns.set(t,i)}class oE{constructor(){this.activeTargetIds=YP()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class nL{constructor(){this.xo=new oE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,i){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new oE,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="ConnectivityMonitor";class cE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){H(lE,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){H(lE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu=null;function np(){return hu===null?hu=function(){return 268435456+Math.round(2147483648*Math.random())}():hu++,"0x"+hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="RestConnection",sL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rL{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${i}/databases/${s}`,this.Go=this.databaseId.database===zh?`project_id=${i}`:`project_id=${i}&database_id=${s}`}zo(t,n,i,s,r){const a=np(),o=this.jo(t,n.toUriEncodedString());H(_m,`Sending RPC '${t}' ${a}:`,o,i);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,s,r);const{host:c}=new URL(o),h=Za(c);return this.Jo(t,o,l,i,h).then(f=>(H(_m,`Received RPC '${t}' ${a}: `,f),f),f=>{throw ka(_m,`RPC '${t}' ${a} failed with error: `,f,"url: ",o,"request:",i),f})}Yo(t,n,i,s,r,a){return this.zo(t,n,i,s,r)}Ho(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+to}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>t[r]=s),i&&i.headers.forEach((s,r)=>t[r]=s)}jo(t,n){const i=sL[t];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee="WebChannelConnection";class oL extends rL{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,s,r){const a=np();return new Promise((o,l)=>{const c=new H1;c.setWithCredentials(!0),c.listenOnce(q1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Hu.NO_ERROR:const f=c.getResponseJson();H(Ee,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(f)),o(f);break;case Hu.TIMEOUT:H(Ee,`RPC '${t}' ${a} timed out`),l(new q(j.DEADLINE_EXCEEDED,"Request time out"));break;case Hu.HTTP_ERROR:const d=c.getStatus();if(H(Ee,`RPC '${t}' ${a} failed with status:`,d,"response text:",c.getResponseText()),d>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const E=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(y)>=0?y:j.UNKNOWN}(v.status);l(new q(E,v.message))}else l(new q(j.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new q(j.UNAVAILABLE,"Connection failed."));break;default:W(9055,{h_:t,streamId:a,P_:c.getLastErrorCode(),T_:c.getLastError()})}}finally{H(Ee,`RPC '${t}' ${a} completed.`)}});const h=JSON.stringify(s);H(Ee,`RPC '${t}' ${a} sending request:`,s),c.send(n,"POST",h,i,15)})}I_(t,n,i){const s=np(),r=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=Y1(),o=$1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const h=r.join("");H(Ee,`Creating RPC '${t}' stream ${s}: ${h}`,l);const f=a.createWebChannel(h,l);this.E_(f);let d=!1,g=!1;const v=new aL({Zo:x=>{g?H(Ee,`Not sending because RPC '${t}' stream ${s} is closed:`,x):(d||(H(Ee,`Opening RPC '${t}' stream ${s} transport.`),f.open(),d=!0),H(Ee,`RPC '${t}' stream ${s} sending:`,x),f.send(x))},Xo:()=>f.close()}),E=(x,_,y)=>{x.listen(_,T=>{try{y(T)}catch(M){setTimeout(()=>{throw M},0)}})};return E(f,Fo.EventType.OPEN,()=>{g||(H(Ee,`RPC '${t}' stream ${s} transport opened.`),v.__())}),E(f,Fo.EventType.CLOSE,()=>{g||(g=!0,H(Ee,`RPC '${t}' stream ${s} transport closed`),v.u_(),this.d_(f))}),E(f,Fo.EventType.ERROR,x=>{g||(g=!0,ka(Ee,`RPC '${t}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),v.u_(new q(j.UNAVAILABLE,"The operation could not be completed")))}),E(f,Fo.EventType.MESSAGE,x=>{var _;if(!g){const y=x.data[0];gt(!!y,16349);const T=y,M=(T==null?void 0:T.error)||((_=T[0])===null||_===void 0?void 0:_.error);if(M){H(Ee,`RPC '${t}' stream ${s} received error:`,M);const C=M.status;let L=function(R){const I=Yt[R];if(I!==void 0)return CA(I)}(C),S=M.message;L===void 0&&(L=j.INTERNAL,S="Unknown error status: "+C+" with message "+M.message),g=!0,v.u_(new q(L,S)),f.close()}else H(Ee,`RPC '${t}' stream ${s} received:`,y),v.c_(y)}}),E(o,G1.STAT_EVENT,x=>{x.stat===Hg.PROXY?H(Ee,`RPC '${t}' stream ${s} detected buffering proxy`):x.stat===Hg.NOPROXY&&H(Ee,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.a_()},0),v}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(e){return new h4(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(t,n,i=1e3,s=1.5,r=6e4){this.xi=t,this.timerId=n,this.A_=i,this.R_=s,this.V_=r,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-i);s>0&&H("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="PersistentStream";class qA{constructor(t,n,i,s,r,a,o,l){this.xi=t,this.S_=i,this.D_=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new HA(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Ci(n.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.v_===n&&this.z_(i,s)},i=>{t(()=>{const s=new q(j.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(s)})})}z_(t,n){const i=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{i(()=>this.j_(s))}),this.stream.onMessage(s=>{i(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return H(uE,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(H(uE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lL extends qA{constructor(t,n,i,s,r,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=m4(this.serializer,t),i=function(r){if(!("targetChange"in r))return X.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?X.min():a.readTime?qn(a.readTime):X.min()}(t);return this.listener.Y_(n,i)}Z_(t){const n={};n.database=tp(this.serializer),n.addTarget=function(r,a){let o;const l=a.target;if(o=Kg(l)?{documents:y4(r,l)}:{query:_4(r,l).gt},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=MA(r,a.resumeToken);const c=Xg(r,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(X.min())>0){o.readTime=Gh(r,a.snapshotVersion.toTimestamp());const c=Xg(r,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const i=b4(this.serializer,t);i&&(n.labels=i),this.Q_(n)}X_(t){const n={};n.database=tp(this.serializer),n.removeTarget=t,this.Q_(n)}}class cL extends qA{constructor(t,n,i,s,r,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=p4(t.writeResults,t.commitTime),i=qn(t.commitTime);return this.listener.ra(i,n)}ia(){const t={};t.database=tp(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>g4(this.serializer,i))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{}class hL extends uL{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new q(j.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.zo(t,Zg(n,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new q(j.UNKNOWN,r.toString())})}Yo(t,n,i,s,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Yo(t,Zg(n,i),s,a,o,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new q(j.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class fL{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ci(n),this.ua=!1):H("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="RemoteStore";class dL{constructor(t,n,i,s,r){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=r,this.Ra.No(a=>{i.enqueueAndForget(async()=>{Dr(this)&&(H(dr,"Restarting streams for network reachability change."),await async function(l){const c=Z(l);c.da.add(4),await vc(c),c.Va.set("Unknown"),c.da.delete(4),await Yf(c)}(this))})}),this.Va=new fL(i,s)}}async function Yf(e){if(Dr(e))for(const t of e.Aa)await t(!0)}async function vc(e){for(const t of e.Aa)await t(!1)}function GA(e,t){const n=Z(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Yy(n)?$y(n):so(n).N_()&&Gy(n,t))}function qy(e,t){const n=Z(e),i=so(n);n.Ea.delete(t),i.N_()&&$A(n,t),n.Ea.size===0&&(i.N_()?i.k_():Dr(n)&&n.Va.set("Unknown"))}function Gy(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(X.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}so(e).Z_(t)}function $A(e,t){e.ma.Ke(t),so(e).X_(t)}function $y(e){e.ma=new o4({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),so(e).start(),e.Va.ca()}function Yy(e){return Dr(e)&&!so(e).O_()&&e.Ea.size>0}function Dr(e){return Z(e).da.size===0}function YA(e){e.ma=void 0}async function mL(e){e.Va.set("Online")}async function gL(e){e.Ea.forEach((t,n)=>{Gy(e,t)})}async function pL(e,t){YA(e),Yy(e)?(e.Va.Pa(t),$y(e)):e.Va.set("Unknown")}async function yL(e,t,n){if(e.Va.set("Online"),t instanceof OA&&t.state===2&&t.cause)try{await async function(s,r){const a=r.cause;for(const o of r.targetIds)s.Ea.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.Ea.delete(o),s.ma.removeTarget(o))}(e,t)}catch(i){H(dr,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Yh(e,i)}else if(t instanceof Yu?e.ma.Xe(t):t instanceof DA?e.ma.ot(t):e.ma.nt(t),!n.isEqual(X.min()))try{const i=await FA(e.localStore);n.compareTo(i)>=0&&await function(r,a){const o=r.ma.It(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=r.Ea.get(c);h&&r.Ea.set(c,h.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const h=r.Ea.get(l);if(!h)return;r.Ea.set(l,h.withResumeToken(pe.EMPTY_BYTE_STRING,h.snapshotVersion)),$A(r,l);const f=new ss(h.target,l,c,h.sequenceNumber);Gy(r,f)}),r.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(i){H(dr,"Failed to raise snapshot:",i),await Yh(e,i)}}async function Yh(e,t,n){if(!no(t))throw t;e.da.add(1),await vc(e),e.Va.set("Offline"),n||(n=()=>FA(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{H(dr,"Retrying IndexedDB access"),await n(),e.da.delete(1),await Yf(e)})}function KA(e,t){return t().catch(n=>Yh(e,n,t))}async function Kf(e){const t=Z(e),n=Ms(t);let i=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Oy;for(;_L(t);)try{const s=await J4(t.localStore,i);if(s===null){t.Ia.length===0&&n.k_();break}i=s.batchId,vL(t,s)}catch(s){await Yh(t,s)}WA(t)&&QA(t)}function _L(e){return Dr(e)&&e.Ia.length<10}function vL(e,t){e.Ia.push(t);const n=Ms(e);n.N_()&&n.ea&&n.ta(t.mutations)}function WA(e){return Dr(e)&&!Ms(e).O_()&&e.Ia.length>0}function QA(e){Ms(e).start()}async function bL(e){Ms(e).ia()}async function EL(e){const t=Ms(e);for(const n of e.Ia)t.ta(n.mutations)}async function TL(e,t,n){const i=e.Ia.shift(),s=Vy.from(i,t,n);await KA(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Kf(e)}async function wL(e,t){t&&Ms(e).ea&&await async function(i,s){if(function(a){return r4(a)&&a!==j.ABORTED}(s.code)){const r=i.Ia.shift();Ms(i).L_(),await KA(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Kf(i)}}(e,t),WA(e)&&QA(e)}async function hE(e,t){const n=Z(e);n.asyncQueue.verifyOperationInProgress(),H(dr,"RemoteStore received new credentials");const i=Dr(n);n.da.add(3),await vc(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Yf(n)}async function xL(e,t){const n=Z(e);t?(n.da.delete(2),await Yf(n)):t||(n.da.add(2),await vc(n),n.Va.set("Unknown"))}function so(e){return e.fa||(e.fa=function(n,i,s){const r=Z(n);return r.oa(),new lL(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{e_:mL.bind(null,e),n_:gL.bind(null,e),i_:pL.bind(null,e),Y_:yL.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),Yy(e)?$y(e):e.Va.set("Unknown")):(await e.fa.stop(),YA(e))})),e.fa}function Ms(e){return e.ga||(e.ga=function(n,i,s){const r=Z(n);return r.oa(),new cL(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:bL.bind(null,e),i_:wL.bind(null,e),na:EL.bind(null,e),ra:TL.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await Kf(e)):(await e.ga.stop(),e.Ia.length>0&&(H(dr,`Stopping write stream with ${e.Ia.length} pending writes`),e.Ia=[]))})),e.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(t,n,i,s,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,r){const a=Date.now()+i,o=new Ky(t,n,a,s,r);return o.start(i),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(j.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wy(e,t){if(Ci("AsyncQueue",`${t}: ${e}`),no(e))return new q(j.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{static emptySet(t){return new pa(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||$.comparator(n.key,i.key):(n,i)=>$.comparator(n.key,i.key),this.keyedMap=Ho(),this.sortedSet=new Vt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof pa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new pa;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.pa=new Vt($.comparator)}track(t){const n=t.doc.key,i=this.pa.get(n);i?t.type!==0&&i.type===3?this.pa=this.pa.insert(n,t):t.type===3&&i.type!==1?this.pa=this.pa.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.pa=this.pa.remove(n):t.type===1&&i.type===2?this.pa=this.pa.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):W(63341,{Vt:t,ya:i}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,i)=>{t.push(i)}),t}}class Ua{constructor(t,n,i,s,r,a,o,l,c){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,i,s,r){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Ua(t,n,pa.emptySet(n),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Bf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class AL{constructor(){this.queries=dE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=Z(n),r=s.queries;s.queries=dE(),r.forEach((a,o)=>{for(const l of o.Sa)l.onError(i)})})(this,new q(j.ABORTED,"Firestore shutting down"))}}function dE(){return new Ir(e=>pA(e),Bf)}async function RL(e,t){const n=Z(e);let i=3;const s=t.query;let r=n.queries.get(s);r?!r.Da()&&t.va()&&(i=2):(r=new SL,i=t.va()?0:1);try{switch(i){case 0:r.ba=await n.onListen(s,!0);break;case 1:r.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const o=Wy(a,`Initialization of query '${Gr(t.query)}' failed`);return void t.onError(o)}n.queries.set(s,r),r.Sa.push(t),t.Fa(n.onlineState),r.ba&&t.Ma(r.ba)&&Qy(n)}async function IL(e,t){const n=Z(e),i=t.query;let s=3;const r=n.queries.get(i);if(r){const a=r.Sa.indexOf(t);a>=0&&(r.Sa.splice(a,1),r.Sa.length===0?s=t.va()?0:1:!r.Da()&&t.va()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function CL(e,t){const n=Z(e);let i=!1;for(const s of t){const r=s.query,a=n.queries.get(r);if(a){for(const o of a.Sa)o.Ma(s)&&(i=!0);a.ba=s}}i&&Qy(n)}function DL(e,t,n){const i=Z(e),s=i.queries.get(t);if(s)for(const r of s.Sa)r.onError(n);i.queries.delete(t)}function Qy(e){e.Ca.forEach(t=>{t.next()})}var ip,mE;(mE=ip||(ip={})).xa="default",mE.Cache="cache";class OL{constructor(t,n,i){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Ua(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const i=n!=="Offline";return(!this.options.Qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=Ua.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==ip.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(t){this.key=t}}class ZA{constructor(t){this.key=t}}class ML{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=rt(),this.mutatedKeys=rt(),this.Za=yA(t),this.Xa=new pa(this.Za)}get eu(){return this.Ha}tu(t,n){const i=n?n.nu:new fE,s=n?n.Xa:this.Xa;let r=n?n.mutatedKeys:this.mutatedKeys,a=s,o=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((h,f)=>{const d=s.get(h),g=Ff(this.query,f)?f:null,v=!!d&&this.mutatedKeys.has(d.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;d&&g?d.data.isEqual(g.data)?v!==E&&(i.track({type:3,doc:g}),x=!0):this.ru(d,g)||(i.track({type:2,doc:g}),x=!0,(l&&this.Za(g,l)>0||c&&this.Za(g,c)<0)&&(o=!0)):!d&&g?(i.track({type:0,doc:g}),x=!0):d&&!g&&(i.track({type:1,doc:d}),x=!0,(l||c)&&(o=!0)),x&&(g?(a=a.add(g),r=E?r.add(h):r.delete(h)):(a=a.delete(h),r=r.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),r=r.delete(h.key),i.track({type:1,doc:h})}return{Xa:a,nu:i,Cs:o,mutatedKeys:r}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const r=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const a=t.nu.wa();a.sort((h,f)=>function(g,v){const E=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W(20277,{Vt:x})}};return E(g)-E(v)}(h.type,f.type)||this.Za(h.doc,f.doc)),this.iu(i),s=s!=null&&s;const o=n&&!s?this.su():[],l=this.Ya.size===0&&this.current&&!s?1:0,c=l!==this.Ja;return this.Ja=l,a.length!==0||c?{snapshot:new Ua(this.query,t.Xa,r,a,t.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:o}:{ou:o}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new fE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=rt(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return t.forEach(i=>{this.Ya.has(i)||n.push(new ZA(i))}),this.Ya.forEach(i=>{t.has(i)||n.push(new XA(i))}),n}au(t){this.Ha=t.$s,this.Ya=rt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return Ua.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Xy="SyncEngine";class kL{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class NL{constructor(t){this.key=t,this.cu=!1}}class PL{constructor(t,n,i,s,r,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Ir(o=>pA(o),Bf),this.Pu=new Map,this.Tu=new Set,this.Iu=new Vt($.comparator),this.Eu=new Map,this.du=new zy,this.Au={},this.Ru=new Map,this.Vu=Va.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function LL(e,t,n=!0){const i=sR(e);let s;const r=i.hu.get(t);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.uu()):s=await JA(i,t,n,!0),s}async function VL(e,t){const n=sR(e);await JA(n,t,!0,!1)}async function JA(e,t,n,i){const s=await tL(e.localStore,Hn(t)),r=s.targetId,a=e.sharedClientState.addLocalQueryTarget(r,n);let o;return i&&(o=await UL(e,t,r,a==="current",s.resumeToken)),e.isPrimaryClient&&n&&GA(e.remoteStore,s),o}async function UL(e,t,n,i,s){e.fu=(f,d,g)=>async function(E,x,_,y){let T=x.view.tu(_);T.Cs&&(T=await aE(E.localStore,x.query,!1).then(({documents:S})=>x.view.tu(S,T)));const M=y&&y.targetChanges.get(x.targetId),C=y&&y.targetMismatches.get(x.targetId)!=null,L=x.view.applyChanges(T,E.isPrimaryClient,M,C);return pE(E,x.targetId,L.ou),L.snapshot}(e,f,d,g);const r=await aE(e.localStore,t,!0),a=new ML(t,r.$s),o=a.tu(r.documents),l=_c.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),c=a.applyChanges(o,e.isPrimaryClient,l);pE(e,n,c.ou);const h=new kL(t,n,a);return e.hu.set(t,h),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),c.snapshot}async function jL(e,t,n){const i=Z(e),s=i.hu.get(t),r=i.Pu.get(s.targetId);if(r.length>1)return i.Pu.set(s.targetId,r.filter(a=>!Bf(a,t))),void i.hu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await ep(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&qy(i.remoteStore,s.targetId),sp(i,s.targetId)}).catch(eo)):(sp(i,s.targetId),await ep(i.localStore,s.targetId,!0))}async function zL(e,t){const n=Z(e),i=n.hu.get(t),s=n.Pu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),qy(n.remoteStore,i.targetId))}async function BL(e,t,n){const i=KL(e);try{const s=await function(a,o){const l=Z(a),c=Xt.now(),h=o.reduce((g,v)=>g.add(v.key),rt());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=Di(),E=rt();return l.Bs.getEntries(g,h).next(x=>{v=x,v.forEach((_,y)=>{y.isValidDocument()||(E=E.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(x=>{f=x;const _=[];for(const y of o){const T=t4(y,f.get(y.key).overlayedDocument);T!=null&&_.push(new Cr(y.key,T,oA(T.value.mapValue),Ei.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,_,o)}).next(x=>{d=x;const _=x.applyToLocalDocumentSet(f,E);return l.documentOverlayCache.saveOverlays(g,x.batchId,_)})}).then(()=>({batchId:d.batchId,changes:vA(f)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(a,o,l){let c=a.Au[a.currentUser.toKey()];c||(c=new Vt(tt)),c=c.insert(o,l),a.Au[a.currentUser.toKey()]=c}(i,s.batchId,n),await bc(i,s.changes),await Kf(i.remoteStore)}catch(s){const r=Wy(s,"Failed to persist write");n.reject(r)}}async function tR(e,t){const n=Z(e);try{const i=await X4(n.localStore,t);t.targetChanges.forEach((s,r)=>{const a=n.Eu.get(r);a&&(gt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.cu=!0:s.modifiedDocuments.size>0?gt(a.cu,14607):s.removedDocuments.size>0&&(gt(a.cu,42227),a.cu=!1))}),await bc(n,i,t)}catch(i){await eo(i)}}function gE(e,t,n){const i=Z(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.hu.forEach((r,a)=>{const o=a.view.Fa(t);o.snapshot&&s.push(o.snapshot)}),function(a,o){const l=Z(a);l.onlineState=o;let c=!1;l.queries.forEach((h,f)=>{for(const d of f.Sa)d.Fa(o)&&(c=!0)}),c&&Qy(l)}(i.eventManager,t),s.length&&i.lu.Y_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function FL(e,t,n){const i=Z(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Eu.get(t),r=s&&s.key;if(r){let a=new Vt($.comparator);a=a.insert(r,we.newNoDocument(r,X.min()));const o=rt().add(r),l=new Gf(X.min(),new Map,new Vt(tt),a,o);await tR(i,l),i.Iu=i.Iu.remove(r),i.Eu.delete(t),Zy(i)}else await ep(i.localStore,t,!1).then(()=>sp(i,t,n)).catch(eo)}async function HL(e,t){const n=Z(e),i=t.batch.batchId;try{const s=await Q4(n.localStore,t);nR(n,i,null),eR(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await bc(n,s)}catch(s){await eo(s)}}async function qL(e,t,n){const i=Z(e);try{const s=await function(a,o){const l=Z(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(gt(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(i.localStore,t);nR(i,t,n),eR(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await bc(i,s)}catch(s){await eo(s)}}function eR(e,t){(e.Ru.get(t)||[]).forEach(n=>{n.resolve()}),e.Ru.delete(t)}function nR(e,t,n){const i=Z(e);let s=i.Au[i.currentUser.toKey()];if(s){const r=s.get(t);r&&(n?r.reject(n):r.resolve(),s=s.remove(t)),i.Au[i.currentUser.toKey()]=s}}function sp(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Pu.get(t))e.hu.delete(i),n&&e.lu.gu(i,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(i=>{e.du.containsKey(i)||iR(e,i)})}function iR(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);n!==null&&(qy(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),Zy(e))}function pE(e,t,n){for(const i of n)i instanceof XA?(e.du.addReference(i.key,t),GL(e,i)):i instanceof ZA?(H(Xy,"Document no longer in limbo: "+i.key),e.du.removeReference(i.key,t),e.du.containsKey(i.key)||iR(e,i.key)):W(19791,{pu:i})}function GL(e,t){const n=t.key,i=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(i)||(H(Xy,"New document in limbo: "+n),e.Tu.add(i),Zy(e))}function Zy(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new $(Dt.fromString(t)),i=e.Vu.next();e.Eu.set(i,new NL(n)),e.Iu=e.Iu.insert(n,i),GA(e.remoteStore,new ss(Hn(mA(n.path)),i,"TargetPurposeLimboResolution",Uf.le))}}async function bc(e,t,n){const i=Z(e),s=[],r=[],a=[];i.hu.isEmpty()||(i.hu.forEach((o,l)=>{a.push(i.fu(l,t,n).then(c=>{var h;if((c||n)&&i.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=Fy.Rs(l.targetId,c);r.push(f)}}))}),await Promise.all(a),i.lu.Y_(s),await async function(l,c){const h=Z(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(c,d=>U.forEach(d.ds,g=>h.persistence.referenceDelegate.addReference(f,d.targetId,g)).next(()=>U.forEach(d.As,g=>h.persistence.referenceDelegate.removeReference(f,d.targetId,g)))))}catch(f){if(!no(f))throw f;H(Hy,"Failed to update sequence numbers: "+f)}for(const f of c){const d=f.targetId;if(!f.fromCache){const g=h.xs.get(d),v=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(v);h.xs=h.xs.insert(d,E)}}}(i.localStore,r))}async function $L(e,t){const n=Z(e);if(!n.currentUser.isEqual(t)){H(Xy,"User change. New user:",t.toKey());const i=await BA(n.localStore,t);n.currentUser=t,function(r,a){r.Ru.forEach(o=>{o.forEach(l=>{l.reject(new q(j.CANCELLED,a))})}),r.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await bc(n,i.ks)}}function YL(e,t){const n=Z(e),i=n.Eu.get(t);if(i&&i.cu)return rt().add(i.key);{let s=rt();const r=n.Pu.get(t);if(!r)return s;for(const a of r){const o=n.hu.get(a);s=s.unionWith(o.view.eu)}return s}}function sR(e){const t=Z(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=tR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=YL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=FL.bind(null,t),t.lu.Y_=CL.bind(null,t.eventManager),t.lu.gu=DL.bind(null,t.eventManager),t}function KL(e){const t=Z(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=HL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=qL.bind(null,t),t}class Kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=$f(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return W4(this.persistence,new $4,t.initialUser,this.serializer)}Su(t){return new zA(By.fi,this.serializer)}bu(t){return new nL}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kh.provider={build:()=>new Kh};class WL extends Kh{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){gt(this.persistence.referenceDelegate instanceof $h,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new O4(i,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?Le.withCacheSize(this.cacheSizeBytes):Le.DEFAULT;return new zA(i=>$h.fi(i,n),this.serializer)}}class rp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>gE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$L.bind(null,this.syncEngine),await xL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new AL}()}createDatastore(t){const n=$f(t.databaseInfo.databaseId),i=function(r){return new oL(r)}(t.databaseInfo);return function(r,a,o,l){return new hL(r,a,o,l)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,r,a,o){return new dL(i,s,r,a,o)}(this.localStore,this.datastore,t.asyncQueue,n=>gE(this.syncEngine,n,0),function(){return cE.C()?new cE:new iL}())}createSyncEngine(t,n){return function(s,r,a,o,l,c,h){const f=new PL(s,r,a,o,l,c);return h&&(f.mu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const r=Z(s);H(dr,"RemoteStore shutting down."),r.da.add(5),await vc(r),r.Ra.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}rp.provider={build:()=>new rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Ci("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="FirestoreClient";class XL{constructor(t,n,i,s,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Te.UNAUTHENTICATED,this.clientId=X1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{H(ks,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(H(ks,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Wy(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function bm(e,t){e.asyncQueue.verifyOperationInProgress(),H(ks,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await BA(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function yE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ZL(e);H(ks,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>hE(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>hE(t.remoteStore,s)),e._onlineComponents=t}async function ZL(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){H(ks,"Using user provided OfflineComponentProvider");try{await bm(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(s){return s.name==="FirebaseError"?s.code===j.FAILED_PRECONDITION||s.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ka("Error using user provided cache. Falling back to memory cache: "+n),await bm(e,new Kh)}}else H(ks,"Using default OfflineComponentProvider"),await bm(e,new WL(void 0));return e._offlineComponents}async function rR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(H(ks,"Using user provided OnlineComponentProvider"),await yE(e,e._uninitializedComponentsProvider._online)):(H(ks,"Using default OnlineComponentProvider"),await yE(e,new rp))),e._onlineComponents}function JL(e){return rR(e).then(t=>t.syncEngine)}async function tV(e){const t=await rR(e),n=t.eventManager;return n.onListen=LL.bind(null,t.syncEngine),n.onUnlisten=jL.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=VL.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=zL.bind(null,t.syncEngine),n}function eV(e,t,n={}){const i=new vs;return e.asyncQueue.enqueueAndForget(async()=>function(r,a,o,l,c){const h=new QL({next:d=>{h.xu(),a.enqueueAndForget(()=>IL(r,f)),d.fromCache&&l.source==="server"?c.reject(new q(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new OL(o,h,{includeMetadataChanges:!0,Qa:!0});return RL(r,f)}(await tV(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(e,t,n){if(!n)throw new q(j.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function nV(e,t,n,i){if(t===!0&&i===!0)throw new q(j.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function vE(e){if(!$.isDocumentKey(e))throw new q(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function bE(e){if($.isDocumentKey(e))throw new q(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Wf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":W(12329,{type:typeof e})}function Wh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new q(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wf(e);throw new q(j.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="firestore.googleapis.com",EE=!0;class TE{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new q(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lR,this.ssl=EE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:EE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=jA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<C4)throw new q(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}nV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aR((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Qf{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new q(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new aP;switch(i.type){case"firstParty":return new uP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new q(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=_E.get(n);i&&(H("ComponentProvider","Removing Datastore"),_E.delete(n),i.terminate())}(this),Promise.resolve()}}function iV(e,t,n,i={}){var s;e=Wh(e,Qf);const r=Za(t),a=e._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${n}`;r&&(O1(`https://${l}`),M1("Firestore",!0)),a.host!==lR&&a.host!==l&&ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:r,emulatorOptions:i});if(!Rs(c,o)&&(e._setSettings(c),i.mockUserToken)){let h,f;if(typeof i.mockUserToken=="string")h=i.mockUserToken,f=Te.MOCK_USER;else{h=Mk(i.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new q(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Te(d)}e._authCredentials=new oP(new W1(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Or(this.firestore,t,this._query)}}class dn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new dn(this.firestore,t,this._key)}}class bs extends Or{constructor(t,n,i){super(t,n,mA(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new dn(this.firestore,null,new $(t))}withConverter(t){return new bs(this.firestore,t,this._path)}}function Jy(e,t,...n){if(e=le(e),oR("collection","path",t),e instanceof Qf){const i=Dt.fromString(t,...n);return bE(i),new bs(e,null,i)}{if(!(e instanceof dn||e instanceof bs))throw new q(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Dt.fromString(t,...n));return bE(i),new bs(e.firestore,null,i)}}function sV(e,t,...n){if(e=le(e),arguments.length===1&&(t=X1.newId()),oR("doc","path",t),e instanceof Qf){const i=Dt.fromString(t,...n);return vE(i),new dn(e,null,new $(i))}{if(!(e instanceof dn||e instanceof bs))throw new q(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Dt.fromString(t,...n));return vE(i),new dn(e.firestore,e instanceof bs?e.converter:null,new $(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="AsyncQueue";class xE{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new HA(this,"async_queue_retry"),this.rc=()=>{const i=vm();i&&H(wE,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=t;const n=vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new vs;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!no(t))throw t;H(wE,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(i=>{throw this.Xu=i,this.ec=!1,Ci("INTERNAL UNHANDLED ERROR: ",SE(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=n,n}enqueueAfterDelay(t,n,i){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const s=Ky.createAndSchedule(this,t,n,i,r=>this.uc(r));return this.Zu.push(s),s}oc(){this.Xu&&W(47125,{cc:SE(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function SE(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class t_ extends Qf{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new xE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new xE(t),this._firestoreClient=void 0,await t}}}function rV(e,t){const n=typeof e=="object"?e:Cy(),i=typeof e=="string"?e:zh,s=Ar(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=Dk("firestore");r&&iV(s,...r)}return s}function cR(e){if(e._terminated)throw new q(j.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||aV(e),e._firestoreClient}function aV(e){var t,n,i;const s=e._freezeSettings(),r=function(o,l,c,h){return new SP(o,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,aR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new XL(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ja(pe.fromBase64String(t))}catch(n){throw new q(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ja(pe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new q(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new me(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new q(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new q(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return tt(this._lat,t._lat)||tt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=/^__.*__$/;class lV{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Cr(t,this.data,this.fieldMask,n,this.fieldTransforms):new yc(t,this.data,n,this.fieldTransforms)}}function hR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W(40011,{Ic:e})}}class s_{constructor(t,n,i,s,r,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Ec(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new s_(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.dc({path:i,Rc:!1});return s.Vc(t),s}mc(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.dc({path:i,Rc:!1});return s.Ec(),s}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Qh(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(hR(this.Ic)&&oV.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class cV{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||$f(t)}bc(t,n,i,s=!1){return new s_({Ic:t,methodName:n,wc:i,path:me.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fR(e){const t=e._freezeSettings(),n=$f(e._databaseId);return new cV(e._databaseId,!!t.ignoreUndefinedProperties,n)}function uV(e,t,n,i,s,r={}){const a=e.bc(r.merge||r.mergeFields?2:0,t,n,s);gR("Data must be an object, but it was:",a,i);const o=dR(i,a);let l,c;if(r.merge)l=new bn(a.fieldMask),c=a.fieldTransforms;else if(r.mergeFields){const h=[];for(const f of r.mergeFields){const d=fV(t,f,n);if(!a.contains(d))throw new q(j.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);mV(h,d)||h.push(d)}l=new bn(h),c=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=a.fieldTransforms;return new lV(new un(o),l,c)}function hV(e,t,n,i=!1){return r_(n,e.bc(i?4:3,t))}function r_(e,t){if(mR(e=le(e)))return gR("Unsupported field value:",t,e),dR(e,t);if(e instanceof uR)return function(i,s){if(!hR(s.Ic))throw s.gc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(i,s){const r=[];let a=0;for(const o of i){let l=r_(o,s.fc(a));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),a++}return{arrayValue:{values:r}}}(e,t)}return function(i,s){if((i=le(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return KP(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Xt.fromDate(i);return{timestampValue:Gh(s.serializer,r)}}if(i instanceof Xt){const r=new Xt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Gh(s.serializer,r)}}if(i instanceof n_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ja)return{bytesValue:MA(s.serializer,i._byteString)};if(i instanceof dn){const r=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(r))throw s.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:jy(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof i_)return function(a,o){return{mapValue:{fields:{[rA]:{stringValue:aA},[Bh]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.gc("VectorValues must only contain numeric values.");return Ly(o.serializer,c)})}}}}}}(i,s);throw s.gc(`Unsupported field value: ${Wf(i)}`)}(e,t)}function dR(e,t){const n={};return J1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Rr(e,(i,s)=>{const r=r_(s,t.Ac(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function mR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Xt||e instanceof n_||e instanceof ja||e instanceof dn||e instanceof uR||e instanceof i_)}function gR(e,t,n){if(!mR(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=Wf(n);throw i==="an object"?t.gc(e+" a custom object"):t.gc(e+" "+i)}}function fV(e,t,n){if((t=le(t))instanceof e_)return t._internalPath;if(typeof t=="string")return pR(e,t);throw Qh("Field path arguments must be of type string or ",e,!1,void 0,n)}const dV=new RegExp("[~\\*/\\[\\]]");function pR(e,t,n){if(t.search(dV)>=0)throw Qh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new e_(...t.split("."))._internalPath}catch{throw Qh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Qh(e,t,n,i,s){const r=i&&!i.isEmpty(),a=s!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(r||a)&&(l+=" (found",r&&(l+=` in field ${i}`),a&&(l+=` in document ${s}`),l+=")"),new q(j.INVALID_ARGUMENT,o+e+l)}function mV(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t,n,i,s,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new gV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(a_("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gV extends yR{data(){return super.data()}}function a_(e,t){return typeof t=="string"?pR(e,t):t instanceof e_?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new q(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class o_{}class _R extends o_{}function vR(e,t,...n){let i=[];t instanceof o_&&i.push(t),i=i.concat(n),function(r){const a=r.filter(l=>l instanceof c_).length,o=r.filter(l=>l instanceof l_).length;if(a>1||a>0&&o>0)throw new q(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)e=s._apply(e);return e}class l_ extends _R{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new l_(t,n,i)}_apply(t){const n=this._parse(t);return ER(t._query,n),new Or(t.firestore,t.converter,Wg(t._query,n))}_parse(t){const n=fR(t.firestore);return function(r,a,o,l,c,h,f){let d;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new q(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){RE(f,h);const v=[];for(const E of f)v.push(AE(l,r,E));d={arrayValue:{values:v}}}else d=AE(l,r,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||RE(f,h),d=hV(o,a,f,h==="in"||h==="not-in");return Wt.create(c,h,d)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class c_ extends o_{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new c_(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Rn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,r){let a=s;const o=r.getFlattenedFilters();for(const l of o)ER(a,l),a=Wg(a,l)}(t._query,n),new Or(t.firestore,t.converter,Wg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class u_ extends _R{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new u_(t,n)}_apply(t){const n=function(s,r,a){if(s.startAt!==null)throw new q(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new q(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fl(r,a)}(t._query,this._field,this._direction);return new Or(t.firestore,t.converter,function(s,r){const a=s.explicitOrderBy.concat([r]);return new io(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,n))}}function bR(e,t="asc"){const n=t,i=a_("orderBy",e);return u_._create(i,n)}function AE(e,t,n){if(typeof(n=le(n))=="string"){if(n==="")throw new q(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gA(t)&&n.indexOf("/")!==-1)throw new q(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Dt.fromString(n));if(!$.isDocumentKey(i))throw new q(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Bb(e,new $(i))}if(n instanceof dn)return Bb(e,n._key);throw new q(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wf(n)}.`)}function RE(e,t){if(!Array.isArray(e)||e.length===0)throw new q(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ER(e,t){const n=function(s,r){for(const a of s)for(const o of a.getFlattenedFilters())if(r.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new q(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new q(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class yV{convertValue(t,n="none"){switch(Os(t)){case 0:return null;case 1:return t.booleanValue;case 2:return qt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ds(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw W(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Rr(t,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(t){var n,i,s;const r=(s=(i=(n=t.fields)===null||n===void 0?void 0:n[Bh].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(a=>qt(a.doubleValue));return new i_(r)}convertGeoPoint(t){return new n_(qt(t.latitude),qt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=zf(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(jl(t));default:return null}}convertTimestamp(t){const n=Cs(t);return new Xt(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Dt.fromString(t);gt(UA(i),9688,{name:t});const s=new zl(i.get(1),i.get(3)),r=new $(i.popFirst(5));return s.isEqual(n)||Ci(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(e,t,n){let i;return i=e?e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class vV extends yR{constructor(t,n,i,s,r,a){super(t,n,i,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(a_("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Ku extends vV{data(t={}){return super.data(t)}}class bV{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new fu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Ku(this._firestore,this._userDataWriter,i.key,i,new fu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const l=new Ku(s._firestore,s._userDataWriter,o.doc.key,o.doc,new fu(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const l=new Ku(s._firestore,s._userDataWriter,o.doc.key,o.doc,new fu(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:EV(o.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function EV(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W(61501,{type:e})}}class TV extends yV{constructor(t){super(),this.firestore=t}convertBytes(t){return new ja(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function TR(e){e=Wh(e,Or);const t=Wh(e.firestore,t_),n=cR(t),i=new TV(t);return pV(e._query),eV(n,e._query).then(s=>new bV(t,i,e,s))}function wV(e,t){const n=Wh(e.firestore,t_),i=sV(e),s=_V(e.converter,t);return xV(n,[uV(fR(e.firestore),"addDoc",i._key,s,e.converter!==null,{}).toMutation(i._key,Ei.exists(!1))]).then(()=>i)}function xV(e,t){return function(i,s){const r=new vs;return i.asyncQueue.enqueueAndForget(async()=>BL(await JL(i),s,r)),r.promise}(cR(e),t)}(function(t,n=!0){(function(s){to=s})(Ja),Yn(new An("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),o=new t_(new lP(i.getProvider("auth-internal")),new hP(a,i.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new q(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(c.options.projectId,h)}(a,s),a);return r=Object.assign({useFetchStreams:n},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),fn(Cb,Db,t),fn(Cb,Db,"esm2017")})();var SV="firebase",AV="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn(SV,AV,"app");function h_(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function wR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RV=wR,xR=new Sr("auth","Firebase",wR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new Vf("@firebase/auth");function IV(e,...t){Xh.logLevel<=st.WARN&&Xh.warn(`Auth (${Ja}): ${e}`,...t)}function Wu(e,...t){Xh.logLevel<=st.ERROR&&Xh.error(`Auth (${Ja}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(e,...t){throw f_(e,...t)}function Gn(e,...t){return f_(e,...t)}function SR(e,t,n){const i=Object.assign(Object.assign({},RV()),{[t]:n});return new Sr("auth","Firebase",i).create(t,{appName:e.name})}function Ti(e){return SR(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function f_(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return xR.create(e,...t)}function K(e,t,...n){if(!e)throw f_(t,...n)}function pi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Wu(t),new Error(t)}function Oi(e,t){e||pi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function CV(){return IE()==="http:"||IE()==="https:"}function IE(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CV()||k1()||"connection"in navigator)?navigator.onLine:!0}function OV(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t,n){this.shortDelay=t,this.longDelay=n,Oi(n>t,"Short delay should be less than long delay!"),this.isMobile=Pk()||Uk()}get(){return DV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(e,t){Oi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NV=new Ec(3e4,6e4);function Ni(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Pi(e,t,n,i,s={}){return RR(e,s,async()=>{let r={},a={};i&&(t==="GET"?a=i:r={body:JSON.stringify(i)});const o=pc(Object.assign({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:l},r);return Vk()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&Za(e.emulatorConfig.host)&&(c.credentials="include"),AR.fetch()(await IR(e,e.config.apiHost,n,o),c)})}async function RR(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},MV),t);try{const s=new LV(e),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw du(e,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const o=r.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw du(e,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw du(e,"email-already-in-use",a);if(l==="USER_DISABLED")throw du(e,"user-disabled",a);const h=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw SR(e,h,c);In(e,h)}}catch(s){if(s instanceof Mn)throw s;In(e,"network-request-failed",{message:String(s)})}}async function Tc(e,t,n,i,s={}){const r=await Pi(e,t,n,i,s);return"mfaPendingCredential"in r&&In(e,"multi-factor-auth-required",{_serverResponse:r}),r}async function IR(e,t,n,i){const s=`${t}${n}?${i}`,r=e,a=r.config.emulator?d_(e.config,s):`${e.config.apiScheme}://${s}`;return kV.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}function PV(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Gn(this.auth,"network-request-failed")),NV.get())})}}function du(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Gn(e,t,i);return s.customData._tokenResponse=n,s}function CE(e){return e!==void 0&&e.enterprise!==void 0}class VV{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return PV(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function UV(e,t){return Pi(e,"GET","/v2/recaptchaConfig",Ni(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(e,t){return Pi(e,"POST","/v1/accounts:delete",t)}async function Zh(e,t){return Pi(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function zV(e,t=!1){const n=le(e),i=await n.getIdToken(t),s=m_(i);K(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:gl(Em(s.auth_time)),issuedAtTime:gl(Em(s.iat)),expirationTime:gl(Em(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Em(e){return Number(e)*1e3}function m_(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Wu("JWT malformed, contained fewer than 3 sections"),null;try{const s=R1(n);return s?JSON.parse(s):(Wu("Failed to decode base64 JWT payload"),null)}catch(s){return Wu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function DE(e){const t=m_(e);return K(t,"internal-error"),K(typeof t.exp<"u","internal-error"),K(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Mn&&BV(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function BV({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gl(this.lastLoginAt),this.creationTime=gl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jh(e){var t;const n=e.auth,i=await e.getIdToken(),s=await Gl(e,Zh(n,{idToken:i}));K(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];e._notifyReloadListener(r);const a=!((t=r.providerUserInfo)===null||t===void 0)&&t.length?CR(r.providerUserInfo):[],o=qV(e.providerData,a),l=e.isAnonymous,c=!(e.email&&r.passwordHash)&&!(o!=null&&o.length),h=l?c:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new op(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(e,f)}async function HV(e){const t=le(e);await Jh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function qV(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function CR(e){return e.map(t=>{var{providerId:n}=t,i=h_(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GV(e,t){const n=await RR(e,{},async()=>{const i=pc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,a=await IR(e,s,"/v1/token",`key=${r}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:i};return e.emulatorConfig&&Za(e.emulatorConfig.host)&&(l.credentials="include"),AR.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $V(e,t){return Pi(e,"POST","/v2/accounts:revokeToken",Ni(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){K(t.idToken,"internal-error"),K(typeof t.idToken<"u","internal-error"),K(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):DE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){K(t.length!==0,"internal-error");const n=DE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await GV(t,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new ya;return i&&(K(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),s&&(K(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),r&&(K(typeof r=="number","internal-error",{appName:t}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ya,this.toJSON())}_performRefresh(){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(e,t){K(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class En{constructor(t){var{uid:n,auth:i,stsTokenManager:s}=t,r=h_(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new op(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await Gl(this,this.stsTokenManager.getToken(this.auth,t));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return zV(this,t)}reload(){return HV(this)}_assign(t){this!==t&&(K(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new En(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Jh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cn(this.auth.app))return Promise.reject(Ti(this.auth));const t=await this.getIdToken();return await Gl(this,jV(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,s,r,a,o,l,c,h;const f=(i=n.displayName)!==null&&i!==void 0?i:void 0,d=(s=n.email)!==null&&s!==void 0?s:void 0,g=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,v=(a=n.photoURL)!==null&&a!==void 0?a:void 0,E=(o=n.tenantId)!==null&&o!==void 0?o:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:M,isAnonymous:C,providerData:L,stsTokenManager:S}=n;K(T&&S,t,"internal-error");const b=ya.fromJSON(this.name,S);K(typeof T=="string",t,"internal-error"),Bi(f,t.name),Bi(d,t.name),K(typeof M=="boolean",t,"internal-error"),K(typeof C=="boolean",t,"internal-error"),Bi(g,t.name),Bi(v,t.name),Bi(E,t.name),Bi(x,t.name),Bi(_,t.name),Bi(y,t.name);const R=new En({uid:T,auth:t,email:d,emailVerified:M,displayName:f,isAnonymous:C,photoURL:v,phoneNumber:g,tenantId:E,stsTokenManager:b,createdAt:_,lastLoginAt:y});return L&&Array.isArray(L)&&(R.providerData=L.map(I=>Object.assign({},I))),x&&(R._redirectEventId=x),R}static async _fromIdTokenResponse(t,n,i=!1){const s=new ya;s.updateFromServerResponse(n);const r=new En({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Jh(r),r}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];K(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?CR(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),o=new ya;o.updateFromIdToken(i);const l=new En({uid:s.localId,auth:t,stsTokenManager:o,isAnonymous:a}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new op(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=new Map;function yi(e){Oi(e instanceof Function,"Expected a class definition");let t=OE.get(e);return t?(Oi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,OE.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}DR.type="NONE";const ME=DR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(e,t,n){return`firebase:${e}:${t}:${n}`}class _a{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=Qu(this.userKey,s.apiKey,r),this.fullPersistenceKey=Qu("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Zh(this.auth,{idToken:t}).catch(()=>{});return n?En._fromGetAccountInfoResponse(this.auth,n,t):null}return En._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new _a(yi(ME),t,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||yi(ME);const a=Qu(i,t.config.apiKey,t.name);let o=null;for(const c of n)try{const h=await c._get(a);if(h){let f;if(typeof h=="string"){const d=await Zh(t,{idToken:h}).catch(()=>{});if(!d)break;f=await En._fromGetAccountInfoResponse(t,d,h)}else f=En._fromJSON(t,h);c!==r&&(o=f),r=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new _a(r,t,i):(r=l[0],o&&await r._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(a)}catch{}})),new _a(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(NR(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(OR(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(LR(t))return"Blackberry";if(VR(t))return"Webos";if(MR(t))return"Safari";if((t.includes("chrome/")||kR(t))&&!t.includes("edge/"))return"Chrome";if(PR(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function OR(e=Ae()){return/firefox\//i.test(e)}function MR(e=Ae()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function kR(e=Ae()){return/crios\//i.test(e)}function NR(e=Ae()){return/iemobile/i.test(e)}function PR(e=Ae()){return/android/i.test(e)}function LR(e=Ae()){return/blackberry/i.test(e)}function VR(e=Ae()){return/webos/i.test(e)}function g_(e=Ae()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function YV(e=Ae()){var t;return g_(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function KV(){return jk()&&document.documentMode===10}function UR(e=Ae()){return g_(e)||PR(e)||VR(e)||LR(e)||/windows phone/i.test(e)||NR(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(e,t=[]){let n;switch(e){case"Browser":n=kE(Ae());break;case"Worker":n=`${kE(Ae())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ja}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=r=>new Promise((a,o)=>{try{const l=t(r);a(l)}catch(l){o(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QV(e,t={}){return Pi(e,"GET","/v2/passwordPolicy",Ni(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=6;class ZV{constructor(t){var n,i,s,r;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:XV,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=t.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,s,r,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NE(this),this.idTokenSubscription=new NE(this),this.beforeStateQueue=new WV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=yi(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await _a.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Zh(this,{idToken:t}),i=await En._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(cn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(t);(!a||a===o)&&(l!=null&&l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Jh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=OV()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(cn(this.app))return Promise.reject(Ti(this));const n=t?le(t):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&K(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return cn(this.app)?Promise.reject(Ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return cn(this.app)?Promise.reject(Ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await QV(this),n=new ZV(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Sr("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await $V(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&yi(t)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await _a.create(this,[yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(o,this,"internal-error"),o.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,i,s);return()=>{a=!0,l()}}else{const l=t.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=jR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var t;if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&IV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Mr(e){return le(e)}class NE{constructor(t){this.auth=t,this.observer=null,this.addObserver=$k(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t6(e){Xf=e}function zR(e){return Xf.loadJS(e)}function e6(){return Xf.recaptchaEnterpriseScript}function n6(){return Xf.gapiScript}function i6(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class s6{constructor(){this.enterprise=new r6}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class r6{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const a6="recaptcha-enterprise",BR="NO_RECAPTCHA";class o6{constructor(t){this.type=a6,this.auth=Mr(t)}async verify(t="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(a,o)=>{UV(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new VV(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function s(r,a,o){const l=window.grecaptcha;CE(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:t}).then(c=>{a(c)}).catch(()=>{a(BR)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new s6().execute("siteKey",{action:"verify"}):new Promise((r,a)=>{i(this.auth).then(o=>{if(!n&&CE(window.grecaptcha))s(o,r,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=e6();l.length!==0&&(l+=o),zR(l).then(()=>{s(o,r,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function PE(e,t,n,i=!1,s=!1){const r=new o6(e);let a;if(s)a=BR;else try{a=await r.verify(n)}catch{a=await r.verify(n,!0)}const o=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return i?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function lp(e,t,n,i,s){var r;if(!((r=e._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await PE(e,t,n,n==="getOobCode");return i(e,a)}else return i(e,t).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await PE(e,t,n,n==="getOobCode");return i(e,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(e,t){const n=Ar(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(Rs(r,t??{}))return s;In(s,"already-initialized")}return n.initialize({options:t})}function c6(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(yi);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function u6(e,t,n){const i=Mr(e);K(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,r=FR(t),{host:a,port:o}=h6(t),l=o===null?"":`:${o}`,c={url:`${r}//${a}${l}/`},h=Object.freeze({host:a,port:o,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){K(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),K(Rs(c,i.config.emulator)&&Rs(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,Za(a)?(O1(`${r}//${a}${l}`),M1("Auth",!0)):f6()}function FR(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function h6(e){const t=FR(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:LE(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:LE(a)}}}function LE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function f6(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return pi("not implemented")}_getIdTokenResponse(t){return pi("not implemented")}_linkToIdToken(t,n){return pi("not implemented")}_getReauthenticationResolver(t){return pi("not implemented")}}async function d6(e,t){return Pi(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m6(e,t){return Tc(e,"POST","/v1/accounts:signInWithPassword",Ni(e,t))}async function g6(e,t){return Pi(e,"POST","/v1/accounts:sendOobCode",Ni(e,t))}async function p6(e,t){return g6(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y6(e,t){return Tc(e,"POST","/v1/accounts:signInWithEmailLink",Ni(e,t))}async function _6(e,t){return Tc(e,"POST","/v1/accounts:signInWithEmailLink",Ni(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends p_{constructor(t,n,i,s=null){super("password",i),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new $l(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new $l(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lp(t,n,"signInWithPassword",m6);case"emailLink":return y6(t,{email:this._email,oobCode:this._password});default:In(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lp(t,i,"signUpPassword",d6);case"emailLink":return _6(t,{idToken:n,email:this._email,oobCode:this._password});default:In(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(e,t){return Tc(e,"POST","/v1/accounts:signInWithIdp",Ni(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6="http://localhost";class mr extends p_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new mr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):In("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=n,r=h_(n,["providerId","signInMethod"]);if(!i||!s)return null;const a=new mr(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return va(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,va(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,va(t,n)}buildRequest(){const t={requestUri:v6,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=pc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function E6(e){const t=zo(Bo(e)).link,n=t?zo(Bo(t)).deep_link_id:null,i=zo(Bo(e)).deep_link_id;return(i?zo(Bo(i)).link:null)||i||n||t||e}class y_{constructor(t){var n,i,s,r,a,o;const l=zo(Bo(t)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(i=l.oobCode)!==null&&i!==void 0?i:null,f=b6((s=l.mode)!==null&&s!==void 0?s:null);K(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(a=l.lang)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(t){const n=E6(t);try{return new y_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.providerId=ro.PROVIDER_ID}static credential(t,n){return $l._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=y_.parseLink(n);return K(i,"argument-error"),$l._fromEmailAndCode(t,i.code,i.tenantId)}}ro.PROVIDER_ID="password";ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends HR{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends wc{constructor(){super("facebook.com")}static credential(t){return mr._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qi.credentialFromTaggedObject(t)}static credentialFromError(t){return Qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qi.credential(t.oauthAccessToken)}catch{return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return mr._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Xi.credentialFromTaggedObject(t)}static credentialFromError(t){return Xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Xi.credential(n,i)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends wc{constructor(){super("github.com")}static credential(t){return mr._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zi.credentialFromTaggedObject(t)}static credentialFromError(t){return Zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zi.credential(t.oauthAccessToken)}catch{return null}}}Zi.GITHUB_SIGN_IN_METHOD="github.com";Zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends wc{constructor(){super("twitter.com")}static credential(t,n){return mr._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ji.credentialFromTaggedObject(t)}static credentialFromError(t){return Ji.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Ji.credential(n,i)}catch{return null}}}Ji.TWITTER_SIGN_IN_METHOD="twitter.com";Ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T6(e,t){return Tc(e,"POST","/v1/accounts:signUp",Ni(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const r=await En._fromIdTokenResponse(t,i,s),a=VE(i);return new gr({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=VE(i);return new gr({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function VE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf extends Mn{constructor(t,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,tf.prototype),this.customData={appName:t.name,tenantId:(r=t.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new tf(t,n,i,s)}}function qR(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?tf._fromErrorAndOperation(e,r,t,i):r})}async function w6(e,t,n=!1){const i=await Gl(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return gr._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x6(e,t,n=!1){const{auth:i}=e;if(cn(i.app))return Promise.reject(Ti(i));const s="reauthenticate";try{const r=await Gl(e,qR(i,s,t,e),n);K(r.idToken,i,"internal-error");const a=m_(r.idToken);K(a,i,"internal-error");const{sub:o}=a;return K(e.uid===o,i,"user-mismatch"),gr._forOperation(e,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&In(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(e,t,n=!1){if(cn(e.app))return Promise.reject(Ti(e));const i="signIn",s=await qR(e,i,t),r=await gr._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(r.user),r}async function S6(e,t){return GR(Mr(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(e){const t=Mr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function A6(e,t,n){if(cn(e.app))return Promise.reject(Ti(e));const i=Mr(e),a=await lp(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",T6).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&$R(e),l}),o=await gr._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function R6(e,t,n){return cn(e.app)?Promise.reject(Ti(e)):S6(le(e),ro.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&$R(e),i})}async function I6(e,t){const n=le(e),s={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()},{email:r}=await p6(n.auth,s);r!==e.email&&await e.reload()}function C6(e,t,n,i){return le(e).onIdTokenChanged(t,n,i)}function D6(e,t,n){return le(e).beforeAuthStateChanged(t,n)}function O6(e,t,n,i){return le(e).onAuthStateChanged(t,n,i)}function M6(e){return le(e).signOut()}const ef="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=1e3,N6=10;class KR extends YR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);KV()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,N6):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},k6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}KR.type="LOCAL";const P6=KR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR extends YR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}WR.type="SESSION";const QR=WR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new Zf(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const o=Array.from(a).map(async c=>c(n.origin,r)),l=await L6(o);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((o,l)=>{const c=__("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(f){const d=f;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(h),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),o(d.data.response);break;default:clearTimeout(h),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return window}function U6(e){$n().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(){return typeof $n().WorkerGlobalScope<"u"&&typeof $n().importScripts=="function"}async function j6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z6(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function B6(){return XR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="firebaseLocalStorageDb",F6=1,nf="firebaseLocalStorage",JR="fbase_key";class xc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jf(e,t){return e.transaction([nf],t?"readwrite":"readonly").objectStore(nf)}function H6(){const e=indexedDB.deleteDatabase(ZR);return new xc(e).toPromise()}function cp(){const e=indexedDB.open(ZR,F6);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(nf,{keyPath:JR})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(nf)?t(i):(i.close(),await H6(),t(await cp()))})})}async function UE(e,t,n){const i=Jf(e,!0).put({[JR]:t,value:n});return new xc(i).toPromise()}async function q6(e,t){const n=Jf(e,!1).get(t),i=await new xc(n).toPromise();return i===void 0?null:i.value}function jE(e,t){const n=Jf(e,!0).delete(t);return new xc(n).toPromise()}const G6=800,$6=3;class t2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>$6)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zf._getInstance(B6()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await j6(),!this.activeServiceWorker)return;this.sender=new V6(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||z6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await cp();return await UE(t,ef,"1"),await jE(t,ef),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>UE(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>q6(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>jE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=Jf(s,!1).getAll();return new xc(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),G6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}t2.type="LOCAL";const Y6=t2;new Ec(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(e,t){return t?yi(t):(K(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_ extends p_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return va(t,this._buildIdpRequest())}_linkToIdToken(t,n){return va(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return va(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function W6(e){return GR(e.auth,new v_(e),e.bypassAuthState)}function Q6(e){const{auth:t,user:n}=e;return K(n,t,"internal-error"),x6(n,new v_(e),e.bypassAuthState)}async function X6(e){const{auth:t,user:n}=e;return K(n,t,"internal-error"),w6(n,new v_(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t,n,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:o}=t;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return W6;case"linkViaPopup":case"linkViaRedirect":return X6;case"reauthViaPopup":case"reauthViaRedirect":return Q6;default:In(this.auth,"internal-error")}}resolve(t){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=new Ec(2e3,1e4);class aa extends e2{constructor(t,n,i,s,r){super(t,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,aa.currentPopupAction&&aa.currentPopupAction.cancel(),aa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return K(t,this.auth,"internal-error"),t}async onExecution(){Oi(this.filter.length===1,"Popup operations only handle one event");const t=__();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,aa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Z6.get())};t()}}aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6="pendingRedirect",Xu=new Map;class t3 extends e2{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Xu.get(this.auth._key());if(!t){try{const i=await e3(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Xu.set(this.auth._key(),t)}return this.bypassAuthState||Xu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function e3(e,t){const n=s3(t),i=i3(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function n3(e,t){Xu.set(e._key(),t)}function i3(e){return yi(e._redirectPersistence)}function s3(e){return Qu(J6,e.config.apiKey,e.name)}async function r3(e,t,n=!1){if(cn(e.app))return Promise.reject(Ti(e));const i=Mr(e),s=K6(i,t),a=await new t3(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=10*60*1e3;class o3{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!l3(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!n2(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Gn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=a3&&this.cachedEventUids.clear(),this.cachedEventUids.has(zE(t))}saveEventToCache(t){this.cachedEventUids.add(zE(t)),this.lastProcessedEventTime=Date.now()}}function zE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function n2({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function l3(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n2(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(e,t={}){return Pi(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h3=/^https?/;async function f3(e){if(e.config.emulator)return;const{authorizedDomains:t}=await c3(e);for(const n of t)try{if(d3(n))return}catch{}In(e,"unauthorized-domain")}function d3(e){const t=ap(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!h3.test(n))return!1;if(u3.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=new Ec(3e4,6e4);function BE(){const e=$n().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function g3(e){return new Promise((t,n)=>{var i,s,r;function a(){BE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{BE(),n(Gn(e,"network-request-failed"))},timeout:m3.get()})}if(!((s=(i=$n().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((r=$n().gapi)===null||r===void 0)&&r.load)a();else{const o=i6("iframefcb");return $n()[o]=()=>{gapi.load?a():n(Gn(e,"network-request-failed"))},zR(`${n6()}?onload=${o}`).catch(l=>n(l))}}).catch(t=>{throw Zu=null,t})}let Zu=null;function p3(e){return Zu=Zu||g3(e),Zu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=new Ec(5e3,15e3),_3="__/auth/iframe",v3="emulator/auth/iframe",b3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T3(e){const t=e.config;K(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?d_(t,v3):`https://${e.config.authDomain}/${_3}`,i={apiKey:t.apiKey,appName:e.name,v:Ja},s=E3.get(e.config.apiHost);s&&(i.eid=s);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${pc(i).slice(1)}`}async function w3(e){const t=await p3(e),n=$n().gapi;return K(n,e,"internal-error"),t.open({where:document.body,url:T3(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b3,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=Gn(e,"network-request-failed"),o=$n().setTimeout(()=>{r(a)},y3.get());function l(){$n().clearTimeout(o),s(i)}i.ping(l).then(l,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S3=500,A3=600,R3="_blank",I3="http://localhost";class FE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C3(e,t,n,i=S3,s=A3){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const l=Object.assign(Object.assign({},x3),{width:i.toString(),height:s.toString(),top:r,left:a}),c=Ae().toLowerCase();n&&(o=kR(c)?R3:n),OR(c)&&(t=t||I3,l.scrollbars="yes");const h=Object.entries(l).reduce((d,[g,v])=>`${d}${g}=${v},`,"");if(YV(c)&&o!=="_self")return D3(t||"",o),new FE(null);const f=window.open(t||"",o,h);K(f,e,"popup-blocked");try{f.focus()}catch{}return new FE(f)}function D3(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3="__/auth/handler",M3="emulator/auth/handler",k3=encodeURIComponent("fac");async function HE(e,t,n,i,s,r){K(e.config.authDomain,e,"auth-domain-config-required"),K(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Ja,eventId:s};if(t instanceof HR){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",Gk(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(t instanceof wc){const h=t.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const l=await e._getAppCheckToken(),c=l?`#${k3}=${encodeURIComponent(l)}`:"";return`${N3(e)}?${pc(o).slice(1)}${c}`}function N3({config:e}){return e.emulator?d_(e,M3):`https://${e.authDomain}/${O3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="webStorageSupport";class P3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QR,this._completeRedirectFn=r3,this._overrideRedirectResult=n3}async _openPopup(t,n,i,s){var r;Oi((r=this.eventManagers[t._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await HE(t,n,i,ap(),s);return C3(t,a,__())}async _openRedirect(t,n,i,s){await this._originValidation(t);const r=await HE(t,n,i,ap(),s);return U6(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Oi(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await w3(t),i=new o3(t);return n.register("authEvent",s=>(K(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Tm,{type:Tm},s=>{var r;const a=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[Tm];a!==void 0&&n(!!a),In(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=f3(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return UR()||MR()||g_()}}const L3=P3;var qE="@firebase/auth",GE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j3(e){Yn(new An("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;K(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:a,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jR(e)},c=new JV(i,s,r,l);return c6(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Yn(new An("auth-internal",t=>{const n=Mr(t.getProvider("auth").getImmediate());return(i=>new V3(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fn(qE,GE,U3(e)),fn(qE,GE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=5*60,B3=D1("authIdTokenMaxAge")||z3;let $E=null;const F3=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>B3)return;const s=n==null?void 0:n.token;$E!==s&&($E=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function up(e=Cy()){const t=Ar(e,"auth");if(t.isInitialized())return t.getImmediate();const n=l6(e,{popupRedirectResolver:L3,persistence:[Y6,P6,QR]}),i=D1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=F3(r.toString());D6(n,a,()=>a(n.currentUser)),C6(n,o=>a(o))}}const s=I1("auth");return s&&u6(n,`http://${s}`),n}function H3(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}t6({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const r=Gn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",H3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j3("Browser");const i2="@firebase/installations",b_="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=1e4,r2=`w:${b_}`,a2="FIS_v2",q3="https://firebaseinstallations.googleapis.com/v1",G3=60*60*1e3,$3="installations",Y3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},pr=new Sr($3,Y3,K3);function o2(e){return e instanceof Mn&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2({projectId:e}){return`${q3}/projects/${e}/installations`}function c2(e){return{token:e.token,requestStatus:2,expiresIn:Q3(e.expiresIn),creationTime:Date.now()}}async function u2(e,t){const i=(await t.json()).error;return pr.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function h2({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function W3(e,{refreshToken:t}){const n=h2(e);return n.append("Authorization",X3(t)),n}async function f2(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Q3(e){return Number(e.replace("s","000"))}function X3(e){return`${a2} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z3({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=l2(e),s=h2(e),r=t.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const a={fid:n,authVersion:a2,appId:e.appId,sdkVersion:r2},o={method:"POST",headers:s,body:JSON.stringify(a)},l=await f2(()=>fetch(i,o));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:c2(c.authToken)}}else throw await u2("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=/^[cdef][\w-]{21}$/,hp="";function e9(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=n9(e);return t9.test(n)?n:hp}catch{return hp}}function n9(e){return J3(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new Map;function g2(e,t){const n=td(e);p2(n,t),i9(n,t)}function p2(e,t){const n=m2.get(e);if(n)for(const i of n)i(t)}function i9(e,t){const n=s9();n&&n.postMessage({key:e,fid:t}),r9()}let Zs=null;function s9(){return!Zs&&"BroadcastChannel"in self&&(Zs=new BroadcastChannel("[Firebase] FID Change"),Zs.onmessage=e=>{p2(e.data.key,e.data.fid)}),Zs}function r9(){m2.size===0&&Zs&&(Zs.close(),Zs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9="firebase-installations-database",o9=1,yr="firebase-installations-store";let wm=null;function E_(){return wm||(wm=U1(a9,o9,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(yr)}}})),wm}async function sf(e,t){const n=td(e),s=(await E_()).transaction(yr,"readwrite"),r=s.objectStore(yr),a=await r.get(n);return await r.put(t,n),await s.done,(!a||a.fid!==t.fid)&&g2(e,t.fid),t}async function y2(e){const t=td(e),i=(await E_()).transaction(yr,"readwrite");await i.objectStore(yr).delete(t),await i.done}async function ed(e,t){const n=td(e),s=(await E_()).transaction(yr,"readwrite"),r=s.objectStore(yr),a=await r.get(n),o=t(a);return o===void 0?await r.delete(n):await r.put(o,n),await s.done,o&&(!a||a.fid!==o.fid)&&g2(e,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T_(e){let t;const n=await ed(e.appConfig,i=>{const s=l9(i),r=c9(e,s);return t=r.registrationPromise,r.installationEntry});return n.fid===hp?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function l9(e){const t=e||{fid:e9(),registrationStatus:0};return _2(t)}function c9(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(pr.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=u9(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:h9(e)}:{installationEntry:t}}async function u9(e,t){try{const n=await Z3(e,t);return sf(e.appConfig,n)}catch(n){throw o2(n)&&n.customData.serverCode===409?await y2(e.appConfig):await sf(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function h9(e){let t=await YE(e.appConfig);for(;t.registrationStatus===1;)await d2(100),t=await YE(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await T_(e);return i||n}return t}function YE(e){return ed(e,t=>{if(!t)throw pr.create("installation-not-found");return _2(t)})}function _2(e){return f9(e)?{fid:e.fid,registrationStatus:0}:e}function f9(e){return e.registrationStatus===1&&e.registrationTime+s2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d9({appConfig:e,heartbeatServiceProvider:t},n){const i=m9(e,n),s=W3(e,n),r=t.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const a={installation:{sdkVersion:r2,appId:e.appId}},o={method:"POST",headers:s,body:JSON.stringify(a)},l=await f2(()=>fetch(i,o));if(l.ok){const c=await l.json();return c2(c)}else throw await u2("Generate Auth Token",l)}function m9(e,{fid:t}){return`${l2(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w_(e,t=!1){let n;const i=await ed(e.appConfig,r=>{if(!v2(r))throw pr.create("not-registered");const a=r.authToken;if(!t&&y9(a))return r;if(a.requestStatus===1)return n=g9(e,t),r;{if(!navigator.onLine)throw pr.create("app-offline");const o=v9(r);return n=p9(e,o),o}});return n?await n:i.authToken}async function g9(e,t){let n=await KE(e.appConfig);for(;n.authToken.requestStatus===1;)await d2(100),n=await KE(e.appConfig);const i=n.authToken;return i.requestStatus===0?w_(e,t):i}function KE(e){return ed(e,t=>{if(!v2(t))throw pr.create("not-registered");const n=t.authToken;return b9(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function p9(e,t){try{const n=await d9(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return await sf(e.appConfig,i),n}catch(n){if(o2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await y2(e.appConfig);else{const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await sf(e.appConfig,i)}throw n}}function v2(e){return e!==void 0&&e.registrationStatus===2}function y9(e){return e.requestStatus===2&&!_9(e)}function _9(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+G3}function v9(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function b9(e){return e.requestStatus===1&&e.requestTime+s2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E9(e){const t=e,{installationEntry:n,registrationPromise:i}=await T_(t);return i?i.catch(console.error):w_(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T9(e,t=!1){const n=e;return await w9(n),(await w_(n,t)).token}async function w9(e){const{registrationPromise:t}=await T_(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(e){if(!e||!e.options)throw xm("App Configuration");if(!e.name)throw xm("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw xm(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function xm(e){return pr.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="installations",S9="installations-internal",A9=e=>{const t=e.getProvider("app").getImmediate(),n=x9(t),i=Ar(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},R9=e=>{const t=e.getProvider("app").getImmediate(),n=Ar(t,b2).getImmediate();return{getId:()=>E9(n),getToken:s=>T9(n,s)}};function I9(){Yn(new An(b2,A9,"PUBLIC")),Yn(new An(S9,R9,"PRIVATE"))}I9();fn(i2,b_);fn(i2,b_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="analytics",C9="firebase_id",D9="origin",O9=60*1e3,M9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",x_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je=new Vf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Je=new Sr("analytics","Analytics",k9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(e){if(!e.startsWith(x_)){const t=Je.create("invalid-gtag-resource",{gtagURL:e});return je.warn(t.message),""}return e}function E2(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function P9(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function L9(e,t){const n=P9("firebase-js-sdk-policy",{createScriptURL:N9}),i=document.createElement("script"),s=`${x_}?l=${e}&id=${t}`;i.src=n?n==null?void 0:n.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function V9(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function U9(e,t,n,i,s,r){const a=i[s];try{if(a)await t[a];else{const l=(await E2(n)).find(c=>c.measurementId===s);l&&await t[l.appId]}}catch(o){je.error(o)}e("config",s,r)}async function j9(e,t,n,i,s){try{let r=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const o=await E2(n);for(const l of a){const c=o.find(f=>f.measurementId===l),h=c&&t[c.appId];if(h)r.push(h);else{r=[];break}}}r.length===0&&(r=Object.values(t)),await Promise.all(r),e("event",i,s||{})}catch(r){je.error(r)}}function z9(e,t,n,i){async function s(r,...a){try{if(r==="event"){const[o,l]=a;await j9(e,t,n,o,l)}else if(r==="config"){const[o,l]=a;await U9(e,t,n,i,o,l)}else if(r==="consent"){const[o,l]=a;e("consent",o,l)}else if(r==="get"){const[o,l,c]=a;e("get",o,l,c)}else if(r==="set"){const[o]=a;e("set",o)}else e(r,...a)}catch(o){je.error(o)}}return s}function B9(e,t,n,i,s){let r=function(...a){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(r=window[s]),window[s]=z9(r,e,t,n),{gtagCore:r,wrappedGtag:window[s]}}function F9(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(x_)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=30,q9=1e3;class G9{constructor(t={},n=q9){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const T2=new G9;function $9(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Y9(e){var t;const{appId:n,apiKey:i}=e,s={method:"GET",headers:$9(i)},r=M9.replace("{app-id}",n),a=await fetch(r,s);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();!((t=l.error)===null||t===void 0)&&t.message&&(o=l.error.message)}catch{}throw Je.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function K9(e,t=T2,n){const{appId:i,apiKey:s,measurementId:r}=e.options;if(!i)throw Je.create("no-app-id");if(!s){if(r)return{measurementId:r,appId:i};throw Je.create("no-api-key")}const a=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new X9;return setTimeout(async()=>{o.abort()},O9),w2({appId:i,apiKey:s,measurementId:r},a,o,t)}async function w2(e,{throttleEndTimeMillis:t,backoffCount:n},i,s=T2){var r;const{appId:a,measurementId:o}=e;try{await W9(i,t)}catch(l){if(o)return je.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:o};throw l}try{const l=await Y9(e);return s.deleteThrottleMetadata(a),l}catch(l){const c=l;if(!Q9(c)){if(s.deleteThrottleMetadata(a),o)return je.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:o};throw l}const h=Number((r=c==null?void 0:c.customData)===null||r===void 0?void 0:r.httpStatus)===503?vb(n,s.intervalMillis,H9):vb(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(a,f),je.debug(`Calling attemptFetch again in ${h} millis`),w2(e,f,i,s)}}function W9(e,t){return new Promise((n,i)=>{const s=Math.max(t-Date.now(),0),r=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(r),i(Je.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Q9(e){if(!(e instanceof Mn)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class X9{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function Z9(e,t,n,i,s){if(s&&s.global){e("event",n,i);return}else{const r=await t,a=Object.assign(Object.assign({},i),{send_to:r});e("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J9(){if(N1())try{await P1()}catch(e){return je.warn(Je.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return je.warn(Je.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function t5(e,t,n,i,s,r,a){var o;const l=K9(e);l.then(g=>{n[g.measurementId]=g.appId,e.options.measurementId&&g.measurementId!==e.options.measurementId&&je.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>je.error(g)),t.push(l);const c=J9().then(g=>{if(g)return i.getId()}),[h,f]=await Promise.all([l,c]);F9(r)||L9(r,h.measurementId),s("js",new Date);const d=(o=a==null?void 0:a.config)!==null&&o!==void 0?o:{};return d[D9]="firebase",d.update=!0,f!=null&&(d[C9]=f),s("config",h.measurementId,d),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(t){this.app=t}_delete(){return delete pl[this.app.options.appId],Promise.resolve()}}let pl={},WE=[];const QE={};let Sm="dataLayer",n5="gtag",XE,x2,ZE=!1;function i5(){const e=[];if(k1()&&e.push("This is a browser extension environment."),Bk()||e.push("Cookies are not available."),e.length>0){const t=e.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=Je.create("invalid-analytics-context",{errorInfo:t});je.warn(n.message)}}function s5(e,t,n){i5();const i=e.options.appId;if(!i)throw Je.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)je.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Je.create("no-api-key");if(pl[i]!=null)throw Je.create("already-exists",{id:i});if(!ZE){V9(Sm);const{wrappedGtag:r,gtagCore:a}=B9(pl,WE,QE,Sm,n5);x2=r,XE=a,ZE=!0}return pl[i]=t5(e,WE,QE,t,XE,Sm,n),new e5(e)}function r5(e=Cy()){e=le(e);const t=Ar(e,rf);return t.isInitialized()?t.getImmediate():a5(e)}function a5(e,t={}){const n=Ar(e,rf);if(n.isInitialized()){const s=n.getImmediate();if(Rs(t,n.getOptions()))return s;throw Je.create("already-initialized")}return n.initialize({options:t})}function o5(e,t,n,i){e=le(e),Z9(x2,pl[e.app.options.appId],t,n,i).catch(s=>je.error(s))}const JE="@firebase/analytics",tT="0.10.16";function l5(){Yn(new An(rf,(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return s5(i,s,n)},"PUBLIC")),Yn(new An("analytics-internal",e,"PRIVATE")),fn(JE,tT),fn(JE,tT,"esm2017");function e(t){try{const n=t.getProvider(rf).getImmediate();return{logEvent:(i,s,r)=>o5(n,i,s,r)}}catch(n){throw Je.create("interop-component-reg-failed",{reason:n})}}}l5();const c5={apiKey:"AIzaSyCWsB6mRj87OxhBzjmPYO3VziOkzEKeOac",authDomain:"admin-jetel.firebaseapp.com",projectId:"admin-jetel",storageBucket:"admin-jetel.appspot.com",messagingSenderId:"192204818240",appId:"1:192204818240:web:112f7b656bc27048b71ca5",measurementId:"G-X3BWNPE09E"},Yl=j1(c5),S2=up(Yl),S_=rV(Yl);typeof window<"u"&&r5(Yl);const u5={"Muito Satisfeito":"",Satisfeito:"",Regular:"",Ruim:""},h5={"Muito Satisfeito":"bg-green-500 border-green-700 hover:bg-green-600 text-white",Satisfeito:"bg-yellow-400 border-yellow-600 hover:bg-yellow-500 text-white",Regular:"bg-orange-500 border-orange-700 hover:bg-orange-600 text-white",Ruim:"bg-red-600 border-red-800 hover:bg-red-700 text-white"},f5={"Muito Satisfeito":"ring-green-700",Satisfeito:"ring-yellow-600",Regular:"ring-orange-700",Ruim:"ring-red-800"},mu=[{name:"recepcao",label:"Atendimento da Recepo",type:"radio",options:["Muito Satisfeito","Satisfeito","Regular","Ruim"]},{name:"triagem",label:"Atendimento da Triagem",type:"radio",options:["Muito Satisfeito","Satisfeito","Regular","Ruim"]},{name:"medico",label:"Atendimento Mdico",type:"radio",options:["Muito Satisfeito","Satisfeito","Regular","Ruim"]},{name:"orientacao",label:"Orientaes e esclarecimentos do mdico",type:"radio",options:["Muito Satisfeito","Satisfeito","Regular","Ruim"]},{name:"limpeza",label:"Higienizao/Limpeza do ambiente",type:"radio",options:["Muito Satisfeito","Satisfeito","Regular","Ruim"]},{name:"equipe",label:"Atendimento da equipe de Tcnicos e Enfermeiros",type:"radio",options:["Muito Satisfeito","Satisfeito","Regular","Ruim"]},{name:"sugestao",label:"Deseja deixar alguma SUGESTO, ELOGIO ou CRTICA?",type:"textarea",placeholder:"Sua resposta"},{name:"destaque",label:"Deseja destacar algum colaborador? Por qu?",type:"textarea",placeholder:"Sua resposta"},{name:"contato",label:"Gostaria de deixar seu contato?",type:"text",placeholder:"Seu telefone, e-mail ou WhatsApp (opcional)"},{name:"data",label:"Data em que voc foi atendido.",type:"date",placeholder:"dd/mm/aaaa"}];function d5(){const e=xr(),[t,n]=P.useState({recepcao:"",triagem:"",medico:"",orientacao:"",limpeza:"",equipe:"",sugestao:"",destaque:"",contato:"",data:""}),[i,s]=P.useState(0),[r,a]=P.useState(""),[o,l]=P.useState(""),[c,h]=P.useState(""),[f,d]=P.useState(!1),g=C=>{n({...t,[C.target.name]:C.target.value}),a(C.target.value),setTimeout(()=>a(""),400)},v=()=>s(C=>C+1),E=()=>s(C=>C-1),x=()=>{for(const C of mu)if((C.type==="radio"||C.type==="date")&&!t[C.name])return!1;return!0},_=async C=>{if(C.preventDefault(),h(""),l(""),!x()){h("Por favor, preencha todas as perguntas obrigatrias antes de enviar.");return}if(!f){d(!0);return}try{await wV(Jy(S_,"surveys"),{...t,timestamp:Xt.now()}),l("Pesquisa enviada! Obrigado pela sua participao."),setTimeout(()=>e("/"),2e3),n({recepcao:"",triagem:"",medico:"",orientacao:"",limpeza:"",equipe:"",sugestao:"",destaque:"",contato:"",data:""}),s(0),d(!1)}catch(L){h("Erro ao enviar pesquisa: "+(L.message||"Tente novamente.")),d(!1)}},y=()=>d(!1),T=mu[i],M=t[T.name];return A.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-200 via-green-100 to-green-200 flex items-center justify-center py-4 px-2",children:[A.jsxs("div",{className:"w-full max-w-md bg-white rounded-3xl shadow-2xl p-6 sm:p-8 border-2 border-blue-200 flex flex-col items-center",children:[A.jsx("button",{className:"mb-6 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded-lg text-blue-700 font-semibold transition self-start",onClick:()=>e("/"),children:" Voltar"}),A.jsxs("div",{className:"flex flex-col items-center mb-8 w-full",children:[A.jsx("img",{src:Lh,alt:"Logo Jetel Mendes",className:"h-20 sm:h-24 mb-3 drop-shadow-xl animate-bounce-slow"}),A.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-blue-800 mb-1 text-center drop-shadow",children:"Pesquisa de Satisfao"}),A.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-green-700 mb-2 text-center",children:"PA Jetel Mendes"}),A.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-blue-400 to-green-400 rounded-full mb-2"})]}),o?A.jsx("div",{className:"flex flex-col items-center justify-center h-64 w-full",children:A.jsx("div",{className:"text-green-700 bg-green-50 border border-green-200 rounded p-4 text-center font-semibold text-lg shadow-lg",children:o})}):A.jsxs("form",{className:"flex flex-col gap-6 w-full",onSubmit:_,children:[A.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 shadow-md border border-blue-100 flex flex-col items-center",children:[A.jsxs("label",{className:"font-bold text-blue-900 block mb-4 text-xl text-center",children:[T.label,(T.type==="radio"||T.type==="date")&&A.jsx("span",{className:"text-red-600",children:"*"})]}),T.type==="radio"&&A.jsx("div",{className:"flex flex-row justify-center gap-2 sm:gap-4 w-full",children:T.options.map(C=>A.jsxs("label",{className:`flex flex-col items-center gap-2 font-bold cursor-pointer transition
                        rounded-xl px-2 py-2 w-1/4 border-2
                        ${h5[C]}
                        ${M===C||r===C?"scale-105 shadow-lg ring-2 "+f5[C]+" animate-bounce-slow":""}
                      `,style:{transition:"all 0.2s"},children:[A.jsx("input",{type:"radio",name:T.name,value:C,checked:t[T.name]===C,onChange:g,required:!0,className:"accent-blue-600 w-5 h-5",style:{display:"none"}}),A.jsx("span",{className:`text-4xl select-none transition-colors duration-200 ${M===C?"text-white":""}`,children:u5[C]}),A.jsx("span",{className:"text-xs sm:text-sm text-center",children:C})]},C))}),T.type==="textarea"&&A.jsx("textarea",{name:T.name,value:t[T.name],onChange:g,className:"border border-blue-200 rounded-lg px-4 py-3 w-full mt-2 focus:ring-2 focus:ring-blue-200 resize-none text-base",rows:3,placeholder:T.placeholder,maxLength:300}),T.type==="date"&&A.jsx("input",{type:"date",name:T.name,value:t[T.name],onChange:g,className:"border border-blue-200 rounded-lg px-4 py-3 mt-2 w-full focus:ring-2 focus:ring-blue-200 text-base",placeholder:T.placeholder,required:!0}),T.type==="text"&&A.jsx("input",{type:"text",name:T.name,value:t[T.name],onChange:g,className:"border border-blue-200 rounded-lg px-4 py-3 mt-2 w-full focus:ring-2 focus:ring-blue-200 text-base",placeholder:T.placeholder,maxLength:100})]}),A.jsxs("div",{className:"flex justify-between mt-4 w-full",children:[i>0&&A.jsx("button",{type:"button",className:"bg-blue-100 hover:bg-blue-200 text-blue-700 font-semibold py-2 px-6 rounded-lg shadow transition",onClick:E,children:"Voltar"}),i<mu.length-1?A.jsx("button",{type:"button",className:"bg-gradient-to-r from-green-400 to-blue-500 hover:from-green-500 hover:to-blue-600 text-white font-bold py-2 px-8 rounded-xl shadow-lg transition ml-auto",onClick:v,disabled:T.type==="radio"||T.type==="date"?!t[T.name]:!1,children:"Prxima"}):A.jsx("button",{type:"submit",className:"bg-gradient-to-r from-green-400 to-blue-500 hover:from-green-500 hover:to-blue-600 text-white font-bold py-2 px-8 rounded-xl shadow-lg transition ml-auto",disabled:!x(),children:"Enviar"})]}),A.jsx("div",{className:"flex justify-center mt-4",children:A.jsxs("div",{className:"relative inline-block px-6 py-2 rounded-full bg-gradient-to-r from-blue-400 to-green-400 shadow-lg text-white font-extrabold text-lg tracking-widest animate-pagePulse border-4 border-white",children:["Pergunta ",i+1," de ",mu.length,A.jsx("span",{className:"absolute top-0 left-0 w-full h-full rounded-full pointer-events-none border-2 border-blue-300 animate-pulsePage"})]})}),c&&A.jsx("div",{className:"text-red-700 bg-red-50 border border-red-200 rounded p-2 text-center font-semibold",children:c})]}),f&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 max-w-xs w-full flex flex-col items-center",children:[A.jsx("h3",{className:"text-lg font-bold mb-4 text-blue-800",children:"Deseja enviar suas respostas?"}),A.jsxs("div",{className:"flex gap-4 mt-2",children:[A.jsx("button",{className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded font-semibold",onClick:async()=>{d(!1),await _({preventDefault:()=>{}})},children:"Enviar"}),A.jsx("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded font-semibold",onClick:y,children:"Cancelar"})]})]})})]}),A.jsx("style",{children:`
          .animate-bounce-slow {
            animation: bounce 2.5s infinite;
          }
          @keyframes bounce {
            0%, 100% { transform: translateY(0);}
            50% { transform: translateY(-10px);}
          }
          .animate-pagePulse {
            animation: pagePulse 1.5s infinite alternate;
          }
          @keyframes pagePulse {
            0% { box-shadow: 0 0 0 0 rgba(34,197,94,0.3), 0 0 0 0 rgba(59,130,246,0.3);}
            100% { box-shadow: 0 0 0 8px rgba(34,197,94,0), 0 0 0 16px rgba(59,130,246,0);}
          }
          .animate-pulsePage {
            animation: pulsePage 1.5s infinite alternate;
          }
          @keyframes pulsePage {
            0% { opacity: 0.5; }
            100% { opacity: 0; }
          }
          @media (max-width: 640px) {
            .w-1\\/4 { width: 23% !important; min-width: 70px; }
            .flex-row { flex-direction: row !important; }
            .p-6 { padding: 1rem !important; }
            .sm\\:p-8 { padding: 1.5rem !important; }
          }
        `})]})}function m5(){const e=xr(),[t,n]=P.useState(""),[i,s]=P.useState(""),[r,a]=P.useState(""),[o,l]=P.useState(""),[c,h]=P.useState(""),[f,d]=P.useState(""),[g,v]=P.useState(""),[E,x]=P.useState(!1),[_,y]=P.useState(""),T=async C=>{C.preventDefault(),v(""),d(""),h("");const L=up(Yl);try{if(!(await R6(L,t,i)).user.emailVerified){v("Confirme seu e-mail pelo link enviado antes de acessar o painel.");return}e("/admin/dashboard")}catch(S){S.code==="auth/user-not-found"?(y(t),v("E-mail no cadastrado. Deseja cadastrar este e-mail como administrador?")):S.code==="auth/wrong-password"?v("Senha incorreta."):S.code==="auth/too-many-requests"?v("Muitas tentativas. Tente novamente mais tarde."):v("E-mail ou senha invlidos.")}},M=async C=>{C.preventDefault(),h(""),d("");const L=up(Yl);try{const S=await A6(L,r,o);await I6(S.user),d("Administrador cadastrado! Verifique seu e-mail e confirme pelo link enviado antes de fazer login."),x(!1),y("")}catch(S){h("Erro ao cadastrar: "+(S.message||""))}};return E?A.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center px-4",children:A.jsxs("form",{onSubmit:M,className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-8 border border-blue-100 flex flex-col gap-4",children:[A.jsx("button",{className:"self-start mb-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded-lg text-blue-700 font-semibold transition",type:"button",onClick:()=>x(!1),children:" Voltar"}),A.jsx("img",{src:Lh,alt:"Logo Jetel Mendes",className:"h-16 mb-2 drop-shadow-lg mx-auto"}),A.jsx("h2",{className:"text-xl font-bold text-blue-800 text-center mb-2",children:"Cadastrar Administrador"}),A.jsx("input",{type:"email",placeholder:"E-mail",value:r,onChange:C=>a(C.target.value),required:!0,className:"border border-blue-200 rounded px-3 py-2 focus:ring-2 focus:ring-blue-200"}),A.jsx("input",{type:"password",placeholder:"Senha",value:o,onChange:C=>l(C.target.value),required:!0,className:"border border-blue-200 rounded px-3 py-2 focus:ring-2 focus:ring-blue-200"}),A.jsx("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg shadow transition text-lg",children:"Cadastrar"}),c&&A.jsx("p",{className:"text-red-600 text-center",children:c}),f&&A.jsx("p",{className:"text-green-600 text-center",children:f})]})}):A.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center px-4",children:A.jsxs("form",{onSubmit:T,className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-8 border border-blue-100 flex flex-col gap-4",children:[A.jsx("button",{className:"self-start mb-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded-lg text-blue-700 font-semibold transition",type:"button",onClick:()=>e("/"),children:" Voltar"}),A.jsx("img",{src:Lh,alt:"Logo Jetel Mendes",className:"h-16 mb-2 drop-shadow-lg mx-auto"}),A.jsx("h2",{className:"text-xl font-bold text-blue-800 text-center mb-2",children:"Login do Administrador"}),A.jsx("input",{type:"email",placeholder:"E-mail",value:t,onChange:C=>n(C.target.value),required:!0,className:"border border-blue-200 rounded px-3 py-2 focus:ring-2 focus:ring-blue-200"}),A.jsx("input",{type:"password",placeholder:"Senha",value:i,onChange:C=>s(C.target.value),required:!0,className:"border border-blue-200 rounded px-3 py-2 focus:ring-2 focus:ring-blue-200"}),A.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg shadow transition text-lg",children:"Entrar"}),g&&A.jsx("p",{className:"text-red-600 text-center",children:g}),_&&A.jsx("button",{type:"button",className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg shadow transition text-lg mt-2",onClick:()=>{x(!0),a(_)},children:"Cadastrar este e-mail como Administrador"})]})})}const g5=async()=>{try{return await M6(S2),{success:!0}}catch(e){return console.error("Error signing out:",e),{success:!1,error:e.message}}},p5=e=>O6(S2,e),af=({children:e,title:t})=>{const n=xr(),i=ki(),s=async()=>{try{await g5(),n("/admin/login")}catch(a){console.error("Error logging out:",a)}},r=[{path:"/admin/dashboard",label:"Dashboard",icon:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"},{path:"/admin/reports",label:"Relatrios",icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"}];return A.jsxs("div",{className:"min-h-screen bg-gray-50",children:[A.jsx("header",{className:"bg-white shadow",children:A.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:A.jsxs("div",{className:"flex justify-between items-center py-6",children:[A.jsxs("div",{className:"flex items-center space-x-4",children:[A.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:A.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z"})})}),A.jsxs("div",{children:[A.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"JETEL MENDES"}),A.jsx("p",{className:"text-sm text-gray-600",children:"Painel Administrativo"})]})]}),A.jsxs("div",{className:"flex items-center space-x-4",children:[A.jsx("span",{className:"text-sm text-gray-700",children:"Administrador"}),A.jsx("button",{onClick:s,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Sair"})]})]})})}),A.jsx("nav",{className:"bg-white border-b border-gray-200",children:A.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:A.jsx("div",{className:"flex space-x-8",children:r.map(a=>A.jsxs("button",{onClick:()=>n(a.path),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${i.pathname===a.path?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[A.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:a.icon})}),A.jsx("span",{children:a.label})]},a.path))})})}),A.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:A.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[t&&A.jsx("div",{className:"mb-6",children:A.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t})}),e]})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Sc(e){return e+.5|0}const rs=(e,t,n)=>Math.max(Math.min(e,n),t);function Go(e){return rs(Sc(e*2.55),0,255)}function Es(e){return rs(Sc(e*255),0,255)}function ci(e){return rs(Sc(e/2.55)/100,0,1)}function eT(e){return rs(Sc(e*100),0,100)}const en={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},fp=[..."0123456789ABCDEF"],y5=e=>fp[e&15],_5=e=>fp[(e&240)>>4]+fp[e&15],gu=e=>(e&240)>>4===(e&15),v5=e=>gu(e.r)&&gu(e.g)&&gu(e.b)&&gu(e.a);function b5(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&en[e[1]]*17,g:255&en[e[2]]*17,b:255&en[e[3]]*17,a:t===5?en[e[4]]*17:255}:(t===7||t===9)&&(n={r:en[e[1]]<<4|en[e[2]],g:en[e[3]]<<4|en[e[4]],b:en[e[5]]<<4|en[e[6]],a:t===9?en[e[7]]<<4|en[e[8]]:255})),n}const E5=(e,t)=>e<255?t(e):"";function T5(e){var t=v5(e)?y5:_5;return e?"#"+t(e.r)+t(e.g)+t(e.b)+E5(e.a,t):void 0}const w5=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function A2(e,t,n){const i=t*Math.min(n,1-n),s=(r,a=(r+e/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function x5(e,t,n){const i=(s,r=(s+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function S5(e,t,n){const i=A2(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function A5(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function A_(e){const n=e.r/255,i=e.g/255,s=e.b/255,r=Math.max(n,i,s),a=Math.min(n,i,s),o=(r+a)/2;let l,c,h;return r!==a&&(h=r-a,c=o>.5?h/(2-r-a):h/(r+a),l=A5(n,i,s,h,r),l=l*60+.5),[l|0,c||0,o]}function R_(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(Es)}function I_(e,t,n){return R_(A2,e,t,n)}function R5(e,t,n){return R_(S5,e,t,n)}function I5(e,t,n){return R_(x5,e,t,n)}function R2(e){return(e%360+360)%360}function C5(e){const t=w5.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Go(+t[5]):Es(+t[5]));const s=R2(+t[2]),r=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?i=R5(s,r,a):t[1]==="hsv"?i=I5(s,r,a):i=I_(s,r,a),{r:i[0],g:i[1],b:i[2],a:n}}function D5(e,t){var n=A_(e);n[0]=R2(n[0]+t),n=I_(n),e.r=n[0],e.g=n[1],e.b=n[2]}function O5(e){if(!e)return;const t=A_(e),n=t[0],i=eT(t[1]),s=eT(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${ci(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const nT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},iT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function M5(){const e={},t=Object.keys(iT),n=Object.keys(nT);let i,s,r,a,o;for(i=0;i<t.length;i++){for(a=o=t[i],s=0;s<n.length;s++)r=n[s],o=o.replace(r,nT[r]);r=parseInt(iT[a],16),e[o]=[r>>16&255,r>>8&255,r&255]}return e}let pu;function k5(e){pu||(pu=M5(),pu.transparent=[0,0,0,0]);const t=pu[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const N5=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function P5(e){const t=N5.exec(e);let n=255,i,s,r;if(t){if(t[7]!==i){const a=+t[7];n=t[8]?Go(a):rs(a*255,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?Go(i):rs(i,0,255)),s=255&(t[4]?Go(s):rs(s,0,255)),r=255&(t[6]?Go(r):rs(r,0,255)),{r:i,g:s,b:r,a:n}}}function L5(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ci(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Am=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,jr=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function V5(e,t,n){const i=jr(ci(e.r)),s=jr(ci(e.g)),r=jr(ci(e.b));return{r:Es(Am(i+n*(jr(ci(t.r))-i))),g:Es(Am(s+n*(jr(ci(t.g))-s))),b:Es(Am(r+n*(jr(ci(t.b))-r))),a:e.a+n*(t.a-e.a)}}function yu(e,t,n){if(e){let i=A_(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=I_(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function I2(e,t){return e&&Object.assign(t||{},e)}function sT(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Es(e[3]))):(t=I2(e,{r:0,g:0,b:0,a:1}),t.a=Es(t.a)),t}function U5(e){return e.charAt(0)==="r"?P5(e):C5(e)}class Kl{constructor(t){if(t instanceof Kl)return t;const n=typeof t;let i;n==="object"?i=sT(t):n==="string"&&(i=b5(t)||k5(t)||U5(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=I2(this._rgb);return t&&(t.a=ci(t.a)),t}set rgb(t){this._rgb=sT(t)}rgbString(){return this._valid?L5(this._rgb):void 0}hexString(){return this._valid?T5(this._rgb):void 0}hslString(){return this._valid?O5(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let r;const a=n===r?.5:n,o=2*a-1,l=i.a-s.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=a*i.a+(1-a)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=V5(this._rgb,t._rgb,n)),this}clone(){return new Kl(this.rgb)}alpha(t){return this._rgb.a=Es(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Sc(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return yu(this._rgb,2,t),this}darken(t){return yu(this._rgb,2,-t),this}saturate(t){return yu(this._rgb,1,t),this}desaturate(t){return yu(this._rgb,1,-t),this}rotate(t){return D5(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function si(){}const j5=(()=>{let e=0;return()=>e++})();function St(e){return e==null}function re(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ut(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function pn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Nn(e,t){return pn(e)?e:t}function _t(e,t){return typeof e>"u"?t:e}const z5=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ct(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function yt(e,t,n,i){let s,r,a;if(re(e))for(r=e.length,s=0;s<r;s++)t.call(n,e[s],s);else if(ut(e))for(a=Object.keys(e),r=a.length,s=0;s<r;s++)t.call(n,e[a[s]],a[s])}function of(e,t){let n,i,s,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],r=t[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function lf(e){if(re(e))return e.map(lf);if(ut(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=lf(e[n[s]]);return t}return e}function C2(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function B5(e,t,n,i){if(!C2(e))return;const s=t[e],r=n[e];ut(s)&&ut(r)?Wl(s,r,i):t[e]=lf(r)}function Wl(e,t,n){const i=re(t)?t:[t],s=i.length;if(!ut(e))return e;n=n||{};const r=n.merger||B5;let a;for(let o=0;o<s;++o){if(a=i[o],!ut(a))continue;const l=Object.keys(a);for(let c=0,h=l.length;c<h;++c)r(l[c],e,a,n)}return e}function yl(e,t){return Wl(e,t,{merger:F5})}function F5(e,t,n){if(!C2(e))return;const i=t[e],s=n[e];ut(i)&&ut(s)?yl(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=lf(s))}const rT={"":e=>e,x:e=>e.x,y:e=>e.y};function H5(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function q5(e){const t=H5(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function za(e,t){return(rT[t]||(rT[t]=q5(t)))(e)}function C_(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Ql=e=>typeof e<"u",Ns=e=>typeof e=="function",aT=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function G5(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const ze=Math.PI,Ts=2*ze,cf=Number.POSITIVE_INFINITY,$5=ze/180,Tn=ze/2,Fs=ze/4,oT=ze*2/3,D2=Math.log10,ws=Math.sign;function Ju(e,t,n){return Math.abs(e-t)<n}function lT(e){const t=Math.round(e);e=Ju(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(D2(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Y5(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,r)=>s-r).pop(),t}function K5(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function uf(e){return!K5(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function W5(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Q5(e,t,n){let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Js(e){return e*(ze/180)}function X5(e){return e*(180/ze)}function cT(e){if(!pn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Z5(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*ze&&(r+=Ts),{angle:r,distance:s}}function J5(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Hs(e){return(e%Ts+Ts)%Ts}function tU(e,t,n,i){const s=Hs(e),r=Hs(t),a=Hs(n),o=Hs(r-s),l=Hs(a-s),c=Hs(s-r),h=Hs(s-a);return s===r||s===a||i||o>l&&c<h}function wn(e,t,n){return Math.max(t,Math.min(n,e))}function eU(e){return wn(e,-32768,32767)}function oa(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function D_(e,t,n){n=n||(a=>e[a]<t);let i=e.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const dp=(e,t,n,i)=>D_(e,n,i?s=>{const r=e[s][t];return r<n||r===n&&e[s+1][t]===n}:s=>e[s][t]<n),nU=(e,t,n)=>D_(e,n,i=>e[i][t]>=n);function iU(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const O2=["push","pop","shift","splice","unshift"];function sU(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),O2.forEach(n=>{const i="_onData"+C_(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const a=s.apply(this,r);return e._chartjs.listeners.forEach(o=>{typeof o[i]=="function"&&o[i](...r)}),a}})})}function uT(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(O2.forEach(r=>{delete e[r]}),delete e._chartjs)}function M2(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const k2=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function N2(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,k2.call(window,()=>{i=!1,e.apply(t,n)}))}}function rU(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const P2=e=>e==="start"?"left":e==="end"?"right":"center",$e=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,aU=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t,_u=e=>e===0||e===1,hT=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ts/n)),fT=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ts/n)+1,_l={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Tn)+1,easeOutSine:e=>Math.sin(e*Tn),easeInOutSine:e=>-.5*(Math.cos(ze*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>_u(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>_u(e)?e:hT(e,.075,.3),easeOutElastic:e=>_u(e)?e:fT(e,.075,.3),easeInOutElastic(e){return _u(e)?e:e<.5?.5*hT(e*2,.1125,.45):.5+.5*fT(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-_l.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?_l.easeInBounce(e*2)*.5:_l.easeOutBounce(e*2-1)*.5+.5};function L2(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function dT(e){return L2(e)?e:new Kl(e)}function Rm(e){return L2(e)?e:new Kl(e).saturate(.5).darken(.1).hexString()}const oU=["x","y","borderWidth","radius","tension"],lU=["color","borderColor","backgroundColor"];function cU(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:lU},numbers:{type:"number",properties:oU}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function uU(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const mT=new Map;function hU(e,t){t=t||{};const n=e+JSON.stringify(t);let i=mT.get(n);return i||(i=new Intl.NumberFormat(e,t),mT.set(n,i)),i}function V2(e,t,n){return hU(t,n).format(e)}const fU={values(e){return re(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,r=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=dU(e,n)}const a=D2(Math.abs(r)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),V2(e,i,l)}};function dU(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var U2={formatters:fU};function mU(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:U2.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const _r=Object.create(null),mp=Object.create(null);function vl(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];e=e[r]||(e[r]=Object.create(null))}return e}function Im(e,t,n){return typeof t=="string"?Wl(vl(e,t),n):Wl(vl(e,""),t)}class gU{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Rm(s.backgroundColor),this.hoverBorderColor=(i,s)=>Rm(s.borderColor),this.hoverColor=(i,s)=>Rm(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Im(this,t,n)}get(t){return vl(this,t)}describe(t,n){return Im(mp,t,n)}override(t,n){return Im(_r,t,n)}route(t,n,i,s){const r=vl(this,t),a=vl(this,i),o="_"+n;Object.defineProperties(r,{[o]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],c=a[s];return ut(l)?Object.assign({},c,l):_t(l,c)},set(l){this[o]=l}}})}apply(t){t.forEach(n=>n(this))}}var Gt=new gU({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[cU,uU,mU]);function pU(e){return!e||St(e.size)||St(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function gT(e,t,n,i,s){let r=t[s];return r||(r=t[s]=e.measureText(s).width,n.push(s)),r>i&&(i=r),i}function qs(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function pT(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function yT(e,t,n,i){j2(e,t,n,i,null)}function j2(e,t,n,i,s){let r,a,o,l,c,h,f,d;const g=t.pointStyle,v=t.rotation,E=t.radius;let x=(v||0)*$5;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(x),e.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),e.restore();return}if(!(isNaN(E)||E<=0)){switch(e.beginPath(),g){default:s?e.ellipse(n,i,s/2,E,0,0,Ts):e.arc(n,i,E,0,Ts),e.closePath();break;case"triangle":h=s?s/2:E,e.moveTo(n+Math.sin(x)*h,i-Math.cos(x)*E),x+=oT,e.lineTo(n+Math.sin(x)*h,i-Math.cos(x)*E),x+=oT,e.lineTo(n+Math.sin(x)*h,i-Math.cos(x)*E),e.closePath();break;case"rectRounded":c=E*.516,l=E-c,a=Math.cos(x+Fs)*l,f=Math.cos(x+Fs)*(s?s/2-c:l),o=Math.sin(x+Fs)*l,d=Math.sin(x+Fs)*(s?s/2-c:l),e.arc(n-f,i-o,c,x-ze,x-Tn),e.arc(n+d,i-a,c,x-Tn,x),e.arc(n+f,i+o,c,x,x+Tn),e.arc(n-d,i+a,c,x+Tn,x+ze),e.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*E,h=s?s/2:l,e.rect(n-h,i-l,2*h,2*l);break}x+=Fs;case"rectRot":f=Math.cos(x)*(s?s/2:E),a=Math.cos(x)*E,o=Math.sin(x)*E,d=Math.sin(x)*(s?s/2:E),e.moveTo(n-f,i-o),e.lineTo(n+d,i-a),e.lineTo(n+f,i+o),e.lineTo(n-d,i+a),e.closePath();break;case"crossRot":x+=Fs;case"cross":f=Math.cos(x)*(s?s/2:E),a=Math.cos(x)*E,o=Math.sin(x)*E,d=Math.sin(x)*(s?s/2:E),e.moveTo(n-f,i-o),e.lineTo(n+f,i+o),e.moveTo(n+d,i-a),e.lineTo(n-d,i+a);break;case"star":f=Math.cos(x)*(s?s/2:E),a=Math.cos(x)*E,o=Math.sin(x)*E,d=Math.sin(x)*(s?s/2:E),e.moveTo(n-f,i-o),e.lineTo(n+f,i+o),e.moveTo(n+d,i-a),e.lineTo(n-d,i+a),x+=Fs,f=Math.cos(x)*(s?s/2:E),a=Math.cos(x)*E,o=Math.sin(x)*E,d=Math.sin(x)*(s?s/2:E),e.moveTo(n-f,i-o),e.lineTo(n+f,i+o),e.moveTo(n+d,i-a),e.lineTo(n-d,i+a);break;case"line":a=s?s/2:Math.cos(x)*E,o=Math.sin(x)*E,e.moveTo(n-a,i-o),e.lineTo(n+a,i+o);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(x)*(s?s/2:E),i+Math.sin(x)*E);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function z2(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function O_(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function M_(e){e.restore()}function yU(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),St(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function _U(e,t,n,i,s){if(s.strikethrough||s.underline){const r=e.measureText(i),a=t-r.actualBoundingBoxLeft,o=t+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,h=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(a,h),e.lineTo(o,h),e.stroke()}}function vU(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function hf(e,t,n,i,s,r={}){const a=re(t)?t:[t],o=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(e.save(),e.font=s.string,yU(e,r),l=0;l<a.length;++l)c=a[l],r.backdrop&&vU(e,r.backdrop),o&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),St(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,n,i,r.maxWidth)),e.fillText(c,n,i,r.maxWidth),_U(e,n,i,c,r),i+=Number(s.lineHeight);e.restore()}function ff(e,t){const{x:n,y:i,w:s,h:r,radius:a}=t;e.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*ze,ze,!0),e.lineTo(n,i+r-a.bottomLeft),e.arc(n+a.bottomLeft,i+r-a.bottomLeft,a.bottomLeft,ze,Tn,!0),e.lineTo(n+s-a.bottomRight,i+r),e.arc(n+s-a.bottomRight,i+r-a.bottomRight,a.bottomRight,Tn,0,!0),e.lineTo(n+s,i+a.topRight),e.arc(n+s-a.topRight,i+a.topRight,a.topRight,0,-Tn,!0),e.lineTo(n+a.topLeft,i)}const bU=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,EU=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function TU(e,t){const n=(""+e).match(bU);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const wU=e=>+e||0;function B2(e,t){const n={},i=ut(t),s=i?Object.keys(t):t,r=ut(e)?i?a=>_t(e[a],e[t[a]]):a=>e[a]:()=>e;for(const a of s)n[a]=wU(r(a));return n}function F2(e){return B2(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ba(e){return B2(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Cn(e){const t=F2(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ue(e,t){e=e||{},t=t||Gt.font;let n=_t(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=_t(e.style,t.style);i&&!(""+i).match(EU)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:_t(e.family,t.family),lineHeight:TU(_t(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:_t(e.weight,t.weight),string:""};return s.string=pU(s),s}function vu(e,t,n,i){let s,r,a;for(s=0,r=e.length;s<r;++s)if(a=e[s],a!==void 0&&a!==void 0)return a}function xU(e,t,n){const{min:i,max:s}=e,r=z5(t,(s-i)/2),a=(o,l)=>n&&o===0?0:o+l;return{min:a(i,-Math.abs(r)),max:a(s,r)}}function ao(e,t){return Object.assign(Object.create(e),t)}function k_(e,t=[""],n,i,s=()=>e[0]){const r=n||e;typeof i>"u"&&(i=$2("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:i,_getTarget:s,override:o=>k_([o,...e],t,r,i)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete e[0][l],!0},get(o,l){return q2(o,l,()=>MU(l,t,e,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(o,l){return vT(o).includes(l)},ownKeys(o){return vT(o)},set(o,l,c){const h=o._storage||(o._storage=s());return o[l]=h[l]=c,delete o._keys,!0}})}function Ba(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:H2(e,i),setContext:r=>Ba(e,r,n,i),override:r=>Ba(e.override(r),t,n,i)};return new Proxy(s,{deleteProperty(r,a){return delete r[a],delete e[a],!0},get(r,a,o){return q2(r,a,()=>AU(r,a,o))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,a){return Reflect.has(e,a)},ownKeys(){return Reflect.ownKeys(e)},set(r,a,o){return e[a]=o,delete r[a],!0}})}function H2(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Ns(n)?n:()=>n,isIndexable:Ns(i)?i:()=>i}}const SU=(e,t)=>e?e+C_(t):t,N_=(e,t)=>ut(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function q2(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function AU(e,t,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:a}=e;let o=i[t];return Ns(o)&&a.isScriptable(t)&&(o=RU(t,o,e,n)),re(o)&&o.length&&(o=IU(t,o,e,a.isIndexable)),N_(t,o)&&(o=Ba(o,s,r&&r[t],a)),o}function RU(e,t,n,i){const{_proxy:s,_context:r,_subProxy:a,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(r,a||i);return o.delete(e),N_(e,l)&&(l=P_(s._scopes,s,e,l)),l}function IU(e,t,n,i){const{_proxy:s,_context:r,_subProxy:a,_descriptors:o}=n;if(typeof r.index<"u"&&i(e))return t[r.index%t.length];if(ut(t[0])){const l=t,c=s._scopes.filter(h=>h!==l);t=[];for(const h of l){const f=P_(c,s,e,h);t.push(Ba(f,r,a&&a[e],o))}}return t}function G2(e,t,n){return Ns(e)?e(t,n):e}const CU=(e,t)=>e===!0?t:typeof e=="string"?za(t,e):void 0;function DU(e,t,n,i,s){for(const r of t){const a=CU(n,r);if(a){e.add(a);const o=G2(a._fallback,n,s);if(typeof o<"u"&&o!==n&&o!==i)return o}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function P_(e,t,n,i){const s=t._rootScopes,r=G2(t._fallback,n,i),a=[...e,...s],o=new Set;o.add(i);let l=_T(o,a,n,r||n,i);return l===null||typeof r<"u"&&r!==n&&(l=_T(o,a,r,l,i),l===null)?!1:k_(Array.from(o),[""],s,r,()=>OU(t,n,i))}function _T(e,t,n,i,s){for(;n;)n=DU(e,t,n,i,s);return n}function OU(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return re(s)&&ut(n)?n:s||{}}function MU(e,t,n,i){let s;for(const r of t)if(s=$2(SU(r,e),n),typeof s<"u")return N_(e,s)?P_(n,i,e,s):s}function $2(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function vT(e){let t=e._keys;return t||(t=e._keys=kU(e._scopes)),t}function kU(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function L_(){return typeof window<"u"&&typeof document<"u"}function V_(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function df(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const nd=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function NU(e,t){return nd(e).getPropertyValue(t)}const PU=["top","right","bottom","left"];function or(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=PU[s];i[r]=parseFloat(e[t+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const LU=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function VU(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:r}=i;let a=!1,o,l;if(LU(s,r,e.target))o=s,l=r;else{const c=t.getBoundingClientRect();o=i.clientX-c.left,l=i.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function Qs(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=nd(n),r=s.boxSizing==="border-box",a=or(s,"padding"),o=or(s,"border","width"),{x:l,y:c,box:h}=VU(e,n),f=a.left+(h&&o.left),d=a.top+(h&&o.top);let{width:g,height:v}=t;return r&&(g-=a.width+o.width,v-=a.height+o.height),{x:Math.round((l-f)/g*n.width/i),y:Math.round((c-d)/v*n.height/i)}}function UU(e,t,n){let i,s;if(t===void 0||n===void 0){const r=e&&V_(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const a=r.getBoundingClientRect(),o=nd(r),l=or(o,"border","width"),c=or(o,"padding");t=a.width-c.width-l.width,n=a.height-c.height-l.height,i=df(o.maxWidth,r,"clientWidth"),s=df(o.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:i||cf,maxHeight:s||cf}}const bu=e=>Math.round(e*10)/10;function jU(e,t,n,i){const s=nd(e),r=or(s,"margin"),a=df(s.maxWidth,e,"clientWidth")||cf,o=df(s.maxHeight,e,"clientHeight")||cf,l=UU(e,t,n);let{width:c,height:h}=l;if(s.boxSizing==="content-box"){const d=or(s,"border","width"),g=or(s,"padding");c-=g.width+d.width,h-=g.height+d.height}return c=Math.max(0,c-r.width),h=Math.max(0,i?c/i:h-r.height),c=bu(Math.min(c,a,l.maxWidth)),h=bu(Math.min(h,o,l.maxHeight)),c&&!h&&(h=bu(c/2)),(t!==void 0||n!==void 0)&&i&&l.height&&h>l.height&&(h=l.height,c=bu(Math.floor(h*i))),{width:c,height:h}}function bT(e,t,n){const i=t||1,s=Math.floor(e.height*i),r=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||a.height!==s||a.width!==r?(e.currentDevicePixelRatio=i,a.height=s,a.width=r,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const zU=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};L_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function ET(e,t){const n=NU(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const BU=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},FU=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Ea(e,t,n){return e?BU(t,n):FU()}function Y2(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function K2(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Eu(e,t,n){return e.options.clip?e[n]:t[n]}function HU(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:Eu(n,t,"left"),right:Eu(n,t,"right"),top:Eu(i,t,"top"),bottom:Eu(i,t,"bottom")}:t}function qU(e,t){const n=t._clip;if(n.disabled)return!1;const i=HU(t,e.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class GU{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const r=n.listeners[s],a=n.duration;r.forEach(o=>o({chart:t,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=k2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let a=r.length-1,o=!1,l;for(;a>=0;--a)l=r[a],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),o=!0):(r[a]=r[r.length-1],r.pop());o&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var oi=new GU;const TT="transparent",$U={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=dT(e||TT),s=i.valid&&dT(t||TT);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class YU{constructor(t,n,i,s){const r=n[i];s=vu([t.to,s,r,t.from]);const a=vu([t.from,r,s]);this._active=!0,this._fn=t.fn||$U[t.type||typeof a],this._easing=_l[t.easing]||_l.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,a=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=vu([t.to,n,s,t.from]),this._from=vu([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,r=this._from,a=this._loop,o=this._to;let l;if(this._active=r!==o&&(a||n<i),!this._active){this._target[s]=o,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,o,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class W2{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!ut(t))return;const n=Object.keys(Gt.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const r=t[s];if(!ut(r))return;const a={};for(const o of n)a[o]=r[o];(re(r.properties)&&r.properties||[s]).forEach(o=>{(o===s||!i.has(o))&&i.set(o,a)})})}_animateOptions(t,n){const i=n.options,s=WU(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&KU(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,n){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),a=Object.keys(n),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(t,n));continue}const h=n[c];let f=r[c];const d=i.get(c);if(f)if(d&&f.active()){f.update(d,h,o);continue}else f.cancel();if(!d||!d.duration){t[c]=h;continue}r[c]=f=new YU(d,t,c,h),s.push(f)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return oi.add(this._chart,i),!0}}function KU(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=e[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function WU(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function wT(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function QU(e,t,n){if(n===!1)return!1;const i=wT(e,n),s=wT(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function XU(e){let t,n,i,s;return ut(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function Q2(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function xT(e,t,n,i={}){const s=e.keys,r=i.mode==="single";let a,o,l,c;if(t===null)return;let h=!1;for(a=0,o=s.length;a<o;++a){if(l=+s[a],l===n){if(h=!0,i.all)continue;break}c=e.values[l],pn(c)&&(r||t===0||ws(t)===ws(c))&&(t+=c)}return!h&&!i.all?0:t}function ZU(e,t){const{iScale:n,vScale:i}=t,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",a=Object.keys(e),o=new Array(a.length);let l,c,h;for(l=0,c=a.length;l<c;++l)h=a[l],o[l]={[s]:h,[r]:e[h]};return o}function Cm(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function JU(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function tj(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function ej(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function ST(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=e[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function AT(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:r,vScale:a,index:o}=i,l=r.axis,c=a.axis,h=JU(r,a,i),f=t.length;let d;for(let g=0;g<f;++g){const v=t[g],{[l]:E,[c]:x}=v,_=v._stacks||(v._stacks={});d=_[c]=ej(s,h,E),d[o]=x,d._top=ST(d,a,!0,i.type),d._bottom=ST(d,a,!1,i.type);const y=d._visualValues||(d._visualValues={});y[o]=x}}function Dm(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function nj(e,t){return ao(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function ij(e,t,n){return ao(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Oo(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const Om=e=>e==="reset"||e==="none",RT=(e,t)=>t?e:Object.assign({},e),sj=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Q2(n,!0),values:null};class bl{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Cm(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Oo(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(f,d,g,v)=>f==="x"?d:f==="r"?v:g,r=n.xAxisID=_t(i.xAxisID,Dm(t,"x")),a=n.yAxisID=_t(i.yAxisID,Dm(t,"y")),o=n.rAxisID=_t(i.rAxisID,Dm(t,"r")),l=n.indexAxis,c=n.iAxisID=s(l,r,a,o),h=n.vAxisID=s(l,a,r,o);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&uT(this._data,this),t._stacked&&Oo(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(ut(n)){const s=this._cachedMeta;this._data=ZU(n,s)}else if(i!==n){if(i){uT(i,this);const s=this._cachedMeta;Oo(s),s._parsed=[]}n&&Object.isExtensible(n)&&sU(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=Cm(n.vScale,n),n.stack!==i.stack&&(s=!0,Oo(n),n.stack=i.stack),this._resyncElements(t),(s||r!==n._stacked)&&(AT(this,n._parsed),n._stacked=Cm(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:a}=i,o=r.axis;let l=t===0&&n===s.length?!0:i._sorted,c=t>0&&i._parsed[t-1],h,f,d;if(this._parsing===!1)i._parsed=s,i._sorted=!0,d=s;else{re(s[t])?d=this.parseArrayData(i,s,t,n):ut(s[t])?d=this.parseObjectData(i,s,t,n):d=this.parsePrimitiveData(i,s,t,n);const g=()=>f[o]===null||c&&f[o]<c[o];for(h=0;h<n;++h)i._parsed[h+t]=f=d[h],l&&(g()&&(l=!1),c=f);i._sorted=l}a&&AT(this,d)}parsePrimitiveData(t,n,i,s){const{iScale:r,vScale:a}=t,o=r.axis,l=a.axis,c=r.getLabels(),h=r===a,f=new Array(s);let d,g,v;for(d=0,g=s;d<g;++d)v=d+i,f[d]={[o]:h||r.parse(c[v],v),[l]:a.parse(n[v],v)};return f}parseArrayData(t,n,i,s){const{xScale:r,yScale:a}=t,o=new Array(s);let l,c,h,f;for(l=0,c=s;l<c;++l)h=l+i,f=n[h],o[l]={x:r.parse(f[0],h),y:a.parse(f[1],h)};return o}parseObjectData(t,n,i,s){const{xScale:r,yScale:a}=t,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let h,f,d,g;for(h=0,f=s;h<f;++h)d=h+i,g=n[d],c[h]={x:r.parse(za(g,o),d),y:a.parse(za(g,l),d)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,r=this._cachedMeta,a=n[t.axis],o={keys:Q2(s,!0),values:n._stacks[t.axis]._visualValues};return xT(o,a,r.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const r=i[n.axis];let a=r===null?NaN:r;const o=s&&i._stacks[n.axis];s&&o&&(s.values=o,a=xT(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&t===i.iScale,a=s.length,o=this._getOtherScale(t),l=sj(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=tj(o);let d,g;function v(){g=s[d];const E=g[o.axis];return!pn(g[t.axis])||h>E||f<E}for(d=0;d<a&&!(!v()&&(this.updateRangeFromParsed(c,t,g,l),r));++d);if(r){for(d=a-1;d>=0;--d)if(!v()){this.updateRangeFromParsed(c,t,g,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,r,a;for(s=0,r=n.length;s<r;++s)a=n[s][t.axis],pn(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=XU(_t(this.options.clip,QU(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||s.length-o,c=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(t,r,o,l),h=o;h<o+l;++h){const f=s[h];f.hidden||(f.active&&c?a.push(f):f.draw(t,r))}for(h=0;h<a.length;++h)a[h].draw(t,r)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];r=a.$context||(a.$context=ij(this.getContext(),t,a)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=nj(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",r=this._cachedDataOpts,a=t+"-"+n,o=r[a],l=this.enableOptionSharing&&Ql(i);if(o)return RT(o,l);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,t),f=s?[`${t}Hover`,"hover",t,""]:[t,""],d=c.getOptionScopes(this.getDataset(),h),g=Object.keys(Gt.elements[t]),v=()=>this.getContext(i,s,n),E=c.resolveNamedOptions(d,g,v,f);return E.$shared&&(E.$shared=l,r[a]=Object.freeze(RT(E,l))),E}_resolveAnimations(t,n,i){const s=this.chart,r=this._cachedDataOpts,a=`animation-${n}`,o=r[a];if(o)return o;let l;if(s.options.animation!==!1){const h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,n),d=h.getOptionScopes(this.getDataset(),f);l=h.createResolver(d,this.getContext(t,i,n))}const c=new W2(s,l&&l.animations);return l&&l._cacheable&&(r[a]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Om(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,r=this.getSharedOptions(i),a=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:a}}updateElement(t,n,i,s){Om(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!Om(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const s=i.length,r=n.length,a=Math.min(r,s);a&&this.parse(0,a),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,n,i=!0){const s=this._cachedMeta,r=s.data,a=t+n;let o;const l=c=>{for(c.length+=n,o=c.length-1;o>=a;o--)c[o]=c[o-n]};for(l(r),o=t;o<a;++o)r[o]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,n),i&&this.updateElements(r,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&Oo(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}lt(bl,"defaults",{}),lt(bl,"datasetElementType",null),lt(bl,"dataElementType",null);function rj(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=M2(i.sort((s,r)=>s-r))}return e._cache.$bar}function aj(e){const t=e.iScale,n=rj(t,e.type);let i=t._length,s,r,a,o;const l=()=>{a===32767||a===-32768||(Ql(o)&&(i=Math.min(i,Math.abs(a-o)||i)),o=a)};for(s=0,r=n.length;s<r;++s)a=t.getPixelForValue(n[s]),l();for(o=void 0,s=0,r=t.ticks.length;s<r;++s)a=t.getPixelForTick(s),l();return i}function oj(e,t,n,i){const s=n.barThickness;let r,a;return St(s)?(r=t.min*n.categoryPercentage,a=n.barPercentage):(r=s*i,a=1),{chunk:r/i,ratio:a,start:t.pixels[e]-r/2}}function lj(e,t,n,i){const s=t.pixels,r=s[e];let a=e>0?s[e-1]:null,o=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;a===null&&(a=r-(o===null?t.end-t.start:o-r)),o===null&&(o=r+r-a);const c=r-(r-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/i,ratio:n.barPercentage,start:c}}function cj(e,t,n,i){const s=n.parse(e[0],i),r=n.parse(e[1],i),a=Math.min(s,r),o=Math.max(s,r);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:r,min:a,max:o}}function X2(e,t,n,i){return re(e)?cj(e,t,n,i):t[n.axis]=n.parse(e,i),t}function IT(e,t,n,i){const s=e.iScale,r=e.vScale,a=s.getLabels(),o=s===r,l=[];let c,h,f,d;for(c=n,h=n+i;c<h;++c)d=t[c],f={},f[s.axis]=o||s.parse(a[c],c),l.push(X2(d,f,r,c));return l}function Mm(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function uj(e,t,n){return e!==0?ws(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function hj(e){let t,n,i,s,r;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:t,top:s,bottom:r}}function fj(e,t,n,i){let s=t.borderSkipped;const r={};if(!s){e.borderSkipped=r;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:c,bottom:h}=hj(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=h:(r[CT(h,a,o,l)]=!0,s=c)),r[CT(s,a,o,l)]=!0,e.borderSkipped=r}function CT(e,t,n,i){return i?(e=dj(e,t,n),e=DT(e,n,t)):e=DT(e,t,n),e}function dj(e,t,n){return e===t?n:e===n?t:e}function DT(e,t,n){return e==="start"?t:e==="end"?n:e}function mj(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class th extends bl{parsePrimitiveData(t,n,i,s){return IT(t,n,i,s)}parseArrayData(t,n,i,s){return IT(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:r,vScale:a}=t,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?o:l,h=a.axis==="x"?o:l,f=[];let d,g,v,E;for(d=i,g=i+s;d<g;++d)E=n[d],v={},v[r.axis]=r.parse(za(E,c),d),f.push(X2(za(E,h),v,a,d));return f}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(t),a=r._custom,o=Mm(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const r=s==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),h=this._getRuler(),{sharedOptions:f,includeOptions:d}=this._getSharedOptions(n,s);for(let g=n;g<n+i;g++){const v=this.getParsed(g),E=r||St(v[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),x=this._calculateBarIndexPixels(g,h),_=(v._stacks||{})[o.axis],y={horizontal:c,base:E.base,enableBorderRadius:!_||Mm(v._custom)||a===_._top||a===_._bottom,x:c?E.head:x.center,y:c?x.center:E.head,height:c?x.size:Math.abs(E.size),width:c?Math.abs(E.size):x.size};d&&(y.options=f||this.resolveDataElementOptions(g,t[g].active?"active":s));const T=y.options||t[g].options;fj(y,T,_,a),mj(y,T,h.ratio),this.updateElement(t[g],g,y,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),r=i.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(n),l=o&&o[i.axis],c=h=>{const f=h._parsed.find(g=>g[i.axis]===l),d=f&&f[h.vScale.axis];if(St(d)||isNaN(d))return!0};for(const h of s)if(!(n!==void 0&&c(h))&&((r===!1||a.indexOf(h.stack)===-1||r===void 0&&h.stack===void 0)&&a.push(h.stack),h.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const s=this._getStacks(t,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,a;for(r=0,a=n.data.length;r<a;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const o=t.barThickness;return{min:o||aj(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:a}}=this,o=r||0,l=this.getParsed(t),c=l._custom,h=Mm(c);let f=l[n.axis],d=0,g=i?this.applyStack(n,l,i):f,v,E;g!==f&&(d=g-f,g=f),h&&(f=c.barStart,g=c.barEnd-c.barStart,f!==0&&ws(f)!==ws(c.barEnd)&&(d=0),d+=f);const x=!St(r)&&!h?r:d;let _=n.getPixelForValue(x);if(this.chart.getDataVisibility(t)?v=n.getPixelForValue(d+g):v=_,E=v-_,Math.abs(E)<a){E=uj(E,n,o)*a,f===o&&(_-=E/2);const y=n.getPixelForDecimal(0),T=n.getPixelForDecimal(1),M=Math.min(y,T),C=Math.max(y,T);_=Math.max(Math.min(_,C),M),v=_+E,i&&!h&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(v)-n.getValueForPixel(_))}if(_===n.getPixelForValue(o)){const y=ws(E)*n.getLineWidthForValue(o)/2;_+=y,E-=y}return{size:E,base:_,head:v,center:v+E/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,r=s.skipNull,a=_t(s.maxBarThickness,1/0);let o,l;if(n.grouped){const c=r?this._getStackCount(t):n.stackCount,h=s.barThickness==="flex"?lj(t,n,s,c):oj(t,n,s,c),f=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);o=h.start+h.chunk*f+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else o=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(a,n.min*n.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}lt(th,"id","bar"),lt(th,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),lt(th,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Gs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class U_{constructor(t){lt(this,"options");this.options=t||{}}static override(t){Object.assign(U_.prototype,t)}init(){}formats(){return Gs()}parse(){return Gs()}format(){return Gs()}add(){return Gs()}diff(){return Gs()}startOf(){return Gs()}endOf(){return Gs()}}var gj={_date:U_};function pj(e,t,n,i){const{controller:s,data:r,_sorted:a}=e,o=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&t!=="r"&&a&&r.length){const c=o._reversePixels?nU:dp;if(i){if(s._sharedOptions){const h=r[0],f=typeof h.getRange=="function"&&h.getRange(t);if(f){const d=c(r,t,n-f),g=c(r,t,n+f);return{lo:d.lo,hi:g.hi}}}}else{const h=c(r,t,n);if(l){const{vScale:f}=s._cachedMeta,{_parsed:d}=e,g=d.slice(0,h.lo+1).reverse().findIndex(E=>!St(E[f.axis]));h.lo-=Math.max(0,g);const v=d.slice(h.hi).findIndex(E=>!St(E[f.axis]));h.hi+=Math.max(0,v)}return h}}return{lo:0,hi:r.length-1}}function id(e,t,n,i,s){const r=e.getSortedVisibleDatasetMetas(),a=n[t];for(let o=0,l=r.length;o<l;++o){const{index:c,data:h}=r[o],{lo:f,hi:d}=pj(r[o],t,a,s);for(let g=f;g<=d;++g){const v=h[g];v.skip||i(v,c,g)}}}function yj(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const r=t?Math.abs(i.x-s.x):0,a=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function km(e,t,n,i,s){const r=[];return!s&&!e.isPointInArea(t)||id(e,n,t,function(o,l,c){!s&&!z2(o,e.chartArea,0)||o.inRange(t.x,t.y,i)&&r.push({element:o,datasetIndex:l,index:c})},!0),r}function _j(e,t,n,i){let s=[];function r(a,o,l){const{startAngle:c,endAngle:h}=a.getProps(["startAngle","endAngle"],i),{angle:f}=Z5(a,{x:t.x,y:t.y});tU(f,c,h)&&s.push({element:a,datasetIndex:o,index:l})}return id(e,n,t,r),s}function vj(e,t,n,i,s,r){let a=[];const o=yj(n);let l=Number.POSITIVE_INFINITY;function c(h,f,d){const g=h.inRange(t.x,t.y,s);if(i&&!g)return;const v=h.getCenterPoint(s);if(!(!!r||e.isPointInArea(v))&&!g)return;const x=o(t,v);x<l?(a=[{element:h,datasetIndex:f,index:d}],l=x):x===l&&a.push({element:h,datasetIndex:f,index:d})}return id(e,n,t,c),a}function Nm(e,t,n,i,s,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!i?_j(e,t,n,s):vj(e,t,n,i,s,r)}function OT(e,t,n,i,s){const r=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return id(e,n,t,(l,c,h)=>{l[a]&&l[a](t[n],s)&&(r.push({element:l,datasetIndex:c,index:h}),o=o||l.inRange(t.x,t.y,s))}),i&&!o?[]:r}var bj={modes:{index(e,t,n,i){const s=Qs(t,e),r=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?km(e,s,r,i,a):Nm(e,s,r,!1,i,a),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const h=o[0].index,f=c.data[h];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:h})}),l):[]},dataset(e,t,n,i){const s=Qs(t,e),r=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?km(e,s,r,i,a):Nm(e,s,r,!1,i,a);if(o.length>0){const l=o[0].datasetIndex,c=e.getDatasetMeta(l).data;o=[];for(let h=0;h<c.length;++h)o.push({element:c[h],datasetIndex:l,index:h})}return o},point(e,t,n,i){const s=Qs(t,e),r=n.axis||"xy",a=n.includeInvisible||!1;return km(e,s,r,i,a)},nearest(e,t,n,i){const s=Qs(t,e),r=n.axis||"xy",a=n.includeInvisible||!1;return Nm(e,s,r,n.intersect,i,a)},x(e,t,n,i){const s=Qs(t,e);return OT(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=Qs(t,e);return OT(e,s,"y",n.intersect,i)}}};const Z2=["left","top","right","bottom"];function Mo(e,t){return e.filter(n=>n.pos===t)}function MT(e,t){return e.filter(n=>Z2.indexOf(n.pos)===-1&&n.box.axis===t)}function ko(e,t){return e.sort((n,i)=>{const s=t?i:n,r=t?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function Ej(e){const t=[];let n,i,s,r,a,o;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:r,options:{stack:a,stackWeight:o=1}}=s,t.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&r+a,stackWeight:o});return t}function Tj(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!Z2.includes(s))continue;const a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return t}function wj(e,t){const n=Tj(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,a,o;for(r=0,a=e.length;r<a;++r){o=e[r];const{fullSize:l}=o.box,c=n[o.stack],h=c&&o.stackWeight/c.weight;o.horizontal?(o.width=h?h*i:l&&t.availableWidth,o.height=s):(o.width=i,o.height=h?h*s:l&&t.availableHeight)}return n}function xj(e){const t=Ej(e),n=ko(t.filter(c=>c.box.fullSize),!0),i=ko(Mo(t,"left"),!0),s=ko(Mo(t,"right")),r=ko(Mo(t,"top"),!0),a=ko(Mo(t,"bottom")),o=MT(t,"x"),l=MT(t,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(a).concat(o),chartArea:Mo(t,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(a).concat(o)}}function kT(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function J2(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Sj(e,t,n,i){const{pos:s,box:r}=n,a=e.maxPadding;if(!ut(s)){n.size&&(e[s]-=n.size);const f=i[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?r.height:r.width),n.size=f.size/f.count,e[s]+=n.size}r.getPadding&&J2(a,r.getPadding());const o=Math.max(0,t.outerWidth-kT(a,e,"left","right")),l=Math.max(0,t.outerHeight-kT(a,e,"top","bottom")),c=o!==e.w,h=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:c,other:h}:{same:h,other:c}}function Aj(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function Rj(e,t){const n=t.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{r[a]=Math.max(t[a],n[a])}),r}return i(e?["left","right"]:["top","bottom"])}function $o(e,t,n,i){const s=[];let r,a,o,l,c,h;for(r=0,a=e.length,c=0;r<a;++r){o=e[r],l=o.box,l.update(o.width||t.w,o.height||t.h,Rj(o.horizontal,t));const{same:f,other:d}=Sj(t,n,o,i);c|=f&&s.length,h=h||d,l.fullSize||s.push(o)}return c&&$o(s,t,n,i)||h}function Tu(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function NT(e,t,n,i){const s=n.padding;let{x:r,y:a}=t;for(const o of e){const l=o.box,c=i[o.stack]||{placed:0,weight:1},h=o.stackWeight/c.weight||1;if(o.horizontal){const f=t.w*h,d=c.size||l.height;Ql(c.start)&&(a=c.start),l.fullSize?Tu(l,s.left,a,n.outerWidth-s.right-s.left,d):Tu(l,t.left+c.placed,a,f,d),c.start=a,c.placed+=f,a=l.bottom}else{const f=t.h*h,d=c.size||l.width;Ql(c.start)&&(r=c.start),l.fullSize?Tu(l,r,s.top,d,n.outerHeight-s.bottom-s.top):Tu(l,r,t.top+c.placed,d,f),c.start=r,c.placed+=f,r=l.right}}t.x=r,t.y=a}var as={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=Cn(e.options.layout.padding),r=Math.max(t-s.width,0),a=Math.max(n-s.height,0),o=xj(e.boxes),l=o.vertical,c=o.horizontal;yt(e.boxes,E=>{typeof E.beforeLayout=="function"&&E.beforeLayout()});const h=l.reduce((E,x)=>x.box.options&&x.box.options.display===!1?E:E+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/h,hBoxMaxHeight:a/2}),d=Object.assign({},s);J2(d,Cn(i));const g=Object.assign({maxPadding:d,w:r,h:a,x:s.left,y:s.top},s),v=wj(l.concat(c),f);$o(o.fullSize,g,f,v),$o(l,g,f,v),$o(c,g,f,v)&&$o(l,g,f,v),Aj(g),NT(o.leftAndTop,g,f,v),g.x+=g.w,g.y+=g.h,NT(o.rightAndBottom,g,f,v),e.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},yt(o.chartArea,E=>{const x=E.box;Object.assign(x,e.chartArea),x.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class tI{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class Ij extends tI{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const eh="$chartjs",Cj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},PT=e=>e===null||e==="";function Dj(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[eh]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",PT(s)){const r=ET(e,"width");r!==void 0&&(e.width=r)}if(PT(i))if(e.style.height==="")e.height=e.width/(t||2);else{const r=ET(e,"height");r!==void 0&&(e.height=r)}return e}const eI=zU?{passive:!0}:!1;function Oj(e,t,n){e&&e.addEventListener(t,n,eI)}function Mj(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,eI)}function kj(e,t){const n=Cj[e.type]||e.type,{x:i,y:s}=Qs(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function mf(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Nj(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let a=!1;for(const o of r)a=a||mf(o.addedNodes,i),a=a&&!mf(o.removedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function Pj(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let a=!1;for(const o of r)a=a||mf(o.removedNodes,i),a=a&&!mf(o.addedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Xl=new Map;let LT=0;function nI(){const e=window.devicePixelRatio;e!==LT&&(LT=e,Xl.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function Lj(e,t){Xl.size||window.addEventListener("resize",nI),Xl.set(e,t)}function Vj(e){Xl.delete(e),Xl.size||window.removeEventListener("resize",nI)}function Uj(e,t,n){const i=e.canvas,s=i&&V_(i);if(!s)return;const r=N2((o,l)=>{const c=s.clientWidth;n(o,l),c<s.clientWidth&&n()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||r(c,h)});return a.observe(s),Lj(e,r),a}function Pm(e,t,n){n&&n.disconnect(),t==="resize"&&Vj(e)}function jj(e,t,n){const i=e.canvas,s=N2(r=>{e.ctx!==null&&n(kj(r,e))},e);return Oj(i,t,s),s}class zj extends tI{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(Dj(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[eh])return!1;const i=n[eh].initial;["height","width"].forEach(r=>{const a=i[r];St(a)?n.removeAttribute(r):n.setAttribute(r,a)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[eh],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),a={attach:Nj,detach:Pj,resize:Uj}[n]||jj;s[n]=a(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:Pm,detach:Pm,resize:Pm}[n]||Mj)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return jU(t,n,i,s)}isAttached(t){const n=t&&V_(t);return!!(n&&n.isConnected)}}function Bj(e){return!L_()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Ij:zj}class vr{constructor(){lt(this,"x");lt(this,"y");lt(this,"active",!1);lt(this,"options");lt(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return uf(this.x)&&uf(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}lt(vr,"defaults",{}),lt(vr,"defaultRoutes");function Fj(e,t){const n=e.options.ticks,i=Hj(e),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?Gj(t):[],a=r.length,o=r[0],l=r[a-1],c=[];if(a>s)return $j(t,c,r,a/s),c;const h=qj(r,t,s);if(a>0){let f,d;const g=a>1?Math.round((l-o)/(a-1)):null;for(wu(t,c,h,St(g)?0:o-g,o),f=0,d=a-1;f<d;f++)wu(t,c,h,r[f],r[f+1]);return wu(t,c,h,l,St(g)?t.length:l+g),c}return wu(t,c,h),c}function Hj(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function qj(e,t,n){const i=Yj(e),s=t.length/n;if(!i)return Math.max(s,1);const r=Y5(i);for(let a=0,o=r.length-1;a<o;a++){const l=r[a];if(l>s)return l}return Math.max(s,1)}function Gj(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function $j(e,t,n,i){let s=0,r=n[0],a;for(i=Math.ceil(i),a=0;a<e.length;a++)a===r&&(t.push(e[a]),s++,r=n[s*i])}function wu(e,t,n,i,s){const r=_t(i,0),a=Math.min(_t(s,e.length),e.length);let o=0,l,c,h;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),h=r;h<0;)o++,h=Math.round(r+o*n);for(c=Math.max(r,0);c<a;c++)c===h&&(t.push(e[c]),o++,h=Math.round(r+o*n))}function Yj(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const Kj=e=>e==="left"?"right":e==="right"?"left":e,VT=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,UT=(e,t)=>Math.min(t||e,e);function jT(e,t){const n=[],i=e.length/t,s=e.length;let r=0;for(;r<s;r+=i)n.push(e[Math.floor(r)]);return n}function Wj(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),r=e._startPixel,a=e._endPixel,o=1e-6;let l=e.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(l-r,a-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(s-1))/2,l+=s<t?c:-c,l<r-o||l>a+o)))return l}function Qj(e,t){yt(e,n=>{const i=n.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function No(e){return e.drawTicks?e.tickLength:0}function zT(e,t){if(!e.display)return 0;const n=Ue(e.font,t),i=Cn(e.padding);return(re(e.text)?e.text.length:1)*n.lineHeight+i.height}function Xj(e,t){return ao(e,{scale:t,type:"scale"})}function Zj(e,t,n){return ao(e,{tick:n,index:t,type:"tick"})}function Jj(e,t,n){let i=P2(e);return(n&&t!=="right"||!n&&t==="right")&&(i=Kj(i)),i}function tz(e,t,n,i){const{top:s,left:r,bottom:a,right:o,chart:l}=e,{chartArea:c,scales:h}=l;let f=0,d,g,v;const E=a-s,x=o-r;if(e.isHorizontal()){if(g=$e(i,r,o),ut(n)){const _=Object.keys(n)[0],y=n[_];v=h[_].getPixelForValue(y)+E-t}else n==="center"?v=(c.bottom+c.top)/2+E-t:v=VT(e,n,t);d=o-r}else{if(ut(n)){const _=Object.keys(n)[0],y=n[_];g=h[_].getPixelForValue(y)-x+t}else n==="center"?g=(c.left+c.right)/2-x+t:g=VT(e,n,t);v=$e(i,a,s),f=n==="left"?-Tn:Tn}return{titleX:g,titleY:v,maxWidth:d,rotation:f}}class oo extends vr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=Nn(t,Number.POSITIVE_INFINITY),n=Nn(n,Number.NEGATIVE_INFINITY),i=Nn(i,Number.POSITIVE_INFINITY),s=Nn(s,Number.NEGATIVE_INFINITY),{min:Nn(t,i),max:Nn(n,s),minDefined:pn(t),maxDefined:pn(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),a;if(s&&r)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,t),s||(n=Math.min(n,a.min)),r||(i=Math.max(i,a.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:Nn(n,Nn(i,n)),max:Nn(i,Nn(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ct(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:r,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=xU(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?jT(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Fj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ct(this.options.afterUpdate,[this])}beforeSetDimensions(){Ct(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ct(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ct(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ct(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=Ct(n.callback,[r.value,i,t],this)}afterTickToLabelConversion(){Ct(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ct(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=UT(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let a=s,o,l,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const h=this._getLabelSizes(),f=h.widest.width,d=h.highest.height,g=wn(this.chart.width-f,0,this.maxWidth);o=t.offset?this.maxWidth/i:g/(i-1),f+6>o&&(o=g/(i-(t.offset?.5:1)),l=this.maxHeight-No(t.grid)-n.padding-zT(t.title,this.chart.options.font),c=Math.sqrt(f*f+d*d),a=X5(Math.min(Math.asin(wn((h.highest.height+6)/o,-1,1)),Math.asin(wn(l/c,-1,1))-Math.asin(wn(d/c,-1,1)))),a=Math.max(s,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){Ct(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ct(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=zT(s,n.options.font);if(o?(t.width=this.maxWidth,t.height=No(r)+l):(t.height=this.maxHeight,t.width=No(r)+l),i.display&&this.ticks.length){const{first:c,last:h,widest:f,highest:d}=this._getLabelSizes(),g=i.padding*2,v=Js(this.labelRotation),E=Math.cos(v),x=Math.sin(v);if(o){const _=i.mirror?0:x*f.width+E*d.height;t.height=Math.min(this.maxHeight,t.height+_+g)}else{const _=i.mirror?0:E*f.width+x*d.height;t.width=Math.min(this.maxWidth,t.width+_+g)}this._calculatePadding(c,h,x,E)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:r,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,g=0;l?c?(d=s*t.width,g=i*n.height):(d=i*t.height,g=s*n.width):r==="start"?g=n.width:r==="end"?d=t.width:r!=="inner"&&(d=t.width/2,g=n.width/2),this.paddingLeft=Math.max((d-h+a)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-f+a)*this.width/(this.width-f),0)}else{let h=n.height/2,f=t.height/2;r==="start"?(h=0,f=t.height):r==="end"&&(h=n.height,f=0),this.paddingTop=h+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ct(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)St(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=jT(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:r}=this,a=[],o=[],l=Math.floor(n/UT(n,i));let c=0,h=0,f,d,g,v,E,x,_,y,T,M,C;for(f=0;f<n;f+=l){if(v=t[f].label,E=this._resolveTickFontOptions(f),s.font=x=E.string,_=r[x]=r[x]||{data:{},gc:[]},y=E.lineHeight,T=M=0,!St(v)&&!re(v))T=gT(s,_.data,_.gc,T,v),M=y;else if(re(v))for(d=0,g=v.length;d<g;++d)C=v[d],!St(C)&&!re(C)&&(T=gT(s,_.data,_.gc,T,C),M+=y);a.push(T),o.push(M),c=Math.max(T,c),h=Math.max(M,h)}Qj(r,n);const L=a.indexOf(c),S=o.indexOf(h),b=R=>({width:a[R]||0,height:o[R]||0});return{first:b(0),last:b(n-1),widest:b(L),highest:b(S),widths:a,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return eU(this._alignToPixels?qs(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=Zj(this.getContext(),t,i))}return this.$context||(this.$context=Xj(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Js(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),a=t.autoSkipPadding||0,o=r?r.widest.width+a:0,l=r?r.highest.height+a:0;return this.isHorizontal()?l*i>o*s?o/i:l/s:l*s<o*i?l/i:o/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:a,border:o}=s,l=r.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),d=No(r),g=[],v=o.setContext(this.getContext()),E=v.display?v.width:0,x=E/2,_=function(B){return qs(i,B,E)};let y,T,M,C,L,S,b,R,I,O,k,D;if(a==="top")y=_(this.bottom),S=this.bottom-d,R=y-x,O=_(t.top)+x,D=t.bottom;else if(a==="bottom")y=_(this.top),O=t.top,D=_(t.bottom)-x,S=y+x,R=this.top+d;else if(a==="left")y=_(this.right),L=this.right-d,b=y-x,I=_(t.left)+x,k=t.right;else if(a==="right")y=_(this.left),I=t.left,k=_(t.right)-x,L=y+x,b=this.left+d;else if(n==="x"){if(a==="center")y=_((t.top+t.bottom)/2+.5);else if(ut(a)){const B=Object.keys(a)[0],G=a[B];y=_(this.chart.scales[B].getPixelForValue(G))}O=t.top,D=t.bottom,S=y+x,R=S+d}else if(n==="y"){if(a==="center")y=_((t.left+t.right)/2);else if(ut(a)){const B=Object.keys(a)[0],G=a[B];y=_(this.chart.scales[B].getPixelForValue(G))}L=y-x,b=L-d,I=t.left,k=t.right}const Ut=_t(s.ticks.maxTicksLimit,f),ht=Math.max(1,Math.ceil(f/Ut));for(T=0;T<f;T+=ht){const B=this.getContext(T),G=r.setContext(B),Y=o.setContext(B),mt=G.lineWidth,bt=G.color,yn=Y.dash||[],$t=Y.dashOffset,At=G.tickWidth,ce=G.tickColor,ye=G.tickBorderDash||[],Zn=G.tickBorderDashOffset;M=Wj(this,T,l),M!==void 0&&(C=qs(i,M,mt),c?L=b=I=k=C:S=R=O=D=C,g.push({tx1:L,ty1:S,tx2:b,ty2:R,x1:I,y1:O,x2:k,y2:D,width:mt,color:bt,borderDash:yn,borderDashOffset:$t,tickWidth:At,tickColor:ce,tickBorderDash:ye,tickBorderDashOffset:Zn}))}return this._ticksLength=f,this._borderValue=y,g}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:r}=i,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:h,mirror:f}=r,d=No(i.grid),g=d+h,v=f?-h:g,E=-Js(this.labelRotation),x=[];let _,y,T,M,C,L,S,b,R,I,O,k,D="middle";if(s==="top")L=this.bottom-v,S=this._getXAxisLabelAlignment();else if(s==="bottom")L=this.top+v,S=this._getXAxisLabelAlignment();else if(s==="left"){const ht=this._getYAxisLabelAlignment(d);S=ht.textAlign,C=ht.x}else if(s==="right"){const ht=this._getYAxisLabelAlignment(d);S=ht.textAlign,C=ht.x}else if(n==="x"){if(s==="center")L=(t.top+t.bottom)/2+g;else if(ut(s)){const ht=Object.keys(s)[0],B=s[ht];L=this.chart.scales[ht].getPixelForValue(B)+g}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")C=(t.left+t.right)/2-g;else if(ut(s)){const ht=Object.keys(s)[0],B=s[ht];C=this.chart.scales[ht].getPixelForValue(B)}S=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?D="top":l==="end"&&(D="bottom"));const Ut=this._getLabelSizes();for(_=0,y=o.length;_<y;++_){T=o[_],M=T.label;const ht=r.setContext(this.getContext(_));b=this.getPixelForTick(_)+r.labelOffset,R=this._resolveTickFontOptions(_),I=R.lineHeight,O=re(M)?M.length:1;const B=O/2,G=ht.color,Y=ht.textStrokeColor,mt=ht.textStrokeWidth;let bt=S;a?(C=b,S==="inner"&&(_===y-1?bt=this.options.reverse?"left":"right":_===0?bt=this.options.reverse?"right":"left":bt="center"),s==="top"?c==="near"||E!==0?k=-O*I+I/2:c==="center"?k=-Ut.highest.height/2-B*I+I:k=-Ut.highest.height+I/2:c==="near"||E!==0?k=I/2:c==="center"?k=Ut.highest.height/2-B*I:k=Ut.highest.height-O*I,f&&(k*=-1),E!==0&&!ht.showLabelBackdrop&&(C+=I/2*Math.sin(E))):(L=b,k=(1-O)*I/2);let yn;if(ht.showLabelBackdrop){const $t=Cn(ht.backdropPadding),At=Ut.heights[_],ce=Ut.widths[_];let ye=k-$t.top,Zn=0-$t.left;switch(D){case"middle":ye-=At/2;break;case"bottom":ye-=At;break}switch(S){case"center":Zn-=ce/2;break;case"right":Zn-=ce;break;case"inner":_===y-1?Zn-=ce:_>0&&(Zn-=ce/2);break}yn={left:Zn,top:ye,width:ce+$t.width,height:At+$t.height,color:ht.backdropColor}}x.push({label:M,font:R,textOffset:k,options:{rotation:E,color:G,strokeColor:Y,strokeWidth:mt,textAlign:bt,textBaseline:D,translation:[C,L],backdrop:yn}})}return x}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Js(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,a=this._getLabelSizes(),o=t+r,l=a.widest.width;let c,h;return n==="left"?s?(h=this.right+r,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-o,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h=this.left)):n==="right"?s?(h=this.left+r,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+o,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:r,height:a}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,r,a),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,a;const o=(l,c,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,a=s.length;r<a;++r){const l=s[r];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),a=i.display?r.width:0;if(!a)return;const o=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,h,f,d;this.isHorizontal()?(c=qs(t,this.left,a)-a/2,h=qs(t,this.right,o)+o/2,f=d=l):(f=qs(t,this.top,a)-a/2,d=qs(t,this.bottom,o)+o/2,c=h=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,f),n.lineTo(h,d),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&O_(i,s);const r=this.getLabelItems(t);for(const a of r){const o=a.options,l=a.font,c=a.label,h=a.textOffset;hf(i,c,0,h,l,o)}s&&M_(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=Ue(i.font),a=Cn(i.padding),o=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||ut(n)?(l+=a.bottom,re(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=a.top;const{titleX:c,titleY:h,maxWidth:f,rotation:d}=tz(this,l,n,o);hf(t,i.text,0,0,r,{color:i.color,maxWidth:f,rotation:d,textAlign:Jj(o,n,s),textBaseline:"middle",translation:[c,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=_t(t.grid&&t.grid.z,-1),s=_t(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==oo.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,a;for(r=0,a=n.length;r<a;++r){const o=n[r];o[i]===this.id&&(!t||o.type===t)&&s.push(o)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Ue(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class xu{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;iz(n)&&(i=this.register(n));const s=this.items,r=t.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,ez(t,a,i),this.override&&Gt.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in Gt[s]&&(delete Gt[s][i],this.override&&delete _r[i])}}function ez(e,t,n){const i=Wl(Object.create(null),[n?Gt.get(n):{},Gt.get(t),e.defaults]);Gt.set(t,i),e.defaultRoutes&&nz(t,e.defaultRoutes),e.descriptors&&Gt.describe(t,e.descriptors)}function nz(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),r=[e].concat(i).join("."),a=t[n].split("."),o=a.pop(),l=a.join(".");Gt.route(r,s,l,o)})}function iz(e){return"id"in e&&"defaults"in e}class sz{constructor(){this.controllers=new xu(bl,"datasets",!0),this.elements=new xu(vr,"elements"),this.plugins=new xu(Object,"plugins"),this.scales=new xu(oo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):yt(s,a=>{const o=i||this._getRegistryForType(a);this._exec(t,o,a)})})}_exec(t,n,i){const s=C_(t);Ct(i["before"+s],[],i),n[t](i),Ct(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Ln=new sz;class rz{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),a=this._notify(r,t,n,i);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,n,i,s){s=s||{};for(const r of t){const a=r.plugin,o=a[i],l=[n,s,r.options];if(Ct(o,l,a)===!1&&s.cancelable)return!1}return!0}invalidate(){St(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=_t(i.options&&i.options.plugins,{}),r=az(i);return s===!1&&!n?[]:lz(t,r,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(r,a)=>r.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function az(e){const t={},n=[],i=Object.keys(Ln.plugins.items);for(let r=0;r<i.length;r++)n.push(Ln.getPlugin(i[r]));const s=e.plugins||[];for(let r=0;r<s.length;r++){const a=s[r];n.indexOf(a)===-1&&(n.push(a),t[a.id]=!0)}return{plugins:n,localIds:t}}function oz(e,t){return!t&&e===!1?null:e===!0?{}:e}function lz(e,{plugins:t,localIds:n},i,s){const r=[],a=e.getContext();for(const o of t){const l=o.id,c=oz(i[l],s);c!==null&&r.push({plugin:o,options:cz(e.config,{plugin:o,local:n[l]},c,a)})}return r}function cz(e,{plugin:t,local:n},i,s){const r=e.pluginScopeKeys(t),a=e.getOptionScopes(i,r);return n&&t.defaults&&a.push(t.defaults),e.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function gp(e,t){const n=Gt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function uz(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function hz(e,t){return e===t?"_index_":"_value_"}function BT(e){if(e==="x"||e==="y"||e==="r")return e}function fz(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function pp(e,...t){if(BT(e))return e;for(const n of t){const i=n.axis||fz(n.position)||e.length>1&&BT(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function FT(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function dz(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return FT(e,"x",n[0])||FT(e,"y",n[0])}return{}}function mz(e,t){const n=_r[e.type]||{scales:{}},i=t.scales||{},s=gp(e.type,t),r=Object.create(null);return Object.keys(i).forEach(a=>{const o=i[a];if(!ut(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=pp(a,o,dz(a,e),Gt.scales[o.type]),c=hz(l,s),h=n.scales||{};r[a]=yl(Object.create(null),[{axis:l},o,h[l],h[c]])}),e.data.datasets.forEach(a=>{const o=a.type||e.type,l=a.indexAxis||gp(o,t),h=(_r[o]||{}).scales||{};Object.keys(h).forEach(f=>{const d=uz(f,l),g=a[d+"AxisID"]||d;r[g]=r[g]||Object.create(null),yl(r[g],[{axis:d},i[g],h[f]])})}),Object.keys(r).forEach(a=>{const o=r[a];yl(o,[Gt.scales[o.type],Gt.scale])}),r}function iI(e){const t=e.options||(e.options={});t.plugins=_t(t.plugins,{}),t.scales=mz(e,t)}function sI(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function gz(e){return e=e||{},e.data=sI(e.data),iI(e),e}const HT=new Map,rI=new Set;function Su(e,t){let n=HT.get(e);return n||(n=t(),HT.set(e,n),rI.add(n)),n}const Po=(e,t,n)=>{const i=za(t,n);i!==void 0&&e.add(i)};class pz{constructor(t){this._config=gz(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=sI(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),iI(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Su(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Su(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Su(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return Su(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:r}=this,a=this._cachedScopes(t,i),o=a.get(n);if(o)return o;const l=new Set;n.forEach(h=>{t&&(l.add(t),h.forEach(f=>Po(l,t,f))),h.forEach(f=>Po(l,s,f)),h.forEach(f=>Po(l,_r[r]||{},f)),h.forEach(f=>Po(l,Gt,f)),h.forEach(f=>Po(l,mp,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),rI.has(n)&&a.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,_r[n]||{},Gt.datasets[n]||{},{type:n},Gt,mp]}resolveNamedOptions(t,n,i,s=[""]){const r={$shared:!0},{resolver:a,subPrefixes:o}=qT(this._resolverCache,t,s);let l=a;if(_z(a,n)){r.$shared=!1,i=Ns(i)?i():i;const c=this.createResolver(t,i,o);l=Ba(a,i,c)}for(const c of n)r[c]=l[c];return r}createResolver(t,n,i=[""],s){const{resolver:r}=qT(this._resolverCache,t,i);return ut(n)?Ba(r,n,void 0,s):r}}function qT(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let r=i.get(s);return r||(r={resolver:k_(t,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},i.set(s,r)),r}const yz=e=>ut(e)&&Object.getOwnPropertyNames(e).some(t=>Ns(e[t]));function _z(e,t){const{isScriptable:n,isIndexable:i}=H2(e);for(const s of t){const r=n(s),a=i(s),o=(a||r)&&e[s];if(r&&(Ns(o)||yz(o))||a&&re(o))return!0}return!1}var vz="4.4.9";const bz=["top","bottom","left","right","chartArea"];function GT(e,t){return e==="top"||e==="bottom"||bz.indexOf(e)===-1&&t==="x"}function $T(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function YT(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Ct(n&&n.onComplete,[e],t)}function Ez(e){const t=e.chart,n=t.options.animation;Ct(n&&n.onProgress,[e],t)}function aI(e){return L_()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const nh={},KT=e=>{const t=aI(e);return Object.values(nh).filter(n=>n.canvas===t).pop()};function Tz(e,t,n){const i=Object.keys(e);for(const s of i){const r=+s;if(r>=t){const a=e[s];delete e[s],(n>0||r>t)&&(e[r+n]=a)}}}function wz(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}var Fi;let sd=(Fi=class{static register(...t){Ln.add(...t),WT()}static unregister(...t){Ln.remove(...t),WT()}constructor(t,n){const i=this.config=new pz(n),s=aI(t),r=KT(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Bj(s)),this.platform.updateConfig(i);const o=this.platform.acquireContext(s,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,h=l&&l.width;if(this.id=j5(),this.ctx=o,this.canvas=l,this.width=h,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new rz,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=rU(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],nh[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}oi.listen(this,"complete",YT),oi.listen(this,"progress",Ez),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return St(t)?n&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ln}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():bT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return pT(this.canvas,this.ctx),this}stop(){return oi.stop(this),this}resize(t,n){oi.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,t,n,r),o=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,bT(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Ct(i.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};yt(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((a,o)=>(a[o]=!1,a),{});let r=[];n&&(r=r.concat(Object.keys(n).map(a=>{const o=n[a],l=pp(a,o),c=l==="r",h=l==="x";return{options:o,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),yt(r,a=>{const o=a.options,l=o.id,c=pp(l,o),h=_t(o.type,a.dtype);(o.position===void 0||GT(o.position,c)!==GT(a.dposition))&&(o.position=a.dposition),s[l]=!0;let f=null;if(l in i&&i[l].type===h)f=i[l];else{const d=Ln.getScale(h);f=new d({id:l,type:h,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(o,t)}),yt(s,(a,o)=>{a||delete i[o]}),yt(i,a=>{as.configure(this,a,a.options),as.addBox(this,a)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort($T("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let a=this.getDatasetMeta(i);const o=r.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=o,a.indexAxis=r.indexAxis||gp(o,this.options),a.order=r.order||0,a.index=i,a.label=""+r.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const l=Ln.getController(o),{datasetElementType:c,dataElementType:h}=Gt.datasets[o];Object.assign(l,{dataElementType:Ln.getElement(h),datasetElementType:c&&Ln.getElement(c)}),a.controller=new l(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){yt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:f}=this.getDatasetMeta(c),d=!s&&r.indexOf(f)===-1;f.buildOrUpdateElements(d),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||yt(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort($T("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){yt(this.scales,t=>{as.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!aT(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const a=i==="_removeElements"?-r:r;Tz(t,s,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(t.filter(a=>a[0]===r).map((a,o)=>o+","+a.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!aT(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;as.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],yt(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Ns(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(oi.has(this)?this.attached&&!oi.running(this)&&oi.start(this):(this.draw(),YT({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const a=n[s];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=qU(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&O_(n,s),t.controller.draw(),s&&M_(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return z2(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const r=bj.modes[n];return typeof r=="function"?r(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=ao(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),a=r.controller._resolveAnimations(void 0,s);Ql(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(r,{visible:i}),this.update(o=>o.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),oi.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),pT(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete nh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(r,a)=>{n.addEventListener(this,r,a),t[r]=a},s=(r,a,o)=>{r.offsetX=a,r.offsetY=o,this._eventHandler(r)};yt(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},s=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{s("attach",o),this.attached=!0,this.resize(),i("resize",r),i("detach",a)};a=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){yt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},yt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let r,a,o,l;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),o=0,l=t.length;o<l;++o){a=t[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:r,index:a})=>{const o=this.getDatasetMeta(r);if(!o)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:o.data[a],index:a}});!of(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,r=(l,c)=>l.filter(h=>!c.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),a=r(n,t),o=i?t:r(t,n);a.length&&this.updateHoverStyle(a,s.mode,!1),o.length&&s.mode&&this.updateHoverStyle(o,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:r}=this,a=n,o=this._getActiveElements(t,s,i,a),l=G5(t),c=wz(t,this._lastEvent,i,l);i&&(this._lastEvent=null,Ct(r.onHover,[t,o,this],this),l&&Ct(r.onClick,[t,o,this],this));const h=!of(o,s);return(h||n)&&(this._active=o,this._updateHoverStyles(o,s,n)),this._lastEvent=c,h}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}},lt(Fi,"defaults",Gt),lt(Fi,"instances",nh),lt(Fi,"overrides",_r),lt(Fi,"registry",Ln),lt(Fi,"version",vz),lt(Fi,"getChart",KT),Fi);function WT(){return yt(sd.instances,e=>e._plugins.invalidate())}function oI(e,t){const{x:n,y:i,base:s,width:r,height:a}=e.getProps(["x","y","base","width","height"],t);let o,l,c,h,f;return e.horizontal?(f=a/2,o=Math.min(n,s),l=Math.max(n,s),c=i-f,h=i+f):(f=r/2,o=n-f,l=n+f,c=Math.min(i,s),h=Math.max(i,s)),{left:o,top:c,right:l,bottom:h}}function os(e,t,n,i){return e?0:wn(t,n,i)}function xz(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,r=F2(i);return{t:os(s.top,r.top,0,n),r:os(s.right,r.right,0,t),b:os(s.bottom,r.bottom,0,n),l:os(s.left,r.left,0,t)}}function Sz(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,r=ba(s),a=Math.min(t,n),o=e.borderSkipped,l=i||ut(s);return{topLeft:os(!l||o.top||o.left,r.topLeft,0,a),topRight:os(!l||o.top||o.right,r.topRight,0,a),bottomLeft:os(!l||o.bottom||o.left,r.bottomLeft,0,a),bottomRight:os(!l||o.bottom||o.right,r.bottomRight,0,a)}}function Az(e){const t=oI(e),n=t.right-t.left,i=t.bottom-t.top,s=xz(e,n/2,i/2),r=Sz(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Lm(e,t,n,i){const s=t===null,r=n===null,o=e&&!(s&&r)&&oI(e,i);return o&&(s||oa(t,o.left,o.right))&&(r||oa(n,o.top,o.bottom))}function Rz(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function Iz(e,t){e.rect(t.x,t.y,t.w,t.h)}function Vm(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-i,a=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+r,h:e.h+a,radius:e.radius}}class ih extends vr{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:a}=Az(this),o=Rz(a.radius)?ff:Iz;t.save(),(a.w!==r.w||a.h!==r.h)&&(t.beginPath(),o(t,Vm(a,n,r)),t.clip(),o(t,Vm(r,-n,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),o(t,Vm(r,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return Lm(this,t,n,i)}inXRange(t,n){return Lm(this,t,null,n)}inYRange(t,n){return Lm(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}lt(ih,"id","bar"),lt(ih,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),lt(ih,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const QT=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},Cz=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class XT extends vr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Ct(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=Ue(i.font),r=s.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=QT(i,r);let c,h;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(a,r,o,l)+10):(h=this.maxHeight,c=this._fitCols(a,s,o,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:r,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=s+o;let f=t;r.textAlign="left",r.textBaseline="middle";let d=-1,g=-h;return this.legendItems.forEach((v,E)=>{const x=i+n/2+r.measureText(v.text).width;(E===0||c[c.length-1]+x+2*o>a)&&(f+=h,c[c.length-(E>0?0:1)]=0,g+=h,d++),l[E]={left:0,top:g,row:d,width:x,height:s},c[c.length-1]+=x+o}),f}_fitCols(t,n,i,s){const{ctx:r,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=a-t;let f=o,d=0,g=0,v=0,E=0;return this.legendItems.forEach((x,_)=>{const{itemWidth:y,itemHeight:T}=Dz(i,n,r,x,s);_>0&&g+T+2*o>h&&(f+=d+o,c.push({width:d,height:g}),v+=d+o,E++,d=g=0),l[_]={left:v,top:g,col:E,width:y,height:T},d=Math.max(d,y),g+=T+o}),f+=d,c.push({width:d,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,a=Ea(r,this.left,this.width);if(this.isHorizontal()){let o=0,l=$e(i,this.left+s,this.right-this.lineWidths[o]);for(const c of n)o!==c.row&&(o=c.row,l=$e(i,this.left+s,this.right-this.lineWidths[o])),c.top+=this.top+t+s,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+s}else{let o=0,l=$e(i,this.top+t+s,this.bottom-this.columnSizes[o].height);for(const c of n)c.col!==o&&(o=c.col,l=$e(i,this.top+t+s,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+s,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;O_(t,this),this._draw(),M_(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:a}=t,o=Gt.color,l=Ea(t.rtl,this.left,this.width),c=Ue(a.font),{padding:h}=a,f=c.size,d=f/2;let g;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:v,boxHeight:E,itemHeight:x}=QT(a,f),_=function(L,S,b){if(isNaN(v)||v<=0||isNaN(E)||E<0)return;s.save();const R=_t(b.lineWidth,1);if(s.fillStyle=_t(b.fillStyle,o),s.lineCap=_t(b.lineCap,"butt"),s.lineDashOffset=_t(b.lineDashOffset,0),s.lineJoin=_t(b.lineJoin,"miter"),s.lineWidth=R,s.strokeStyle=_t(b.strokeStyle,o),s.setLineDash(_t(b.lineDash,[])),a.usePointStyle){const I={radius:E*Math.SQRT2/2,pointStyle:b.pointStyle,rotation:b.rotation,borderWidth:R},O=l.xPlus(L,v/2),k=S+d;j2(s,I,O,k,a.pointStyleWidth&&v)}else{const I=S+Math.max((f-E)/2,0),O=l.leftForLtr(L,v),k=ba(b.borderRadius);s.beginPath(),Object.values(k).some(D=>D!==0)?ff(s,{x:O,y:I,w:v,h:E,radius:k}):s.rect(O,I,v,E),s.fill(),R!==0&&s.stroke()}s.restore()},y=function(L,S,b){hf(s,b.text,L,S+x/2,c,{strikethrough:b.hidden,textAlign:l.textAlign(b.textAlign)})},T=this.isHorizontal(),M=this._computeTitleHeight();T?g={x:$e(r,this.left+h,this.right-i[0]),y:this.top+h+M,line:0}:g={x:this.left+h,y:$e(r,this.top+M+h,this.bottom-n[0].height),line:0},Y2(this.ctx,t.textDirection);const C=x+h;this.legendItems.forEach((L,S)=>{s.strokeStyle=L.fontColor,s.fillStyle=L.fontColor;const b=s.measureText(L.text).width,R=l.textAlign(L.textAlign||(L.textAlign=a.textAlign)),I=v+d+b;let O=g.x,k=g.y;l.setWidth(this.width),T?S>0&&O+I+h>this.right&&(k=g.y+=C,g.line++,O=g.x=$e(r,this.left+h,this.right-i[g.line])):S>0&&k+C>this.bottom&&(O=g.x=O+n[g.line].width+h,g.line++,k=g.y=$e(r,this.top+M+h,this.bottom-n[g.line].height));const D=l.x(O);if(_(D,k,L),O=aU(R,O+v+d,T?O+I:this.right,t.rtl),y(l.x(O),k,L),T)g.x+=I+h;else if(typeof L.text!="string"){const Ut=c.lineHeight;g.y+=lI(L,Ut)+h}else g.y+=C}),K2(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=Ue(n.font),s=Cn(n.padding);if(!n.display)return;const r=Ea(t.rtl,this.left,this.width),a=this.ctx,o=n.position,l=i.size/2,c=s.top+l;let h,f=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),h=this.top+c,f=$e(t.align,f,this.right-d);else{const v=this.columnSizes.reduce((E,x)=>Math.max(E,x.height),0);h=c+$e(t.align,this.top,this.bottom-v-t.labels.padding-this._computeTitleHeight())}const g=$e(o,f,f+d);a.textAlign=r.textAlign(P2(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,hf(a,n.text,g,h,i)}_computeTitleHeight(){const t=this.options.title,n=Ue(t.font),i=Cn(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,r;if(oa(t,this.left,this.right)&&oa(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],oa(t,s.left,s.left+s.width)&&oa(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!kz(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,r=Cz(s,i);s&&!r&&Ct(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&Ct(n.onHover,[t,i,this],this)}else i&&Ct(n.onClick,[t,i,this],this)}}function Dz(e,t,n,i,s){const r=Oz(i,e,t,n),a=Mz(s,i,t.lineHeight);return{itemWidth:r,itemHeight:a}}function Oz(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((r,a)=>r.length>a.length?r:a)),t+n.size/2+i.measureText(s).width}function Mz(e,t,n){let i=e;return typeof t.text!="string"&&(i=lI(t,n)),i}function lI(e,t){const n=e.text?e.text.length:0;return t*n}function kz(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Nz={id:"legend",_element:XT,start(e,t,n){const i=e.legend=new XT({ctx:e.ctx,options:n,chart:e});as.configure(e,i,n),as.addBox(e,i)},stop(e){as.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;as.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:a,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),h=Cn(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};const Yo={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,r=0;for(t=0,n=e.length;t<n;++t){const o=e[t].element;if(o&&o.hasValue()){const l=o.tooltipPosition();i.add(l.x),s+=l.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((o,l)=>o+l)/i.size,y:s/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,a,o;for(r=0,a=e.length;r<a;++r){const l=e[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),h=J5(t,c);h<s&&(s=h,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Pn(e,t){return t&&(re(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function li(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Pz(e,t){const{element:n,datasetIndex:i,index:s}=t,r=e.getDatasetMeta(i).controller,{label:a,value:o}=r.getLabelAndValue(s);return{chart:e,label:a,parsed:r.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:o,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function ZT(e,t){const n=e.chart.ctx,{body:i,footer:s,title:r}=e,{boxWidth:a,boxHeight:o}=t,l=Ue(t.bodyFont),c=Ue(t.titleFont),h=Ue(t.footerFont),f=r.length,d=s.length,g=i.length,v=Cn(t.padding);let E=v.height,x=0,_=i.reduce((M,C)=>M+C.before.length+C.lines.length+C.after.length,0);if(_+=e.beforeBody.length+e.afterBody.length,f&&(E+=f*c.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),_){const M=t.displayColors?Math.max(o,l.lineHeight):l.lineHeight;E+=g*M+(_-g)*l.lineHeight+(_-1)*t.bodySpacing}d&&(E+=t.footerMarginTop+d*h.lineHeight+(d-1)*t.footerSpacing);let y=0;const T=function(M){x=Math.max(x,n.measureText(M).width+y)};return n.save(),n.font=c.string,yt(e.title,T),n.font=l.string,yt(e.beforeBody.concat(e.afterBody),T),y=t.displayColors?a+2+t.boxPadding:0,yt(i,M=>{yt(M.before,T),yt(M.lines,T),yt(M.after,T)}),y=0,n.font=h.string,yt(e.footer,T),n.restore(),x+=v.width,{width:x,height:E}}function Lz(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function Vz(e,t,n,i){const{x:s,width:r}=i,a=n.caretSize+n.caretPadding;if(e==="left"&&s+r+a>t.width||e==="right"&&s-r-a<0)return!0}function Uz(e,t,n,i){const{x:s,width:r}=n,{width:a,chartArea:{left:o,right:l}}=e;let c="center";return i==="center"?c=s<=(o+l)/2?"left":"right":s<=r/2?c="left":s>=a-r/2&&(c="right"),Vz(c,e,t,n)&&(c="center"),c}function JT(e,t,n){const i=n.yAlign||t.yAlign||Lz(e,n);return{xAlign:n.xAlign||t.xAlign||Uz(e,t,n,i),yAlign:i}}function jz(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function zz(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function tw(e,t,n,i){const{caretSize:s,caretPadding:r,cornerRadius:a}=e,{xAlign:o,yAlign:l}=n,c=s+r,{topLeft:h,topRight:f,bottomLeft:d,bottomRight:g}=ba(a);let v=jz(t,o);const E=zz(t,l,c);return l==="center"?o==="left"?v+=c:o==="right"&&(v-=c):o==="left"?v-=Math.max(h,d)+s:o==="right"&&(v+=Math.max(f,g)+s),{x:wn(v,0,i.width-t.width),y:wn(E,0,i.height-t.height)}}function Au(e,t,n){const i=Cn(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function ew(e){return Pn([],li(e))}function Bz(e,t,n){return ao(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function nw(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const cI={beforeTitle:si,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:si,beforeBody:si,beforeLabel:si,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return St(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:si,afterBody:si,beforeFooter:si,footer:si,afterFooter:si};function Me(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?cI[t].call(n,i):s}class yp extends vr{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new W2(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=Bz(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=Me(i,"beforeTitle",this,t),r=Me(i,"title",this,t),a=Me(i,"afterTitle",this,t);let o=[];return o=Pn(o,li(s)),o=Pn(o,li(r)),o=Pn(o,li(a)),o}getBeforeBody(t,n){return ew(Me(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return yt(t,r=>{const a={before:[],lines:[],after:[]},o=nw(i,r);Pn(a.before,li(Me(o,"beforeLabel",this,r))),Pn(a.lines,Me(o,"label",this,r)),Pn(a.after,li(Me(o,"afterLabel",this,r))),s.push(a)}),s}getAfterBody(t,n){return ew(Me(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=Me(i,"beforeFooter",this,t),r=Me(i,"footer",this,t),a=Me(i,"afterFooter",this,t);let o=[];return o=Pn(o,li(s)),o=Pn(o,li(r)),o=Pn(o,li(a)),o}_createItems(t){const n=this._active,i=this.chart.data,s=[],r=[],a=[];let o=[],l,c;for(l=0,c=n.length;l<c;++l)o.push(Pz(this.chart,n[l]));return t.filter&&(o=o.filter((h,f,d)=>t.filter(h,f,d,i))),t.itemSort&&(o=o.sort((h,f)=>t.itemSort(h,f,i))),yt(o,h=>{const f=nw(t.callbacks,h);s.push(Me(f,"labelColor",this,h)),r.push(Me(f,"labelPointStyle",this,h)),a.push(Me(f,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=o,o}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,a=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const o=Yo[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const l=this._size=ZT(this,i),c=Object.assign({},o,l),h=JT(this.chart,i,c),f=tw(i,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,r={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const r=this.getCaretPosition(t,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:a,cornerRadius:o}=i,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:f}=ba(o),{x:d,y:g}=t,{width:v,height:E}=n;let x,_,y,T,M,C;return r==="center"?(M=g+E/2,s==="left"?(x=d,_=x-a,T=M+a,C=M-a):(x=d+v,_=x+a,T=M-a,C=M+a),y=x):(s==="left"?_=d+Math.max(l,h)+a:s==="right"?_=d+v-Math.max(c,f)-a:_=this.caretX,r==="top"?(T=g,M=T-a,x=_-a,y=_+a):(T=g+E,M=T+a,x=_+a,y=_-a),C=T),{x1:x,x2:_,x3:y,y1:T,y2:M,y3:C}}drawTitle(t,n,i){const s=this.title,r=s.length;let a,o,l;if(r){const c=Ea(i.rtl,this.x,this.width);for(t.x=Au(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",a=Ue(i.titleFont),o=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,l=0;l<r;++l)n.fillText(s[l],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+o,l+1===r&&(t.y+=i.titleMarginBottom-o)}}_drawColorBox(t,n,i,s,r){const a=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=r,h=Ue(r.bodyFont),f=Au(this,"left",r),d=s.x(f),g=l<h.lineHeight?(h.lineHeight-l)/2:0,v=n.y+g;if(r.usePointStyle){const E={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},x=s.leftForLtr(d,c)+c/2,_=v+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,yT(t,E,x,_),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,yT(t,E,x,_)}else{t.lineWidth=ut(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const E=s.leftForLtr(d,c),x=s.leftForLtr(s.xPlus(d,1),c-2),_=ba(a.borderRadius);Object.values(_).some(y=>y!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,ff(t,{x:E,y:v,w:c,h:l,radius:_}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),ff(t,{x,y:v+1,w:c-2,h:l-2,radius:_}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(E,v,c,l),t.strokeRect(E,v,c,l),t.fillStyle=a.backgroundColor,t.fillRect(x,v+1,c-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:h}=i,f=Ue(i.bodyFont);let d=f.lineHeight,g=0;const v=Ea(i.rtl,this.x,this.width),E=function(b){n.fillText(b,v.x(t.x+g),t.y+d/2),t.y+=d+r},x=v.textAlign(a);let _,y,T,M,C,L,S;for(n.textAlign=a,n.textBaseline="middle",n.font=f.string,t.x=Au(this,x,i),n.fillStyle=i.bodyColor,yt(this.beforeBody,E),g=o&&x!=="right"?a==="center"?c/2+h:c+2+h:0,M=0,L=s.length;M<L;++M){for(_=s[M],y=this.labelTextColors[M],n.fillStyle=y,yt(_.before,E),T=_.lines,o&&T.length&&(this._drawColorBox(n,t,M,v,i),d=Math.max(f.lineHeight,l)),C=0,S=T.length;C<S;++C)E(T[C]),d=f.lineHeight;yt(_.after,E)}g=0,d=f.lineHeight,yt(this.afterBody,E),t.y-=r}drawFooter(t,n,i){const s=this.footer,r=s.length;let a,o;if(r){const l=Ea(i.rtl,this.x,this.width);for(t.x=Au(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",a=Ue(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,o=0;o<r;++o)n.fillText(s[o],l.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:r,yAlign:a}=this,{x:o,y:l}=t,{width:c,height:h}=i,{topLeft:f,topRight:d,bottomLeft:g,bottomRight:v}=ba(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(o+f,l),a==="top"&&this.drawCaret(t,n,i,s),n.lineTo(o+c-d,l),n.quadraticCurveTo(o+c,l,o+c,l+d),a==="center"&&r==="right"&&this.drawCaret(t,n,i,s),n.lineTo(o+c,l+h-v),n.quadraticCurveTo(o+c,l+h,o+c-v,l+h),a==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(o+g,l+h),n.quadraticCurveTo(o,l+h,o,l+h-g),a==="center"&&r==="left"&&this.drawCaret(t,n,i,s),n.lineTo(o,l+f),n.quadraticCurveTo(o,l,o+f,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const a=Yo[t.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=ZT(this,t),l=Object.assign({},a,this._size),c=JT(n,t,l),h=tw(t,l,c,n);(s._to!==h.x||r._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Cn(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,s,n),Y2(t,n.textDirection),r.y+=a.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),K2(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),r=!of(i,s),a=this._positionChanged(s,n);(r||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],a=this._getActiveElements(t,r,n,i),o=this._positionChanged(a,t),l=n||!of(a,r)||o;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,i,s){const r=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&a.reverse(),a}_positionChanged(t,n){const{caretX:i,caretY:s,options:r}=this,a=Yo[r.position].call(this,t,n);return a!==!1&&(i!==a.x||s!==a.y)}}lt(yp,"positioners",Yo);var Fz={id:"tooltip",_element:yp,positioners:Yo,afterInit(e,t,n){n&&(e.tooltip=new yp({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:cI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Hz=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function qz(e,t,n,i){const s=e.indexOf(t);if(s===-1)return Hz(e,t,n,i);const r=e.lastIndexOf(t);return s!==r?n:s}const Gz=(e,t)=>e===null?null:wn(Math.round(e),0,t);function iw(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class _p extends oo{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(St(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:qz(i,t,_t(n,t),this._addedLabels),Gz(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=n;a++)s.push({value:a});return s}getLabelForValue(t){return iw.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}lt(_p,"id","category"),lt(_p,"defaults",{ticks:{callback:iw}});function $z(e,t){const n=[],{bounds:s,step:r,min:a,max:o,precision:l,count:c,maxTicks:h,maxDigits:f,includeBounds:d}=e,g=r||1,v=h-1,{min:E,max:x}=t,_=!St(a),y=!St(o),T=!St(c),M=(x-E)/(f+1);let C=lT((x-E)/v/g)*g,L,S,b,R;if(C<1e-14&&!_&&!y)return[{value:E},{value:x}];R=Math.ceil(x/C)-Math.floor(E/C),R>v&&(C=lT(R*C/v/g)*g),St(l)||(L=Math.pow(10,l),C=Math.ceil(C*L)/L),s==="ticks"?(S=Math.floor(E/C)*C,b=Math.ceil(x/C)*C):(S=E,b=x),_&&y&&r&&W5((o-a)/r,C/1e3)?(R=Math.round(Math.min((o-a)/C,h)),C=(o-a)/R,S=a,b=o):T?(S=_?a:S,b=y?o:b,R=c-1,C=(b-S)/R):(R=(b-S)/C,Ju(R,Math.round(R),C/1e3)?R=Math.round(R):R=Math.ceil(R));const I=Math.max(cT(C),cT(S));L=Math.pow(10,St(l)?I:l),S=Math.round(S*L)/L,b=Math.round(b*L)/L;let O=0;for(_&&(d&&S!==a?(n.push({value:a}),S<a&&O++,Ju(Math.round((S+O*C)*L)/L,a,sw(a,M,e))&&O++):S<a&&O++);O<R;++O){const k=Math.round((S+O*C)*L)/L;if(y&&k>o)break;n.push({value:k})}return y&&d&&b!==o?n.length&&Ju(n[n.length-1].value,o,sw(o,M,e))?n[n.length-1].value=o:n.push({value:o}):(!y||b===o)&&n.push({value:b}),n}function sw(e,t,{horizontal:n,minRotation:i}){const s=Js(i),r=(n?Math.sin(s):Math.cos(s))||.001,a=.75*t*(""+e).length;return Math.min(t/r,a)}class Yz extends oo{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return St(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const a=l=>s=n?s:l,o=l=>r=i?r:l;if(t){const l=ws(s),c=ws(r);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);o(r+l),t||a(s-l)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,a=$z(s,r);return t.bounds==="ticks"&&Q5(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return V2(t,this.chart.options.locale,this.options.ticks.format)}}class vp extends Yz{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=pn(t)?t:0,this.max=pn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=Js(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}lt(vp,"id","linear"),lt(vp,"defaults",{ticks:{callback:U2.formatters.numeric}});const rd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ve=Object.keys(rd);function rw(e,t){return e-t}function aw(e,t){if(St(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:r}=e._parseOpts;let a=t;return typeof i=="function"&&(a=i(a)),pn(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(uf(r)||r===!0)?n.startOf(a,"isoWeek",r):n.startOf(a,s)),+a)}function ow(e,t,n,i){const s=Ve.length;for(let r=Ve.indexOf(e);r<s-1;++r){const a=rd[Ve[r]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-t)/(o*a.size))<=i)return Ve[r]}return Ve[s-1]}function Kz(e,t,n,i,s){for(let r=Ve.length-1;r>=Ve.indexOf(n);r--){const a=Ve[r];if(rd[a].common&&e._adapter.diff(s,i,a)>=t-1)return a}return Ve[n?Ve.indexOf(n):0]}function Wz(e){for(let t=Ve.indexOf(e)+1,n=Ve.length;t<n;++t)if(rd[Ve[t]].common)return Ve[t]}function lw(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=D_(n,t),r=n[i]>=t?n[i]:n[s];e[r]=!0}}function Qz(e,t,n,i){const s=e._adapter,r=+s.startOf(t[0].value,i),a=t[t.length-1].value;let o,l;for(o=r;o<=a;o=+s.add(o,1,i))l=n[o],l>=0&&(t[l].major=!0);return t}function cw(e,t,n){const i=[],s={},r=t.length;let a,o;for(a=0;a<r;++a)o=t[a],s[o]=a,i.push({value:o,major:!1});return r===0||!n?i:Qz(e,i,s,n)}class gf extends oo{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new gj._date(t.adapters.date);s.init(n),yl(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:aw(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:r,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!o&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=pn(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=pn(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,a=this.max,o=iU(s,r,a);return this._unit=n.unit||(i.autoSkip?ow(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):Kz(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Wz(this._unit),this.initOffsets(s),t.reverse&&o.reverse(),cw(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;n=wn(n,0,a),i=wn(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,a=r.unit||ow(r.minUnit,n,i,this._getLabelCapacity(n)),o=_t(s.ticks.stepSize,1),l=a==="week"?r.isoWeekday:!1,c=uf(l)||l===!0,h={};let f=n,d,g;if(c&&(f=+t.startOf(f,"isoWeek",l)),f=+t.startOf(f,c?"day":a),t.diff(i,n,a)>1e5*o)throw new Error(n+" and "+i+" are too far apart with stepSize of "+o+" "+a);const v=s.ticks.source==="data"&&this.getDataTimestamps();for(d=f,g=0;d<i;d=+t.add(d,o,a),g++)lw(h,d,v);return(d===i||s.bounds==="ticks"||g===1)&&lw(h,d,v),Object.keys(h).sort(rw).map(E=>+E)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,r=this._unit,a=n||s[r];return this._adapter.format(t,a)}_tickFormatFunction(t,n,i,s){const r=this.options,a=r.ticks.callback;if(a)return Ct(a,[t,n,i],this);const o=r.time.displayFormats,l=this._unit,c=this._majorUnit,h=l&&o[l],f=c&&o[c],d=i[n],g=c&&f&&d&&d.major;return this._adapter.format(t,s||(g?f:h))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=Js(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),a=Math.sin(s),o=this._resolveTickFontOptions(0).size;return{w:i*r+o*a,h:i*a+o*r}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(t,0,cw(this,[t],this._majorUnit),s),a=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(aw(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return M2(t.sort(rw))}}lt(gf,"id","time"),lt(gf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ru(e,t,n){let i=0,s=e.length-1,r,a,o,l;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=dp(e,"pos",t)),{pos:r,time:o}=e[i],{pos:a,time:l}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=dp(e,"time",t)),{time:r,pos:o}=e[i],{time:a,pos:l}=e[s]);const c=a-r;return c?o+(l-o)*(t-r)/c:o}class uw extends gf{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Ru(n,this.min),this._tableRange=Ru(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],r=[];let a,o,l,c,h;for(a=0,o=t.length;a<o;++a)c=t[a],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,o=s.length;a<o;++a)h=s[a+1],l=s[a-1],c=s[a],Math.round((h+l)/2)!==c&&r.push({time:c,pos:a/(o-1)});return r}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Ru(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Ru(this._table,i*this._tableRange+this._minPos,!0)}}lt(uw,"id","timeseries"),lt(uw,"defaults",gf.defaults);const uI="label";function hw(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Xz(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function hI(e,t){e.labels=t}function fI(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:uI;const i=[];e.datasets=t.map(s=>{const r=e.datasets.find(a=>a[n]===s[n]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function Zz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uI;const n={labels:[],datasets:[]};return hI(n,e.labels),fI(n,e.datasets,t),n}function Jz(e,t){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:a,data:o,options:l,plugins:c=[],fallbackContent:h,updateMode:f,...d}=e,g=P.useRef(null),v=P.useRef(null),E=()=>{g.current&&(v.current=new sd(g.current,{type:a,data:Zz(o,r),options:l&&{...l},plugins:c}),hw(t,v.current))},x=()=>{hw(t,null),v.current&&(v.current.destroy(),v.current=null)};return P.useEffect(()=>{!s&&v.current&&l&&Xz(v.current,l)},[s,l]),P.useEffect(()=>{!s&&v.current&&hI(v.current.config.data,o.labels)},[s,o.labels]),P.useEffect(()=>{!s&&v.current&&o.datasets&&fI(v.current.config.data,o.datasets,r)},[s,o.datasets]),P.useEffect(()=>{v.current&&(s?(x(),setTimeout(E)):v.current.update(f))},[s,l,o.labels,o.datasets,f]),P.useEffect(()=>{v.current&&(x(),setTimeout(E))},[a]),P.useEffect(()=>(E(),()=>x()),[]),ww.createElement("canvas",{ref:g,role:"img",height:n,width:i,...d},h)}const tB=P.forwardRef(Jz);function eB(e,t){return sd.register(t),P.forwardRef((n,i)=>ww.createElement(tB,{...n,ref:i,type:e}))}const nB=eB("bar",th),ri={total:A.jsx("span",{title:"Total de respostas",children:A.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V7M16 3v4M8 3v4M4 11h16"})})}),star:A.jsx("span",{title:"Nvel de Satisfao",children:A.jsxs("svg",{className:"w-8 h-8 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:[A.jsx("circle",{cx:"10",cy:"10",r:"10",fill:"#fde047"}),A.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.967a1 1 0 00.95.69h4.175c.969 0 1.371 1.24.588 1.81l-3.38 2.455a1 1 0 00-.364 1.118l1.287 3.966c.3.922-.755 1.688-1.54 1.118l-3.38-2.454a1 1 0 00-1.175 0l-3.38 2.454c-.784.57-1.838-.196-1.54-1.118l1.287-3.966a1 1 0 00-.364-1.118L2.05 9.394c-.783-.57-.38-1.81.588-1.81h4.175a1 1 0 00.95-.69l1.286-3.967z"})]})}),user:A.jsx("span",{title:"Colaborador destaque",children:A.jsxs("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[A.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#22c55e"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A9 9 0 1112 21a9 9 0 01-6.879-3.196z"})]})}),table:A.jsx("span",{title:"Pergunta",children:A.jsxs("svg",{className:"w-8 h-8 text-purple-500",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[A.jsx("rect",{width:"18",height:"14",x:"3",y:"5",rx:"2"}),A.jsx("path",{d:"M3 10h18M9 21V5"})]})}),filter:A.jsx("span",{title:"Filtros",children:A.jsxs("svg",{className:"w-8 h-8 text-cyan-500",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[A.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#06b6d4"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-.293.707l-6.414 6.414A1 1 0 0013 13.414V19a1 1 0 01-1.447.894l-4-2A1 1 0 017 17v-3.586a1 1 0 00-.293-.707L3.293 6.707A1 1 0 013 6V4z"})]})}),relatorios:A.jsx("span",{title:"Relatrios",children:A.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17v-6a2 2 0 012-2h2a2 2 0 012 2v6m-6 4h6a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),back:A.jsx("span",{title:"Voltar",children:A.jsx("svg",{className:"w-6 h-6 mr-2 text-blue-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})})};sd.register(ih,_p,vp,Fz,Nz);const Ko=["Muito Satisfeito","Satisfeito","Regular","Ruim"],fw=["#22c55e","#fde047","#fb923c","#ef4444"];function iB(e){const t=["recepcao","triagem","medico","orientacao","limpeza","equipe"],n={};t.forEach(s=>{n[s]={},Ko.forEach(r=>{n[s][r]=0})}),e.forEach(s=>{t.forEach(r=>{s[r]&&(n[r][s[r]]=(n[r][s[r]]||0)+1)})});const i=e.length;return{stats:n,total:i,fields:t}}function sB(e){const t={};e.forEach(s=>{if(s.destaque&&s.destaque.trim()){const r=s.destaque.split(" ")[0].trim();r&&(t[r]=(t[r]||0)+1)}});let n="",i=0;return Object.entries(t).forEach(([s,r])=>{r>i&&(n=s,i=r)}),n?{nome:n,qtd:i}:null}const rB=()=>{const[e,t]=P.useState([]),[n,i]=P.useState(!0),[s,r]=P.useState(""),[a,o]=P.useState({startDate:"",endDate:""}),[l,c]=P.useState(null),h=xr();P.useEffect(()=>{f()},[]);const f=async(C=null,L=null)=>{i(!0),r("");try{let S=vR(Jy(S_,"surveys"),bR("timestamp","desc")),R=(await TR(S)).docs.map(I=>{var k;const O=I.data();return{id:I.id,...O,timestamp:(k=O.timestamp)!=null&&k.toDate?O.timestamp.toDate():new Date}});(C||L)&&(R=R.filter(I=>{if(!I.data)return!1;const O=new Date(I.data);return!(C&&O<C||L&&O>L)})),t(R)}catch{r("Erro ao carregar pesquisas")}finally{i(!1)}},d=()=>{const C=a.startDate?new Date(a.startDate):null,L=a.endDate?new Date(a.endDate):null;f(C,L)},g=()=>{o({startDate:"",endDate:""}),f()},v=l?e.filter(C=>Object.values(C).some(L=>L===l)):e,{stats:E,total:x,fields:_}=iB(v),y=sB(v),T={labels:_.map(C=>({recepcao:"Recepo",triagem:"Triagem",medico:"Mdico",orientacao:"Orientao",limpeza:"Limpeza",equipe:"Equipe"})[C]),datasets:Ko.map((C,L)=>({label:C,data:_.map(S=>E[S][C]),backgroundColor:fw[L],borderRadius:8,maxBarThickness:40}))},M={responsive:!0,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1}},scales:{x:{stacked:!0},y:{stacked:!0,beginAtZero:!0,ticks:{stepSize:1}}},maintainAspectRatio:!1};return n?A.jsx(af,{title:"Relatrios",children:A.jsx("div",{className:"flex items-center justify-center h-64",children:A.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}):A.jsxs(af,{title:"Relatrios",children:[A.jsx("div",{className:"mb-4",children:A.jsxs("button",{onClick:()=>h(-1),className:"flex items-center bg-blue-100 hover:bg-blue-200 text-blue-700 px-4 py-2 rounded-md font-medium transition-colors",children:[ri.back," Voltar"]})}),A.jsxs("div",{className:"flex flex-wrap gap-4 items-end mb-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Inicial"}),A.jsx("input",{type:"date",value:a.startDate,onChange:C=>o(L=>({...L,startDate:C.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Final"}),A.jsx("input",{type:"date",value:a.endDate,onChange:C=>o(L=>({...L,endDate:C.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs("button",{onClick:d,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition-colors flex items-center",children:[ri.filter," Filtrar"]}),A.jsx("button",{onClick:g,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md font-medium transition-colors",children:"Limpar"})]})]}),A.jsxs("div",{className:"bg-gradient-to-br from-blue-100 via-white to-green-100 rounded-3xl shadow-2xl p-4 sm:p-6 md:p-10 mb-10 border border-gray-200",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8 gap-4 sm:gap-6",children:[A.jsxs("h3",{className:"text-2xl sm:text-3xl font-extrabold text-blue-900 flex items-center gap-4",children:[ri.total," Dashboard de Satisfao"]}),A.jsx("div",{className:"flex flex-col sm:flex-row gap-2",children:A.jsxs(Ll,{to:"/admin/relatorios",className:"w-full sm:w-auto bg-blue-100 hover:bg-blue-200 text-blue-700 px-4 sm:px-6 py-2 sm:py-3 rounded-xl font-semibold transition-colors flex items-center justify-center shadow-lg",type:"button",children:[ri.relatorios," Relatrios"]})})]}),A.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[Ko.map((C,L)=>A.jsxs("button",{type:"button",className:`flex items-center gap-2 text-base font-medium px-3 py-1 rounded-full border-2 transition
                ${l===C?"border-blue-600 ring-2 ring-blue-300":"border-gray-200"}
              `,style:{background:l===C?"#f0f9ff":"#fff"},onClick:()=>c(l===C?null:C),children:[A.jsx("span",{className:"inline-block rounded-full",style:{width:16,height:16,backgroundColor:fw[L],border:"2px solid #e5e7eb"}}),C]},C)),l&&A.jsx("button",{type:"button",className:"ml-2 px-3 py-1 rounded-full bg-gray-200 text-gray-700 font-medium border border-gray-300",onClick:()=>c(null),children:"Limpar filtro"})]}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-8 mb-8 justify-center",children:[A.jsxs("button",{className:"flex items-center bg-white rounded-2xl shadow-lg p-4 sm:p-6 gap-4 border border-gray-100 w-full transition hover:scale-[1.03] active:scale-100 justify-center",children:[ri.total,A.jsxs("div",{children:[A.jsx("div",{className:"text-gray-700 font-medium",children:"Total de respostas"}),A.jsx("div",{className:"text-2xl sm:text-3xl font-extrabold text-blue-600",children:x})]})]}),y&&A.jsxs("button",{className:"flex items-center bg-white rounded-2xl shadow-lg p-4 sm:p-6 gap-4 border border-gray-100 w-full transition hover:scale-[1.03] active:scale-100 justify-center",children:[ri.user,A.jsxs("div",{children:[A.jsx("div",{className:"text-gray-700 font-medium",children:"Colaborador destaque"}),A.jsxs("div",{className:"text-lg sm:text-xl font-bold text-green-700",children:[y.nome," ",A.jsxs("span",{className:"text-base font-normal",children:["(",y.qtd," citaes)"]})]})]})]}),A.jsxs("button",{className:"flex items-center bg-white rounded-2xl shadow-lg p-4 sm:p-6 gap-4 border border-gray-100 w-full transition hover:scale-[1.03] active:scale-100 justify-center",children:[ri.star,A.jsxs("div",{children:[A.jsx("div",{className:"text-gray-700 font-medium",children:"Nvel de Satisfao"}),A.jsxs("div",{className:"text-lg sm:text-xl font-bold text-yellow-500",children:[((E.recepcao["Muito Satisfeito"]+E.triagem["Muito Satisfeito"]+E.medico["Muito Satisfeito"])/(3*x)*100||0).toFixed(1),"%"]})]})]})]}),A.jsxs("div",{children:[A.jsx("div",{className:"mb-10 bg-white rounded-3xl p-2 sm:p-4 md:p-8 shadow-lg border border-gray-100",children:A.jsx("div",{className:"w-full h-60 sm:h-72 md:h-96",children:A.jsx(nB,{data:T,options:M})})}),A.jsx("div",{className:"overflow-x-auto mb-10",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-base rounded-xl shadow border border-gray-100",children:[A.jsx("thead",{className:"bg-gray-100",children:A.jsxs("tr",{children:[A.jsxs("th",{className:"px-4 py-3 text-left font-bold flex items-center gap-2 text-lg",children:[ri.table," Pergunta"]}),Ko.map(C=>A.jsx("th",{className:"px-4 py-3 text-center font-bold text-lg",children:C},C))]})}),A.jsx("tbody",{children:_.map(C=>A.jsxs("tr",{className:"hover:bg-blue-50 transition",children:[A.jsx("td",{className:"px-4 py-3 font-semibold capitalize",children:C}),Ko.map(L=>A.jsx("td",{className:"px-4 py-3 text-center",children:E[C][L]},L))]},C))})]})})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 border border-gray-100",children:[A.jsxs("h3",{className:"text-xl sm:text-2xl font-semibold text-gray-800 mb-6 flex items-center gap-3",children:[ri.star," Respostas Recentes"]}),v.length>0?A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200 rounded-xl",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Data/Hora"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Recepo"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Triagem"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Mdico"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Orientao"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Limpeza"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Equipe"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Sugesto/Elogio/Crtica"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Destaque"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Data Atendimento"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Contato"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.slice(0,10).map(C=>{var L;return A.jsxs("tr",{className:"hover:bg-green-50 transition",children:[A.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:(L=C.timestamp)==null?void 0:L.toLocaleString("pt-BR")}),A.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.recepcao}),A.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.triagem}),A.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.medico}),A.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.orientacao}),A.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.limpeza}),A.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.equipe}),A.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.sugestao}),A.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.destaque}),A.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.data}),A.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:C.contato})]},C.id)})})]})}):A.jsx("p",{className:"text-gray-500 text-center py-8",children:"Nenhuma resposta encontrada"})]})]}),A.jsx("style",{children:`
          @media (max-width: 640px) {
            .sm\\:p-10, .md\\:p-10 { padding: 1.5rem !important; }
            .sm\\:h-96, .md\\:h-96 { height: 260px !important; }
            .sm\\:grid-cols-2 { grid-template-columns: 1fr !important; }
            .sm\\:flex-row { flex-direction: column !important; }
            .sm\\:items-center { align-items: flex-start !important; }
            .sm\\:justify-between { justify-content: flex-start !important; }
            .grid-cols-1, .sm\\:grid-cols-2, .md\\:grid-cols-3 { grid-template-columns: 1fr !important; }
            .p-4, .sm\\:p-6, .md\\:p-10 { padding-left: 0.5rem !important; padding-right: 0.5rem !important; }
            .rounded-3xl { border-radius: 1.25rem !important; }
            .h-60, .sm\\:h-72, .md\\:h-96 { height: 180px !important; }
          }
        `})]})},Um={filter:A.jsx("svg",{className:"w-6 h-6 text-cyan-500 mr-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-.293.707l-6.414 6.414A1 1 0 0013 13.414V19a1 1 0 01-1.447.894l-4-2A1 1 0 017 17v-3.586a1 1 0 00-.293-.707L3.293 6.707A1 1 0 013 6V4z"})}),csv:A.jsx("svg",{className:"w-5 h-5 mr-2 text-green-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),back:A.jsx("svg",{className:"w-6 h-6 mr-2 text-blue-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})},aB={"Muito Satisfeito":5,Satisfeito:4,Regular:3,Ruim:2,Pssimo:1},bp={recepcao:"Atendimento da Recepo",triagem:"Atendimento da Triagem",medico:"Atendimento Mdico",orientacao:"Orientaes do Mdico",limpeza:"Higienizao/Limpeza da unidade",equipe:"Atendimento da equipe de Tcnicos e Enfermeiros"},sh=Object.keys(bp);function oB(e){const t={};return sh.forEach(n=>{const i=[1,2,3,4,5],s=e.map(o=>{var c;const l=o[n]??((c=o.responses)==null?void 0:c[n]);return typeof l=="number"?l:typeof l=="string"&&aB[l]||null}).filter(o=>o!==null&&!isNaN(o)),r={};i.forEach(o=>{r[o]=s.filter(l=>l===o).length});const a=e.map(o=>{const l=o[`sugestao_${n}`]||o.sugestoes&&o.sugestoes[n];return l&&l.trim()?l:null}).filter(Boolean);t[n]={media:s.length?(s.reduce((o,l)=>o+l,0)/s.length).toFixed(2):"0.00",counts:r,comments:a}}),t}const dw=()=>{const[e,t]=P.useState([]),[n,i]=P.useState({}),[s,r]=P.useState(!0),[a,o]=P.useState(""),[l,c]=P.useState({startDate:"",endDate:""}),h=xr();P.useEffect(()=>{f()},[]);const f=async(v=null,E=null)=>{r(!0),o("");try{let x=vR(Jy(S_,"surveys"),bR("timestamp","desc")),y=(await TR(x)).docs.map(T=>{var C;const M=T.data();return{id:T.id,...M,timestamp:(C=M.timestamp)!=null&&C.toDate?M.timestamp.toDate():new Date}});(v||E)&&(y=y.filter(T=>{if(!T.timestamp)return!1;const M=new Date(T.timestamp);if(v&&M<v)return!1;if(E){const C=new Date(E);if(C.setHours(23,59,59,999),M>C)return!1}return!0})),t(y),i(oB(y))}catch{o("Erro ao carregar pesquisas")}finally{r(!1)}},d=()=>{const v=l.startDate?new Date(l.startDate):null,E=l.endDate?new Date(l.endDate):null;f(v,E)},g=()=>{c({startDate:"",endDate:""}),f()};return s?A.jsx(af,{title:"Relatrios Detalhados",children:A.jsx("div",{className:"flex items-center justify-center h-64",children:A.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}):A.jsxs(af,{title:"Relatrios Detalhados",children:[A.jsx("div",{className:"mb-4",children:A.jsxs("button",{onClick:()=>h("/admin/dashboard"),className:"flex items-center bg-blue-100 hover:bg-blue-200 text-blue-700 px-4 py-2 rounded-md font-medium transition-colors",children:[Um.back," Voltar para Dashboard"]})}),A.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[A.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Inicial"}),A.jsx("input",{type:"date",value:l.startDate,onChange:v=>c(E=>({...E,startDate:v.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Final"}),A.jsx("input",{type:"date",value:l.endDate,onChange:v=>c(E=>({...E,endDate:v.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs("button",{onClick:d,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition-colors flex items-center",children:[Um.filter," Filtrar"]}),A.jsx("button",{onClick:g,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md font-medium transition-colors",children:"Limpar"})]})]}),A.jsx("div",{className:"flex gap-2",children:A.jsxs("button",{onClick:()=>{const v=[["Data/Hora",...sh.map(y=>bp[y])],...e.map(y=>[y.timestamp?new Date(y.timestamp).toLocaleString("pt-BR"):"",...sh.map(T=>{var M;return y[T]||((M=y.responses)==null?void 0:M[T])||""})])].map(y=>y.join(",")).join(`
`),E=new Blob([v],{type:"text/csv;charset=utf-8;"}),x=document.createElement("a"),_=URL.createObjectURL(E);x.setAttribute("href",_),x.setAttribute("download",`relatorio-detalhado-${new Date().toISOString().split("T")[0]}.csv`),x.style.visibility="hidden",document.body.appendChild(x),x.click(),document.body.removeChild(x)},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md font-medium transition-colors flex items-center",children:[Um.csv," Exportar CSV"]})})]}),a&&A.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-6",children:a}),A.jsx("div",{className:"space-y-8",children:sh.map(v=>{var E,x,_;return A.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[A.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-2",children:bp[v]}),A.jsxs("div",{className:"flex flex-wrap gap-8 mb-4",children:[A.jsxs("div",{children:[A.jsx("span",{className:"block text-gray-600",children:"Mdia"}),A.jsx("span",{className:"text-3xl font-bold text-blue-800",children:(E=n[v])==null?void 0:E.media})]}),A.jsxs("div",{children:[A.jsx("span",{className:"block text-gray-600 mb-1",children:"Quantidade por Nota"}),A.jsx("div",{className:"flex gap-2",children:[5,4,3,2,1].map(y=>{var T;return A.jsxs("span",{className:"inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded font-semibold",children:[y,": ",((T=n[v])==null?void 0:T.counts[y])||0]},y)})})]})]}),((_=(x=n[v])==null?void 0:x.comments)==null?void 0:_.length)>0&&A.jsxs("div",{className:"mt-4",children:[A.jsx("span",{className:"block text-gray-600 font-semibold mb-2",children:"Comentrios desta seo:"}),A.jsx("ul",{className:"list-disc pl-6 space-y-1",children:n[v].comments.slice(0,5).map((y,T)=>A.jsx("li",{className:"text-gray-700",children:y},T))})]})]},v)})})]})};function lB(){return A.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-200 via-green-100 to-green-200 flex items-center justify-center px-4",children:[A.jsxs("div",{className:"w-full max-w-md bg-white rounded-3xl shadow-2xl p-8 border-2 border-blue-200 flex flex-col items-center relative overflow-hidden",children:[A.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-gradient-to-br from-green-300 to-blue-200 rounded-full opacity-30 z-0"}),A.jsx("div",{className:"absolute -bottom-10 -left-10 w-32 h-32 bg-gradient-to-tr from-blue-300 to-green-200 rounded-full opacity-30 z-0"}),A.jsx("img",{src:Lh,alt:"Logo Jetel Mendes",className:"h-24 mb-4 drop-shadow-xl animate-bounce-slow z-10"}),A.jsxs("h1",{className:"text-3xl sm:text-4xl font-extrabold text-blue-800 mb-2 text-center drop-shadow z-10",children:["Bem-vindo ao ",A.jsx("span",{className:"text-green-700",children:"PA Jetel Mendes"})]}),A.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-blue-400 to-green-400 rounded-full mb-4 z-10"}),A.jsx("p",{className:"text-gray-600 text-center mb-8 text-base sm:text-lg z-10",children:"Escolha uma opo para continuar:"}),A.jsxs("div",{className:"flex flex-col gap-6 w-full z-10",children:[A.jsxs(Ll,{to:"/pesquisa",className:"bg-gradient-to-r from-green-400 to-blue-500 hover:from-green-500 hover:to-blue-600 text-white font-bold py-4 rounded-xl shadow-lg transition text-center text-lg transform hover:scale-105",children:[A.jsx("span",{role:"img","aria-label":"Usurio",className:"mr-2",children:""}),"Sou Usurio - Responder Pesquisa de Satisfao"]}),A.jsxs(Ll,{to:"/admin/login",className:"bg-gradient-to-r from-blue-700 to-gray-900 hover:from-blue-800 hover:to-gray-800 text-white font-bold py-4 rounded-xl shadow-lg transition text-center text-lg transform hover:scale-105",children:[A.jsx("span",{role:"img","aria-label":"Admin",className:"mr-2",children:""}),"Sou Administrador - Acessar Painel"]})]})]}),A.jsx("style",{children:`
          .animate-bounce-slow {
            animation: bounce 2.5s infinite;
          }
          @keyframes bounce {
            0%, 100% { transform: translateY(0);}
            50% { transform: translateY(-10px);}
          }
        `})]})}const cB=()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})})},uB=()=>window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0,hB=()=>{const[e,t]=P.useState(null),[n,i]=P.useState(!1);P.useEffect(()=>{if(uB())return;const r=a=>{a.preventDefault(),t(a),i(!0)};return window.addEventListener("beforeinstallprompt",r),()=>{window.removeEventListener("beforeinstallprompt",r)}},[]);const s=async()=>{if(!e)return;e.prompt();const{outcome:r}=await e.userChoice;console.log(r==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),t(null),i(!1)};return n?A.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:A.jsxs("div",{className:"bg-blue-600 text-white p-4 rounded-lg shadow-lg max-w-sm",children:[A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx("div",{className:"flex-shrink-0",children:A.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z"})})}),A.jsxs("div",{className:"flex-1",children:[A.jsx("h3",{className:"text-sm font-medium",children:"Instalar App"}),A.jsx("p",{className:"text-xs text-blue-100",children:"Adicione  tela inicial para acesso rpido"})]})]}),A.jsxs("div",{className:"mt-3 flex space-x-2",children:[A.jsx("button",{onClick:s,className:"bg-white text-blue-600 px-3 py-1 rounded text-sm font-medium hover:bg-blue-50 transition-colors",children:"Instalar"}),A.jsx("button",{onClick:()=>i(!1),className:"text-blue-100 px-3 py-1 rounded text-sm hover:text-white transition-colors",children:"Agora no"})]})]})}):null},fB=()=>{const[e,t]=P.useState(null),[n,i]=P.useState(!0);return P.useEffect(()=>{const s=p5(r=>{t(r),i(!1)});return()=>s()},[]),{user:e,loading:n}},jm=({children:e})=>{const{user:t,loading:n}=fB();return n?A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100",children:A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-400 border-t-transparent mb-4"}),A.jsx("span",{className:"text-blue-600 font-medium",children:"Carregando..."})]})}):t?e:A.jsx(Lg,{to:"/admin/login",replace:!0})};function dB(){return A.jsx(fk,{children:A.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 flex flex-col",children:[A.jsx("div",{className:"flex-1 flex flex-col",children:A.jsxs(FM,{children:[A.jsx(ai,{path:"/",element:A.jsx(lB,{})}),A.jsx(ai,{path:"/pesquisa",element:A.jsx(d5,{})}),A.jsx(ai,{path:"/admin/login",element:A.jsx(m5,{})}),A.jsx(ai,{path:"/admin/dashboard",element:A.jsx(jm,{children:A.jsx(rB,{})})}),A.jsx(ai,{path:"/admin/relatorios",element:A.jsx(jm,{children:A.jsx(dw,{})})}),A.jsx(ai,{path:"/admin/reports",element:A.jsx(jm,{children:A.jsx(dw,{})})}),A.jsx(ai,{path:"/admin",element:A.jsx(Lg,{to:"/admin/dashboard",replace:!0})}),A.jsx(ai,{path:"*",element:A.jsx(Lg,{to:"/",replace:!0})})]})}),A.jsx(hB,{})]})})}cB();FO.createRoot(document.getElementById("root")).render(A.jsx(P.StrictMode,{children:A.jsx(dB,{})}));
